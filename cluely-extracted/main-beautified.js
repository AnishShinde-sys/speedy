import {
    r as h,
    j as l,
    t as Q,
    g as Y2,
    I as id,
    A as Be,
    R as Ue,
    a as zb,
    b as $i,
    W as Es,
    c as Hi,
    d as sd,
    M as Bb,
    D as R1,
    V as $b,
    e as Hb,
    f as Ub,
    h as Vb
} from "./globals-DXbuEYWf.js";
import {
    e as Wb,
    i as qb,
    f as Bl,
    a as nl,
    J as Gb,
    u as K2,
    L as O1,
    b as ad,
    m as Yb,
    M as od,
    c as X2,
    d as Ic,
    S as Kb,
    s as Xb,
    h as P1,
    g as Zb,
    n as Z2,
    j as Q2,
    k as Qb,
    l as Jb,
    o as cn,
    F as en,
    p as fn,
    q as xt,
    r as gt,
    t as ld,
    v as ke,
    w as Gt,
    x as cd,
    y as Rr,
    z as dn,
    A as Bt,
    B as Ds,
    C as ey,
    D as Ui,
    E as L1,
    G as $l,
    H as Ya,
    T as ty,
    I as X,
    K as se,
    N as at,
    O as Hl,
    P as V,
    Q as Ke,
    R as ge,
    U as ei,
    V as Ul,
    W as Vl,
    X as jt,
    Y as ny,
    Z as ry,
    _ as dr,
    $ as sn,
    a0 as Us,
    a1 as iy,
    a2 as Nr,
    a3 as fr,
    a4 as ud,
    a5 as rl,
    a6 as be,
    a7 as Si,
    a8 as J2,
    a9 as Wl,
    aa as sy,
    ab as ay,
    ac as ti,
    ad as eg,
    ae as oy,
    af as ly,
    ag as cy,
    ah as uy,
    ai as dy,
    aj as Yt,
    ak as tg,
    al as an,
    am as Se,
    an as Vs,
    ao as fy,
    ap as dd,
    aq as vn,
    ar as hy,
    as as Ra,
    at as fd,
    au as py,
    av as Or,
    aw as Ws,
    ax as hd,
    ay as ql,
    az as Gl,
    aA as my,
    aB as Oa,
    aC as ng,
    aD as rg,
    aE as D1,
    aF as gy,
    aG as Yl,
    aH as xy,
    aI as vy,
    aJ as Xn,
    aK as by,
    aL as Pr,
    aM as pd,
    aN as yy,
    aO as il,
    aP as wy,
    aQ as or,
    aR as es,
    aS as Sy,
    aT as md,
    aU as _1,
    aV as Cy,
    aW as ky,
    aX as Ey,
    aY as Ny,
    aZ as Ay,
    a_ as Ty,
    a$ as Iy,
    b0 as jy,
    b1 as F1,
    b2 as My,
    b3 as Ry,
    b4 as Oy,
    b5 as Py,
    b6 as ig,
    b7 as Ly,
    b8 as sg,
    b9 as Dy,
    ba as _y,
    bb as Fy,
    bc as zy,
    bd as By,
    be as $y,
    bf as Hy,
    bg as Uy,
    bh as Vy,
    bi as Wy
} from "./window-CD2ekrnp.js";

function qy(e, t) {
    if (e === "first") return 0;
    {
        const n = t - 1;
        return e === "last" ? n : n / 2
    }
}

function Ka(e = .1, {
    startDelay: t = 0,
    from: n = 0,
    ease: r
} = {}) {
    return (i, s) => {
        const a = typeof n == "number" ? n : qy(n, s),
            o = Math.abs(a - i);
        let c = e * o;
        if (r) {
            const u = s * e;
            c = Wb(r)(c / u) * u
        }
        return t + c
    }
}

function Gy(...e) {
    const t = !Array.isArray(e[0]),
        n = t ? 0 : -1,
        r = e[0 + n],
        i = e[1 + n],
        s = e[2 + n],
        a = e[3 + n],
        o = qb(i, s, a);
    return t ? o(r) : o
}

function Yy(e, t, n) {
    const r = e.get();
    let i = null,
        s = r,
        a;
    const o = typeof r == "string" ? r.replace(/[\d.-]/g, "") : void 0,
        c = () => {
            i && (i.stop(), i = null)
        },
        u = () => {
            c(), i = new Gb({
                keyframes: [B1(e.get()), B1(s)],
                velocity: e.getVelocity(),
                type: "spring",
                restDelta: .001,
                restSpeed: .01,
                ...n,
                onUpdate: a
            })
        };
    if (e.attach((d, f) => (s = d, a = m => f(z1(m, o)), Bl.postRender(u), e.get()), c), nl(t)) {
        const d = t.on("change", m => e.set(z1(m, o))),
            f = e.on("destroy", d);
        return () => {
            d(), f()
        }
    }
    return c
}

function z1(e, t) {
    return t ? e + t : e
}

function B1(e) {
    return typeof e == "number" ? e : parseFloat(e)
}
const Ky = h.createContext(null);

function Xy() {
    const e = h.useRef(!1);
    return K2(() => (e.current = !0, () => {
        e.current = !1
    }), []), e
}

function Zy() {
    const e = Xy(),
        [t, n] = h.useState(0),
        r = h.useCallback(() => {
            e.current && n(t + 1)
        }, [t]);
    return [h.useCallback(() => Bl.postRender(r), [r]), t]
}
const Qy = e => !e.isLayoutDirty && e.willUpdate(!1);

function $1() {
    const e = new Set,
        t = new WeakMap,
        n = () => e.forEach(Qy);
    return {
        add: r => {
            e.add(r), t.set(r, r.addEventListener("willUpdate", n))
        },
        remove: r => {
            e.delete(r);
            const i = t.get(r);
            i && (i(), t.delete(r)), n()
        },
        dirty: n
    }
}
const ag = e => e === !0,
    Jy = e => ag(e === !0) || e === "id",
    og = ({
        children: e,
        id: t,
        inherit: n = !0
    }) => {
        const r = h.useContext(O1),
            i = h.useContext(Ky),
            [s, a] = Zy(),
            o = h.useRef(null),
            c = r.id || i;
        o.current === null && (Jy(n) && c && (t = t ? c + "-" + t : c), o.current = {
            id: t,
            group: ag(n) && r.group || $1()
        });
        const u = h.useMemo(() => ({
            ...o.current,
            forceRender: s
        }), [a]);
        return l.jsx(O1.Provider, {
            value: u,
            children: e
        })
    };

function Nn(e) {
    const t = ad(() => Yb(e)),
        {
            isStatic: n
        } = h.useContext(od);
    if (n) {
        const [, r] = h.useState(e);
        h.useEffect(() => t.on("change", r), [])
    }
    return t
}

function gd(e, t) {
    const n = Nn(t()),
        r = () => n.set(t());
    return r(), K2(() => {
        const i = () => Bl.preRender(r, !1, !0),
            s = e.map(a => a.on("change", i));
        return () => {
            s.forEach(a => a()), X2(r)
        }
    }), n
}

function xd(e, ...t) {
    const n = e.length;

    function r() {
        let i = "";
        for (let s = 0; s < n; s++) {
            i += e[s];
            const a = t[s];
            a && (i += nl(a) ? a.get() : a)
        }
        return i
    }
    return gd(t.filter(nl), r)
}

function e8(e) {
    Ic.current = [], e();
    const t = gd(Ic.current, e);
    return Ic.current = void 0, t
}

function lg(e, t, n, r) {
    if (typeof e == "function") return e8(e);
    const i = typeof t == "function" ? t : Gy(t, n, r);
    return Array.isArray(e) ? H1(e, i) : H1([e], ([s]) => i(s))
}

function H1(e, t) {
    const n = ad(() => []);
    return gd(e, () => {
        n.length = 0;
        const r = e.length;
        for (let i = 0; i < r; i++) n[i] = e[i].get();
        return t(n)
    })
}

function U1(e, t = {}) {
    const {
        isStatic: n
    } = h.useContext(od), r = () => nl(e) ? e.get() : e;
    if (n) return lg(r);
    const i = Nn(r());
    return h.useInsertionEffect(() => Yy(i, e, t), [i, JSON.stringify(t)]), i
}

function cg(e) {
    const t = h.useRef(0),
        {
            isStatic: n
        } = h.useContext(od);
    h.useEffect(() => {
        if (n) return;
        const r = ({
            timestamp: i,
            delta: s
        }) => {
            t.current || (t.current = i), e(i - t.current, s)
        };
        return Bl.update(r, !0), () => X2(r)
    }, [e])
}
class t8 {
    constructor() {
        this.componentControls = new Set
    }
    subscribe(t) {
        return this.componentControls.add(t), () => this.componentControls.delete(t)
    }
    start(t, n) {
        this.componentControls.forEach(r => {
            r.start(t.nativeEvent || t, n)
        })
    }
    cancel() {
        this.componentControls.forEach(t => {
            t.cancel()
        })
    }
    stop() {
        this.componentControls.forEach(t => {
            t.stop()
        })
    }
}
const n8 = () => new t8;

function ug() {
    return ad(n8)
}
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const r8 = e => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(),
    dg = (...e) => e.filter((t, n, r) => !!t && t.trim() !== "" && r.indexOf(t) === n).join(" ").trim();
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var i8 = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
};
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const s8 = h.forwardRef(({
    color: e = "currentColor",
    size: t = 24,
    strokeWidth: n = 2,
    absoluteStrokeWidth: r,
    className: i = "",
    children: s,
    iconNode: a,
    ...o
}, c) => h.createElement("svg", {
    ref: c,
    ...i8,
    width: t,
    height: t,
    stroke: e,
    strokeWidth: r ? Number(n) * 24 / Number(t) : n,
    className: dg("lucide", i),
    ...o
}, [...a.map(([u, d]) => h.createElement(u, d)), ...Array.isArray(s) ? s : [s]]));
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Le = (e, t) => {
    const n = h.forwardRef(({
        className: r,
        ...i
    }, s) => h.createElement(s8, {
        ref: s,
        iconNode: t,
        className: dg(`lucide-${r8(e)}`, r),
        ...i
    }));
    return n.displayName = `${e}`, n
};
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const a8 = [
        ["path", {
            d: "M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1",
            key: "ns4c3b"
        }],
        ["path", {
            d: "m12 15 5 6H7Z",
            key: "14qnn2"
        }]
    ],
    o8 = Le("Airplay", a8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const l8 = [
        ["path", {
            d: "M12 5v14",
            key: "s699le"
        }],
        ["path", {
            d: "m19 12-7 7-7-7",
            key: "1idqje"
        }]
    ],
    c8 = Le("ArrowDown", l8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const u8 = [
        ["path", {
            d: "M5 12h14",
            key: "1ays0h"
        }],
        ["path", {
            d: "m12 5 7 7-7 7",
            key: "xquz4c"
        }]
    ],
    d8 = Le("ArrowRight", u8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const f8 = [
        ["path", {
            d: "M7 7h10v10",
            key: "1tivn9"
        }],
        ["path", {
            d: "M7 17 17 7",
            key: "1vkiza"
        }]
    ],
    h8 = Le("ArrowUpRight", f8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const p8 = [
        ["path", {
            d: "M2 10v3",
            key: "1fnikh"
        }],
        ["path", {
            d: "M6 6v11",
            key: "11sgs0"
        }],
        ["path", {
            d: "M10 3v18",
            key: "yhl04a"
        }],
        ["path", {
            d: "M14 8v7",
            key: "3a1oy3"
        }],
        ["path", {
            d: "M18 5v13",
            key: "123xd1"
        }],
        ["path", {
            d: "M22 10v3",
            key: "154ddg"
        }]
    ],
    m8 = Le("AudioLines", p8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const g8 = [
        ["path", {
            d: "M12 7v14",
            key: "1akyts"
        }],
        ["path", {
            d: "M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",
            key: "ruj8y"
        }]
    ],
    sl = Le("BookOpen", g8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const x8 = [
        ["path", {
            d: "M20 6 9 17l-5-5",
            key: "1gmf2c"
        }]
    ],
    Xa = Le("Check", x8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const v8 = [
        ["path", {
            d: "m6 9 6 6 6-6",
            key: "qrunsl"
        }]
    ],
    Za = Le("ChevronDown", v8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const b8 = [
        ["path", {
            d: "m15 18-6-6 6-6",
            key: "1wnfg3"
        }]
    ],
    fg = Le("ChevronLeft", b8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const y8 = [
        ["path", {
            d: "m9 18 6-6-6-6",
            key: "mthhwq"
        }]
    ],
    Qa = Le("ChevronRight", y8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const w8 = [
        ["path", {
            d: "m18 15-6-6-6 6",
            key: "153udz"
        }]
    ],
    hg = Le("ChevronUp", w8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const S8 = [
        ["circle", {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }],
        ["line", {
            x1: "12",
            x2: "12",
            y1: "8",
            y2: "12",
            key: "1pkeuh"
        }],
        ["line", {
            x1: "12",
            x2: "12.01",
            y1: "16",
            y2: "16",
            key: "4dfq90"
        }]
    ],
    pg = Le("CircleAlert", S8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const C8 = [
        ["path", {
            d: "M21.801 10A10 10 0 1 1 17 3.335",
            key: "yps3ct"
        }],
        ["path", {
            d: "m9 11 3 3L22 4",
            key: "1pflzl"
        }]
    ],
    mg = Le("CircleCheckBig", C8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const k8 = [
        ["circle", {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }],
        ["path", {
            d: "m9 12 2 2 4-4",
            key: "dzmm74"
        }]
    ],
    E8 = Le("CircleCheck", k8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const N8 = [
        ["circle", {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }],
        ["path", {
            d: "m15 9-6 6",
            key: "1uzhvr"
        }],
        ["path", {
            d: "m9 9 6 6",
            key: "z0biqf"
        }]
    ],
    A8 = Le("CircleX", N8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const T8 = [
        ["circle", {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }],
        ["polyline", {
            points: "12 6 12 12 16 14",
            key: "68esgv"
        }]
    ],
    I8 = Le("Clock", T8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const j8 = [
        ["path", {
            d: "M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",
            key: "11bfej"
        }]
    ],
    M8 = Le("Command", j8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const R8 = [
        ["rect", {
            width: "14",
            height: "14",
            x: "8",
            y: "8",
            rx: "2",
            ry: "2",
            key: "17jyea"
        }],
        ["path", {
            d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",
            key: "zix9uf"
        }]
    ],
    vd = Le("Copy", R8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const O8 = [
        ["path", {
            d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",
            key: "ct8e1f"
        }],
        ["path", {
            d: "M14.084 14.158a3 3 0 0 1-4.242-4.242",
            key: "151rxh"
        }],
        ["path", {
            d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",
            key: "13bj9a"
        }],
        ["path", {
            d: "m2 2 20 20",
            key: "1ooewy"
        }]
    ],
    gg = Le("EyeOff", O8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const P8 = [
        ["path", {
            d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",
            key: "1nclc0"
        }],
        ["circle", {
            cx: "12",
            cy: "12",
            r: "3",
            key: "1v7zrd"
        }]
    ],
    bd = Le("Eye", P8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const L8 = [
        ["path", {
            d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",
            key: "1rqfz7"
        }],
        ["path", {
            d: "M14 2v4a2 2 0 0 0 2 2h4",
            key: "tnqrlb"
        }],
        ["path", {
            d: "M10 9H8",
            key: "b1mrlr"
        }],
        ["path", {
            d: "M16 13H8",
            key: "t4e002"
        }],
        ["path", {
            d: "M16 17H8",
            key: "z1uh3a"
        }]
    ],
    xg = Le("FileText", L8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const D8 = [
        ["circle", {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }],
        ["path", {
            d: "M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",
            key: "13o1zl"
        }],
        ["path", {
            d: "M2 12h20",
            key: "9i4pu4"
        }]
    ],
    yd = Le("Globe", D8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const _8 = [
        ["circle", {
            cx: "9",
            cy: "12",
            r: "1",
            key: "1vctgf"
        }],
        ["circle", {
            cx: "9",
            cy: "5",
            r: "1",
            key: "hp0tcf"
        }],
        ["circle", {
            cx: "9",
            cy: "19",
            r: "1",
            key: "fkjjf6"
        }],
        ["circle", {
            cx: "15",
            cy: "12",
            r: "1",
            key: "1tmaij"
        }],
        ["circle", {
            cx: "15",
            cy: "5",
            r: "1",
            key: "19l28e"
        }],
        ["circle", {
            cx: "15",
            cy: "19",
            r: "1",
            key: "f4zoj3"
        }]
    ],
    F8 = Le("GripVertical", _8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const z8 = [
        ["path", {
            d: "M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",
            key: "1gvzjb"
        }],
        ["path", {
            d: "M9 18h6",
            key: "x1upvd"
        }],
        ["path", {
            d: "M10 22h4",
            key: "ceow96"
        }]
    ],
    Pa = Le("Lightbulb", z8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const B8 = [
        ["path", {
            d: "M9 17H7A5 5 0 0 1 7 7h2",
            key: "8i5ue5"
        }],
        ["path", {
            d: "M15 7h2a5 5 0 1 1 0 10h-2",
            key: "1b9ql8"
        }],
        ["line", {
            x1: "8",
            x2: "16",
            y1: "12",
            y2: "12",
            key: "1jonct"
        }]
    ],
    $8 = Le("Link2", B8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const H8 = [
        ["path", {
            d: "M3 12h.01",
            key: "nlz23k"
        }],
        ["path", {
            d: "M3 18h.01",
            key: "1tta3j"
        }],
        ["path", {
            d: "M3 6h.01",
            key: "1rqtza"
        }],
        ["path", {
            d: "M8 12h13",
            key: "1za7za"
        }],
        ["path", {
            d: "M8 18h13",
            key: "1lx6n3"
        }],
        ["path", {
            d: "M8 6h13",
            key: "ik3vkj"
        }]
    ],
    U8 = Le("List", H8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const V8 = [
        ["path", {
            d: "M21 12a9 9 0 1 1-6.219-8.56",
            key: "13zald"
        }]
    ],
    W8 = Le("LoaderCircle", V8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const q8 = [
        ["path", {
            d: "M12 2v4",
            key: "3427ic"
        }],
        ["path", {
            d: "m16.2 7.8 2.9-2.9",
            key: "r700ao"
        }],
        ["path", {
            d: "M18 12h4",
            key: "wj9ykh"
        }],
        ["path", {
            d: "m16.2 16.2 2.9 2.9",
            key: "1bxg5t"
        }],
        ["path", {
            d: "M12 18v4",
            key: "jadmvz"
        }],
        ["path", {
            d: "m4.9 19.1 2.9-2.9",
            key: "bwix9q"
        }],
        ["path", {
            d: "M2 12h4",
            key: "j09sii"
        }],
        ["path", {
            d: "m4.9 4.9 2.9 2.9",
            key: "giyufr"
        }]
    ],
    G8 = Le("Loader", q8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Y8 = [
        ["rect", {
            width: "20",
            height: "16",
            x: "2",
            y: "4",
            rx: "2",
            key: "18n3k1"
        }],
        ["path", {
            d: "m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",
            key: "1ocrg3"
        }]
    ],
    wd = Le("Mail", Y8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const K8 = [
        ["path", {
            d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z",
            key: "vv11sd"
        }]
    ],
    Kl = Le("MessageCircle", K8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const X8 = [
        ["path", {
            d: "M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",
            key: "131961"
        }],
        ["path", {
            d: "M19 10v2a7 7 0 0 1-14 0v-2",
            key: "1vc78b"
        }],
        ["line", {
            x1: "12",
            x2: "12",
            y1: "19",
            y2: "22",
            key: "x3vr5v"
        }]
    ],
    vg = Le("Mic", X8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Z8 = [
        ["path", {
            d: "M5 12h14",
            key: "1ays0h"
        }],
        ["path", {
            d: "M12 5v14",
            key: "s699le"
        }]
    ],
    Q8 = Le("Plus", Z8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const J8 = [
        ["path", {
            d: "M3 7V5a2 2 0 0 1 2-2h2",
            key: "aa7l1z"
        }],
        ["path", {
            d: "M17 3h2a2 2 0 0 1 2 2v2",
            key: "4qcy5o"
        }],
        ["path", {
            d: "M21 17v2a2 2 0 0 1-2 2h-2",
            key: "6vwrx8"
        }],
        ["path", {
            d: "M7 21H5a2 2 0 0 1-2-2v-2",
            key: "ioqczr"
        }],
        ["path", {
            d: "M7 8h8",
            key: "1jbsf9"
        }],
        ["path", {
            d: "M7 12h10",
            key: "b7w52i"
        }],
        ["path", {
            d: "M7 16h6",
            key: "1vyc9m"
        }]
    ],
    e9 = Le("ScanText", J8);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const t9 = [
        ["circle", {
            cx: "11",
            cy: "11",
            r: "8",
            key: "4ej97u"
        }],
        ["path", {
            d: "m21 21-4.3-4.3",
            key: "1qie3q"
        }]
    ],
    Sd = Le("Search", t9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const n9 = [
        ["path", {
            d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",
            key: "1ffxy3"
        }],
        ["path", {
            d: "m21.854 2.147-10.94 10.939",
            key: "12cjpa"
        }]
    ],
    r9 = Le("Send", n9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const i9 = [
        ["path", {
            d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",
            key: "1qme2f"
        }],
        ["circle", {
            cx: "12",
            cy: "12",
            r: "3",
            key: "1v7zrd"
        }]
    ],
    s9 = Le("Settings", i9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const a9 = [
        ["path", {
            d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
            key: "oel41y"
        }],
        ["path", {
            d: "M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",
            key: "mhlwft"
        }],
        ["path", {
            d: "M12 17h.01",
            key: "p32p05"
        }]
    ],
    bg = Le("ShieldQuestion", a9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const o9 = [
        ["path", {
            d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",
            key: "1m0v6g"
        }],
        ["path", {
            d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",
            key: "ohrbg2"
        }]
    ],
    l9 = Le("SquarePen", o9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const c9 = [
        ["path", {
            d: "M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",
            key: "r04s7s"
        }]
    ],
    Cd = Le("Star", c9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const u9 = [
        ["path", {
            d: "M17 22h-1a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h1",
            key: "uvaxm9"
        }],
        ["path", {
            d: "M7 22h1a4 4 0 0 0 4-4v-1",
            key: "11xy8d"
        }],
        ["path", {
            d: "M7 2h1a4 4 0 0 1 4 4v1",
            key: "1uw06m"
        }]
    ],
    d9 = Le("TextCursor", u9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const f9 = [
        ["path", {
            d: "M3 6h18",
            key: "d0wm0j"
        }],
        ["path", {
            d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
            key: "4alrt4"
        }],
        ["path", {
            d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
            key: "v07s0e"
        }],
        ["line", {
            x1: "10",
            x2: "10",
            y1: "11",
            y2: "17",
            key: "1uufr5"
        }],
        ["line", {
            x1: "14",
            x2: "14",
            y1: "11",
            y2: "17",
            key: "xtxkd"
        }]
    ],
    h9 = Le("Trash2", f9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const p9 = [
        ["polyline", {
            points: "4 7 4 4 20 4 20 7",
            key: "1nosan"
        }],
        ["line", {
            x1: "9",
            x2: "15",
            y1: "20",
            y2: "20",
            key: "swin9y"
        }],
        ["line", {
            x1: "12",
            x2: "12",
            y1: "4",
            y2: "20",
            key: "1tx1rr"
        }]
    ],
    m9 = Le("Type", p9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const g9 = [
        ["path", {
            d: "m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",
            key: "ul74o6"
        }],
        ["path", {
            d: "m14 7 3 3",
            key: "1r5n42"
        }],
        ["path", {
            d: "M5 6v4",
            key: "ilb8ba"
        }],
        ["path", {
            d: "M19 14v4",
            key: "blhpug"
        }],
        ["path", {
            d: "M10 2v2",
            key: "7u0qdc"
        }],
        ["path", {
            d: "M7 8H3",
            key: "zfb6yr"
        }],
        ["path", {
            d: "M21 16h-4",
            key: "1cnmox"
        }],
        ["path", {
            d: "M11 3H9",
            key: "1obp7u"
        }]
    ],
    kd = Le("WandSparkles", g9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const x9 = [
        ["path", {
            d: "M18 6 6 18",
            key: "1bl5f8"
        }],
        ["path", {
            d: "m6 6 12 12",
            key: "d8bk6v"
        }]
    ],
    hr = Le("X", x9);
/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const v9 = [
        ["path", {
            d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
            key: "1xq2db"
        }]
    ],
    yg = Le("Zap", v9);
var b9 = {
    cm: !0,
    mm: !0,
    in: !0,
    px: !0,
    pt: !0,
    pc: !0,
    em: !0,
    ex: !0,
    ch: !0,
    rem: !0,
    vw: !0,
    vh: !0,
    vmin: !0,
    vmax: !0,
    "%": !0
};

function y9(e) {
    if (typeof e == "number") return {
        value: e,
        unit: "px"
    };
    var t, n = (e.match(/^[0-9.]*/) || "").toString();
    n.includes(".") ? t = parseFloat(n) : t = parseInt(n, 10);
    var r = (e.match(/[^0-9]*$/) || "").toString();
    return b9[r] ? {
        value: t,
        unit: r
    } : (console.warn("React Spinners: ".concat(e, " is not a valid css value. Defaulting to ").concat(t, "px.")), {
        value: t,
        unit: "px"
    })
}

function ar(e) {
    var t = y9(e);
    return "".concat(t.value).concat(t.unit)
}
var al = function(e, t, n) {
        var r = "react-spinners-".concat(e, "-").concat(n);
        if (typeof window > "u" || !window.document) return r;
        var i = document.createElement("style");
        document.head.appendChild(i);
        var s = i.sheet,
            a = `
    @keyframes `.concat(r, ` {
      `).concat(t, `
    }
  `);
        return s && s.insertRule(a, 0), r
    },
    ol = function() {
        return ol = Object.assign || function(e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) {
                t = arguments[n];
                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
            }
            return e
        }, ol.apply(this, arguments)
    },
    w9 = function(e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
        if (e != null && typeof Object.getOwnPropertySymbols == "function")
            for (var i = 0, r = Object.getOwnPropertySymbols(e); i < r.length; i++) t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
        return n
    },
    S9 = al("BounceLoader", "0% {transform: scale(0)} 50% {transform: scale(1.0)} 100% {transform: scale(0)}", "bounce");

function C9(e) {
    var t = e.loading,
        n = t === void 0 ? !0 : t,
        r = e.color,
        i = r === void 0 ? "#000000" : r,
        s = e.speedMultiplier,
        a = s === void 0 ? 1 : s,
        o = e.cssOverride,
        c = o === void 0 ? {} : o,
        u = e.size,
        d = u === void 0 ? 60 : u,
        f = w9(e, ["loading", "color", "speedMultiplier", "cssOverride", "size"]),
        m = function(g) {
            var x = g === 1 ? "".concat(1 / a, "s") : "0s";
            return {
                position: "absolute",
                height: ar(d),
                width: ar(d),
                backgroundColor: i,
                borderRadius: "100%",
                opacity: .6,
                top: 0,
                left: 0,
                animationFillMode: "both",
                animation: "".concat(S9, " ").concat(2.1 / a, "s ").concat(x, " infinite ease-in-out")
            }
        },
        p = ol({
            display: "inherit",
            position: "relative",
            width: ar(d),
            height: ar(d)
        }, c);
    return n ? h.createElement("span", ol({
        style: p
    }, f), h.createElement("span", {
        style: m(1)
    }), h.createElement("span", {
        style: m(2)
    })) : null
}
var ll = function() {
        return ll = Object.assign || function(e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) {
                t = arguments[n];
                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
            }
            return e
        }, ll.apply(this, arguments)
    },
    k9 = function(e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
        if (e != null && typeof Object.getOwnPropertySymbols == "function")
            for (var i = 0, r = Object.getOwnPropertySymbols(e); i < r.length; i++) t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
        return n
    },
    E9 = al("PulseLoader", "0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}", "pulse");

function ur(e) {
    var t = e.loading,
        n = t === void 0 ? !0 : t,
        r = e.color,
        i = r === void 0 ? "#000000" : r,
        s = e.speedMultiplier,
        a = s === void 0 ? 1 : s,
        o = e.cssOverride,
        c = o === void 0 ? {} : o,
        u = e.size,
        d = u === void 0 ? 15 : u,
        f = e.margin,
        m = f === void 0 ? 2 : f,
        p = k9(e, ["loading", "color", "speedMultiplier", "cssOverride", "size", "margin"]),
        g = ll({
            display: "inherit"
        }, c),
        x = function(y) {
            return {
                backgroundColor: i,
                width: ar(d),
                height: ar(d),
                margin: ar(m),
                borderRadius: "100%",
                display: "inline-block",
                animation: "".concat(E9, " ").concat(.75 / a, "s ").concat(y * .12 / a, "s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),
                animationFillMode: "both"
            }
        };
    return n ? h.createElement("span", ll({
        style: g
    }, p), h.createElement("span", {
        style: x(1)
    }), h.createElement("span", {
        style: x(2)
    }), h.createElement("span", {
        style: x(3)
    })) : null
}
var cl = function() {
        return cl = Object.assign || function(e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) {
                t = arguments[n];
                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
            }
            return e
        }, cl.apply(this, arguments)
    },
    N9 = function(e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
        if (e != null && typeof Object.getOwnPropertySymbols == "function")
            for (var i = 0, r = Object.getOwnPropertySymbols(e); i < r.length; i++) t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
        return n
    },
    V1 = [al("PuffLoader", "0% {transform: scale(0)} 100% {transform: scale(1.0)}", "puff-1"), al("PuffLoader", "0% {opacity: 1} 100% {opacity: 0}", "puff-2")];

function A9(e) {
    var t = e.loading,
        n = t === void 0 ? !0 : t,
        r = e.color,
        i = r === void 0 ? "#000000" : r,
        s = e.speedMultiplier,
        a = s === void 0 ? 1 : s,
        o = e.cssOverride,
        c = o === void 0 ? {} : o,
        u = e.size,
        d = u === void 0 ? 60 : u,
        f = N9(e, ["loading", "color", "speedMultiplier", "cssOverride", "size"]),
        m = cl({
            display: "inherit",
            position: "relative",
            width: ar(d),
            height: ar(d)
        }, c),
        p = function(g) {
            return {
                position: "absolute",
                height: ar(d),
                width: ar(d),
                border: "thick solid ".concat(i),
                borderRadius: "50%",
                opacity: "1",
                top: "0",
                left: "0",
                animationFillMode: "both",
                animation: "".concat(V1[0], ", ").concat(V1[1]),
                animationDuration: "".concat(2 / a, "s"),
                animationIterationCount: "infinite",
                animationTimingFunction: "cubic-bezier(0.165, 0.84, 0.44, 1), cubic-bezier(0.3, 0.61, 0.355, 1)",
                animationDelay: g === 1 ? "-1s" : "0s"
            }
        };
    return n ? h.createElement("span", cl({
        style: m
    }, f), h.createElement("span", {
        style: p(1)
    }), h.createElement("span", {
        style: p(2)
    })) : null
}
var T9 = class extends Kb {
    #n;
    #r = void 0;
    #e;
    #t;
    constructor(t, n) {
        super(), this.#n = t, this.setOptions(n), this.bindMethods(), this.#i()
    }
    bindMethods() {
        this.mutate = this.mutate.bind(this), this.reset = this.reset.bind(this)
    }
    setOptions(t) {
        const n = this.options;
        this.options = this.#n.defaultMutationOptions(t), Xb(this.options, n) || this.#n.getMutationCache().notify({
            type: "observerOptionsUpdated",
            mutation: this.#e,
            observer: this
        }), n?.mutationKey && this.options.mutationKey && P1(n.mutationKey) !== P1(this.options.mutationKey) ? this.reset() : this.#e?.state.status === "pending" && this.#e.setOptions(this.options)
    }
    onUnsubscribe() {
        this.hasListeners() || this.#e?.removeObserver(this)
    }
    onMutationUpdate(t) {
        this.#i(), this.#s(t)
    }
    getCurrentResult() {
        return this.#r
    }
    reset() {
        this.#e?.removeObserver(this), this.#e = void 0, this.#i(), this.#s()
    }
    mutate(t, n) {
        return this.#t = n, this.#e?.removeObserver(this), this.#e = this.#n.getMutationCache().build(this.#n, this.options), this.#e.addObserver(this), this.#e.execute(t)
    }
    #i() {
        const t = this.#e?.state ?? Zb();
        this.#r = {
            ...t,
            isPending: t.status === "pending",
            isSuccess: t.status === "success",
            isError: t.status === "error",
            isIdle: t.status === "idle",
            mutate: this.mutate,
            reset: this.reset
        }
    }
    #s(t) {
        Z2.batch(() => {
            if (this.#t && this.hasListeners()) {
                const n = this.#r.variables,
                    r = this.#r.context;
                t?.type === "success" ? (this.#t.onSuccess?.(t.data, n, r), this.#t.onSettled?.(t.data, null, n, r)) : t?.type === "error" && (this.#t.onError?.(t.error, n, r), this.#t.onSettled?.(void 0, t.error, n, r))
            }
            this.listeners.forEach(n => {
                n(this.#r)
            })
        })
    }
};

function wg(e, t) {
    const n = Q2(),
        [r] = h.useState(() => new T9(n, e));
    h.useEffect(() => {
        r.setOptions(e)
    }, [r, e]);
    const i = h.useSyncExternalStore(h.useCallback(a => r.subscribe(Z2.batchCalls(a)), [r]), () => r.getCurrentResult(), () => r.getCurrentResult()),
        s = h.useCallback((a, o) => {
            r.mutate(a, o).catch(Qb)
        }, [r]);
    if (i.error && Jb(r.options.throwOnError, [i.error])) throw i.error;
    return {
        ...i,
        mutate: s,
        mutateAsync: i.mutate
    }
}

function I9(e, t) {
    return (e || []).reduce((n, r) => n + (t ? t(r) : r), 0)
}
const j9 = (e, t, n = !1) => {
        if (!e) return [];
        const r = (s, a) => t(s) - t(a),
            i = (s, a) => t(a) - t(s);
        return e.slice().sort(n === !0 ? i : r)
    },
    Ar = e => {
        if (!e || e.length === 0) return "";
        const t = e.toLowerCase();
        return t.substring(0, 1).toUpperCase() + t.substring(1, t.length)
    },
    W1 = 100,
    q1 = 100,
    G1 = -20,
    M9 = 500,
    Sg = h.createContext(void 0),
    R9 = h.createContext(!1);

function ts() {
    const e = h.useContext(Sg);
    if (e === void 0) throw new Error("useMovableWindow must be used within a MovableWindowsProvider");
    return e
}

function Cg({
    children: e
}) {
    const t = cn(en.VIM_MODE_KEY_BINDINGS),
        n = Nn(0),
        r = Nn(0),
        i = U1(n, {
            stiffness: 300,
            damping: 30
        }),
        s = U1(r, {
            stiffness: 300,
            damping: 30
        }),
        [a, o] = h.useState("top"),
        [c, u] = h.useState(null),
        d = h.useCallback(() => {
            u(a)
        }, [a]),
        f = h.useCallback(() => {
            u(null)
        }, []);
    h.useEffect(() => {}, [c]);
    const [m, p] = h.useState(!1);
    h.useEffect(() => {
        if (m) {
            const D = setTimeout(() => {
                p(!1)
            }, M9);
            return () => clearTimeout(D)
        }
    }, [m]);
    const g = h.useCallback((D, _ = !1) => {
            D === 0 && n.get() !== 0 && p(!0), n.set(D), _ && i.jump(D)
        }, [n, i]),
        x = h.useCallback((D, _ = !1) => {
            D < G1 && (D = G1), r.set(D), _ && s.jump(D)
        }, [r, s]),
        y = h.useCallback(() => n.get(), [n]),
        b = h.useCallback(() => r.get(), [r]),
        w = h.useCallback(() => {
            g(n.get() - W1)
        }, [n, g]),
        C = h.useCallback(() => {
            g(n.get() + W1)
        }, [n, g]),
        E = h.useCallback(() => {
            x(r.get() - q1)
        }, [r, x]),
        A = h.useCallback(() => {
            x(r.get() + q1)
        }, [r, x]),
        N = h.useCallback((D, _) => {
            g(D, !0), x(_, !0)
        }, [g, x]),
        j = h.useCallback(() => {}, []),
        z = h.useCallback(() => {}, []),
        H = fn();
    xt(t ? "CommandOrControl+H" : H.move_window_left, w), xt(t ? "CommandOrControl+L" : H.move_window_right, C), xt(t ? "CommandOrControl+K" : H.move_window_up, E), xt(t ? "CommandOrControl+J" : H.move_window_down, A), xt(t ? "CommandOrControl+Shift+K" : "CommandOrControl+Shift+Up", j), xt(t ? "CommandOrControl+Shift+J" : "CommandOrControl+Shift+Down", z);
    const R = h.useMemo(() => ({
        getX: y,
        getY: b,
        setX: g,
        setY: x,
        moveDrag: N,
        moveLeft: w,
        moveRight: C,
        onVDragStart: d,
        onVDragEnd: f,
        vOrientation: a
    }), [y, b, g, x, N, w, C, d, f, a]);
    return gt("recenter-movable-windows", () => {
        o("top"), x(0, !0), g(0, !0)
    }), gt("display-changed", D => {
        D?.preservePosition || (o("top"), x(0, !0), g(0, !0))
    }), l.jsx(Sg.Provider, {
        value: R,
        children: l.jsxs(R9.Provider, {
            value: c != null,
            children: [e({
                x: i,
                y: s,
                vOrientation: a
            }), l.jsx(ld, {
                children: l.jsx("div", {
                    className: Q("w-0 h-full mx-auto border-l-2 border-dashed border-black/20 opacity-0 transition", m && "opacity-100")
                })
            })]
        })
    })
}
const O9 = ({
        children: e
    }) => l.jsx(Cg, {
        children: () => e
    }),
    P9 = 850;

function L9() {
    const {
        getX: e,
        setX: t
    } = ts(), {
        aiResponsesService: n
    } = ke(), {
        isAudioSessionWindowOpen: r
    } = n, i = Gt(cd);
    h.useEffect(() => {
        if (r && i) {
            const o = window.innerWidth / 2 + e() - P9;
            o < 0 && t(e() - o)
        }
    }, [r, i, e, t])
}

function D9(e) {
    const t = h.useRef(0);
    return h.useEffect(() => {
        t.current = 0
    }, [e]), h.useCallback(n => !1, [])
}

function _9() {
    const {
        contextService: e,
        micAudioCaptureService: t,
        systemAudioCaptureService: n
    } = ke(), {
        audioSession: r,
        liveInsights: i
    } = e, s = r?.state.state === "created" ? r.state.sessionId : null, a = D9(s);
    h.useEffect(() => {
        i.setConnected(!1), dn(Bt().desktop.sessions.ping_pusher.post())
    }, [i]), Ds("pong", () => {
        i.setConnected(!0)
    }), Ds("live-session-insights-update", g => {
        i.setConnected(!0), g.sessionId === s && (g.type === "new-action" ? a(g.action) ? i.addNerdyAutoSuggestion(s, g.action) : i.addAction(g.action) : g.type === "new-action-v3" && i.addAction(g.action))
    });
    const o = cn(en.LIVE_INSIGHTS_ACTIONS_MODEL),
        c = ey(en.LIVE_INSIGHTS_ACTIONS_MODEL),
        u = cn(en.LIVE_INSIGHTS_ACTIONS_V3),
        d = cn(en.LIVE_INSIGHTS_ACTIONS_V1B),
        f = cn(en.LIVE_INSIGHTS_ACTIONS_DEFINE_FIXER),
        m = Ui(() => {
            const g = {};
            return t.transcriptionService && (g["X-Mic-Transcription-Provider"] = t.transcriptionService.providerName), n.transcriptionService && (g["X-System-Transcription-Provider"] = n.transcriptionService.providerName), g
        });
    h.useEffect(() => {
        if (!s) return;
        let g = 0,
            x = !1;
        const y = L1(() => e.fullContext.audioTranscriptions.map(b => b.serialized), b => {
            const w = C => C.trim().split(/\s+/).filter(Boolean).length;
            if (!(b.length - g < 5 && b.slice(g).every(E => w(E.text) <= 2))) {
                if (x) {
                    console.log("Skipping live session insights update, already in flight");
                    return
                }
                x = !0, dn(Bt().desktop.sessions.emit_live_session_insights.post({
                    sessionId: s,
                    timestamp: new Date,
                    transcript: b,
                    currentLiveSummary: {
                        inputTranscriptEntryCount: 0,
                        lines: []
                    },
                    currentActions: {
                        alreadyProcessedTranscriptEntryCount: g,
                        previousActions: i.actions.map(C => C.text)
                    },
                    actionsModel: o ? c : void 0,
                    v3: u,
                    v1b: d,
                    useDefineFixer: f
                }, {
                    headers: m()
                })).catch(C => {
                    console.error("Error emitting live session insights", C)
                }).finally(() => {
                    x = !1
                }), g = b.length
            }
        }, {
            fireImmediately: !1
        });
        return () => {
            y()
        }
    }, [e, c, i, s, u, d, m, o, f]);
    const p = kg();
    h.useEffect(() => {
        if (!s || !p) return;
        let g = !1;
        const x = L1(() => e.fullContext.paragraphTranscripts.transcripts.map(y => y.serialized), y => {
            if (g) {
                console.log("Skipping live summary update, already in flight");
                return
            }
            g = !0, dn(Bt().desktop.sessions.emit_per_paragraph_insights.post({
                sessionId: s,
                timestamp: new Date,
                transcript: y,
                currentLiveSummary: {
                    numTranscriptsCount: i.summary.numTranscriptsCount,
                    lines: i.summary.lines
                }
            }, {
                headers: m()
            })).then(b => {
                i.updateSummary(b)
            }).catch(b => {
                console.error("Error getting live summary updates", b)
            }).finally(() => {
                g = !1
            })
        }, {
            fireImmediately: !1
        });
        return () => {
            x()
        }
    }, [e, i, s, p, m])
}

function kg() {
    const e = Gt(Rr).session?.user;
    return e?.defaultAudioLanguage != null && e?.displayLanguage != null && e.defaultAudioLanguage !== e.displayLanguage
}

function Eg() {
    const {
        contextService: e
    } = ke(), {
        sessionInstructionActionables: t
    } = e.liveInsights, n = $l();
    return h.useMemo(() => n ? t : [], [n, t])
}

function Y1(e) {
    const t = [],
        n = String(e || "");
    let r = n.indexOf(","),
        i = 0,
        s = !1;
    for (; !s;) {
        r === -1 && (r = n.length, s = !0);
        const a = n.slice(i, r).trim();
        (a || !s) && t.push(a), i = r + 1, r = n.indexOf(",", i)
    }
    return t
}

function F9(e, t) {
    const n = {};
    return (e[e.length - 1] === "" ? [...e, ""] : e).join((n.padRight ? " " : "") + "," + (n.padLeft === !1 ? "" : " ")).trim()
}
const z9 = /^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,
    B9 = /^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,
    $9 = {};

function K1(e, t) {
    return ($9.jsx ? B9 : z9).test(e)
}
const H9 = /[ \t\n\f\r]/g;

function U9(e) {
    return typeof e == "object" ? e.type === "text" ? X1(e.value) : !1 : X1(e)
}

function X1(e) {
    return e.replace(H9, "") === ""
}
class Ja {
    constructor(t, n, r) {
        this.normal = n, this.property = t, r && (this.space = r)
    }
}
Ja.prototype.normal = {};
Ja.prototype.property = {};
Ja.prototype.space = void 0;

function Ng(e, t) {
    const n = {},
        r = {};
    for (const i of e) Object.assign(n, i.property), Object.assign(r, i.normal);
    return new Ja(n, r, t)
}

function La(e) {
    return e.toLowerCase()
}
class Tn {
    constructor(t, n) {
        this.attribute = n, this.property = t
    }
}
Tn.prototype.attribute = "";
Tn.prototype.booleanish = !1;
Tn.prototype.boolean = !1;
Tn.prototype.commaOrSpaceSeparated = !1;
Tn.prototype.commaSeparated = !1;
Tn.prototype.defined = !1;
Tn.prototype.mustUseProperty = !1;
Tn.prototype.number = !1;
Tn.prototype.overloadedBoolean = !1;
Tn.prototype.property = "";
Tn.prototype.spaceSeparated = !1;
Tn.prototype.space = void 0;
let V9 = 0;
const ze = ns(),
    _t = ns(),
    n0 = ns(),
    ie = ns(),
    ht = ns(),
    Ns = ns(),
    Rn = ns();

function ns() {
    return 2 ** ++V9
}
const r0 = Object.freeze(Object.defineProperty({
        __proto__: null,
        boolean: ze,
        booleanish: _t,
        commaOrSpaceSeparated: Rn,
        commaSeparated: Ns,
        number: ie,
        overloadedBoolean: n0,
        spaceSeparated: ht
    }, Symbol.toStringTag, {
        value: "Module"
    })),
    jc = Object.keys(r0);
class Ed extends Tn {
    constructor(t, n, r, i) {
        let s = -1;
        if (super(t, n), Z1(this, "space", i), typeof r == "number")
            for (; ++s < jc.length;) {
                const a = jc[s];
                Z1(this, jc[s], (r & r0[a]) === r0[a])
            }
    }
}
Ed.prototype.defined = !0;

function Z1(e, t, n) {
    n && (e[t] = n)
}

function qs(e) {
    const t = {},
        n = {};
    for (const [r, i] of Object.entries(e.properties)) {
        const s = new Ed(r, e.transform(e.attributes || {}, r), i, e.space);
        e.mustUseProperty && e.mustUseProperty.includes(r) && (s.mustUseProperty = !0), t[r] = s, n[La(r)] = r, n[La(s.attribute)] = r
    }
    return new Ja(t, n, e.space)
}
const Ag = qs({
    properties: {
        ariaActiveDescendant: null,
        ariaAtomic: _t,
        ariaAutoComplete: null,
        ariaBusy: _t,
        ariaChecked: _t,
        ariaColCount: ie,
        ariaColIndex: ie,
        ariaColSpan: ie,
        ariaControls: ht,
        ariaCurrent: null,
        ariaDescribedBy: ht,
        ariaDetails: null,
        ariaDisabled: _t,
        ariaDropEffect: ht,
        ariaErrorMessage: null,
        ariaExpanded: _t,
        ariaFlowTo: ht,
        ariaGrabbed: _t,
        ariaHasPopup: null,
        ariaHidden: _t,
        ariaInvalid: null,
        ariaKeyShortcuts: null,
        ariaLabel: null,
        ariaLabelledBy: ht,
        ariaLevel: ie,
        ariaLive: null,
        ariaModal: _t,
        ariaMultiLine: _t,
        ariaMultiSelectable: _t,
        ariaOrientation: null,
        ariaOwns: ht,
        ariaPlaceholder: null,
        ariaPosInSet: ie,
        ariaPressed: _t,
        ariaReadOnly: _t,
        ariaRelevant: null,
        ariaRequired: _t,
        ariaRoleDescription: ht,
        ariaRowCount: ie,
        ariaRowIndex: ie,
        ariaRowSpan: ie,
        ariaSelected: _t,
        ariaSetSize: ie,
        ariaSort: null,
        ariaValueMax: ie,
        ariaValueMin: ie,
        ariaValueNow: ie,
        ariaValueText: null,
        role: null
    },
    transform(e, t) {
        return t === "role" ? t : "aria-" + t.slice(4).toLowerCase()
    }
});

function Tg(e, t) {
    return t in e ? e[t] : t
}

function Ig(e, t) {
    return Tg(e, t.toLowerCase())
}
const W9 = qs({
        attributes: {
            acceptcharset: "accept-charset",
            classname: "class",
            htmlfor: "for",
            httpequiv: "http-equiv"
        },
        mustUseProperty: ["checked", "multiple", "muted", "selected"],
        properties: {
            abbr: null,
            accept: Ns,
            acceptCharset: ht,
            accessKey: ht,
            action: null,
            allow: null,
            allowFullScreen: ze,
            allowPaymentRequest: ze,
            allowUserMedia: ze,
            alt: null,
            as: null,
            async: ze,
            autoCapitalize: null,
            autoComplete: ht,
            autoFocus: ze,
            autoPlay: ze,
            blocking: ht,
            capture: null,
            charSet: null,
            checked: ze,
            cite: null,
            className: ht,
            cols: ie,
            colSpan: null,
            content: null,
            contentEditable: _t,
            controls: ze,
            controlsList: ht,
            coords: ie | Ns,
            crossOrigin: null,
            data: null,
            dateTime: null,
            decoding: null,
            default: ze,
            defer: ze,
            dir: null,
            dirName: null,
            disabled: ze,
            download: n0,
            draggable: _t,
            encType: null,
            enterKeyHint: null,
            fetchPriority: null,
            form: null,
            formAction: null,
            formEncType: null,
            formMethod: null,
            formNoValidate: ze,
            formTarget: null,
            headers: ht,
            height: ie,
            hidden: n0,
            high: ie,
            href: null,
            hrefLang: null,
            htmlFor: ht,
            httpEquiv: ht,
            id: null,
            imageSizes: null,
            imageSrcSet: null,
            inert: ze,
            inputMode: null,
            integrity: null,
            is: null,
            isMap: ze,
            itemId: null,
            itemProp: ht,
            itemRef: ht,
            itemScope: ze,
            itemType: ht,
            kind: null,
            label: null,
            lang: null,
            language: null,
            list: null,
            loading: null,
            loop: ze,
            low: ie,
            manifest: null,
            max: null,
            maxLength: ie,
            media: null,
            method: null,
            min: null,
            minLength: ie,
            multiple: ze,
            muted: ze,
            name: null,
            nonce: null,
            noModule: ze,
            noValidate: ze,
            onAbort: null,
            onAfterPrint: null,
            onAuxClick: null,
            onBeforeMatch: null,
            onBeforePrint: null,
            onBeforeToggle: null,
            onBeforeUnload: null,
            onBlur: null,
            onCancel: null,
            onCanPlay: null,
            onCanPlayThrough: null,
            onChange: null,
            onClick: null,
            onClose: null,
            onContextLost: null,
            onContextMenu: null,
            onContextRestored: null,
            onCopy: null,
            onCueChange: null,
            onCut: null,
            onDblClick: null,
            onDrag: null,
            onDragEnd: null,
            onDragEnter: null,
            onDragExit: null,
            onDragLeave: null,
            onDragOver: null,
            onDragStart: null,
            onDrop: null,
            onDurationChange: null,
            onEmptied: null,
            onEnded: null,
            onError: null,
            onFocus: null,
            onFormData: null,
            onHashChange: null,
            onInput: null,
            onInvalid: null,
            onKeyDown: null,
            onKeyPress: null,
            onKeyUp: null,
            onLanguageChange: null,
            onLoad: null,
            onLoadedData: null,
            onLoadedMetadata: null,
            onLoadEnd: null,
            onLoadStart: null,
            onMessage: null,
            onMessageError: null,
            onMouseDown: null,
            onMouseEnter: null,
            onMouseLeave: null,
            onMouseMove: null,
            onMouseOut: null,
            onMouseOver: null,
            onMouseUp: null,
            onOffline: null,
            onOnline: null,
            onPageHide: null,
            onPageShow: null,
            onPaste: null,
            onPause: null,
            onPlay: null,
            onPlaying: null,
            onPopState: null,
            onProgress: null,
            onRateChange: null,
            onRejectionHandled: null,
            onReset: null,
            onResize: null,
            onScroll: null,
            onScrollEnd: null,
            onSecurityPolicyViolation: null,
            onSeeked: null,
            onSeeking: null,
            onSelect: null,
            onSlotChange: null,
            onStalled: null,
            onStorage: null,
            onSubmit: null,
            onSuspend: null,
            onTimeUpdate: null,
            onToggle: null,
            onUnhandledRejection: null,
            onUnload: null,
            onVolumeChange: null,
            onWaiting: null,
            onWheel: null,
            open: ze,
            optimum: ie,
            pattern: null,
            ping: ht,
            placeholder: null,
            playsInline: ze,
            popover: null,
            popoverTarget: null,
            popoverTargetAction: null,
            poster: null,
            preload: null,
            readOnly: ze,
            referrerPolicy: null,
            rel: ht,
            required: ze,
            reversed: ze,
            rows: ie,
            rowSpan: ie,
            sandbox: ht,
            scope: null,
            scoped: ze,
            seamless: ze,
            selected: ze,
            shadowRootClonable: ze,
            shadowRootDelegatesFocus: ze,
            shadowRootMode: null,
            shape: null,
            size: ie,
            sizes: null,
            slot: null,
            span: ie,
            spellCheck: _t,
            src: null,
            srcDoc: null,
            srcLang: null,
            srcSet: null,
            start: ie,
            step: null,
            style: null,
            tabIndex: ie,
            target: null,
            title: null,
            translate: null,
            type: null,
            typeMustMatch: ze,
            useMap: null,
            value: _t,
            width: ie,
            wrap: null,
            writingSuggestions: null,
            align: null,
            aLink: null,
            archive: ht,
            axis: null,
            background: null,
            bgColor: null,
            border: ie,
            borderColor: null,
            bottomMargin: ie,
            cellPadding: null,
            cellSpacing: null,
            char: null,
            charOff: null,
            classId: null,
            clear: null,
            code: null,
            codeBase: null,
            codeType: null,
            color: null,
            compact: ze,
            declare: ze,
            event: null,
            face: null,
            frame: null,
            frameBorder: null,
            hSpace: ie,
            leftMargin: ie,
            link: null,
            longDesc: null,
            lowSrc: null,
            marginHeight: ie,
            marginWidth: ie,
            noResize: ze,
            noHref: ze,
            noShade: ze,
            noWrap: ze,
            object: null,
            profile: null,
            prompt: null,
            rev: null,
            rightMargin: ie,
            rules: null,
            scheme: null,
            scrolling: _t,
            standby: null,
            summary: null,
            text: null,
            topMargin: ie,
            valueType: null,
            version: null,
            vAlign: null,
            vLink: null,
            vSpace: ie,
            allowTransparency: null,
            autoCorrect: null,
            autoSave: null,
            disablePictureInPicture: ze,
            disableRemotePlayback: ze,
            prefix: null,
            property: null,
            results: ie,
            security: null,
            unselectable: null
        },
        space: "html",
        transform: Ig
    }),
    q9 = qs({
        attributes: {
            accentHeight: "accent-height",
            alignmentBaseline: "alignment-baseline",
            arabicForm: "arabic-form",
            baselineShift: "baseline-shift",
            capHeight: "cap-height",
            className: "class",
            clipPath: "clip-path",
            clipRule: "clip-rule",
            colorInterpolation: "color-interpolation",
            colorInterpolationFilters: "color-interpolation-filters",
            colorProfile: "color-profile",
            colorRendering: "color-rendering",
            crossOrigin: "crossorigin",
            dataType: "datatype",
            dominantBaseline: "dominant-baseline",
            enableBackground: "enable-background",
            fillOpacity: "fill-opacity",
            fillRule: "fill-rule",
            floodColor: "flood-color",
            floodOpacity: "flood-opacity",
            fontFamily: "font-family",
            fontSize: "font-size",
            fontSizeAdjust: "font-size-adjust",
            fontStretch: "font-stretch",
            fontStyle: "font-style",
            fontVariant: "font-variant",
            fontWeight: "font-weight",
            glyphName: "glyph-name",
            glyphOrientationHorizontal: "glyph-orientation-horizontal",
            glyphOrientationVertical: "glyph-orientation-vertical",
            hrefLang: "hreflang",
            horizAdvX: "horiz-adv-x",
            horizOriginX: "horiz-origin-x",
            horizOriginY: "horiz-origin-y",
            imageRendering: "image-rendering",
            letterSpacing: "letter-spacing",
            lightingColor: "lighting-color",
            markerEnd: "marker-end",
            markerMid: "marker-mid",
            markerStart: "marker-start",
            navDown: "nav-down",
            navDownLeft: "nav-down-left",
            navDownRight: "nav-down-right",
            navLeft: "nav-left",
            navNext: "nav-next",
            navPrev: "nav-prev",
            navRight: "nav-right",
            navUp: "nav-up",
            navUpLeft: "nav-up-left",
            navUpRight: "nav-up-right",
            onAbort: "onabort",
            onActivate: "onactivate",
            onAfterPrint: "onafterprint",
            onBeforePrint: "onbeforeprint",
            onBegin: "onbegin",
            onCancel: "oncancel",
            onCanPlay: "oncanplay",
            onCanPlayThrough: "oncanplaythrough",
            onChange: "onchange",
            onClick: "onclick",
            onClose: "onclose",
            onCopy: "oncopy",
            onCueChange: "oncuechange",
            onCut: "oncut",
            onDblClick: "ondblclick",
            onDrag: "ondrag",
            onDragEnd: "ondragend",
            onDragEnter: "ondragenter",
            onDragExit: "ondragexit",
            onDragLeave: "ondragleave",
            onDragOver: "ondragover",
            onDragStart: "ondragstart",
            onDrop: "ondrop",
            onDurationChange: "ondurationchange",
            onEmptied: "onemptied",
            onEnd: "onend",
            onEnded: "onended",
            onError: "onerror",
            onFocus: "onfocus",
            onFocusIn: "onfocusin",
            onFocusOut: "onfocusout",
            onHashChange: "onhashchange",
            onInput: "oninput",
            onInvalid: "oninvalid",
            onKeyDown: "onkeydown",
            onKeyPress: "onkeypress",
            onKeyUp: "onkeyup",
            onLoad: "onload",
            onLoadedData: "onloadeddata",
            onLoadedMetadata: "onloadedmetadata",
            onLoadStart: "onloadstart",
            onMessage: "onmessage",
            onMouseDown: "onmousedown",
            onMouseEnter: "onmouseenter",
            onMouseLeave: "onmouseleave",
            onMouseMove: "onmousemove",
            onMouseOut: "onmouseout",
            onMouseOver: "onmouseover",
            onMouseUp: "onmouseup",
            onMouseWheel: "onmousewheel",
            onOffline: "onoffline",
            onOnline: "ononline",
            onPageHide: "onpagehide",
            onPageShow: "onpageshow",
            onPaste: "onpaste",
            onPause: "onpause",
            onPlay: "onplay",
            onPlaying: "onplaying",
            onPopState: "onpopstate",
            onProgress: "onprogress",
            onRateChange: "onratechange",
            onRepeat: "onrepeat",
            onReset: "onreset",
            onResize: "onresize",
            onScroll: "onscroll",
            onSeeked: "onseeked",
            onSeeking: "onseeking",
            onSelect: "onselect",
            onShow: "onshow",
            onStalled: "onstalled",
            onStorage: "onstorage",
            onSubmit: "onsubmit",
            onSuspend: "onsuspend",
            onTimeUpdate: "ontimeupdate",
            onToggle: "ontoggle",
            onUnload: "onunload",
            onVolumeChange: "onvolumechange",
            onWaiting: "onwaiting",
            onZoom: "onzoom",
            overlinePosition: "overline-position",
            overlineThickness: "overline-thickness",
            paintOrder: "paint-order",
            panose1: "panose-1",
            pointerEvents: "pointer-events",
            referrerPolicy: "referrerpolicy",
            renderingIntent: "rendering-intent",
            shapeRendering: "shape-rendering",
            stopColor: "stop-color",
            stopOpacity: "stop-opacity",
            strikethroughPosition: "strikethrough-position",
            strikethroughThickness: "strikethrough-thickness",
            strokeDashArray: "stroke-dasharray",
            strokeDashOffset: "stroke-dashoffset",
            strokeLineCap: "stroke-linecap",
            strokeLineJoin: "stroke-linejoin",
            strokeMiterLimit: "stroke-miterlimit",
            strokeOpacity: "stroke-opacity",
            strokeWidth: "stroke-width",
            tabIndex: "tabindex",
            textAnchor: "text-anchor",
            textDecoration: "text-decoration",
            textRendering: "text-rendering",
            transformOrigin: "transform-origin",
            typeOf: "typeof",
            underlinePosition: "underline-position",
            underlineThickness: "underline-thickness",
            unicodeBidi: "unicode-bidi",
            unicodeRange: "unicode-range",
            unitsPerEm: "units-per-em",
            vAlphabetic: "v-alphabetic",
            vHanging: "v-hanging",
            vIdeographic: "v-ideographic",
            vMathematical: "v-mathematical",
            vectorEffect: "vector-effect",
            vertAdvY: "vert-adv-y",
            vertOriginX: "vert-origin-x",
            vertOriginY: "vert-origin-y",
            wordSpacing: "word-spacing",
            writingMode: "writing-mode",
            xHeight: "x-height",
            playbackOrder: "playbackorder",
            timelineBegin: "timelinebegin"
        },
        properties: {
            about: Rn,
            accentHeight: ie,
            accumulate: null,
            additive: null,
            alignmentBaseline: null,
            alphabetic: ie,
            amplitude: ie,
            arabicForm: null,
            ascent: ie,
            attributeName: null,
            attributeType: null,
            azimuth: ie,
            bandwidth: null,
            baselineShift: null,
            baseFrequency: null,
            baseProfile: null,
            bbox: null,
            begin: null,
            bias: ie,
            by: null,
            calcMode: null,
            capHeight: ie,
            className: ht,
            clip: null,
            clipPath: null,
            clipPathUnits: null,
            clipRule: null,
            color: null,
            colorInterpolation: null,
            colorInterpolationFilters: null,
            colorProfile: null,
            colorRendering: null,
            content: null,
            contentScriptType: null,
            contentStyleType: null,
            crossOrigin: null,
            cursor: null,
            cx: null,
            cy: null,
            d: null,
            dataType: null,
            defaultAction: null,
            descent: ie,
            diffuseConstant: ie,
            direction: null,
            display: null,
            dur: null,
            divisor: ie,
            dominantBaseline: null,
            download: ze,
            dx: null,
            dy: null,
            edgeMode: null,
            editable: null,
            elevation: ie,
            enableBackground: null,
            end: null,
            event: null,
            exponent: ie,
            externalResourcesRequired: null,
            fill: null,
            fillOpacity: ie,
            fillRule: null,
            filter: null,
            filterRes: null,
            filterUnits: null,
            floodColor: null,
            floodOpacity: null,
            focusable: null,
            focusHighlight: null,
            fontFamily: null,
            fontSize: null,
            fontSizeAdjust: null,
            fontStretch: null,
            fontStyle: null,
            fontVariant: null,
            fontWeight: null,
            format: null,
            fr: null,
            from: null,
            fx: null,
            fy: null,
            g1: Ns,
            g2: Ns,
            glyphName: Ns,
            glyphOrientationHorizontal: null,
            glyphOrientationVertical: null,
            glyphRef: null,
            gradientTransform: null,
            gradientUnits: null,
            handler: null,
            hanging: ie,
            hatchContentUnits: null,
            hatchUnits: null,
            height: null,
            href: null,
            hrefLang: null,
            horizAdvX: ie,
            horizOriginX: ie,
            horizOriginY: ie,
            id: null,
            ideographic: ie,
            imageRendering: null,
            initialVisibility: null,
            in: null,
            in2: null,
            intercept: ie,
            k: ie,
            k1: ie,
            k2: ie,
            k3: ie,
            k4: ie,
            kernelMatrix: Rn,
            kernelUnitLength: null,
            keyPoints: null,
            keySplines: null,
            keyTimes: null,
            kerning: null,
            lang: null,
            lengthAdjust: null,
            letterSpacing: null,
            lightingColor: null,
            limitingConeAngle: ie,
            local: null,
            markerEnd: null,
            markerMid: null,
            markerStart: null,
            markerHeight: null,
            markerUnits: null,
            markerWidth: null,
            mask: null,
            maskContentUnits: null,
            maskUnits: null,
            mathematical: null,
            max: null,
            media: null,
            mediaCharacterEncoding: null,
            mediaContentEncodings: null,
            mediaSize: ie,
            mediaTime: null,
            method: null,
            min: null,
            mode: null,
            name: null,
            navDown: null,
            navDownLeft: null,
            navDownRight: null,
            navLeft: null,
            navNext: null,
            navPrev: null,
            navRight: null,
            navUp: null,
            navUpLeft: null,
            navUpRight: null,
            numOctaves: null,
            observer: null,
            offset: null,
            onAbort: null,
            onActivate: null,
            onAfterPrint: null,
            onBeforePrint: null,
            onBegin: null,
            onCancel: null,
            onCanPlay: null,
            onCanPlayThrough: null,
            onChange: null,
            onClick: null,
            onClose: null,
            onCopy: null,
            onCueChange: null,
            onCut: null,
            onDblClick: null,
            onDrag: null,
            onDragEnd: null,
            onDragEnter: null,
            onDragExit: null,
            onDragLeave: null,
            onDragOver: null,
            onDragStart: null,
            onDrop: null,
            onDurationChange: null,
            onEmptied: null,
            onEnd: null,
            onEnded: null,
            onError: null,
            onFocus: null,
            onFocusIn: null,
            onFocusOut: null,
            onHashChange: null,
            onInput: null,
            onInvalid: null,
            onKeyDown: null,
            onKeyPress: null,
            onKeyUp: null,
            onLoad: null,
            onLoadedData: null,
            onLoadedMetadata: null,
            onLoadStart: null,
            onMessage: null,
            onMouseDown: null,
            onMouseEnter: null,
            onMouseLeave: null,
            onMouseMove: null,
            onMouseOut: null,
            onMouseOver: null,
            onMouseUp: null,
            onMouseWheel: null,
            onOffline: null,
            onOnline: null,
            onPageHide: null,
            onPageShow: null,
            onPaste: null,
            onPause: null,
            onPlay: null,
            onPlaying: null,
            onPopState: null,
            onProgress: null,
            onRateChange: null,
            onRepeat: null,
            onReset: null,
            onResize: null,
            onScroll: null,
            onSeeked: null,
            onSeeking: null,
            onSelect: null,
            onShow: null,
            onStalled: null,
            onStorage: null,
            onSubmit: null,
            onSuspend: null,
            onTimeUpdate: null,
            onToggle: null,
            onUnload: null,
            onVolumeChange: null,
            onWaiting: null,
            onZoom: null,
            opacity: null,
            operator: null,
            order: null,
            orient: null,
            orientation: null,
            origin: null,
            overflow: null,
            overlay: null,
            overlinePosition: ie,
            overlineThickness: ie,
            paintOrder: null,
            panose1: null,
            path: null,
            pathLength: ie,
            patternContentUnits: null,
            patternTransform: null,
            patternUnits: null,
            phase: null,
            ping: ht,
            pitch: null,
            playbackOrder: null,
            pointerEvents: null,
            points: null,
            pointsAtX: ie,
            pointsAtY: ie,
            pointsAtZ: ie,
            preserveAlpha: null,
            preserveAspectRatio: null,
            primitiveUnits: null,
            propagate: null,
            property: Rn,
            r: null,
            radius: null,
            referrerPolicy: null,
            refX: null,
            refY: null,
            rel: Rn,
            rev: Rn,
            renderingIntent: null,
            repeatCount: null,
            repeatDur: null,
            requiredExtensions: Rn,
            requiredFeatures: Rn,
            requiredFonts: Rn,
            requiredFormats: Rn,
            resource: null,
            restart: null,
            result: null,
            rotate: null,
            rx: null,
            ry: null,
            scale: null,
            seed: null,
            shapeRendering: null,
            side: null,
            slope: null,
            snapshotTime: null,
            specularConstant: ie,
            specularExponent: ie,
            spreadMethod: null,
            spacing: null,
            startOffset: null,
            stdDeviation: null,
            stemh: null,
            stemv: null,
            stitchTiles: null,
            stopColor: null,
            stopOpacity: null,
            strikethroughPosition: ie,
            strikethroughThickness: ie,
            string: null,
            stroke: null,
            strokeDashArray: Rn,
            strokeDashOffset: null,
            strokeLineCap: null,
            strokeLineJoin: null,
            strokeMiterLimit: ie,
            strokeOpacity: ie,
            strokeWidth: null,
            style: null,
            surfaceScale: ie,
            syncBehavior: null,
            syncBehaviorDefault: null,
            syncMaster: null,
            syncTolerance: null,
            syncToleranceDefault: null,
            systemLanguage: Rn,
            tabIndex: ie,
            tableValues: null,
            target: null,
            targetX: ie,
            targetY: ie,
            textAnchor: null,
            textDecoration: null,
            textRendering: null,
            textLength: null,
            timelineBegin: null,
            title: null,
            transformBehavior: null,
            type: null,
            typeOf: Rn,
            to: null,
            transform: null,
            transformOrigin: null,
            u1: null,
            u2: null,
            underlinePosition: ie,
            underlineThickness: ie,
            unicode: null,
            unicodeBidi: null,
            unicodeRange: null,
            unitsPerEm: ie,
            values: null,
            vAlphabetic: ie,
            vMathematical: ie,
            vectorEffect: null,
            vHanging: ie,
            vIdeographic: ie,
            version: null,
            vertAdvY: ie,
            vertOriginX: ie,
            vertOriginY: ie,
            viewBox: null,
            viewTarget: null,
            visibility: null,
            width: null,
            widths: null,
            wordSpacing: null,
            writingMode: null,
            x: null,
            x1: null,
            x2: null,
            xChannelSelector: null,
            xHeight: ie,
            y: null,
            y1: null,
            y2: null,
            yChannelSelector: null,
            z: null,
            zoomAndPan: null
        },
        space: "svg",
        transform: Tg
    }),
    jg = qs({
        properties: {
            xLinkActuate: null,
            xLinkArcRole: null,
            xLinkHref: null,
            xLinkRole: null,
            xLinkShow: null,
            xLinkTitle: null,
            xLinkType: null
        },
        space: "xlink",
        transform(e, t) {
            return "xlink:" + t.slice(5).toLowerCase()
        }
    }),
    Mg = qs({
        attributes: {
            xmlnsxlink: "xmlns:xlink"
        },
        properties: {
            xmlnsXLink: null,
            xmlns: null
        },
        space: "xmlns",
        transform: Ig
    }),
    Rg = qs({
        properties: {
            xmlBase: null,
            xmlLang: null,
            xmlSpace: null
        },
        space: "xml",
        transform(e, t) {
            return "xml:" + t.slice(3).toLowerCase()
        }
    }),
    G9 = {
        classId: "classID",
        dataType: "datatype",
        itemId: "itemID",
        strokeDashArray: "strokeDasharray",
        strokeDashOffset: "strokeDashoffset",
        strokeLineCap: "strokeLinecap",
        strokeLineJoin: "strokeLinejoin",
        strokeMiterLimit: "strokeMiterlimit",
        typeOf: "typeof",
        xLinkActuate: "xlinkActuate",
        xLinkArcRole: "xlinkArcrole",
        xLinkHref: "xlinkHref",
        xLinkRole: "xlinkRole",
        xLinkShow: "xlinkShow",
        xLinkTitle: "xlinkTitle",
        xLinkType: "xlinkType",
        xmlnsXLink: "xmlnsXlink"
    },
    Y9 = /[A-Z]/g,
    Q1 = /-[a-z]/g,
    K9 = /^data[-\w.:]+$/i;

function Og(e, t) {
    const n = La(t);
    let r = t,
        i = Tn;
    if (n in e.normal) return e.property[e.normal[n]];
    if (n.length > 4 && n.slice(0, 4) === "data" && K9.test(t)) {
        if (t.charAt(4) === "-") {
            const s = t.slice(5).replace(Q1, Z9);
            r = "data" + s.charAt(0).toUpperCase() + s.slice(1)
        } else {
            const s = t.slice(4);
            if (!Q1.test(s)) {
                let a = s.replace(Y9, X9);
                a.charAt(0) !== "-" && (a = "-" + a), t = "data" + a
            }
        }
        i = Ed
    }
    return new i(r, t)
}

function X9(e) {
    return "-" + e.toLowerCase()
}

function Z9(e) {
    return e.charAt(1).toUpperCase()
}
const Pg = Ng([Ag, W9, jg, Mg, Rg], "html"),
    Xl = Ng([Ag, q9, jg, Mg, Rg], "svg");

function J1(e) {
    const t = String(e || "").trim();
    return t ? t.split(/[ \t\n\r\f]+/g) : []
}

function Q9(e) {
    return e.join(" ").trim()
}
var fs = {},
    Mc, eh;

function J9() {
    if (eh) return Mc;
    eh = 1;
    var e = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,
        t = /\n/g,
        n = /^\s*/,
        r = /^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,
        i = /^:\s*/,
        s = /^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,
        a = /^[;\s]*/,
        o = /^\s+|\s+$/g,
        c = `
`,
        u = "/",
        d = "*",
        f = "",
        m = "comment",
        p = "declaration";
    Mc = function(x, y) {
        if (typeof x != "string") throw new TypeError("First argument must be a string");
        if (!x) return [];
        y = y || {};
        var b = 1,
            w = 1;

        function C(O) {
            var F = O.match(t);
            F && (b += F.length);
            var G = O.lastIndexOf(c);
            w = ~G ? O.length - G : w + O.length
        }

        function E() {
            var O = {
                line: b,
                column: w
            };
            return function(F) {
                return F.position = new A(O), z(), F
            }
        }

        function A(O) {
            this.start = O, this.end = {
                line: b,
                column: w
            }, this.source = y.source
        }
        A.prototype.content = x;

        function N(O) {
            var F = new Error(y.source + ":" + b + ":" + w + ": " + O);
            if (F.reason = O, F.filename = y.source, F.line = b, F.column = w, F.source = x, !y.silent) throw F
        }

        function j(O) {
            var F = O.exec(x);
            if (F) {
                var G = F[0];
                return C(G), x = x.slice(G.length), F
            }
        }

        function z() {
            j(n)
        }

        function H(O) {
            var F;
            for (O = O || []; F = R();) F !== !1 && O.push(F);
            return O
        }

        function R() {
            var O = E();
            if (!(u != x.charAt(0) || d != x.charAt(1))) {
                for (var F = 2; f != x.charAt(F) && (d != x.charAt(F) || u != x.charAt(F + 1));) ++F;
                if (F += 2, f === x.charAt(F - 1)) return N("End of comment missing");
                var G = x.slice(2, F - 2);
                return w += 2, C(G), x = x.slice(F), w += 2, O({
                    type: m,
                    comment: G
                })
            }
        }

        function D() {
            var O = E(),
                F = j(r);
            if (F) {
                if (R(), !j(i)) return N("property missing ':'");
                var G = j(s),
                    Y = O({
                        type: p,
                        property: g(F[0].replace(e, f)),
                        value: G ? g(G[0].replace(e, f)) : f
                    });
                return j(a), Y
            }
        }

        function _() {
            var O = [];
            H(O);
            for (var F; F = D();) F !== !1 && (O.push(F), H(O));
            return O
        }
        return z(), _()
    };

    function g(x) {
        return x ? x.replace(o, f) : f
    }
    return Mc
}
var th;

function ew() {
    if (th) return fs;
    th = 1;
    var e = fs && fs.__importDefault || function(r) {
        return r && r.__esModule ? r : {
            default: r
        }
    };
    Object.defineProperty(fs, "__esModule", {
        value: !0
    }), fs.default = n;
    var t = e(J9());

    function n(r, i) {
        var s = null;
        if (!r || typeof r != "string") return s;
        var a = (0, t.default)(r),
            o = typeof i == "function";
        return a.forEach(function(c) {
            if (c.type === "declaration") {
                var u = c.property,
                    d = c.value;
                o ? i(u, d, c) : d && (s = s || {}, s[u] = d)
            }
        }), s
    }
    return fs
}
var ca = {},
    nh;

function tw() {
    if (nh) return ca;
    nh = 1, Object.defineProperty(ca, "__esModule", {
        value: !0
    }), ca.camelCase = void 0;
    var e = /^--[a-zA-Z0-9_-]+$/,
        t = /-([a-z])/g,
        n = /^[^-]+$/,
        r = /^-(webkit|moz|ms|o|khtml)-/,
        i = /^-(ms)-/,
        s = function(u) {
            return !u || n.test(u) || e.test(u)
        },
        a = function(u, d) {
            return d.toUpperCase()
        },
        o = function(u, d) {
            return "".concat(d, "-")
        },
        c = function(u, d) {
            return d === void 0 && (d = {}), s(u) ? u : (u = u.toLowerCase(), d.reactCompat ? u = u.replace(i, o) : u = u.replace(r, o), u.replace(t, a))
        };
    return ca.camelCase = c, ca
}
var ua, rh;

function nw() {
    if (rh) return ua;
    rh = 1;
    var e = ua && ua.__importDefault || function(i) {
            return i && i.__esModule ? i : {
                default: i
            }
        },
        t = e(ew()),
        n = tw();

    function r(i, s) {
        var a = {};
        return !i || typeof i != "string" || (0, t.default)(i, function(o, c) {
            o && c && (a[(0, n.camelCase)(o, s)] = c)
        }), a
    }
    return r.default = r, ua = r, ua
}
var rw = nw();
const iw = Y2(rw),
    Lg = Dg("end"),
    Nd = Dg("start");

function Dg(e) {
    return t;

    function t(n) {
        const r = n && n.position && n.position[e] || {};
        if (typeof r.line == "number" && r.line > 0 && typeof r.column == "number" && r.column > 0) return {
            line: r.line,
            column: r.column,
            offset: typeof r.offset == "number" && r.offset > -1 ? r.offset : void 0
        }
    }
}

function sw(e) {
    const t = Nd(e),
        n = Lg(e);
    if (t && n) return {
        start: t,
        end: n
    }
}

function Sa(e) {
    return !e || typeof e != "object" ? "" : "position" in e || "type" in e ? ih(e.position) : "start" in e || "end" in e ? ih(e) : "line" in e || "column" in e ? i0(e) : ""
}

function i0(e) {
    return sh(e && e.line) + ":" + sh(e && e.column)
}

function ih(e) {
    return i0(e && e.start) + "-" + i0(e && e.end)
}

function sh(e) {
    return e && typeof e == "number" ? e : 1
}
class hn extends Error {
    constructor(t, n, r) {
        super(), typeof n == "string" && (r = n, n = void 0);
        let i = "",
            s = {},
            a = !1;
        if (n && ("line" in n && "column" in n ? s = {
                place: n
            } : "start" in n && "end" in n ? s = {
                place: n
            } : "type" in n ? s = {
                ancestors: [n],
                place: n.position
            } : s = {
                ...n
            }), typeof t == "string" ? i = t : !s.cause && t && (a = !0, i = t.message, s.cause = t), !s.ruleId && !s.source && typeof r == "string") {
            const c = r.indexOf(":");
            c === -1 ? s.ruleId = r : (s.source = r.slice(0, c), s.ruleId = r.slice(c + 1))
        }
        if (!s.place && s.ancestors && s.ancestors) {
            const c = s.ancestors[s.ancestors.length - 1];
            c && (s.place = c.position)
        }
        const o = s.place && "start" in s.place ? s.place.start : s.place;
        this.ancestors = s.ancestors || void 0, this.cause = s.cause || void 0, this.column = o ? o.column : void 0, this.fatal = void 0, this.file, this.message = i, this.line = o ? o.line : void 0, this.name = Sa(s.place) || "1:1", this.place = s.place || void 0, this.reason = this.message, this.ruleId = s.ruleId || void 0, this.source = s.source || void 0, this.stack = a && s.cause && typeof s.cause.stack == "string" ? s.cause.stack : "", this.actual, this.expected, this.note, this.url
    }
}
hn.prototype.file = "";
hn.prototype.name = "";
hn.prototype.reason = "";
hn.prototype.message = "";
hn.prototype.stack = "";
hn.prototype.column = void 0;
hn.prototype.line = void 0;
hn.prototype.ancestors = void 0;
hn.prototype.cause = void 0;
hn.prototype.fatal = void 0;
hn.prototype.place = void 0;
hn.prototype.ruleId = void 0;
hn.prototype.source = void 0;
const Ad = {}.hasOwnProperty,
    aw = new Map,
    ow = /[A-Z]/g,
    lw = new Set(["table", "tbody", "thead", "tfoot", "tr"]),
    cw = new Set(["td", "th"]),
    _g = "https://github.com/syntax-tree/hast-util-to-jsx-runtime";

function uw(e, t) {
    if (!t || t.Fragment === void 0) throw new TypeError("Expected `Fragment` in options");
    const n = t.filePath || void 0;
    let r;
    if (t.development) {
        if (typeof t.jsxDEV != "function") throw new TypeError("Expected `jsxDEV` in options when `development: true`");
        r = vw(n, t.jsxDEV)
    } else {
        if (typeof t.jsx != "function") throw new TypeError("Expected `jsx` in production options");
        if (typeof t.jsxs != "function") throw new TypeError("Expected `jsxs` in production options");
        r = xw(n, t.jsx, t.jsxs)
    }
    const i = {
            Fragment: t.Fragment,
            ancestors: [],
            components: t.components || {},
            create: r,
            elementAttributeNameCase: t.elementAttributeNameCase || "react",
            evaluater: t.createEvaluater ? t.createEvaluater() : void 0,
            filePath: n,
            ignoreInvalidStyle: t.ignoreInvalidStyle || !1,
            passKeys: t.passKeys !== !1,
            passNode: t.passNode || !1,
            schema: t.space === "svg" ? Xl : Pg,
            stylePropertyNameCase: t.stylePropertyNameCase || "dom",
            tableCellAlignToStyle: t.tableCellAlignToStyle !== !1
        },
        s = Fg(i, e, void 0);
    return s && typeof s != "string" ? s : i.create(e, i.Fragment, {
        children: s || void 0
    }, void 0)
}

function Fg(e, t, n) {
    if (t.type === "element") return dw(e, t, n);
    if (t.type === "mdxFlowExpression" || t.type === "mdxTextExpression") return fw(e, t);
    if (t.type === "mdxJsxFlowElement" || t.type === "mdxJsxTextElement") return pw(e, t, n);
    if (t.type === "mdxjsEsm") return hw(e, t);
    if (t.type === "root") return mw(e, t, n);
    if (t.type === "text") return gw(e, t)
}

function dw(e, t, n) {
    const r = e.schema;
    let i = r;
    t.tagName.toLowerCase() === "svg" && r.space === "html" && (i = Xl, e.schema = i), e.ancestors.push(t);
    const s = Bg(e, t.tagName, !1),
        a = bw(e, t);
    let o = Id(e, t);
    return lw.has(t.tagName) && (o = o.filter(function(c) {
        return typeof c == "string" ? !U9(c) : !0
    })), zg(e, a, s, t), Td(a, o), e.ancestors.pop(), e.schema = r, e.create(t, s, a, n)
}

function fw(e, t) {
    if (t.data && t.data.estree && e.evaluater) {
        const r = t.data.estree.body[0];
        return r.type, e.evaluater.evaluateExpression(r.expression)
    }
    Da(e, t.position)
}

function hw(e, t) {
    if (t.data && t.data.estree && e.evaluater) return e.evaluater.evaluateProgram(t.data.estree);
    Da(e, t.position)
}

function pw(e, t, n) {
    const r = e.schema;
    let i = r;
    t.name === "svg" && r.space === "html" && (i = Xl, e.schema = i), e.ancestors.push(t);
    const s = t.name === null ? e.Fragment : Bg(e, t.name, !0),
        a = yw(e, t),
        o = Id(e, t);
    return zg(e, a, s, t), Td(a, o), e.ancestors.pop(), e.schema = r, e.create(t, s, a, n)
}

function mw(e, t, n) {
    const r = {};
    return Td(r, Id(e, t)), e.create(t, e.Fragment, r, n)
}

function gw(e, t) {
    return t.value
}

function zg(e, t, n, r) {
    typeof n != "string" && n !== e.Fragment && e.passNode && (t.node = r)
}

function Td(e, t) {
    if (t.length > 0) {
        const n = t.length > 1 ? t : t[0];
        n && (e.children = n)
    }
}

function xw(e, t, n) {
    return r;

    function r(i, s, a, o) {
        const u = Array.isArray(a.children) ? n : t;
        return o ? u(s, a, o) : u(s, a)
    }
}

function vw(e, t) {
    return n;

    function n(r, i, s, a) {
        const o = Array.isArray(s.children),
            c = Nd(r);
        return t(i, s, a, o, {
            columnNumber: c ? c.column - 1 : void 0,
            fileName: e,
            lineNumber: c ? c.line : void 0
        }, void 0)
    }
}

function bw(e, t) {
    const n = {};
    let r, i;
    for (i in t.properties)
        if (i !== "children" && Ad.call(t.properties, i)) {
            const s = ww(e, i, t.properties[i]);
            if (s) {
                const [a, o] = s;
                e.tableCellAlignToStyle && a === "align" && typeof o == "string" && cw.has(t.tagName) ? r = o : n[a] = o
            }
        } if (r) {
        const s = n.style || (n.style = {});
        s[e.stylePropertyNameCase === "css" ? "text-align" : "textAlign"] = r
    }
    return n
}

function yw(e, t) {
    const n = {};
    for (const r of t.attributes)
        if (r.type === "mdxJsxExpressionAttribute")
            if (r.data && r.data.estree && e.evaluater) {
                const s = r.data.estree.body[0];
                s.type;
                const a = s.expression;
                a.type;
                const o = a.properties[0];
                o.type, Object.assign(n, e.evaluater.evaluateExpression(o.argument))
            } else Da(e, t.position);
    else {
        const i = r.name;
        let s;
        if (r.value && typeof r.value == "object")
            if (r.value.data && r.value.data.estree && e.evaluater) {
                const o = r.value.data.estree.body[0];
                o.type, s = e.evaluater.evaluateExpression(o.expression)
            } else Da(e, t.position);
        else s = r.value === null ? !0 : r.value;
        n[i] = s
    }
    return n
}

function Id(e, t) {
    const n = [];
    let r = -1;
    const i = e.passKeys ? new Map : aw;
    for (; ++r < t.children.length;) {
        const s = t.children[r];
        let a;
        if (e.passKeys) {
            const c = s.type === "element" ? s.tagName : s.type === "mdxJsxFlowElement" || s.type === "mdxJsxTextElement" ? s.name : void 0;
            if (c) {
                const u = i.get(c) || 0;
                a = c + "-" + u, i.set(c, u + 1)
            }
        }
        const o = Fg(e, s, a);
        o !== void 0 && n.push(o)
    }
    return n
}

function ww(e, t, n) {
    const r = Og(e.schema, t);
    if (!(n == null || typeof n == "number" && Number.isNaN(n))) {
        if (Array.isArray(n) && (n = r.commaSeparated ? F9(n) : Q9(n)), r.property === "style") {
            let i = typeof n == "object" ? n : Sw(e, String(n));
            return e.stylePropertyNameCase === "css" && (i = Cw(i)), ["style", i]
        }
        return [e.elementAttributeNameCase === "react" && r.space ? G9[r.property] || r.property : r.attribute, n]
    }
}

function Sw(e, t) {
    try {
        return iw(t, {
            reactCompat: !0
        })
    } catch (n) {
        if (e.ignoreInvalidStyle) return {};
        const r = n,
            i = new hn("Cannot parse `style` attribute", {
                ancestors: e.ancestors,
                cause: r,
                ruleId: "style",
                source: "hast-util-to-jsx-runtime"
            });
        throw i.file = e.filePath || void 0, i.url = _g + "#cannot-parse-style-attribute", i
    }
}

function Bg(e, t, n) {
    let r;
    if (!n) r = {
        type: "Literal",
        value: t
    };
    else if (t.includes(".")) {
        const i = t.split(".");
        let s = -1,
            a;
        for (; ++s < i.length;) {
            const o = K1(i[s]) ? {
                type: "Identifier",
                name: i[s]
            } : {
                type: "Literal",
                value: i[s]
            };
            a = a ? {
                type: "MemberExpression",
                object: a,
                property: o,
                computed: !!(s && o.type === "Literal"),
                optional: !1
            } : o
        }
        r = a
    } else r = K1(t) && !/^[a-z]/.test(t) ? {
        type: "Identifier",
        name: t
    } : {
        type: "Literal",
        value: t
    };
    if (r.type === "Literal") {
        const i = r.value;
        return Ad.call(e.components, i) ? e.components[i] : i
    }
    if (e.evaluater) return e.evaluater.evaluateExpression(r);
    Da(e)
}

function Da(e, t) {
    const n = new hn("Cannot handle MDX estrees without `createEvaluater`", {
        ancestors: e.ancestors,
        place: t,
        ruleId: "mdx-estree",
        source: "hast-util-to-jsx-runtime"
    });
    throw n.file = e.filePath || void 0, n.url = _g + "#cannot-handle-mdx-estrees-without-createevaluater", n
}

function Cw(e) {
    const t = {};
    let n;
    for (n in e) Ad.call(e, n) && (t[kw(n)] = e[n]);
    return t
}

function kw(e) {
    let t = e.replace(ow, Ew);
    return t.slice(0, 3) === "ms-" && (t = "-" + t), t
}

function Ew(e) {
    return "-" + e.toLowerCase()
}
const Rc = {
        action: ["form"],
        cite: ["blockquote", "del", "ins", "q"],
        data: ["object"],
        formAction: ["button", "input"],
        href: ["a", "area", "base", "link"],
        icon: ["menuitem"],
        itemId: null,
        manifest: ["html"],
        ping: ["a", "area"],
        poster: ["video"],
        src: ["audio", "embed", "iframe", "img", "input", "script", "source", "track", "video"]
    },
    Nw = {};

function jd(e, t) {
    const n = Nw,
        r = typeof n.includeImageAlt == "boolean" ? n.includeImageAlt : !0,
        i = typeof n.includeHtml == "boolean" ? n.includeHtml : !0;
    return $g(e, r, i)
}

function $g(e, t, n) {
    if (Aw(e)) {
        if ("value" in e) return e.type === "html" && !n ? "" : e.value;
        if (t && "alt" in e && e.alt) return e.alt;
        if ("children" in e) return ah(e.children, t, n)
    }
    return Array.isArray(e) ? ah(e, t, n) : ""
}

function ah(e, t, n) {
    const r = [];
    let i = -1;
    for (; ++i < e.length;) r[i] = $g(e[i], t, n);
    return r.join("")
}

function Aw(e) {
    return !!(e && typeof e == "object")
}
const oh = document.createElement("i");

function Md(e) {
    const t = "&" + e + ";";
    oh.innerHTML = t;
    const n = oh.textContent;
    return n.charCodeAt(n.length - 1) === 59 && e !== "semi" || n === t ? !1 : n
}

function Dn(e, t, n, r) {
    const i = e.length;
    let s = 0,
        a;
    if (t < 0 ? t = -t > i ? 0 : i + t : t = t > i ? i : t, n = n > 0 ? n : 0, r.length < 1e4) a = Array.from(r), a.unshift(t, n), e.splice(...a);
    else
        for (n && e.splice(t, n); s < r.length;) a = r.slice(s, s + 1e4), a.unshift(t, 0), e.splice(...a), s += 1e4, t += 1e4
}

function Wn(e, t) {
    return e.length > 0 ? (Dn(e, e.length, 0, t), e) : t
}
const lh = {}.hasOwnProperty;

function Hg(e) {
    const t = {};
    let n = -1;
    for (; ++n < e.length;) Tw(t, e[n]);
    return t
}

function Tw(e, t) {
    let n;
    for (n in t) {
        const i = (lh.call(e, n) ? e[n] : void 0) || (e[n] = {}),
            s = t[n];
        let a;
        if (s)
            for (a in s) {
                lh.call(i, a) || (i[a] = []);
                const o = s[a];
                Iw(i[a], Array.isArray(o) ? o : o ? [o] : [])
            }
    }
}

function Iw(e, t) {
    let n = -1;
    const r = [];
    for (; ++n < t.length;)(t[n].add === "after" ? e : r).push(t[n]);
    Dn(e, 0, 0, r)
}

function Ug(e, t) {
    const n = Number.parseInt(e, t);
    return n < 9 || n === 11 || n > 13 && n < 32 || n > 126 && n < 160 || n > 55295 && n < 57344 || n > 64975 && n < 65008 || (n & 65535) === 65535 || (n & 65535) === 65534 || n > 1114111 ? "" : String.fromCodePoint(n)
}

function lr(e) {
    return e.replace(/[\t\n\r ]+/g, " ").replace(/^ | $/g, "").toLowerCase().toUpperCase()
}
const gn = Ci(/[A-Za-z]/),
    un = Ci(/[\dA-Za-z]/),
    jw = Ci(/[#-'*+\--9=?A-Z^-~]/);

function ul(e) {
    return e !== null && (e < 32 || e === 127)
}
const s0 = Ci(/\d/),
    Mw = Ci(/[\dA-Fa-f]/),
    Rw = Ci(/[!-/:-@[-`{-~]/);

function we(e) {
    return e !== null && e < -2
}

function dt(e) {
    return e !== null && (e < 0 || e === 32)
}

function qe(e) {
    return e === -2 || e === -1 || e === 32
}
const Zl = Ci(new RegExp("\\p{P}|\\p{S}", "u")),
    Vi = Ci(/\s/);

function Ci(e) {
    return t;

    function t(n) {
        return n !== null && n > -1 && e.test(String.fromCharCode(n))
    }
}

function Gs(e) {
    const t = [];
    let n = -1,
        r = 0,
        i = 0;
    for (; ++n < e.length;) {
        const s = e.charCodeAt(n);
        let a = "";
        if (s === 37 && un(e.charCodeAt(n + 1)) && un(e.charCodeAt(n + 2))) i = 2;
        else if (s < 128) /[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s)) || (a = String.fromCharCode(s));
        else if (s > 55295 && s < 57344) {
            const o = e.charCodeAt(n + 1);
            s < 56320 && o > 56319 && o < 57344 ? (a = String.fromCharCode(s, o), i = 1) : a = ""
        } else a = String.fromCharCode(s);
        a && (t.push(e.slice(r, n), encodeURIComponent(a)), r = n + i + 1, a = ""), i && (n += i, i = 0)
    }
    return t.join("") + e.slice(r)
}

function We(e, t, n, r) {
    const i = r ? r - 1 : Number.POSITIVE_INFINITY;
    let s = 0;
    return a;

    function a(c) {
        return qe(c) ? (e.enter(n), o(c)) : t(c)
    }

    function o(c) {
        return qe(c) && s++ < i ? (e.consume(c), o) : (e.exit(n), t(c))
    }
}
const Ow = {
    tokenize: Pw
};

function Pw(e) {
    const t = e.attempt(this.parser.constructs.contentInitial, r, i);
    let n;
    return t;

    function r(o) {
        if (o === null) {
            e.consume(o);
            return
        }
        return e.enter("lineEnding"), e.consume(o), e.exit("lineEnding"), We(e, t, "linePrefix")
    }

    function i(o) {
        return e.enter("paragraph"), s(o)
    }

    function s(o) {
        const c = e.enter("chunkText", {
            contentType: "text",
            previous: n
        });
        return n && (n.next = c), n = c, a(o)
    }

    function a(o) {
        if (o === null) {
            e.exit("chunkText"), e.exit("paragraph"), e.consume(o);
            return
        }
        return we(o) ? (e.consume(o), e.exit("chunkText"), s) : (e.consume(o), a)
    }
}
const Lw = {
        tokenize: Dw
    },
    ch = {
        tokenize: _w
    };

function Dw(e) {
    const t = this,
        n = [];
    let r = 0,
        i, s, a;
    return o;

    function o(C) {
        if (r < n.length) {
            const E = n[r];
            return t.containerState = E[1], e.attempt(E[0].continuation, c, u)(C)
        }
        return u(C)
    }

    function c(C) {
        if (r++, t.containerState._closeFlow) {
            t.containerState._closeFlow = void 0, i && w();
            const E = t.events.length;
            let A = E,
                N;
            for (; A--;)
                if (t.events[A][0] === "exit" && t.events[A][1].type === "chunkFlow") {
                    N = t.events[A][1].end;
                    break
                } b(r);
            let j = E;
            for (; j < t.events.length;) t.events[j][1].end = {
                ...N
            }, j++;
            return Dn(t.events, A + 1, 0, t.events.slice(E)), t.events.length = j, u(C)
        }
        return o(C)
    }

    function u(C) {
        if (r === n.length) {
            if (!i) return m(C);
            if (i.currentConstruct && i.currentConstruct.concrete) return g(C);
            t.interrupt = !!(i.currentConstruct && !i._gfmTableDynamicInterruptHack)
        }
        return t.containerState = {}, e.check(ch, d, f)(C)
    }

    function d(C) {
        return i && w(), b(r), m(C)
    }

    function f(C) {
        return t.parser.lazy[t.now().line] = r !== n.length, a = t.now().offset, g(C)
    }

    function m(C) {
        return t.containerState = {}, e.attempt(ch, p, g)(C)
    }

    function p(C) {
        return r++, n.push([t.currentConstruct, t.containerState]), m(C)
    }

    function g(C) {
        if (C === null) {
            i && w(), b(0), e.consume(C);
            return
        }
        return i = i || t.parser.flow(t.now()), e.enter("chunkFlow", {
            _tokenizer: i,
            contentType: "flow",
            previous: s
        }), x(C)
    }

    function x(C) {
        if (C === null) {
            y(e.exit("chunkFlow"), !0), b(0), e.consume(C);
            return
        }
        return we(C) ? (e.consume(C), y(e.exit("chunkFlow")), r = 0, t.interrupt = void 0, o) : (e.consume(C), x)
    }

    function y(C, E) {
        const A = t.sliceStream(C);
        if (E && A.push(null), C.previous = s, s && (s.next = C), s = C, i.defineSkip(C.start), i.write(A), t.parser.lazy[C.start.line]) {
            let N = i.events.length;
            for (; N--;)
                if (i.events[N][1].start.offset < a && (!i.events[N][1].end || i.events[N][1].end.offset > a)) return;
            const j = t.events.length;
            let z = j,
                H, R;
            for (; z--;)
                if (t.events[z][0] === "exit" && t.events[z][1].type === "chunkFlow") {
                    if (H) {
                        R = t.events[z][1].end;
                        break
                    }
                    H = !0
                } for (b(r), N = j; N < t.events.length;) t.events[N][1].end = {
                ...R
            }, N++;
            Dn(t.events, z + 1, 0, t.events.slice(j)), t.events.length = N
        }
    }

    function b(C) {
        let E = n.length;
        for (; E-- > C;) {
            const A = n[E];
            t.containerState = A[1], A[0].exit.call(t, e)
        }
        n.length = C
    }

    function w() {
        i.write([null]), s = void 0, i = void 0, t.containerState._closeFlow = void 0
    }
}

function _w(e, t, n) {
    return We(e, e.attempt(this.parser.constructs.document, t, n), "linePrefix", this.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)
}

function _s(e) {
    if (e === null || dt(e) || Vi(e)) return 1;
    if (Zl(e)) return 2
}

function Ql(e, t, n) {
    const r = [];
    let i = -1;
    for (; ++i < e.length;) {
        const s = e[i].resolveAll;
        s && !r.includes(s) && (t = s(t, n), r.push(s))
    }
    return t
}
const a0 = {
    name: "attention",
    resolveAll: Fw,
    tokenize: zw
};

function Fw(e, t) {
    let n = -1,
        r, i, s, a, o, c, u, d;
    for (; ++n < e.length;)
        if (e[n][0] === "enter" && e[n][1].type === "attentionSequence" && e[n][1]._close) {
            for (r = n; r--;)
                if (e[r][0] === "exit" && e[r][1].type === "attentionSequence" && e[r][1]._open && t.sliceSerialize(e[r][1]).charCodeAt(0) === t.sliceSerialize(e[n][1]).charCodeAt(0)) {
                    if ((e[r][1]._close || e[n][1]._open) && (e[n][1].end.offset - e[n][1].start.offset) % 3 && !((e[r][1].end.offset - e[r][1].start.offset + e[n][1].end.offset - e[n][1].start.offset) % 3)) continue;
                    c = e[r][1].end.offset - e[r][1].start.offset > 1 && e[n][1].end.offset - e[n][1].start.offset > 1 ? 2 : 1;
                    const f = {
                            ...e[r][1].end
                        },
                        m = {
                            ...e[n][1].start
                        };
                    uh(f, -c), uh(m, c), a = {
                        type: c > 1 ? "strongSequence" : "emphasisSequence",
                        start: f,
                        end: {
                            ...e[r][1].end
                        }
                    }, o = {
                        type: c > 1 ? "strongSequence" : "emphasisSequence",
                        start: {
                            ...e[n][1].start
                        },
                        end: m
                    }, s = {
                        type: c > 1 ? "strongText" : "emphasisText",
                        start: {
                            ...e[r][1].end
                        },
                        end: {
                            ...e[n][1].start
                        }
                    }, i = {
                        type: c > 1 ? "strong" : "emphasis",
                        start: {
                            ...a.start
                        },
                        end: {
                            ...o.end
                        }
                    }, e[r][1].end = {
                        ...a.start
                    }, e[n][1].start = {
                        ...o.end
                    }, u = [], e[r][1].end.offset - e[r][1].start.offset && (u = Wn(u, [
                        ["enter", e[r][1], t],
                        ["exit", e[r][1], t]
                    ])), u = Wn(u, [
                        ["enter", i, t],
                        ["enter", a, t],
                        ["exit", a, t],
                        ["enter", s, t]
                    ]), u = Wn(u, Ql(t.parser.constructs.insideSpan.null, e.slice(r + 1, n), t)), u = Wn(u, [
                        ["exit", s, t],
                        ["enter", o, t],
                        ["exit", o, t],
                        ["exit", i, t]
                    ]), e[n][1].end.offset - e[n][1].start.offset ? (d = 2, u = Wn(u, [
                        ["enter", e[n][1], t],
                        ["exit", e[n][1], t]
                    ])) : d = 0, Dn(e, r - 1, n - r + 3, u), n = r + u.length - d - 2;
                    break
                }
        } for (n = -1; ++n < e.length;) e[n][1].type === "attentionSequence" && (e[n][1].type = "data");
    return e
}

function zw(e, t) {
    const n = this.parser.constructs.attentionMarkers.null,
        r = this.previous,
        i = _s(r);
    let s;
    return a;

    function a(c) {
        return s = c, e.enter("attentionSequence"), o(c)
    }

    function o(c) {
        if (c === s) return e.consume(c), o;
        const u = e.exit("attentionSequence"),
            d = _s(c),
            f = !d || d === 2 && i || n.includes(c),
            m = !i || i === 2 && d || n.includes(r);
        return u._open = !!(s === 42 ? f : f && (i || !m)), u._close = !!(s === 42 ? m : m && (d || !f)), t(c)
    }
}

function uh(e, t) {
    e.column += t, e.offset += t, e._bufferIndex += t
}
const Bw = {
    name: "autolink",
    tokenize: $w
};

function $w(e, t, n) {
    let r = 0;
    return i;

    function i(p) {
        return e.enter("autolink"), e.enter("autolinkMarker"), e.consume(p), e.exit("autolinkMarker"), e.enter("autolinkProtocol"), s
    }

    function s(p) {
        return gn(p) ? (e.consume(p), a) : p === 64 ? n(p) : u(p)
    }

    function a(p) {
        return p === 43 || p === 45 || p === 46 || un(p) ? (r = 1, o(p)) : u(p)
    }

    function o(p) {
        return p === 58 ? (e.consume(p), r = 0, c) : (p === 43 || p === 45 || p === 46 || un(p)) && r++ < 32 ? (e.consume(p), o) : (r = 0, u(p))
    }

    function c(p) {
        return p === 62 ? (e.exit("autolinkProtocol"), e.enter("autolinkMarker"), e.consume(p), e.exit("autolinkMarker"), e.exit("autolink"), t) : p === null || p === 32 || p === 60 || ul(p) ? n(p) : (e.consume(p), c)
    }

    function u(p) {
        return p === 64 ? (e.consume(p), d) : jw(p) ? (e.consume(p), u) : n(p)
    }

    function d(p) {
        return un(p) ? f(p) : n(p)
    }

    function f(p) {
        return p === 46 ? (e.consume(p), r = 0, d) : p === 62 ? (e.exit("autolinkProtocol").type = "autolinkEmail", e.enter("autolinkMarker"), e.consume(p), e.exit("autolinkMarker"), e.exit("autolink"), t) : m(p)
    }

    function m(p) {
        if ((p === 45 || un(p)) && r++ < 63) {
            const g = p === 45 ? m : f;
            return e.consume(p), g
        }
        return n(p)
    }
}
const eo = {
    partial: !0,
    tokenize: Hw
};

function Hw(e, t, n) {
    return r;

    function r(s) {
        return qe(s) ? We(e, i, "linePrefix")(s) : i(s)
    }

    function i(s) {
        return s === null || we(s) ? t(s) : n(s)
    }
}
const Vg = {
    continuation: {
        tokenize: Vw
    },
    exit: Ww,
    name: "blockQuote",
    tokenize: Uw
};

function Uw(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        if (a === 62) {
            const o = r.containerState;
            return o.open || (e.enter("blockQuote", {
                _container: !0
            }), o.open = !0), e.enter("blockQuotePrefix"), e.enter("blockQuoteMarker"), e.consume(a), e.exit("blockQuoteMarker"), s
        }
        return n(a)
    }

    function s(a) {
        return qe(a) ? (e.enter("blockQuotePrefixWhitespace"), e.consume(a), e.exit("blockQuotePrefixWhitespace"), e.exit("blockQuotePrefix"), t) : (e.exit("blockQuotePrefix"), t(a))
    }
}

function Vw(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return qe(a) ? We(e, s, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(a) : s(a)
    }

    function s(a) {
        return e.attempt(Vg, t, n)(a)
    }
}

function Ww(e) {
    e.exit("blockQuote")
}
const Wg = {
    name: "characterEscape",
    tokenize: qw
};

function qw(e, t, n) {
    return r;

    function r(s) {
        return e.enter("characterEscape"), e.enter("escapeMarker"), e.consume(s), e.exit("escapeMarker"), i
    }

    function i(s) {
        return Rw(s) ? (e.enter("characterEscapeValue"), e.consume(s), e.exit("characterEscapeValue"), e.exit("characterEscape"), t) : n(s)
    }
}
const qg = {
    name: "characterReference",
    tokenize: Gw
};

function Gw(e, t, n) {
    const r = this;
    let i = 0,
        s, a;
    return o;

    function o(f) {
        return e.enter("characterReference"), e.enter("characterReferenceMarker"), e.consume(f), e.exit("characterReferenceMarker"), c
    }

    function c(f) {
        return f === 35 ? (e.enter("characterReferenceMarkerNumeric"), e.consume(f), e.exit("characterReferenceMarkerNumeric"), u) : (e.enter("characterReferenceValue"), s = 31, a = un, d(f))
    }

    function u(f) {
        return f === 88 || f === 120 ? (e.enter("characterReferenceMarkerHexadecimal"), e.consume(f), e.exit("characterReferenceMarkerHexadecimal"), e.enter("characterReferenceValue"), s = 6, a = Mw, d) : (e.enter("characterReferenceValue"), s = 7, a = s0, d(f))
    }

    function d(f) {
        if (f === 59 && i) {
            const m = e.exit("characterReferenceValue");
            return a === un && !Md(r.sliceSerialize(m)) ? n(f) : (e.enter("characterReferenceMarker"), e.consume(f), e.exit("characterReferenceMarker"), e.exit("characterReference"), t)
        }
        return a(f) && i++ < s ? (e.consume(f), d) : n(f)
    }
}
const dh = {
        partial: !0,
        tokenize: Kw
    },
    fh = {
        concrete: !0,
        name: "codeFenced",
        tokenize: Yw
    };

function Yw(e, t, n) {
    const r = this,
        i = {
            partial: !0,
            tokenize: A
        };
    let s = 0,
        a = 0,
        o;
    return c;

    function c(N) {
        return u(N)
    }

    function u(N) {
        const j = r.events[r.events.length - 1];
        return s = j && j[1].type === "linePrefix" ? j[2].sliceSerialize(j[1], !0).length : 0, o = N, e.enter("codeFenced"), e.enter("codeFencedFence"), e.enter("codeFencedFenceSequence"), d(N)
    }

    function d(N) {
        return N === o ? (a++, e.consume(N), d) : a < 3 ? n(N) : (e.exit("codeFencedFenceSequence"), qe(N) ? We(e, f, "whitespace")(N) : f(N))
    }

    function f(N) {
        return N === null || we(N) ? (e.exit("codeFencedFence"), r.interrupt ? t(N) : e.check(dh, x, E)(N)) : (e.enter("codeFencedFenceInfo"), e.enter("chunkString", {
            contentType: "string"
        }), m(N))
    }

    function m(N) {
        return N === null || we(N) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), f(N)) : qe(N) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), We(e, p, "whitespace")(N)) : N === 96 && N === o ? n(N) : (e.consume(N), m)
    }

    function p(N) {
        return N === null || we(N) ? f(N) : (e.enter("codeFencedFenceMeta"), e.enter("chunkString", {
            contentType: "string"
        }), g(N))
    }

    function g(N) {
        return N === null || we(N) ? (e.exit("chunkString"), e.exit("codeFencedFenceMeta"), f(N)) : N === 96 && N === o ? n(N) : (e.consume(N), g)
    }

    function x(N) {
        return e.attempt(i, E, y)(N)
    }

    function y(N) {
        return e.enter("lineEnding"), e.consume(N), e.exit("lineEnding"), b
    }

    function b(N) {
        return s > 0 && qe(N) ? We(e, w, "linePrefix", s + 1)(N) : w(N)
    }

    function w(N) {
        return N === null || we(N) ? e.check(dh, x, E)(N) : (e.enter("codeFlowValue"), C(N))
    }

    function C(N) {
        return N === null || we(N) ? (e.exit("codeFlowValue"), w(N)) : (e.consume(N), C)
    }

    function E(N) {
        return e.exit("codeFenced"), t(N)
    }

    function A(N, j, z) {
        let H = 0;
        return R;

        function R(G) {
            return N.enter("lineEnding"), N.consume(G), N.exit("lineEnding"), D
        }

        function D(G) {
            return N.enter("codeFencedFence"), qe(G) ? We(N, _, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(G) : _(G)
        }

        function _(G) {
            return G === o ? (N.enter("codeFencedFenceSequence"), O(G)) : z(G)
        }

        function O(G) {
            return G === o ? (H++, N.consume(G), O) : H >= a ? (N.exit("codeFencedFenceSequence"), qe(G) ? We(N, F, "whitespace")(G) : F(G)) : z(G)
        }

        function F(G) {
            return G === null || we(G) ? (N.exit("codeFencedFence"), j(G)) : z(G)
        }
    }
}

function Kw(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return a === null ? n(a) : (e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), s)
    }

    function s(a) {
        return r.parser.lazy[r.now().line] ? n(a) : t(a)
    }
}
const Oc = {
        name: "codeIndented",
        tokenize: Zw
    },
    Xw = {
        partial: !0,
        tokenize: Qw
    };

function Zw(e, t, n) {
    const r = this;
    return i;

    function i(u) {
        return e.enter("codeIndented"), We(e, s, "linePrefix", 5)(u)
    }

    function s(u) {
        const d = r.events[r.events.length - 1];
        return d && d[1].type === "linePrefix" && d[2].sliceSerialize(d[1], !0).length >= 4 ? a(u) : n(u)
    }

    function a(u) {
        return u === null ? c(u) : we(u) ? e.attempt(Xw, a, c)(u) : (e.enter("codeFlowValue"), o(u))
    }

    function o(u) {
        return u === null || we(u) ? (e.exit("codeFlowValue"), a(u)) : (e.consume(u), o)
    }

    function c(u) {
        return e.exit("codeIndented"), t(u)
    }
}

function Qw(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return r.parser.lazy[r.now().line] ? n(a) : we(a) ? (e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), i) : We(e, s, "linePrefix", 5)(a)
    }

    function s(a) {
        const o = r.events[r.events.length - 1];
        return o && o[1].type === "linePrefix" && o[2].sliceSerialize(o[1], !0).length >= 4 ? t(a) : we(a) ? i(a) : n(a)
    }
}
const Jw = {
    name: "codeText",
    previous: tS,
    resolve: eS,
    tokenize: nS
};

function eS(e) {
    let t = e.length - 4,
        n = 3,
        r, i;
    if ((e[n][1].type === "lineEnding" || e[n][1].type === "space") && (e[t][1].type === "lineEnding" || e[t][1].type === "space")) {
        for (r = n; ++r < t;)
            if (e[r][1].type === "codeTextData") {
                e[n][1].type = "codeTextPadding", e[t][1].type = "codeTextPadding", n += 2, t -= 2;
                break
            }
    }
    for (r = n - 1, t++; ++r <= t;) i === void 0 ? r !== t && e[r][1].type !== "lineEnding" && (i = r) : (r === t || e[r][1].type === "lineEnding") && (e[i][1].type = "codeTextData", r !== i + 2 && (e[i][1].end = e[r - 1][1].end, e.splice(i + 2, r - i - 2), t -= r - i - 2, r = i + 2), i = void 0);
    return e
}

function tS(e) {
    return e !== 96 || this.events[this.events.length - 1][1].type === "characterEscape"
}

function nS(e, t, n) {
    let r = 0,
        i, s;
    return a;

    function a(f) {
        return e.enter("codeText"), e.enter("codeTextSequence"), o(f)
    }

    function o(f) {
        return f === 96 ? (e.consume(f), r++, o) : (e.exit("codeTextSequence"), c(f))
    }

    function c(f) {
        return f === null ? n(f) : f === 32 ? (e.enter("space"), e.consume(f), e.exit("space"), c) : f === 96 ? (s = e.enter("codeTextSequence"), i = 0, d(f)) : we(f) ? (e.enter("lineEnding"), e.consume(f), e.exit("lineEnding"), c) : (e.enter("codeTextData"), u(f))
    }

    function u(f) {
        return f === null || f === 32 || f === 96 || we(f) ? (e.exit("codeTextData"), c(f)) : (e.consume(f), u)
    }

    function d(f) {
        return f === 96 ? (e.consume(f), i++, d) : i === r ? (e.exit("codeTextSequence"), e.exit("codeText"), t(f)) : (s.type = "codeTextData", u(f))
    }
}
class rS {
    constructor(t) {
        this.left = t ? [...t] : [], this.right = []
    }
    get(t) {
        if (t < 0 || t >= this.left.length + this.right.length) throw new RangeError("Cannot access index `" + t + "` in a splice buffer of size `" + (this.left.length + this.right.length) + "`");
        return t < this.left.length ? this.left[t] : this.right[this.right.length - t + this.left.length - 1]
    }
    get length() {
        return this.left.length + this.right.length
    }
    shift() {
        return this.setCursor(0), this.right.pop()
    }
    slice(t, n) {
        const r = n ?? Number.POSITIVE_INFINITY;
        return r < this.left.length ? this.left.slice(t, r) : t > this.left.length ? this.right.slice(this.right.length - r + this.left.length, this.right.length - t + this.left.length).reverse() : this.left.slice(t).concat(this.right.slice(this.right.length - r + this.left.length).reverse())
    }
    splice(t, n, r) {
        const i = n || 0;
        this.setCursor(Math.trunc(t));
        const s = this.right.splice(this.right.length - i, Number.POSITIVE_INFINITY);
        return r && da(this.left, r), s.reverse()
    }
    pop() {
        return this.setCursor(Number.POSITIVE_INFINITY), this.left.pop()
    }
    push(t) {
        this.setCursor(Number.POSITIVE_INFINITY), this.left.push(t)
    }
    pushMany(t) {
        this.setCursor(Number.POSITIVE_INFINITY), da(this.left, t)
    }
    unshift(t) {
        this.setCursor(0), this.right.push(t)
    }
    unshiftMany(t) {
        this.setCursor(0), da(this.right, t.reverse())
    }
    setCursor(t) {
        if (!(t === this.left.length || t > this.left.length && this.right.length === 0 || t < 0 && this.left.length === 0))
            if (t < this.left.length) {
                const n = this.left.splice(t, Number.POSITIVE_INFINITY);
                da(this.right, n.reverse())
            } else {
                const n = this.right.splice(this.left.length + this.right.length - t, Number.POSITIVE_INFINITY);
                da(this.left, n.reverse())
            }
    }
}

function da(e, t) {
    let n = 0;
    if (t.length < 1e4) e.push(...t);
    else
        for (; n < t.length;) e.push(...t.slice(n, n + 1e4)), n += 1e4
}

function Gg(e) {
    const t = {};
    let n = -1,
        r, i, s, a, o, c, u;
    const d = new rS(e);
    for (; ++n < d.length;) {
        for (; n in t;) n = t[n];
        if (r = d.get(n), n && r[1].type === "chunkFlow" && d.get(n - 1)[1].type === "listItemPrefix" && (c = r[1]._tokenizer.events, s = 0, s < c.length && c[s][1].type === "lineEndingBlank" && (s += 2), s < c.length && c[s][1].type === "content"))
            for (; ++s < c.length && c[s][1].type !== "content";) c[s][1].type === "chunkText" && (c[s][1]._isInFirstContentOfListItem = !0, s++);
        if (r[0] === "enter") r[1].contentType && (Object.assign(t, iS(d, n)), n = t[n], u = !0);
        else if (r[1]._container) {
            for (s = n, i = void 0; s--;)
                if (a = d.get(s), a[1].type === "lineEnding" || a[1].type === "lineEndingBlank") a[0] === "enter" && (i && (d.get(i)[1].type = "lineEndingBlank"), a[1].type = "lineEnding", i = s);
                else if (!(a[1].type === "linePrefix" || a[1].type === "listItemIndent")) break;
            i && (r[1].end = {
                ...d.get(i)[1].start
            }, o = d.slice(i, n), o.unshift(r), d.splice(i, n - i + 1, o))
        }
    }
    return Dn(e, 0, Number.POSITIVE_INFINITY, d.slice(0)), !u
}

function iS(e, t) {
    const n = e.get(t)[1],
        r = e.get(t)[2];
    let i = t - 1;
    const s = [];
    let a = n._tokenizer;
    a || (a = r.parser[n.contentType](n.start), n._contentTypeTextTrailing && (a._contentTypeTextTrailing = !0));
    const o = a.events,
        c = [],
        u = {};
    let d, f, m = -1,
        p = n,
        g = 0,
        x = 0;
    const y = [x];
    for (; p;) {
        for (; e.get(++i)[1] !== p;);
        s.push(i), p._tokenizer || (d = r.sliceStream(p), p.next || d.push(null), f && a.defineSkip(p.start), p._isInFirstContentOfListItem && (a._gfmTasklistFirstContentOfListItem = !0), a.write(d), p._isInFirstContentOfListItem && (a._gfmTasklistFirstContentOfListItem = void 0)), f = p, p = p.next
    }
    for (p = n; ++m < o.length;) o[m][0] === "exit" && o[m - 1][0] === "enter" && o[m][1].type === o[m - 1][1].type && o[m][1].start.line !== o[m][1].end.line && (x = m + 1, y.push(x), p._tokenizer = void 0, p.previous = void 0, p = p.next);
    for (a.events = [], p ? (p._tokenizer = void 0, p.previous = void 0) : y.pop(), m = y.length; m--;) {
        const b = o.slice(y[m], y[m + 1]),
            w = s.pop();
        c.push([w, w + b.length - 1]), e.splice(w, 2, b)
    }
    for (c.reverse(), m = -1; ++m < c.length;) u[g + c[m][0]] = g + c[m][1], g += c[m][1] - c[m][0] - 1;
    return u
}
const sS = {
        resolve: oS,
        tokenize: lS
    },
    aS = {
        partial: !0,
        tokenize: cS
    };

function oS(e) {
    return Gg(e), e
}

function lS(e, t) {
    let n;
    return r;

    function r(o) {
        return e.enter("content"), n = e.enter("chunkContent", {
            contentType: "content"
        }), i(o)
    }

    function i(o) {
        return o === null ? s(o) : we(o) ? e.check(aS, a, s)(o) : (e.consume(o), i)
    }

    function s(o) {
        return e.exit("chunkContent"), e.exit("content"), t(o)
    }

    function a(o) {
        return e.consume(o), e.exit("chunkContent"), n.next = e.enter("chunkContent", {
            contentType: "content",
            previous: n
        }), n = n.next, i
    }
}

function cS(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return e.exit("chunkContent"), e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), We(e, s, "linePrefix")
    }

    function s(a) {
        if (a === null || we(a)) return n(a);
        const o = r.events[r.events.length - 1];
        return !r.parser.constructs.disable.null.includes("codeIndented") && o && o[1].type === "linePrefix" && o[2].sliceSerialize(o[1], !0).length >= 4 ? t(a) : e.interrupt(r.parser.constructs.flow, n, t)(a)
    }
}

function Yg(e, t, n, r, i, s, a, o, c) {
    const u = c || Number.POSITIVE_INFINITY;
    let d = 0;
    return f;

    function f(b) {
        return b === 60 ? (e.enter(r), e.enter(i), e.enter(s), e.consume(b), e.exit(s), m) : b === null || b === 32 || b === 41 || ul(b) ? n(b) : (e.enter(r), e.enter(a), e.enter(o), e.enter("chunkString", {
            contentType: "string"
        }), x(b))
    }

    function m(b) {
        return b === 62 ? (e.enter(s), e.consume(b), e.exit(s), e.exit(i), e.exit(r), t) : (e.enter(o), e.enter("chunkString", {
            contentType: "string"
        }), p(b))
    }

    function p(b) {
        return b === 62 ? (e.exit("chunkString"), e.exit(o), m(b)) : b === null || b === 60 || we(b) ? n(b) : (e.consume(b), b === 92 ? g : p)
    }

    function g(b) {
        return b === 60 || b === 62 || b === 92 ? (e.consume(b), p) : p(b)
    }

    function x(b) {
        return !d && (b === null || b === 41 || dt(b)) ? (e.exit("chunkString"), e.exit(o), e.exit(a), e.exit(r), t(b)) : d < u && b === 40 ? (e.consume(b), d++, x) : b === 41 ? (e.consume(b), d--, x) : b === null || b === 32 || b === 40 || ul(b) ? n(b) : (e.consume(b), b === 92 ? y : x)
    }

    function y(b) {
        return b === 40 || b === 41 || b === 92 ? (e.consume(b), x) : x(b)
    }
}

function Kg(e, t, n, r, i, s) {
    const a = this;
    let o = 0,
        c;
    return u;

    function u(p) {
        return e.enter(r), e.enter(i), e.consume(p), e.exit(i), e.enter(s), d
    }

    function d(p) {
        return o > 999 || p === null || p === 91 || p === 93 && !c || p === 94 && !o && "_hiddenFootnoteSupport" in a.parser.constructs ? n(p) : p === 93 ? (e.exit(s), e.enter(i), e.consume(p), e.exit(i), e.exit(r), t) : we(p) ? (e.enter("lineEnding"), e.consume(p), e.exit("lineEnding"), d) : (e.enter("chunkString", {
            contentType: "string"
        }), f(p))
    }

    function f(p) {
        return p === null || p === 91 || p === 93 || we(p) || o++ > 999 ? (e.exit("chunkString"), d(p)) : (e.consume(p), c || (c = !qe(p)), p === 92 ? m : f)
    }

    function m(p) {
        return p === 91 || p === 92 || p === 93 ? (e.consume(p), o++, f) : f(p)
    }
}

function Xg(e, t, n, r, i, s) {
    let a;
    return o;

    function o(m) {
        return m === 34 || m === 39 || m === 40 ? (e.enter(r), e.enter(i), e.consume(m), e.exit(i), a = m === 40 ? 41 : m, c) : n(m)
    }

    function c(m) {
        return m === a ? (e.enter(i), e.consume(m), e.exit(i), e.exit(r), t) : (e.enter(s), u(m))
    }

    function u(m) {
        return m === a ? (e.exit(s), c(a)) : m === null ? n(m) : we(m) ? (e.enter("lineEnding"), e.consume(m), e.exit("lineEnding"), We(e, u, "linePrefix")) : (e.enter("chunkString", {
            contentType: "string"
        }), d(m))
    }

    function d(m) {
        return m === a || m === null || we(m) ? (e.exit("chunkString"), u(m)) : (e.consume(m), m === 92 ? f : d)
    }

    function f(m) {
        return m === a || m === 92 ? (e.consume(m), d) : d(m)
    }
}

function Ca(e, t) {
    let n;
    return r;

    function r(i) {
        return we(i) ? (e.enter("lineEnding"), e.consume(i), e.exit("lineEnding"), n = !0, r) : qe(i) ? We(e, r, n ? "linePrefix" : "lineSuffix")(i) : t(i)
    }
}
const uS = {
        name: "definition",
        tokenize: fS
    },
    dS = {
        partial: !0,
        tokenize: hS
    };

function fS(e, t, n) {
    const r = this;
    let i;
    return s;

    function s(p) {
        return e.enter("definition"), a(p)
    }

    function a(p) {
        return Kg.call(r, e, o, n, "definitionLabel", "definitionLabelMarker", "definitionLabelString")(p)
    }

    function o(p) {
        return i = lr(r.sliceSerialize(r.events[r.events.length - 1][1]).slice(1, -1)), p === 58 ? (e.enter("definitionMarker"), e.consume(p), e.exit("definitionMarker"), c) : n(p)
    }

    function c(p) {
        return dt(p) ? Ca(e, u)(p) : u(p)
    }

    function u(p) {
        return Yg(e, d, n, "definitionDestination", "definitionDestinationLiteral", "definitionDestinationLiteralMarker", "definitionDestinationRaw", "definitionDestinationString")(p)
    }

    function d(p) {
        return e.attempt(dS, f, f)(p)
    }

    function f(p) {
        return qe(p) ? We(e, m, "whitespace")(p) : m(p)
    }

    function m(p) {
        return p === null || we(p) ? (e.exit("definition"), r.parser.defined.push(i), t(p)) : n(p)
    }
}

function hS(e, t, n) {
    return r;

    function r(o) {
        return dt(o) ? Ca(e, i)(o) : n(o)
    }

    function i(o) {
        return Xg(e, s, n, "definitionTitle", "definitionTitleMarker", "definitionTitleString")(o)
    }

    function s(o) {
        return qe(o) ? We(e, a, "whitespace")(o) : a(o)
    }

    function a(o) {
        return o === null || we(o) ? t(o) : n(o)
    }
}
const pS = {
    name: "hardBreakEscape",
    tokenize: mS
};

function mS(e, t, n) {
    return r;

    function r(s) {
        return e.enter("hardBreakEscape"), e.consume(s), i
    }

    function i(s) {
        return we(s) ? (e.exit("hardBreakEscape"), t(s)) : n(s)
    }
}
const gS = {
    name: "headingAtx",
    resolve: xS,
    tokenize: vS
};

function xS(e, t) {
    let n = e.length - 2,
        r = 3,
        i, s;
    return e[r][1].type === "whitespace" && (r += 2), n - 2 > r && e[n][1].type === "whitespace" && (n -= 2), e[n][1].type === "atxHeadingSequence" && (r === n - 1 || n - 4 > r && e[n - 2][1].type === "whitespace") && (n -= r + 1 === n ? 2 : 4), n > r && (i = {
        type: "atxHeadingText",
        start: e[r][1].start,
        end: e[n][1].end
    }, s = {
        type: "chunkText",
        start: e[r][1].start,
        end: e[n][1].end,
        contentType: "text"
    }, Dn(e, r, n - r + 1, [
        ["enter", i, t],
        ["enter", s, t],
        ["exit", s, t],
        ["exit", i, t]
    ])), e
}

function vS(e, t, n) {
    let r = 0;
    return i;

    function i(d) {
        return e.enter("atxHeading"), s(d)
    }

    function s(d) {
        return e.enter("atxHeadingSequence"), a(d)
    }

    function a(d) {
        return d === 35 && r++ < 6 ? (e.consume(d), a) : d === null || dt(d) ? (e.exit("atxHeadingSequence"), o(d)) : n(d)
    }

    function o(d) {
        return d === 35 ? (e.enter("atxHeadingSequence"), c(d)) : d === null || we(d) ? (e.exit("atxHeading"), t(d)) : qe(d) ? We(e, o, "whitespace")(d) : (e.enter("atxHeadingText"), u(d))
    }

    function c(d) {
        return d === 35 ? (e.consume(d), c) : (e.exit("atxHeadingSequence"), o(d))
    }

    function u(d) {
        return d === null || d === 35 || dt(d) ? (e.exit("atxHeadingText"), o(d)) : (e.consume(d), u)
    }
}
const bS = ["address", "article", "aside", "base", "basefont", "blockquote", "body", "caption", "center", "col", "colgroup", "dd", "details", "dialog", "dir", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hr", "html", "iframe", "legend", "li", "link", "main", "menu", "menuitem", "nav", "noframes", "ol", "optgroup", "option", "p", "param", "search", "section", "summary", "table", "tbody", "td", "tfoot", "th", "thead", "title", "tr", "track", "ul"],
    hh = ["pre", "script", "style", "textarea"],
    yS = {
        concrete: !0,
        name: "htmlFlow",
        resolveTo: CS,
        tokenize: kS
    },
    wS = {
        partial: !0,
        tokenize: NS
    },
    SS = {
        partial: !0,
        tokenize: ES
    };

function CS(e) {
    let t = e.length;
    for (; t-- && !(e[t][0] === "enter" && e[t][1].type === "htmlFlow"););
    return t > 1 && e[t - 2][1].type === "linePrefix" && (e[t][1].start = e[t - 2][1].start, e[t + 1][1].start = e[t - 2][1].start, e.splice(t - 2, 2)), e
}

function kS(e, t, n) {
    const r = this;
    let i, s, a, o, c;
    return u;

    function u(M) {
        return d(M)
    }

    function d(M) {
        return e.enter("htmlFlow"), e.enter("htmlFlowData"), e.consume(M), f
    }

    function f(M) {
        return M === 33 ? (e.consume(M), m) : M === 47 ? (e.consume(M), s = !0, x) : M === 63 ? (e.consume(M), i = 3, r.interrupt ? t : I) : gn(M) ? (e.consume(M), a = String.fromCharCode(M), y) : n(M)
    }

    function m(M) {
        return M === 45 ? (e.consume(M), i = 2, p) : M === 91 ? (e.consume(M), i = 5, o = 0, g) : gn(M) ? (e.consume(M), i = 4, r.interrupt ? t : I) : n(M)
    }

    function p(M) {
        return M === 45 ? (e.consume(M), r.interrupt ? t : I) : n(M)
    }

    function g(M) {
        const ye = "CDATA[";
        return M === ye.charCodeAt(o++) ? (e.consume(M), o === ye.length ? r.interrupt ? t : _ : g) : n(M)
    }

    function x(M) {
        return gn(M) ? (e.consume(M), a = String.fromCharCode(M), y) : n(M)
    }

    function y(M) {
        if (M === null || M === 47 || M === 62 || dt(M)) {
            const ye = M === 47,
                Oe = a.toLowerCase();
            return !ye && !s && hh.includes(Oe) ? (i = 1, r.interrupt ? t(M) : _(M)) : bS.includes(a.toLowerCase()) ? (i = 6, ye ? (e.consume(M), b) : r.interrupt ? t(M) : _(M)) : (i = 7, r.interrupt && !r.parser.lazy[r.now().line] ? n(M) : s ? w(M) : C(M))
        }
        return M === 45 || un(M) ? (e.consume(M), a += String.fromCharCode(M), y) : n(M)
    }

    function b(M) {
        return M === 62 ? (e.consume(M), r.interrupt ? t : _) : n(M)
    }

    function w(M) {
        return qe(M) ? (e.consume(M), w) : R(M)
    }

    function C(M) {
        return M === 47 ? (e.consume(M), R) : M === 58 || M === 95 || gn(M) ? (e.consume(M), E) : qe(M) ? (e.consume(M), C) : R(M)
    }

    function E(M) {
        return M === 45 || M === 46 || M === 58 || M === 95 || un(M) ? (e.consume(M), E) : A(M)
    }

    function A(M) {
        return M === 61 ? (e.consume(M), N) : qe(M) ? (e.consume(M), A) : C(M)
    }

    function N(M) {
        return M === null || M === 60 || M === 61 || M === 62 || M === 96 ? n(M) : M === 34 || M === 39 ? (e.consume(M), c = M, j) : qe(M) ? (e.consume(M), N) : z(M)
    }

    function j(M) {
        return M === c ? (e.consume(M), c = null, H) : M === null || we(M) ? n(M) : (e.consume(M), j)
    }

    function z(M) {
        return M === null || M === 34 || M === 39 || M === 47 || M === 60 || M === 61 || M === 62 || M === 96 || dt(M) ? A(M) : (e.consume(M), z)
    }

    function H(M) {
        return M === 47 || M === 62 || qe(M) ? C(M) : n(M)
    }

    function R(M) {
        return M === 62 ? (e.consume(M), D) : n(M)
    }

    function D(M) {
        return M === null || we(M) ? _(M) : qe(M) ? (e.consume(M), D) : n(M)
    }

    function _(M) {
        return M === 45 && i === 2 ? (e.consume(M), Y) : M === 60 && i === 1 ? (e.consume(M), W) : M === 62 && i === 4 ? (e.consume(M), fe) : M === 63 && i === 3 ? (e.consume(M), I) : M === 93 && i === 5 ? (e.consume(M), U) : we(M) && (i === 6 || i === 7) ? (e.exit("htmlFlowData"), e.check(wS, re, O)(M)) : M === null || we(M) ? (e.exit("htmlFlowData"), O(M)) : (e.consume(M), _)
    }

    function O(M) {
        return e.check(SS, F, re)(M)
    }

    function F(M) {
        return e.enter("lineEnding"), e.consume(M), e.exit("lineEnding"), G
    }

    function G(M) {
        return M === null || we(M) ? O(M) : (e.enter("htmlFlowData"), _(M))
    }

    function Y(M) {
        return M === 45 ? (e.consume(M), I) : _(M)
    }

    function W(M) {
        return M === 47 ? (e.consume(M), a = "", B) : _(M)
    }

    function B(M) {
        if (M === 62) {
            const ye = a.toLowerCase();
            return hh.includes(ye) ? (e.consume(M), fe) : _(M)
        }
        return gn(M) && a.length < 8 ? (e.consume(M), a += String.fromCharCode(M), B) : _(M)
    }

    function U(M) {
        return M === 93 ? (e.consume(M), I) : _(M)
    }

    function I(M) {
        return M === 62 ? (e.consume(M), fe) : M === 45 && i === 2 ? (e.consume(M), I) : _(M)
    }

    function fe(M) {
        return M === null || we(M) ? (e.exit("htmlFlowData"), re(M)) : (e.consume(M), fe)
    }

    function re(M) {
        return e.exit("htmlFlow"), t(M)
    }
}

function ES(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return we(a) ? (e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), s) : n(a)
    }

    function s(a) {
        return r.parser.lazy[r.now().line] ? n(a) : t(a)
    }
}

function NS(e, t, n) {
    return r;

    function r(i) {
        return e.enter("lineEnding"), e.consume(i), e.exit("lineEnding"), e.attempt(eo, t, n)
    }
}
const AS = {
    name: "htmlText",
    tokenize: TS
};

function TS(e, t, n) {
    const r = this;
    let i, s, a;
    return o;

    function o(I) {
        return e.enter("htmlText"), e.enter("htmlTextData"), e.consume(I), c
    }

    function c(I) {
        return I === 33 ? (e.consume(I), u) : I === 47 ? (e.consume(I), A) : I === 63 ? (e.consume(I), C) : gn(I) ? (e.consume(I), z) : n(I)
    }

    function u(I) {
        return I === 45 ? (e.consume(I), d) : I === 91 ? (e.consume(I), s = 0, g) : gn(I) ? (e.consume(I), w) : n(I)
    }

    function d(I) {
        return I === 45 ? (e.consume(I), p) : n(I)
    }

    function f(I) {
        return I === null ? n(I) : I === 45 ? (e.consume(I), m) : we(I) ? (a = f, W(I)) : (e.consume(I), f)
    }

    function m(I) {
        return I === 45 ? (e.consume(I), p) : f(I)
    }

    function p(I) {
        return I === 62 ? Y(I) : I === 45 ? m(I) : f(I)
    }

    function g(I) {
        const fe = "CDATA[";
        return I === fe.charCodeAt(s++) ? (e.consume(I), s === fe.length ? x : g) : n(I)
    }

    function x(I) {
        return I === null ? n(I) : I === 93 ? (e.consume(I), y) : we(I) ? (a = x, W(I)) : (e.consume(I), x)
    }

    function y(I) {
        return I === 93 ? (e.consume(I), b) : x(I)
    }

    function b(I) {
        return I === 62 ? Y(I) : I === 93 ? (e.consume(I), b) : x(I)
    }

    function w(I) {
        return I === null || I === 62 ? Y(I) : we(I) ? (a = w, W(I)) : (e.consume(I), w)
    }

    function C(I) {
        return I === null ? n(I) : I === 63 ? (e.consume(I), E) : we(I) ? (a = C, W(I)) : (e.consume(I), C)
    }

    function E(I) {
        return I === 62 ? Y(I) : C(I)
    }

    function A(I) {
        return gn(I) ? (e.consume(I), N) : n(I)
    }

    function N(I) {
        return I === 45 || un(I) ? (e.consume(I), N) : j(I)
    }

    function j(I) {
        return we(I) ? (a = j, W(I)) : qe(I) ? (e.consume(I), j) : Y(I)
    }

    function z(I) {
        return I === 45 || un(I) ? (e.consume(I), z) : I === 47 || I === 62 || dt(I) ? H(I) : n(I)
    }

    function H(I) {
        return I === 47 ? (e.consume(I), Y) : I === 58 || I === 95 || gn(I) ? (e.consume(I), R) : we(I) ? (a = H, W(I)) : qe(I) ? (e.consume(I), H) : Y(I)
    }

    function R(I) {
        return I === 45 || I === 46 || I === 58 || I === 95 || un(I) ? (e.consume(I), R) : D(I)
    }

    function D(I) {
        return I === 61 ? (e.consume(I), _) : we(I) ? (a = D, W(I)) : qe(I) ? (e.consume(I), D) : H(I)
    }

    function _(I) {
        return I === null || I === 60 || I === 61 || I === 62 || I === 96 ? n(I) : I === 34 || I === 39 ? (e.consume(I), i = I, O) : we(I) ? (a = _, W(I)) : qe(I) ? (e.consume(I), _) : (e.consume(I), F)
    }

    function O(I) {
        return I === i ? (e.consume(I), i = void 0, G) : I === null ? n(I) : we(I) ? (a = O, W(I)) : (e.consume(I), O)
    }

    function F(I) {
        return I === null || I === 34 || I === 39 || I === 60 || I === 61 || I === 96 ? n(I) : I === 47 || I === 62 || dt(I) ? H(I) : (e.consume(I), F)
    }

    function G(I) {
        return I === 47 || I === 62 || dt(I) ? H(I) : n(I)
    }

    function Y(I) {
        return I === 62 ? (e.consume(I), e.exit("htmlTextData"), e.exit("htmlText"), t) : n(I)
    }

    function W(I) {
        return e.exit("htmlTextData"), e.enter("lineEnding"), e.consume(I), e.exit("lineEnding"), B
    }

    function B(I) {
        return qe(I) ? We(e, U, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(I) : U(I)
    }

    function U(I) {
        return e.enter("htmlTextData"), a(I)
    }
}
const Rd = {
        name: "labelEnd",
        resolveAll: RS,
        resolveTo: OS,
        tokenize: PS
    },
    IS = {
        tokenize: LS
    },
    jS = {
        tokenize: DS
    },
    MS = {
        tokenize: _S
    };

function RS(e) {
    let t = -1;
    const n = [];
    for (; ++t < e.length;) {
        const r = e[t][1];
        if (n.push(e[t]), r.type === "labelImage" || r.type === "labelLink" || r.type === "labelEnd") {
            const i = r.type === "labelImage" ? 4 : 2;
            r.type = "data", t += i
        }
    }
    return e.length !== n.length && Dn(e, 0, e.length, n), e
}

function OS(e, t) {
    let n = e.length,
        r = 0,
        i, s, a, o;
    for (; n--;)
        if (i = e[n][1], s) {
            if (i.type === "link" || i.type === "labelLink" && i._inactive) break;
            e[n][0] === "enter" && i.type === "labelLink" && (i._inactive = !0)
        } else if (a) {
        if (e[n][0] === "enter" && (i.type === "labelImage" || i.type === "labelLink") && !i._balanced && (s = n, i.type !== "labelLink")) {
            r = 2;
            break
        }
    } else i.type === "labelEnd" && (a = n);
    const c = {
            type: e[s][1].type === "labelLink" ? "link" : "image",
            start: {
                ...e[s][1].start
            },
            end: {
                ...e[e.length - 1][1].end
            }
        },
        u = {
            type: "label",
            start: {
                ...e[s][1].start
            },
            end: {
                ...e[a][1].end
            }
        },
        d = {
            type: "labelText",
            start: {
                ...e[s + r + 2][1].end
            },
            end: {
                ...e[a - 2][1].start
            }
        };
    return o = [
        ["enter", c, t],
        ["enter", u, t]
    ], o = Wn(o, e.slice(s + 1, s + r + 3)), o = Wn(o, [
        ["enter", d, t]
    ]), o = Wn(o, Ql(t.parser.constructs.insideSpan.null, e.slice(s + r + 4, a - 3), t)), o = Wn(o, [
        ["exit", d, t], e[a - 2], e[a - 1],
        ["exit", u, t]
    ]), o = Wn(o, e.slice(a + 1)), o = Wn(o, [
        ["exit", c, t]
    ]), Dn(e, s, e.length, o), e
}

function PS(e, t, n) {
    const r = this;
    let i = r.events.length,
        s, a;
    for (; i--;)
        if ((r.events[i][1].type === "labelImage" || r.events[i][1].type === "labelLink") && !r.events[i][1]._balanced) {
            s = r.events[i][1];
            break
        } return o;

    function o(m) {
        return s ? s._inactive ? f(m) : (a = r.parser.defined.includes(lr(r.sliceSerialize({
            start: s.end,
            end: r.now()
        }))), e.enter("labelEnd"), e.enter("labelMarker"), e.consume(m), e.exit("labelMarker"), e.exit("labelEnd"), c) : n(m)
    }

    function c(m) {
        return m === 40 ? e.attempt(IS, d, a ? d : f)(m) : m === 91 ? e.attempt(jS, d, a ? u : f)(m) : a ? d(m) : f(m)
    }

    function u(m) {
        return e.attempt(MS, d, f)(m)
    }

    function d(m) {
        return t(m)
    }

    function f(m) {
        return s._balanced = !0, n(m)
    }
}

function LS(e, t, n) {
    return r;

    function r(f) {
        return e.enter("resource"), e.enter("resourceMarker"), e.consume(f), e.exit("resourceMarker"), i
    }

    function i(f) {
        return dt(f) ? Ca(e, s)(f) : s(f)
    }

    function s(f) {
        return f === 41 ? d(f) : Yg(e, a, o, "resourceDestination", "resourceDestinationLiteral", "resourceDestinationLiteralMarker", "resourceDestinationRaw", "resourceDestinationString", 32)(f)
    }

    function a(f) {
        return dt(f) ? Ca(e, c)(f) : d(f)
    }

    function o(f) {
        return n(f)
    }

    function c(f) {
        return f === 34 || f === 39 || f === 40 ? Xg(e, u, n, "resourceTitle", "resourceTitleMarker", "resourceTitleString")(f) : d(f)
    }

    function u(f) {
        return dt(f) ? Ca(e, d)(f) : d(f)
    }

    function d(f) {
        return f === 41 ? (e.enter("resourceMarker"), e.consume(f), e.exit("resourceMarker"), e.exit("resource"), t) : n(f)
    }
}

function DS(e, t, n) {
    const r = this;
    return i;

    function i(o) {
        return Kg.call(r, e, s, a, "reference", "referenceMarker", "referenceString")(o)
    }

    function s(o) {
        return r.parser.defined.includes(lr(r.sliceSerialize(r.events[r.events.length - 1][1]).slice(1, -1))) ? t(o) : n(o)
    }

    function a(o) {
        return n(o)
    }
}

function _S(e, t, n) {
    return r;

    function r(s) {
        return e.enter("reference"), e.enter("referenceMarker"), e.consume(s), e.exit("referenceMarker"), i
    }

    function i(s) {
        return s === 93 ? (e.enter("referenceMarker"), e.consume(s), e.exit("referenceMarker"), e.exit("reference"), t) : n(s)
    }
}
const FS = {
    name: "labelStartImage",
    resolveAll: Rd.resolveAll,
    tokenize: zS
};

function zS(e, t, n) {
    const r = this;
    return i;

    function i(o) {
        return e.enter("labelImage"), e.enter("labelImageMarker"), e.consume(o), e.exit("labelImageMarker"), s
    }

    function s(o) {
        return o === 91 ? (e.enter("labelMarker"), e.consume(o), e.exit("labelMarker"), e.exit("labelImage"), a) : n(o)
    }

    function a(o) {
        return o === 94 && "_hiddenFootnoteSupport" in r.parser.constructs ? n(o) : t(o)
    }
}
const BS = {
    name: "labelStartLink",
    resolveAll: Rd.resolveAll,
    tokenize: $S
};

function $S(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return e.enter("labelLink"), e.enter("labelMarker"), e.consume(a), e.exit("labelMarker"), e.exit("labelLink"), s
    }

    function s(a) {
        return a === 94 && "_hiddenFootnoteSupport" in r.parser.constructs ? n(a) : t(a)
    }
}
const Pc = {
    name: "lineEnding",
    tokenize: HS
};

function HS(e, t) {
    return n;

    function n(r) {
        return e.enter("lineEnding"), e.consume(r), e.exit("lineEnding"), We(e, t, "linePrefix")
    }
}
const qo = {
    name: "thematicBreak",
    tokenize: US
};

function US(e, t, n) {
    let r = 0,
        i;
    return s;

    function s(u) {
        return e.enter("thematicBreak"), a(u)
    }

    function a(u) {
        return i = u, o(u)
    }

    function o(u) {
        return u === i ? (e.enter("thematicBreakSequence"), c(u)) : r >= 3 && (u === null || we(u)) ? (e.exit("thematicBreak"), t(u)) : n(u)
    }

    function c(u) {
        return u === i ? (e.consume(u), r++, c) : (e.exit("thematicBreakSequence"), qe(u) ? We(e, o, "whitespace")(u) : o(u))
    }
}
const Cn = {
        continuation: {
            tokenize: GS
        },
        exit: KS,
        name: "list",
        tokenize: qS
    },
    VS = {
        partial: !0,
        tokenize: XS
    },
    WS = {
        partial: !0,
        tokenize: YS
    };

function qS(e, t, n) {
    const r = this,
        i = r.events[r.events.length - 1];
    let s = i && i[1].type === "linePrefix" ? i[2].sliceSerialize(i[1], !0).length : 0,
        a = 0;
    return o;

    function o(p) {
        const g = r.containerState.type || (p === 42 || p === 43 || p === 45 ? "listUnordered" : "listOrdered");
        if (g === "listUnordered" ? !r.containerState.marker || p === r.containerState.marker : s0(p)) {
            if (r.containerState.type || (r.containerState.type = g, e.enter(g, {
                    _container: !0
                })), g === "listUnordered") return e.enter("listItemPrefix"), p === 42 || p === 45 ? e.check(qo, n, u)(p) : u(p);
            if (!r.interrupt || p === 49) return e.enter("listItemPrefix"), e.enter("listItemValue"), c(p)
        }
        return n(p)
    }

    function c(p) {
        return s0(p) && ++a < 10 ? (e.consume(p), c) : (!r.interrupt || a < 2) && (r.containerState.marker ? p === r.containerState.marker : p === 41 || p === 46) ? (e.exit("listItemValue"), u(p)) : n(p)
    }

    function u(p) {
        return e.enter("listItemMarker"), e.consume(p), e.exit("listItemMarker"), r.containerState.marker = r.containerState.marker || p, e.check(eo, r.interrupt ? n : d, e.attempt(VS, m, f))
    }

    function d(p) {
        return r.containerState.initialBlankLine = !0, s++, m(p)
    }

    function f(p) {
        return qe(p) ? (e.enter("listItemPrefixWhitespace"), e.consume(p), e.exit("listItemPrefixWhitespace"), m) : n(p)
    }

    function m(p) {
        return r.containerState.size = s + r.sliceSerialize(e.exit("listItemPrefix"), !0).length, t(p)
    }
}

function GS(e, t, n) {
    const r = this;
    return r.containerState._closeFlow = void 0, e.check(eo, i, s);

    function i(o) {
        return r.containerState.furtherBlankLines = r.containerState.furtherBlankLines || r.containerState.initialBlankLine, We(e, t, "listItemIndent", r.containerState.size + 1)(o)
    }

    function s(o) {
        return r.containerState.furtherBlankLines || !qe(o) ? (r.containerState.furtherBlankLines = void 0, r.containerState.initialBlankLine = void 0, a(o)) : (r.containerState.furtherBlankLines = void 0, r.containerState.initialBlankLine = void 0, e.attempt(WS, t, a)(o))
    }

    function a(o) {
        return r.containerState._closeFlow = !0, r.interrupt = void 0, We(e, e.attempt(Cn, t, n), "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(o)
    }
}

function YS(e, t, n) {
    const r = this;
    return We(e, i, "listItemIndent", r.containerState.size + 1);

    function i(s) {
        const a = r.events[r.events.length - 1];
        return a && a[1].type === "listItemIndent" && a[2].sliceSerialize(a[1], !0).length === r.containerState.size ? t(s) : n(s)
    }
}

function KS(e) {
    e.exit(this.containerState.type)
}

function XS(e, t, n) {
    const r = this;
    return We(e, i, "listItemPrefixWhitespace", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 5);

    function i(s) {
        const a = r.events[r.events.length - 1];
        return !qe(s) && a && a[1].type === "listItemPrefixWhitespace" ? t(s) : n(s)
    }
}
const ph = {
    name: "setextUnderline",
    resolveTo: ZS,
    tokenize: QS
};

function ZS(e, t) {
    let n = e.length,
        r, i, s;
    for (; n--;)
        if (e[n][0] === "enter") {
            if (e[n][1].type === "content") {
                r = n;
                break
            }
            e[n][1].type === "paragraph" && (i = n)
        } else e[n][1].type === "content" && e.splice(n, 1), !s && e[n][1].type === "definition" && (s = n);
    const a = {
        type: "setextHeading",
        start: {
            ...e[r][1].start
        },
        end: {
            ...e[e.length - 1][1].end
        }
    };
    return e[i][1].type = "setextHeadingText", s ? (e.splice(i, 0, ["enter", a, t]), e.splice(s + 1, 0, ["exit", e[r][1], t]), e[r][1].end = {
        ...e[s][1].end
    }) : e[r][1] = a, e.push(["exit", a, t]), e
}

function QS(e, t, n) {
    const r = this;
    let i;
    return s;

    function s(u) {
        let d = r.events.length,
            f;
        for (; d--;)
            if (r.events[d][1].type !== "lineEnding" && r.events[d][1].type !== "linePrefix" && r.events[d][1].type !== "content") {
                f = r.events[d][1].type === "paragraph";
                break
            } return !r.parser.lazy[r.now().line] && (r.interrupt || f) ? (e.enter("setextHeadingLine"), i = u, a(u)) : n(u)
    }

    function a(u) {
        return e.enter("setextHeadingLineSequence"), o(u)
    }

    function o(u) {
        return u === i ? (e.consume(u), o) : (e.exit("setextHeadingLineSequence"), qe(u) ? We(e, c, "lineSuffix")(u) : c(u))
    }

    function c(u) {
        return u === null || we(u) ? (e.exit("setextHeadingLine"), t(u)) : n(u)
    }
}
const JS = {
    tokenize: eC
};

function eC(e) {
    const t = this,
        n = e.attempt(eo, r, e.attempt(this.parser.constructs.flowInitial, i, We(e, e.attempt(this.parser.constructs.flow, i, e.attempt(sS, i)), "linePrefix")));
    return n;

    function r(s) {
        if (s === null) {
            e.consume(s);
            return
        }
        return e.enter("lineEndingBlank"), e.consume(s), e.exit("lineEndingBlank"), t.currentConstruct = void 0, n
    }

    function i(s) {
        if (s === null) {
            e.consume(s);
            return
        }
        return e.enter("lineEnding"), e.consume(s), e.exit("lineEnding"), t.currentConstruct = void 0, n
    }
}
const tC = {
        resolveAll: Qg()
    },
    nC = Zg("string"),
    rC = Zg("text");

function Zg(e) {
    return {
        resolveAll: Qg(e === "text" ? iC : void 0),
        tokenize: t
    };

    function t(n) {
        const r = this,
            i = this.parser.constructs[e],
            s = n.attempt(i, a, o);
        return a;

        function a(d) {
            return u(d) ? s(d) : o(d)
        }

        function o(d) {
            if (d === null) {
                n.consume(d);
                return
            }
            return n.enter("data"), n.consume(d), c
        }

        function c(d) {
            return u(d) ? (n.exit("data"), s(d)) : (n.consume(d), c)
        }

        function u(d) {
            if (d === null) return !0;
            const f = i[d];
            let m = -1;
            if (f)
                for (; ++m < f.length;) {
                    const p = f[m];
                    if (!p.previous || p.previous.call(r, r.previous)) return !0
                }
            return !1
        }
    }
}

function Qg(e) {
    return t;

    function t(n, r) {
        let i = -1,
            s;
        for (; ++i <= n.length;) s === void 0 ? n[i] && n[i][1].type === "data" && (s = i, i++) : (!n[i] || n[i][1].type !== "data") && (i !== s + 2 && (n[s][1].end = n[i - 1][1].end, n.splice(s + 2, i - s - 2), i = s + 2), s = void 0);
        return e ? e(n, r) : n
    }
}

function iC(e, t) {
    let n = 0;
    for (; ++n <= e.length;)
        if ((n === e.length || e[n][1].type === "lineEnding") && e[n - 1][1].type === "data") {
            const r = e[n - 1][1],
                i = t.sliceStream(r);
            let s = i.length,
                a = -1,
                o = 0,
                c;
            for (; s--;) {
                const u = i[s];
                if (typeof u == "string") {
                    for (a = u.length; u.charCodeAt(a - 1) === 32;) o++, a--;
                    if (a) break;
                    a = -1
                } else if (u === -2) c = !0, o++;
                else if (u !== -1) {
                    s++;
                    break
                }
            }
            if (t._contentTypeTextTrailing && n === e.length && (o = 0), o) {
                const u = {
                    type: n === e.length || c || o < 2 ? "lineSuffix" : "hardBreakTrailing",
                    start: {
                        _bufferIndex: s ? a : r.start._bufferIndex + a,
                        _index: r.start._index + s,
                        line: r.end.line,
                        column: r.end.column - o,
                        offset: r.end.offset - o
                    },
                    end: {
                        ...r.end
                    }
                };
                r.end = {
                    ...u.start
                }, r.start.offset === r.end.offset ? Object.assign(r, u) : (e.splice(n, 0, ["enter", u, t], ["exit", u, t]), n += 2)
            }
            n++
        } return e
}
const sC = {
        42: Cn,
        43: Cn,
        45: Cn,
        48: Cn,
        49: Cn,
        50: Cn,
        51: Cn,
        52: Cn,
        53: Cn,
        54: Cn,
        55: Cn,
        56: Cn,
        57: Cn,
        62: Vg
    },
    aC = {
        91: uS
    },
    oC = {
        [-2]: Oc,
        [-1]: Oc,
        32: Oc
    },
    lC = {
        35: gS,
        42: qo,
        45: [ph, qo],
        60: yS,
        61: ph,
        95: qo,
        96: fh,
        126: fh
    },
    cC = {
        38: qg,
        92: Wg
    },
    uC = {
        [-5]: Pc,
        [-4]: Pc,
        [-3]: Pc,
        33: FS,
        38: qg,
        42: a0,
        60: [Bw, AS],
        91: BS,
        92: [pS, Wg],
        93: Rd,
        95: a0,
        96: Jw
    },
    dC = {
        null: [a0, tC]
    },
    fC = {
        null: [42, 95]
    },
    hC = {
        null: []
    },
    pC = Object.freeze(Object.defineProperty({
        __proto__: null,
        attentionMarkers: fC,
        contentInitial: aC,
        disable: hC,
        document: sC,
        flow: lC,
        flowInitial: oC,
        insideSpan: dC,
        string: cC,
        text: uC
    }, Symbol.toStringTag, {
        value: "Module"
    }));

function mC(e, t, n) {
    let r = {
        _bufferIndex: -1,
        _index: 0,
        line: n && n.line || 1,
        column: n && n.column || 1,
        offset: n && n.offset || 0
    };
    const i = {},
        s = [];
    let a = [],
        o = [];
    const c = {
            attempt: j(A),
            check: j(N),
            consume: w,
            enter: C,
            exit: E,
            interrupt: j(N, {
                interrupt: !0
            })
        },
        u = {
            code: null,
            containerState: {},
            defineSkip: x,
            events: [],
            now: g,
            parser: e,
            previous: null,
            sliceSerialize: m,
            sliceStream: p,
            write: f
        };
    let d = t.tokenize.call(u, c);
    return t.resolveAll && s.push(t), u;

    function f(D) {
        return a = Wn(a, D), y(), a[a.length - 1] !== null ? [] : (z(t, 0), u.events = Ql(s, u.events, u), u.events)
    }

    function m(D, _) {
        return xC(p(D), _)
    }

    function p(D) {
        return gC(a, D)
    }

    function g() {
        const {
            _bufferIndex: D,
            _index: _,
            line: O,
            column: F,
            offset: G
        } = r;
        return {
            _bufferIndex: D,
            _index: _,
            line: O,
            column: F,
            offset: G
        }
    }

    function x(D) {
        i[D.line] = D.column, R()
    }

    function y() {
        let D;
        for (; r._index < a.length;) {
            const _ = a[r._index];
            if (typeof _ == "string")
                for (D = r._index, r._bufferIndex < 0 && (r._bufferIndex = 0); r._index === D && r._bufferIndex < _.length;) b(_.charCodeAt(r._bufferIndex));
            else b(_)
        }
    }

    function b(D) {
        d = d(D)
    }

    function w(D) {
        we(D) ? (r.line++, r.column = 1, r.offset += D === -3 ? 2 : 1, R()) : D !== -1 && (r.column++, r.offset++), r._bufferIndex < 0 ? r._index++ : (r._bufferIndex++, r._bufferIndex === a[r._index].length && (r._bufferIndex = -1, r._index++)), u.previous = D
    }

    function C(D, _) {
        const O = _ || {};
        return O.type = D, O.start = g(), u.events.push(["enter", O, u]), o.push(O), O
    }

    function E(D) {
        const _ = o.pop();
        return _.end = g(), u.events.push(["exit", _, u]), _
    }

    function A(D, _) {
        z(D, _.from)
    }

    function N(D, _) {
        _.restore()
    }

    function j(D, _) {
        return O;

        function O(F, G, Y) {
            let W, B, U, I;
            return Array.isArray(F) ? re(F) : "tokenize" in F ? re([F]) : fe(F);

            function fe(K) {
                return J;

                function J(pe) {
                    const de = pe !== null && K[pe],
                        ce = pe !== null && K.null,
                        ae = [...Array.isArray(de) ? de : de ? [de] : [], ...Array.isArray(ce) ? ce : ce ? [ce] : []];
                    return re(ae)(pe)
                }
            }

            function re(K) {
                return W = K, B = 0, K.length === 0 ? Y : M(K[B])
            }

            function M(K) {
                return J;

                function J(pe) {
                    return I = H(), U = K, K.partial || (u.currentConstruct = K), K.name && u.parser.constructs.disable.null.includes(K.name) ? Oe() : K.tokenize.call(_ ? Object.assign(Object.create(u), _) : u, c, ye, Oe)(pe)
                }
            }

            function ye(K) {
                return D(U, I), G
            }

            function Oe(K) {
                return I.restore(), ++B < W.length ? M(W[B]) : Y
            }
        }
    }

    function z(D, _) {
        D.resolveAll && !s.includes(D) && s.push(D), D.resolve && Dn(u.events, _, u.events.length - _, D.resolve(u.events.slice(_), u)), D.resolveTo && (u.events = D.resolveTo(u.events, u))
    }

    function H() {
        const D = g(),
            _ = u.previous,
            O = u.currentConstruct,
            F = u.events.length,
            G = Array.from(o);
        return {
            from: F,
            restore: Y
        };

        function Y() {
            r = D, u.previous = _, u.currentConstruct = O, u.events.length = F, o = G, R()
        }
    }

    function R() {
        r.line in i && r.column < 2 && (r.column = i[r.line], r.offset += i[r.line] - 1)
    }
}

function gC(e, t) {
    const n = t.start._index,
        r = t.start._bufferIndex,
        i = t.end._index,
        s = t.end._bufferIndex;
    let a;
    if (n === i) a = [e[n].slice(r, s)];
    else {
        if (a = e.slice(n, i), r > -1) {
            const o = a[0];
            typeof o == "string" ? a[0] = o.slice(r) : a.shift()
        }
        s > 0 && a.push(e[i].slice(0, s))
    }
    return a
}

function xC(e, t) {
    let n = -1;
    const r = [];
    let i;
    for (; ++n < e.length;) {
        const s = e[n];
        let a;
        if (typeof s == "string") a = s;
        else switch (s) {
            case -5: {
                a = "\r";
                break
            }
            case -4: {
                a = `
`;
                break
            }
            case -3: {
                a = `\r
`;
                break
            }
            case -2: {
                a = t ? " " : "	";
                break
            }
            case -1: {
                if (!t && i) continue;
                a = " ";
                break
            }
            default:
                a = String.fromCharCode(s)
        }
        i = s === -2, r.push(a)
    }
    return r.join("")
}

function vC(e) {
    const r = {
        constructs: Hg([pC, ...(e || {}).extensions || []]),
        content: i(Ow),
        defined: [],
        document: i(Lw),
        flow: i(JS),
        lazy: {},
        string: i(nC),
        text: i(rC)
    };
    return r;

    function i(s) {
        return a;

        function a(o) {
            return mC(r, s, o)
        }
    }
}

function bC(e) {
    for (; !Gg(e););
    return e
}
const mh = /[\0\t\n\r]/g;

function yC() {
    let e = 1,
        t = "",
        n = !0,
        r;
    return i;

    function i(s, a, o) {
        const c = [];
        let u, d, f, m, p;
        for (s = t + (typeof s == "string" ? s.toString() : new TextDecoder(a || void 0).decode(s)), f = 0, t = "", n && (s.charCodeAt(0) === 65279 && f++, n = void 0); f < s.length;) {
            if (mh.lastIndex = f, u = mh.exec(s), m = u && u.index !== void 0 ? u.index : s.length, p = s.charCodeAt(m), !u) {
                t = s.slice(f);
                break
            }
            if (p === 10 && f === m && r) c.push(-3), r = void 0;
            else switch (r && (c.push(-5), r = void 0), f < m && (c.push(s.slice(f, m)), e += m - f), p) {
                case 0: {
                    c.push(65533), e++;
                    break
                }
                case 9: {
                    for (d = Math.ceil(e / 4) * 4, c.push(-2); e++ < d;) c.push(-1);
                    break
                }
                case 10: {
                    c.push(-4), e = 1;
                    break
                }
                default:
                    r = !0, e = 1
            }
            f = m + 1
        }
        return o && (r && c.push(-5), t && c.push(t), c.push(null)), c
    }
}
const wC = /\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;

function SC(e) {
    return e.replace(wC, CC)
}

function CC(e, t, n) {
    if (t) return t;
    if (n.charCodeAt(0) === 35) {
        const i = n.charCodeAt(1),
            s = i === 120 || i === 88;
        return Ug(n.slice(s ? 2 : 1), s ? 16 : 10)
    }
    return Md(n) || e
}
const Jg = {}.hasOwnProperty;

function kC(e, t, n) {
    return typeof t != "string" && (n = t, t = void 0), EC(n)(bC(vC(n).document().write(yC()(e, t, !0))))
}

function EC(e) {
    const t = {
        transforms: [],
        canContainEols: ["emphasis", "fragment", "heading", "paragraph", "strong"],
        enter: {
            autolink: s(bt),
            autolinkProtocol: H,
            autolinkEmail: H,
            atxHeading: s(Te),
            blockQuote: s(ce),
            characterEscape: H,
            characterReference: H,
            codeFenced: s(ae),
            codeFencedFenceInfo: a,
            codeFencedFenceMeta: a,
            codeIndented: s(ae, a),
            codeText: s(ue, a),
            codeTextData: H,
            data: H,
            codeFlowValue: H,
            definition: s(Ce),
            definitionDestinationString: a,
            definitionLabelString: a,
            definitionTitleString: a,
            emphasis: s(je),
            hardBreakEscape: s(ve),
            hardBreakTrailing: s(ve),
            htmlFlow: s(Pe, a),
            htmlFlowData: H,
            htmlText: s(Pe, a),
            htmlTextData: H,
            image: s(Ct),
            label: a,
            link: s(bt),
            listItem: s(zn),
            listItemValue: m,
            listOrdered: s(Nt, f),
            listUnordered: s(Nt),
            paragraph: s(Br),
            reference: M,
            referenceString: a,
            resourceDestinationString: a,
            resourceTitleString: a,
            setextHeading: s(Te),
            strong: s(ls),
            thematicBreak: s(cs)
        },
        exit: {
            atxHeading: c(),
            atxHeadingSequence: A,
            autolink: c(),
            autolinkEmail: de,
            autolinkProtocol: pe,
            blockQuote: c(),
            characterEscapeValue: R,
            characterReferenceMarkerHexadecimal: Oe,
            characterReferenceMarkerNumeric: Oe,
            characterReferenceValue: K,
            characterReference: J,
            codeFenced: c(y),
            codeFencedFence: x,
            codeFencedFenceInfo: p,
            codeFencedFenceMeta: g,
            codeFlowValue: R,
            codeIndented: c(b),
            codeText: c(G),
            codeTextData: R,
            data: R,
            definition: c(),
            definitionDestinationString: E,
            definitionLabelString: w,
            definitionTitleString: C,
            emphasis: c(),
            hardBreakEscape: c(_),
            hardBreakTrailing: c(_),
            htmlFlow: c(O),
            htmlFlowData: R,
            htmlText: c(F),
            htmlTextData: R,
            image: c(W),
            label: U,
            labelText: B,
            lineEnding: D,
            link: c(Y),
            listItem: c(),
            listOrdered: c(),
            listUnordered: c(),
            paragraph: c(),
            referenceString: ye,
            resourceDestinationString: I,
            resourceTitleString: fe,
            resource: re,
            setextHeading: c(z),
            setextHeadingLineSequence: j,
            setextHeadingText: N,
            strong: c(),
            thematicBreak: c()
        }
    };
    e5(t, (e || {}).mdastExtensions || []);
    const n = {};
    return r;

    function r(Z) {
        let le = {
            type: "root",
            children: []
        };
        const Me = {
                stack: [le],
                tokenStack: [],
                config: t,
                enter: o,
                exit: u,
                buffer: a,
                resume: d,
                data: n
            },
            He = [];
        let Je = -1;
        for (; ++Je < Z.length;)
            if (Z[Je][1].type === "listOrdered" || Z[Je][1].type === "listUnordered")
                if (Z[Je][0] === "enter") He.push(Je);
                else {
                    const Sn = He.pop();
                    Je = i(Z, Sn, Je)
                } for (Je = -1; ++Je < Z.length;) {
            const Sn = t[Z[Je][0]];
            Jg.call(Sn, Z[Je][1].type) && Sn[Z[Je][1].type].call(Object.assign({
                sliceSerialize: Z[Je][2].sliceSerialize
            }, Me), Z[Je][1])
        }
        if (Me.tokenStack.length > 0) {
            const Sn = Me.tokenStack[Me.tokenStack.length - 1];
            (Sn[1] || gh).call(Me, void 0, Sn[0])
        }
        for (le.position = {
                start: li(Z.length > 0 ? Z[0][1].start : {
                    line: 1,
                    column: 1,
                    offset: 0
                }),
                end: li(Z.length > 0 ? Z[Z.length - 2][1].end : {
                    line: 1,
                    column: 1,
                    offset: 0
                })
            }, Je = -1; ++Je < t.transforms.length;) le = t.transforms[Je](le) || le;
        return le
    }

    function i(Z, le, Me) {
        let He = le - 1,
            Je = -1,
            Sn = !1,
            gr, Bn, ai, oi;
        for (; ++He <= Me;) {
            const Ze = Z[He];
            switch (Ze[1].type) {
                case "listUnordered":
                case "listOrdered":
                case "blockQuote": {
                    Ze[0] === "enter" ? Je++ : Je--, oi = void 0;
                    break
                }
                case "lineEndingBlank": {
                    Ze[0] === "enter" && (gr && !oi && !Je && !ai && (ai = He), oi = void 0);
                    break
                }
                case "linePrefix":
                case "listItemValue":
                case "listItemMarker":
                case "listItemPrefix":
                case "listItemPrefixWhitespace":
                    break;
                default:
                    oi = void 0
            }
            if (!Je && Ze[0] === "enter" && Ze[1].type === "listItemPrefix" || Je === -1 && Ze[0] === "exit" && (Ze[1].type === "listUnordered" || Ze[1].type === "listOrdered")) {
                if (gr) {
                    let Mt = He;
                    for (Bn = void 0; Mt--;) {
                        const Dt = Z[Mt];
                        if (Dt[1].type === "lineEnding" || Dt[1].type === "lineEndingBlank") {
                            if (Dt[0] === "exit") continue;
                            Bn && (Z[Bn][1].type = "lineEndingBlank", Sn = !0), Dt[1].type = "lineEnding", Bn = Mt
                        } else if (!(Dt[1].type === "linePrefix" || Dt[1].type === "blockQuotePrefix" || Dt[1].type === "blockQuotePrefixWhitespace" || Dt[1].type === "blockQuoteMarker" || Dt[1].type === "listItemIndent")) break
                    }
                    ai && (!Bn || ai < Bn) && (gr._spread = !0), gr.end = Object.assign({}, Bn ? Z[Bn][1].start : Ze[1].end), Z.splice(Bn || He, 0, ["exit", gr, Ze[2]]), He++, Me++
                }
                if (Ze[1].type === "listItemPrefix") {
                    const Mt = {
                        type: "listItem",
                        _spread: !1,
                        start: Object.assign({}, Ze[1].start),
                        end: void 0
                    };
                    gr = Mt, Z.splice(He, 0, ["enter", Mt, Ze[2]]), He++, Me++, ai = void 0, oi = !0
                }
            }
        }
        return Z[le][1]._spread = Sn, Me
    }

    function s(Z, le) {
        return Me;

        function Me(He) {
            o.call(this, Z(He), He), le && le.call(this, He)
        }
    }

    function a() {
        this.stack.push({
            type: "fragment",
            children: []
        })
    }

    function o(Z, le, Me) {
        this.stack[this.stack.length - 1].children.push(Z), this.stack.push(Z), this.tokenStack.push([le, Me || void 0]), Z.position = {
            start: li(le.start),
            end: void 0
        }
    }

    function c(Z) {
        return le;

        function le(Me) {
            Z && Z.call(this, Me), u.call(this, Me)
        }
    }

    function u(Z, le) {
        const Me = this.stack.pop(),
            He = this.tokenStack.pop();
        if (He) He[0].type !== Z.type && (le ? le.call(this, Z, He[0]) : (He[1] || gh).call(this, Z, He[0]));
        else throw new Error("Cannot close `" + Z.type + "` (" + Sa({
            start: Z.start,
            end: Z.end
        }) + "): its not open");
        Me.position.end = li(Z.end)
    }

    function d() {
        return jd(this.stack.pop())
    }

    function f() {
        this.data.expectingFirstListItemValue = !0
    }

    function m(Z) {
        if (this.data.expectingFirstListItemValue) {
            const le = this.stack[this.stack.length - 2];
            le.start = Number.parseInt(this.sliceSerialize(Z), 10), this.data.expectingFirstListItemValue = void 0
        }
    }

    function p() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.lang = Z
    }

    function g() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.meta = Z
    }

    function x() {
        this.data.flowCodeInside || (this.buffer(), this.data.flowCodeInside = !0)
    }

    function y() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.value = Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g, ""), this.data.flowCodeInside = void 0
    }

    function b() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.value = Z.replace(/(\r?\n|\r)$/g, "")
    }

    function w(Z) {
        const le = this.resume(),
            Me = this.stack[this.stack.length - 1];
        Me.label = le, Me.identifier = lr(this.sliceSerialize(Z)).toLowerCase()
    }

    function C() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.title = Z
    }

    function E() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.url = Z
    }

    function A(Z) {
        const le = this.stack[this.stack.length - 1];
        if (!le.depth) {
            const Me = this.sliceSerialize(Z).length;
            le.depth = Me
        }
    }

    function N() {
        this.data.setextHeadingSlurpLineEnding = !0
    }

    function j(Z) {
        const le = this.stack[this.stack.length - 1];
        le.depth = this.sliceSerialize(Z).codePointAt(0) === 61 ? 1 : 2
    }

    function z() {
        this.data.setextHeadingSlurpLineEnding = void 0
    }

    function H(Z) {
        const Me = this.stack[this.stack.length - 1].children;
        let He = Me[Me.length - 1];
        (!He || He.type !== "text") && (He = si(), He.position = {
            start: li(Z.start),
            end: void 0
        }, Me.push(He)), this.stack.push(He)
    }

    function R(Z) {
        const le = this.stack.pop();
        le.value += this.sliceSerialize(Z), le.position.end = li(Z.end)
    }

    function D(Z) {
        const le = this.stack[this.stack.length - 1];
        if (this.data.atHardBreak) {
            const Me = le.children[le.children.length - 1];
            Me.position.end = li(Z.end), this.data.atHardBreak = void 0;
            return
        }!this.data.setextHeadingSlurpLineEnding && t.canContainEols.includes(le.type) && (H.call(this, Z), R.call(this, Z))
    }

    function _() {
        this.data.atHardBreak = !0
    }

    function O() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.value = Z
    }

    function F() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.value = Z
    }

    function G() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.value = Z
    }

    function Y() {
        const Z = this.stack[this.stack.length - 1];
        if (this.data.inReference) {
            const le = this.data.referenceType || "shortcut";
            Z.type += "Reference", Z.referenceType = le, delete Z.url, delete Z.title
        } else delete Z.identifier, delete Z.label;
        this.data.referenceType = void 0
    }

    function W() {
        const Z = this.stack[this.stack.length - 1];
        if (this.data.inReference) {
            const le = this.data.referenceType || "shortcut";
            Z.type += "Reference", Z.referenceType = le, delete Z.url, delete Z.title
        } else delete Z.identifier, delete Z.label;
        this.data.referenceType = void 0
    }

    function B(Z) {
        const le = this.sliceSerialize(Z),
            Me = this.stack[this.stack.length - 2];
        Me.label = SC(le), Me.identifier = lr(le).toLowerCase()
    }

    function U() {
        const Z = this.stack[this.stack.length - 1],
            le = this.resume(),
            Me = this.stack[this.stack.length - 1];
        if (this.data.inReference = !0, Me.type === "link") {
            const He = Z.children;
            Me.children = He
        } else Me.alt = le
    }

    function I() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.url = Z
    }

    function fe() {
        const Z = this.resume(),
            le = this.stack[this.stack.length - 1];
        le.title = Z
    }

    function re() {
        this.data.inReference = void 0
    }

    function M() {
        this.data.referenceType = "collapsed"
    }

    function ye(Z) {
        const le = this.resume(),
            Me = this.stack[this.stack.length - 1];
        Me.label = le, Me.identifier = lr(this.sliceSerialize(Z)).toLowerCase(), this.data.referenceType = "full"
    }

    function Oe(Z) {
        this.data.characterReferenceType = Z.type
    }

    function K(Z) {
        const le = this.sliceSerialize(Z),
            Me = this.data.characterReferenceType;
        let He;
        Me ? (He = Ug(le, Me === "characterReferenceMarkerNumeric" ? 10 : 16), this.data.characterReferenceType = void 0) : He = Md(le);
        const Je = this.stack[this.stack.length - 1];
        Je.value += He
    }

    function J(Z) {
        const le = this.stack.pop();
        le.position.end = li(Z.end)
    }

    function pe(Z) {
        R.call(this, Z);
        const le = this.stack[this.stack.length - 1];
        le.url = this.sliceSerialize(Z)
    }

    function de(Z) {
        R.call(this, Z);
        const le = this.stack[this.stack.length - 1];
        le.url = "mailto:" + this.sliceSerialize(Z)
    }

    function ce() {
        return {
            type: "blockquote",
            children: []
        }
    }

    function ae() {
        return {
            type: "code",
            lang: null,
            meta: null,
            value: ""
        }
    }

    function ue() {
        return {
            type: "inlineCode",
            value: ""
        }
    }

    function Ce() {
        return {
            type: "definition",
            identifier: "",
            label: null,
            title: null,
            url: ""
        }
    }

    function je() {
        return {
            type: "emphasis",
            children: []
        }
    }

    function Te() {
        return {
            type: "heading",
            depth: 0,
            children: []
        }
    }

    function ve() {
        return {
            type: "break"
        }
    }

    function Pe() {
        return {
            type: "html",
            value: ""
        }
    }

    function Ct() {
        return {
            type: "image",
            title: null,
            url: "",
            alt: null
        }
    }

    function bt() {
        return {
            type: "link",
            title: null,
            url: "",
            children: []
        }
    }

    function Nt(Z) {
        return {
            type: "list",
            ordered: Z.type === "listOrdered",
            start: null,
            spread: Z._spread,
            children: []
        }
    }

    function zn(Z) {
        return {
            type: "listItem",
            spread: Z._spread,
            checked: null,
            children: []
        }
    }

    function Br() {
        return {
            type: "paragraph",
            children: []
        }
    }

    function ls() {
        return {
            type: "strong",
            children: []
        }
    }

    function si() {
        return {
            type: "text",
            value: ""
        }
    }

    function cs() {
        return {
            type: "thematicBreak"
        }
    }
}

function li(e) {
    return {
        line: e.line,
        column: e.column,
        offset: e.offset
    }
}

function e5(e, t) {
    let n = -1;
    for (; ++n < t.length;) {
        const r = t[n];
        Array.isArray(r) ? e5(e, r) : NC(e, r)
    }
}

function NC(e, t) {
    let n;
    for (n in t)
        if (Jg.call(t, n)) switch (n) {
            case "canContainEols": {
                const r = t[n];
                r && e[n].push(...r);
                break
            }
            case "transforms": {
                const r = t[n];
                r && e[n].push(...r);
                break
            }
            case "enter":
            case "exit": {
                const r = t[n];
                r && Object.assign(e[n], r);
                break
            }
        }
}

function gh(e, t) {
    throw e ? new Error("Cannot close `" + e.type + "` (" + Sa({
        start: e.start,
        end: e.end
    }) + "): a different token (`" + t.type + "`, " + Sa({
        start: t.start,
        end: t.end
    }) + ") is open") : new Error("Cannot close document, a token (`" + t.type + "`, " + Sa({
        start: t.start,
        end: t.end
    }) + ") is still open")
}

function AC(e) {
    const t = this;
    t.parser = n;

    function n(r) {
        return kC(r, {
            ...t.data("settings"),
            ...e,
            extensions: t.data("micromarkExtensions") || [],
            mdastExtensions: t.data("fromMarkdownExtensions") || []
        })
    }
}

function TC(e, t) {
    const n = {
        type: "element",
        tagName: "blockquote",
        properties: {},
        children: e.wrap(e.all(t), !0)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function IC(e, t) {
    const n = {
        type: "element",
        tagName: "br",
        properties: {},
        children: []
    };
    return e.patch(t, n), [e.applyData(t, n), {
        type: "text",
        value: `
`
    }]
}

function jC(e, t) {
    const n = t.value ? t.value + `
` : "",
        r = {};
    t.lang && (r.className = ["language-" + t.lang]);
    let i = {
        type: "element",
        tagName: "code",
        properties: r,
        children: [{
            type: "text",
            value: n
        }]
    };
    return t.meta && (i.data = {
        meta: t.meta
    }), e.patch(t, i), i = e.applyData(t, i), i = {
        type: "element",
        tagName: "pre",
        properties: {},
        children: [i]
    }, e.patch(t, i), i
}

function MC(e, t) {
    const n = {
        type: "element",
        tagName: "del",
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function RC(e, t) {
    const n = {
        type: "element",
        tagName: "em",
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function OC(e, t) {
    const n = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-",
        r = String(t.identifier).toUpperCase(),
        i = Gs(r.toLowerCase()),
        s = e.footnoteOrder.indexOf(r);
    let a, o = e.footnoteCounts.get(r);
    o === void 0 ? (o = 0, e.footnoteOrder.push(r), a = e.footnoteOrder.length) : a = s + 1, o += 1, e.footnoteCounts.set(r, o);
    const c = {
        type: "element",
        tagName: "a",
        properties: {
            href: "#" + n + "fn-" + i,
            id: n + "fnref-" + i + (o > 1 ? "-" + o : ""),
            dataFootnoteRef: !0,
            ariaDescribedBy: ["footnote-label"]
        },
        children: [{
            type: "text",
            value: String(a)
        }]
    };
    e.patch(t, c);
    const u = {
        type: "element",
        tagName: "sup",
        properties: {},
        children: [c]
    };
    return e.patch(t, u), e.applyData(t, u)
}

function PC(e, t) {
    const n = {
        type: "element",
        tagName: "h" + t.depth,
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function LC(e, t) {
    if (e.options.allowDangerousHtml) {
        const n = {
            type: "raw",
            value: t.value
        };
        return e.patch(t, n), e.applyData(t, n)
    }
}

function t5(e, t) {
    const n = t.referenceType;
    let r = "]";
    if (n === "collapsed" ? r += "[]" : n === "full" && (r += "[" + (t.label || t.identifier) + "]"), t.type === "imageReference") return [{
        type: "text",
        value: "![" + t.alt + r
    }];
    const i = e.all(t),
        s = i[0];
    s && s.type === "text" ? s.value = "[" + s.value : i.unshift({
        type: "text",
        value: "["
    });
    const a = i[i.length - 1];
    return a && a.type === "text" ? a.value += r : i.push({
        type: "text",
        value: r
    }), i
}

function DC(e, t) {
    const n = String(t.identifier).toUpperCase(),
        r = e.definitionById.get(n);
    if (!r) return t5(e, t);
    const i = {
        src: Gs(r.url || ""),
        alt: t.alt
    };
    r.title !== null && r.title !== void 0 && (i.title = r.title);
    const s = {
        type: "element",
        tagName: "img",
        properties: i,
        children: []
    };
    return e.patch(t, s), e.applyData(t, s)
}

function _C(e, t) {
    const n = {
        src: Gs(t.url)
    };
    t.alt !== null && t.alt !== void 0 && (n.alt = t.alt), t.title !== null && t.title !== void 0 && (n.title = t.title);
    const r = {
        type: "element",
        tagName: "img",
        properties: n,
        children: []
    };
    return e.patch(t, r), e.applyData(t, r)
}

function FC(e, t) {
    const n = {
        type: "text",
        value: t.value.replace(/\r?\n|\r/g, " ")
    };
    e.patch(t, n);
    const r = {
        type: "element",
        tagName: "code",
        properties: {},
        children: [n]
    };
    return e.patch(t, r), e.applyData(t, r)
}

function zC(e, t) {
    const n = String(t.identifier).toUpperCase(),
        r = e.definitionById.get(n);
    if (!r) return t5(e, t);
    const i = {
        href: Gs(r.url || "")
    };
    r.title !== null && r.title !== void 0 && (i.title = r.title);
    const s = {
        type: "element",
        tagName: "a",
        properties: i,
        children: e.all(t)
    };
    return e.patch(t, s), e.applyData(t, s)
}

function BC(e, t) {
    const n = {
        href: Gs(t.url)
    };
    t.title !== null && t.title !== void 0 && (n.title = t.title);
    const r = {
        type: "element",
        tagName: "a",
        properties: n,
        children: e.all(t)
    };
    return e.patch(t, r), e.applyData(t, r)
}

function $C(e, t, n) {
    const r = e.all(t),
        i = n ? HC(n) : n5(t),
        s = {},
        a = [];
    if (typeof t.checked == "boolean") {
        const d = r[0];
        let f;
        d && d.type === "element" && d.tagName === "p" ? f = d : (f = {
            type: "element",
            tagName: "p",
            properties: {},
            children: []
        }, r.unshift(f)), f.children.length > 0 && f.children.unshift({
            type: "text",
            value: " "
        }), f.children.unshift({
            type: "element",
            tagName: "input",
            properties: {
                type: "checkbox",
                checked: t.checked,
                disabled: !0
            },
            children: []
        }), s.className = ["task-list-item"]
    }
    let o = -1;
    for (; ++o < r.length;) {
        const d = r[o];
        (i || o !== 0 || d.type !== "element" || d.tagName !== "p") && a.push({
            type: "text",
            value: `
`
        }), d.type === "element" && d.tagName === "p" && !i ? a.push(...d.children) : a.push(d)
    }
    const c = r[r.length - 1];
    c && (i || c.type !== "element" || c.tagName !== "p") && a.push({
        type: "text",
        value: `
`
    });
    const u = {
        type: "element",
        tagName: "li",
        properties: s,
        children: a
    };
    return e.patch(t, u), e.applyData(t, u)
}

function HC(e) {
    let t = !1;
    if (e.type === "list") {
        t = e.spread || !1;
        const n = e.children;
        let r = -1;
        for (; !t && ++r < n.length;) t = n5(n[r])
    }
    return t
}

function n5(e) {
    const t = e.spread;
    return t ?? e.children.length > 1
}

function UC(e, t) {
    const n = {},
        r = e.all(t);
    let i = -1;
    for (typeof t.start == "number" && t.start !== 1 && (n.start = t.start); ++i < r.length;) {
        const a = r[i];
        if (a.type === "element" && a.tagName === "li" && a.properties && Array.isArray(a.properties.className) && a.properties.className.includes("task-list-item")) {
            n.className = ["contains-task-list"];
            break
        }
    }
    const s = {
        type: "element",
        tagName: t.ordered ? "ol" : "ul",
        properties: n,
        children: e.wrap(r, !0)
    };
    return e.patch(t, s), e.applyData(t, s)
}

function VC(e, t) {
    const n = {
        type: "element",
        tagName: "p",
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function WC(e, t) {
    const n = {
        type: "root",
        children: e.wrap(e.all(t))
    };
    return e.patch(t, n), e.applyData(t, n)
}

function qC(e, t) {
    const n = {
        type: "element",
        tagName: "strong",
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}

function GC(e, t) {
    const n = e.all(t),
        r = n.shift(),
        i = [];
    if (r) {
        const a = {
            type: "element",
            tagName: "thead",
            properties: {},
            children: e.wrap([r], !0)
        };
        e.patch(t.children[0], a), i.push(a)
    }
    if (n.length > 0) {
        const a = {
                type: "element",
                tagName: "tbody",
                properties: {},
                children: e.wrap(n, !0)
            },
            o = Nd(t.children[1]),
            c = Lg(t.children[t.children.length - 1]);
        o && c && (a.position = {
            start: o,
            end: c
        }), i.push(a)
    }
    const s = {
        type: "element",
        tagName: "table",
        properties: {},
        children: e.wrap(i, !0)
    };
    return e.patch(t, s), e.applyData(t, s)
}

function YC(e, t, n) {
    const r = n ? n.children : void 0,
        s = (r ? r.indexOf(t) : 1) === 0 ? "th" : "td",
        a = n && n.type === "table" ? n.align : void 0,
        o = a ? a.length : t.children.length;
    let c = -1;
    const u = [];
    for (; ++c < o;) {
        const f = t.children[c],
            m = {},
            p = a ? a[c] : void 0;
        p && (m.align = p);
        let g = {
            type: "element",
            tagName: s,
            properties: m,
            children: []
        };
        f && (g.children = e.all(f), e.patch(f, g), g = e.applyData(f, g)), u.push(g)
    }
    const d = {
        type: "element",
        tagName: "tr",
        properties: {},
        children: e.wrap(u, !0)
    };
    return e.patch(t, d), e.applyData(t, d)
}

function KC(e, t) {
    const n = {
        type: "element",
        tagName: "td",
        properties: {},
        children: e.all(t)
    };
    return e.patch(t, n), e.applyData(t, n)
}
const xh = 9,
    vh = 32;

function XC(e) {
    const t = String(e),
        n = /\r?\n|\r/g;
    let r = n.exec(t),
        i = 0;
    const s = [];
    for (; r;) s.push(bh(t.slice(i, r.index), i > 0, !0), r[0]), i = r.index + r[0].length, r = n.exec(t);
    return s.push(bh(t.slice(i), i > 0, !1)), s.join("")
}

function bh(e, t, n) {
    let r = 0,
        i = e.length;
    if (t) {
        let s = e.codePointAt(r);
        for (; s === xh || s === vh;) r++, s = e.codePointAt(r)
    }
    if (n) {
        let s = e.codePointAt(i - 1);
        for (; s === xh || s === vh;) i--, s = e.codePointAt(i - 1)
    }
    return i > r ? e.slice(r, i) : ""
}

function ZC(e, t) {
    const n = {
        type: "text",
        value: XC(String(t.value))
    };
    return e.patch(t, n), e.applyData(t, n)
}

function QC(e, t) {
    const n = {
        type: "element",
        tagName: "hr",
        properties: {},
        children: []
    };
    return e.patch(t, n), e.applyData(t, n)
}
const JC = {
    blockquote: TC,
    break: IC,
    code: jC,
    delete: MC,
    emphasis: RC,
    footnoteReference: OC,
    heading: PC,
    html: LC,
    imageReference: DC,
    image: _C,
    inlineCode: FC,
    linkReference: zC,
    link: BC,
    listItem: $C,
    list: UC,
    paragraph: VC,
    root: WC,
    strong: qC,
    table: GC,
    tableCell: KC,
    tableRow: YC,
    text: ZC,
    thematicBreak: QC,
    toml: xo,
    yaml: xo,
    definition: xo,
    footnoteDefinition: xo
};

function xo() {}
const r5 = -1,
    Jl = 0,
    ka = 1,
    dl = 2,
    Od = 3,
    Pd = 4,
    Ld = 5,
    Dd = 6,
    i5 = 7,
    s5 = 8,
    yh = typeof self == "object" ? self : globalThis,
    ek = (e, t) => {
        const n = (i, s) => (e.set(s, i), i),
            r = i => {
                if (e.has(i)) return e.get(i);
                const [s, a] = t[i];
                switch (s) {
                    case Jl:
                    case r5:
                        return n(a, i);
                    case ka: {
                        const o = n([], i);
                        for (const c of a) o.push(r(c));
                        return o
                    }
                    case dl: {
                        const o = n({}, i);
                        for (const [c, u] of a) o[r(c)] = r(u);
                        return o
                    }
                    case Od:
                        return n(new Date(a), i);
                    case Pd: {
                        const {
                            source: o,
                            flags: c
                        } = a;
                        return n(new RegExp(o, c), i)
                    }
                    case Ld: {
                        const o = n(new Map, i);
                        for (const [c, u] of a) o.set(r(c), r(u));
                        return o
                    }
                    case Dd: {
                        const o = n(new Set, i);
                        for (const c of a) o.add(r(c));
                        return o
                    }
                    case i5: {
                        const {
                            name: o,
                            message: c
                        } = a;
                        return n(new yh[o](c), i)
                    }
                    case s5:
                        return n(BigInt(a), i);
                    case "BigInt":
                        return n(Object(BigInt(a)), i);
                    case "ArrayBuffer":
                        return n(new Uint8Array(a).buffer, a);
                    case "DataView": {
                        const {
                            buffer: o
                        } = new Uint8Array(a);
                        return n(new DataView(o), a)
                    }
                }
                return n(new yh[s](a), i)
            };
        return r
    },
    wh = e => ek(new Map, e)(0),
    hs = "",
    {
        toString: tk
    } = {},
    {
        keys: nk
    } = Object,
    fa = e => {
        const t = typeof e;
        if (t !== "object" || !e) return [Jl, t];
        const n = tk.call(e).slice(8, -1);
        switch (n) {
            case "Array":
                return [ka, hs];
            case "Object":
                return [dl, hs];
            case "Date":
                return [Od, hs];
            case "RegExp":
                return [Pd, hs];
            case "Map":
                return [Ld, hs];
            case "Set":
                return [Dd, hs];
            case "DataView":
                return [ka, n]
        }
        return n.includes("Array") ? [ka, n] : n.includes("Error") ? [i5, n] : [dl, n]
    },
    vo = ([e, t]) => e === Jl && (t === "function" || t === "symbol"),
    rk = (e, t, n, r) => {
        const i = (a, o) => {
                const c = r.push(a) - 1;
                return n.set(o, c), c
            },
            s = a => {
                if (n.has(a)) return n.get(a);
                let [o, c] = fa(a);
                switch (o) {
                    case Jl: {
                        let d = a;
                        switch (c) {
                            case "bigint":
                                o = s5, d = a.toString();
                                break;
                            case "function":
                            case "symbol":
                                if (e) throw new TypeError("unable to serialize " + c);
                                d = null;
                                break;
                            case "undefined":
                                return i([r5], a)
                        }
                        return i([o, d], a)
                    }
                    case ka: {
                        if (c) {
                            let m = a;
                            return c === "DataView" ? m = new Uint8Array(a.buffer) : c === "ArrayBuffer" && (m = new Uint8Array(a)), i([c, [...m]], a)
                        }
                        const d = [],
                            f = i([o, d], a);
                        for (const m of a) d.push(s(m));
                        return f
                    }
                    case dl: {
                        if (c) switch (c) {
                            case "BigInt":
                                return i([c, a.toString()], a);
                            case "Boolean":
                            case "Number":
                            case "String":
                                return i([c, a.valueOf()], a)
                        }
                        if (t && "toJSON" in a) return s(a.toJSON());
                        const d = [],
                            f = i([o, d], a);
                        for (const m of nk(a))(e || !vo(fa(a[m]))) && d.push([s(m), s(a[m])]);
                        return f
                    }
                    case Od:
                        return i([o, a.toISOString()], a);
                    case Pd: {
                        const {
                            source: d,
                            flags: f
                        } = a;
                        return i([o, {
                            source: d,
                            flags: f
                        }], a)
                    }
                    case Ld: {
                        const d = [],
                            f = i([o, d], a);
                        for (const [m, p] of a)(e || !(vo(fa(m)) || vo(fa(p)))) && d.push([s(m), s(p)]);
                        return f
                    }
                    case Dd: {
                        const d = [],
                            f = i([o, d], a);
                        for (const m of a)(e || !vo(fa(m))) && d.push(s(m));
                        return f
                    }
                }
                const {
                    message: u
                } = a;
                return i([o, {
                    name: c,
                    message: u
                }], a)
            };
        return s
    },
    Sh = (e, {
        json: t,
        lossy: n
    } = {}) => {
        const r = [];
        return rk(!(t || n), !!t, new Map, r)(e), r
    },
    fl = typeof structuredClone == "function" ? (e, t) => t && ("json" in t || "lossy" in t) ? wh(Sh(e, t)) : structuredClone(e) : (e, t) => wh(Sh(e, t));

function ik(e, t) {
    const n = [{
        type: "text",
        value: ""
    }];
    return t > 1 && n.push({
        type: "element",
        tagName: "sup",
        properties: {},
        children: [{
            type: "text",
            value: String(t)
        }]
    }), n
}

function sk(e, t) {
    return "Back to reference " + (e + 1) + (t > 1 ? "-" + t : "")
}

function ak(e) {
    const t = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-",
        n = e.options.footnoteBackContent || ik,
        r = e.options.footnoteBackLabel || sk,
        i = e.options.footnoteLabel || "Footnotes",
        s = e.options.footnoteLabelTagName || "h2",
        a = e.options.footnoteLabelProperties || {
            className: ["sr-only"]
        },
        o = [];
    let c = -1;
    for (; ++c < e.footnoteOrder.length;) {
        const u = e.footnoteById.get(e.footnoteOrder[c]);
        if (!u) continue;
        const d = e.all(u),
            f = String(u.identifier).toUpperCase(),
            m = Gs(f.toLowerCase());
        let p = 0;
        const g = [],
            x = e.footnoteCounts.get(f);
        for (; x !== void 0 && ++p <= x;) {
            g.length > 0 && g.push({
                type: "text",
                value: " "
            });
            let w = typeof n == "string" ? n : n(c, p);
            typeof w == "string" && (w = {
                type: "text",
                value: w
            }), g.push({
                type: "element",
                tagName: "a",
                properties: {
                    href: "#" + t + "fnref-" + m + (p > 1 ? "-" + p : ""),
                    dataFootnoteBackref: "",
                    ariaLabel: typeof r == "string" ? r : r(c, p),
                    className: ["data-footnote-backref"]
                },
                children: Array.isArray(w) ? w : [w]
            })
        }
        const y = d[d.length - 1];
        if (y && y.type === "element" && y.tagName === "p") {
            const w = y.children[y.children.length - 1];
            w && w.type === "text" ? w.value += " " : y.children.push({
                type: "text",
                value: " "
            }), y.children.push(...g)
        } else d.push(...g);
        const b = {
            type: "element",
            tagName: "li",
            properties: {
                id: t + "fn-" + m
            },
            children: e.wrap(d, !0)
        };
        e.patch(u, b), o.push(b)
    }
    if (o.length !== 0) return {
        type: "element",
        tagName: "section",
        properties: {
            dataFootnotes: !0,
            className: ["footnotes"]
        },
        children: [{
            type: "element",
            tagName: s,
            properties: {
                ...fl(a),
                id: "footnote-label"
            },
            children: [{
                type: "text",
                value: i
            }]
        }, {
            type: "text",
            value: `
`
        }, {
            type: "element",
            tagName: "ol",
            properties: {},
            children: e.wrap(o, !0)
        }, {
            type: "text",
            value: `
`
        }]
    }
}
const to = function(e) {
    if (e == null) return uk;
    if (typeof e == "function") return ec(e);
    if (typeof e == "object") return Array.isArray(e) ? ok(e) : lk(e);
    if (typeof e == "string") return ck(e);
    throw new Error("Expected function, string, or object as test")
};

function ok(e) {
    const t = [];
    let n = -1;
    for (; ++n < e.length;) t[n] = to(e[n]);
    return ec(r);

    function r(...i) {
        let s = -1;
        for (; ++s < t.length;)
            if (t[s].apply(this, i)) return !0;
        return !1
    }
}

function lk(e) {
    const t = e;
    return ec(n);

    function n(r) {
        const i = r;
        let s;
        for (s in e)
            if (i[s] !== t[s]) return !1;
        return !0
    }
}

function ck(e) {
    return ec(t);

    function t(n) {
        return n && n.type === e
    }
}

function ec(e) {
    return t;

    function t(n, r, i) {
        return !!(dk(n) && e.call(this, n, typeof r == "number" ? r : void 0, i || void 0))
    }
}

function uk() {
    return !0
}

function dk(e) {
    return e !== null && typeof e == "object" && "type" in e
}
const a5 = [],
    fk = !0,
    o0 = !1,
    o5 = "skip";

function _d(e, t, n, r) {
    let i;
    typeof t == "function" && typeof n != "function" ? (r = n, n = t) : i = t;
    const s = to(i),
        a = r ? -1 : 1;
    o(e, void 0, [])();

    function o(c, u, d) {
        const f = c && typeof c == "object" ? c : {};
        if (typeof f.type == "string") {
            const p = typeof f.tagName == "string" ? f.tagName : typeof f.name == "string" ? f.name : void 0;
            Object.defineProperty(m, "name", {
                value: "node (" + (c.type + (p ? "<" + p + ">" : "")) + ")"
            })
        }
        return m;

        function m() {
            let p = a5,
                g, x, y;
            if ((!t || s(c, u, d[d.length - 1] || void 0)) && (p = hk(n(c, d)), p[0] === o0)) return p;
            if ("children" in c && c.children) {
                const b = c;
                if (b.children && p[0] !== o5)
                    for (x = (r ? b.children.length : -1) + a, y = d.concat(b); x > -1 && x < b.children.length;) {
                        const w = b.children[x];
                        if (g = o(w, x, y)(), g[0] === o0) return g;
                        x = typeof g[1] == "number" ? g[1] : x + a
                    }
            }
            return p
        }
    }
}

function hk(e) {
    return Array.isArray(e) ? e : typeof e == "number" ? [fk, e] : e == null ? a5 : [e]
}

function Fd(e, t, n, r) {
    let i, s, a;
    typeof t == "function" && typeof n != "function" ? (s = void 0, a = t, i = n) : (s = t, a = n, i = r), _d(e, s, o, i);

    function o(c, u) {
        const d = u[u.length - 1],
            f = d ? d.children.indexOf(c) : void 0;
        return a(c, f, d)
    }
}
const l0 = {}.hasOwnProperty,
    pk = {};

function mk(e, t) {
    const n = t || pk,
        r = new Map,
        i = new Map,
        s = new Map,
        a = {
            ...JC,
            ...n.handlers
        },
        o = {
            all: u,
            applyData: xk,
            definitionById: r,
            footnoteById: i,
            footnoteCounts: s,
            footnoteOrder: [],
            handlers: a,
            one: c,
            options: n,
            patch: gk,
            wrap: bk
        };
    return Fd(e, function(d) {
        if (d.type === "definition" || d.type === "footnoteDefinition") {
            const f = d.type === "definition" ? r : i,
                m = String(d.identifier).toUpperCase();
            f.has(m) || f.set(m, d)
        }
    }), o;

    function c(d, f) {
        const m = d.type,
            p = o.handlers[m];
        if (l0.call(o.handlers, m) && p) return p(o, d, f);
        if (o.options.passThrough && o.options.passThrough.includes(m)) {
            if ("children" in d) {
                const {
                    children: x,
                    ...y
                } = d, b = fl(y);
                return b.children = o.all(d), b
            }
            return fl(d)
        }
        return (o.options.unknownHandler || vk)(o, d, f)
    }

    function u(d) {
        const f = [];
        if ("children" in d) {
            const m = d.children;
            let p = -1;
            for (; ++p < m.length;) {
                const g = o.one(m[p], d);
                if (g) {
                    if (p && m[p - 1].type === "break" && (!Array.isArray(g) && g.type === "text" && (g.value = Ch(g.value)), !Array.isArray(g) && g.type === "element")) {
                        const x = g.children[0];
                        x && x.type === "text" && (x.value = Ch(x.value))
                    }
                    Array.isArray(g) ? f.push(...g) : f.push(g)
                }
            }
        }
        return f
    }
}

function gk(e, t) {
    e.position && (t.position = sw(e))
}

function xk(e, t) {
    let n = t;
    if (e && e.data) {
        const r = e.data.hName,
            i = e.data.hChildren,
            s = e.data.hProperties;
        if (typeof r == "string")
            if (n.type === "element") n.tagName = r;
            else {
                const a = "children" in n ? n.children : [n];
                n = {
                    type: "element",
                    tagName: r,
                    properties: {},
                    children: a
                }
            } n.type === "element" && s && Object.assign(n.properties, fl(s)), "children" in n && n.children && i !== null && i !== void 0 && (n.children = i)
    }
    return n
}

function vk(e, t) {
    const n = t.data || {},
        r = "value" in t && !(l0.call(n, "hProperties") || l0.call(n, "hChildren")) ? {
            type: "text",
            value: t.value
        } : {
            type: "element",
            tagName: "div",
            properties: {},
            children: e.all(t)
        };
    return e.patch(t, r), e.applyData(t, r)
}

function bk(e, t) {
    const n = [];
    let r = -1;
    for (t && n.push({
            type: "text",
            value: `
`
        }); ++r < e.length;) r && n.push({
        type: "text",
        value: `
`
    }), n.push(e[r]);
    return t && e.length > 0 && n.push({
        type: "text",
        value: `
`
    }), n
}

function Ch(e) {
    let t = 0,
        n = e.charCodeAt(t);
    for (; n === 9 || n === 32;) t++, n = e.charCodeAt(t);
    return e.slice(t)
}

function kh(e, t) {
    const n = mk(e, t),
        r = n.one(e, void 0),
        i = ak(n),
        s = Array.isArray(r) ? {
            type: "root",
            children: r
        } : r || {
            type: "root",
            children: []
        };
    return i && s.children.push({
        type: "text",
        value: `
`
    }, i), s
}

function yk(e, t) {
    return e && "run" in e ? async function(n, r) {
        const i = kh(n, {
            file: r,
            ...t
        });
        await e.run(i, r)
    }: function(n, r) {
        return kh(n, {
            file: r,
            ...e || t
        })
    }
}

function Eh(e) {
    if (e) throw e
}
var Lc, Nh;

function wk() {
    if (Nh) return Lc;
    Nh = 1;
    var e = Object.prototype.hasOwnProperty,
        t = Object.prototype.toString,
        n = Object.defineProperty,
        r = Object.getOwnPropertyDescriptor,
        i = function(u) {
            return typeof Array.isArray == "function" ? Array.isArray(u) : t.call(u) === "[object Array]"
        },
        s = function(u) {
            if (!u || t.call(u) !== "[object Object]") return !1;
            var d = e.call(u, "constructor"),
                f = u.constructor && u.constructor.prototype && e.call(u.constructor.prototype, "isPrototypeOf");
            if (u.constructor && !d && !f) return !1;
            var m;
            for (m in u);
            return typeof m > "u" || e.call(u, m)
        },
        a = function(u, d) {
            n && d.name === "__proto__" ? n(u, d.name, {
                enumerable: !0,
                configurable: !0,
                value: d.newValue,
                writable: !0
            }) : u[d.name] = d.newValue
        },
        o = function(u, d) {
            if (d === "__proto__")
                if (e.call(u, d)) {
                    if (r) return r(u, d).value
                } else return;
            return u[d]
        };
    return Lc = function c() {
        var u, d, f, m, p, g, x = arguments[0],
            y = 1,
            b = arguments.length,
            w = !1;
        for (typeof x == "boolean" && (w = x, x = arguments[1] || {}, y = 2), (x == null || typeof x != "object" && typeof x != "function") && (x = {}); y < b; ++y)
            if (u = arguments[y], u != null)
                for (d in u) f = o(x, d), m = o(u, d), x !== m && (w && m && (s(m) || (p = i(m))) ? (p ? (p = !1, g = f && i(f) ? f : []) : g = f && s(f) ? f : {}, a(x, {
                    name: d,
                    newValue: c(w, g, m)
                })) : typeof m < "u" && a(x, {
                    name: d,
                    newValue: m
                }));
        return x
    }, Lc
}
var Sk = wk();
const Dc = Y2(Sk);

function c0(e) {
    if (typeof e != "object" || e === null) return !1;
    const t = Object.getPrototypeOf(e);
    return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e)
}

function Ck() {
    const e = [],
        t = {
            run: n,
            use: r
        };
    return t;

    function n(...i) {
        let s = -1;
        const a = i.pop();
        if (typeof a != "function") throw new TypeError("Expected function as last argument, not " + a);
        o(null, ...i);

        function o(c, ...u) {
            const d = e[++s];
            let f = -1;
            if (c) {
                a(c);
                return
            }
            for (; ++f < i.length;)(u[f] === null || u[f] === void 0) && (u[f] = i[f]);
            i = u, d ? kk(d, o)(...u) : a(null, ...u)
        }
    }

    function r(i) {
        if (typeof i != "function") throw new TypeError("Expected `middelware` to be a function, not " + i);
        return e.push(i), t
    }
}

function kk(e, t) {
    let n;
    return r;

    function r(...a) {
        const o = e.length > a.length;
        let c;
        o && a.push(i);
        try {
            c = e.apply(this, a)
        } catch (u) {
            const d = u;
            if (o && n) throw d;
            return i(d)
        }
        o || (c && c.then && typeof c.then == "function" ? c.then(s, i) : c instanceof Error ? i(c) : s(c))
    }

    function i(a, ...o) {
        n || (n = !0, t(a, ...o))
    }

    function s(a) {
        i(null, a)
    }
}
const vr = {
    basename: Ek,
    dirname: Nk,
    extname: Ak,
    join: Tk,
    sep: "/"
};

function Ek(e, t) {
    if (t !== void 0 && typeof t != "string") throw new TypeError('"ext" argument must be a string');
    no(e);
    let n = 0,
        r = -1,
        i = e.length,
        s;
    if (t === void 0 || t.length === 0 || t.length > e.length) {
        for (; i--;)
            if (e.codePointAt(i) === 47) {
                if (s) {
                    n = i + 1;
                    break
                }
            } else r < 0 && (s = !0, r = i + 1);
        return r < 0 ? "" : e.slice(n, r)
    }
    if (t === e) return "";
    let a = -1,
        o = t.length - 1;
    for (; i--;)
        if (e.codePointAt(i) === 47) {
            if (s) {
                n = i + 1;
                break
            }
        } else a < 0 && (s = !0, a = i + 1), o > -1 && (e.codePointAt(i) === t.codePointAt(o--) ? o < 0 && (r = i) : (o = -1, r = a));
    return n === r ? r = a : r < 0 && (r = e.length), e.slice(n, r)
}

function Nk(e) {
    if (no(e), e.length === 0) return ".";
    let t = -1,
        n = e.length,
        r;
    for (; --n;)
        if (e.codePointAt(n) === 47) {
            if (r) {
                t = n;
                break
            }
        } else r || (r = !0);
    return t < 0 ? e.codePointAt(0) === 47 ? "/" : "." : t === 1 && e.codePointAt(0) === 47 ? "//" : e.slice(0, t)
}

function Ak(e) {
    no(e);
    let t = e.length,
        n = -1,
        r = 0,
        i = -1,
        s = 0,
        a;
    for (; t--;) {
        const o = e.codePointAt(t);
        if (o === 47) {
            if (a) {
                r = t + 1;
                break
            }
            continue
        }
        n < 0 && (a = !0, n = t + 1), o === 46 ? i < 0 ? i = t : s !== 1 && (s = 1) : i > -1 && (s = -1)
    }
    return i < 0 || n < 0 || s === 0 || s === 1 && i === n - 1 && i === r + 1 ? "" : e.slice(i, n)
}

function Tk(...e) {
    let t = -1,
        n;
    for (; ++t < e.length;) no(e[t]), e[t] && (n = n === void 0 ? e[t] : n + "/" + e[t]);
    return n === void 0 ? "." : Ik(n)
}

function Ik(e) {
    no(e);
    const t = e.codePointAt(0) === 47;
    let n = jk(e, !t);
    return n.length === 0 && !t && (n = "."), n.length > 0 && e.codePointAt(e.length - 1) === 47 && (n += "/"), t ? "/" + n : n
}

function jk(e, t) {
    let n = "",
        r = 0,
        i = -1,
        s = 0,
        a = -1,
        o, c;
    for (; ++a <= e.length;) {
        if (a < e.length) o = e.codePointAt(a);
        else {
            if (o === 47) break;
            o = 47
        }
        if (o === 47) {
            if (!(i === a - 1 || s === 1))
                if (i !== a - 1 && s === 2) {
                    if (n.length < 2 || r !== 2 || n.codePointAt(n.length - 1) !== 46 || n.codePointAt(n.length - 2) !== 46) {
                        if (n.length > 2) {
                            if (c = n.lastIndexOf("/"), c !== n.length - 1) {
                                c < 0 ? (n = "", r = 0) : (n = n.slice(0, c), r = n.length - 1 - n.lastIndexOf("/")), i = a, s = 0;
                                continue
                            }
                        } else if (n.length > 0) {
                            n = "", r = 0, i = a, s = 0;
                            continue
                        }
                    }
                    t && (n = n.length > 0 ? n + "/.." : "..", r = 2)
                } else n.length > 0 ? n += "/" + e.slice(i + 1, a) : n = e.slice(i + 1, a), r = a - i - 1;
            i = a, s = 0
        } else o === 46 && s > -1 ? s++ : s = -1
    }
    return n
}

function no(e) {
    if (typeof e != "string") throw new TypeError("Path must be a string. Received " + JSON.stringify(e))
}
const Mk = {
    cwd: Rk
};

function Rk() {
    return "/"
}

function u0(e) {
    return !!(e !== null && typeof e == "object" && "href" in e && e.href && "protocol" in e && e.protocol && e.auth === void 0)
}

function Ok(e) {
    if (typeof e == "string") e = new URL(e);
    else if (!u0(e)) {
        const t = new TypeError('The "path" argument must be of type string or an instance of URL. Received `' + e + "`");
        throw t.code = "ERR_INVALID_ARG_TYPE", t
    }
    if (e.protocol !== "file:") {
        const t = new TypeError("The URL must be of scheme file");
        throw t.code = "ERR_INVALID_URL_SCHEME", t
    }
    return Pk(e)
}

function Pk(e) {
    if (e.hostname !== "") {
        const r = new TypeError('File URL host must be "localhost" or empty on darwin');
        throw r.code = "ERR_INVALID_FILE_URL_HOST", r
    }
    const t = e.pathname;
    let n = -1;
    for (; ++n < t.length;)
        if (t.codePointAt(n) === 37 && t.codePointAt(n + 1) === 50) {
            const r = t.codePointAt(n + 2);
            if (r === 70 || r === 102) {
                const i = new TypeError("File URL path must not include encoded / characters");
                throw i.code = "ERR_INVALID_FILE_URL_PATH", i
            }
        } return decodeURIComponent(t)
}
const _c = ["history", "path", "basename", "stem", "extname", "dirname"];
class l5 {
    constructor(t) {
        let n;
        t ? u0(t) ? n = {
            path: t
        } : typeof t == "string" || Lk(t) ? n = {
            value: t
        } : n = t : n = {}, this.cwd = "cwd" in n ? "" : Mk.cwd(), this.data = {}, this.history = [], this.messages = [], this.value, this.map, this.result, this.stored;
        let r = -1;
        for (; ++r < _c.length;) {
            const s = _c[r];
            s in n && n[s] !== void 0 && n[s] !== null && (this[s] = s === "history" ? [...n[s]] : n[s])
        }
        let i;
        for (i in n) _c.includes(i) || (this[i] = n[i])
    }
    get basename() {
        return typeof this.path == "string" ? vr.basename(this.path) : void 0
    }
    set basename(t) {
        zc(t, "basename"), Fc(t, "basename"), this.path = vr.join(this.dirname || "", t)
    }
    get dirname() {
        return typeof this.path == "string" ? vr.dirname(this.path) : void 0
    }
    set dirname(t) {
        Ah(this.basename, "dirname"), this.path = vr.join(t || "", this.basename)
    }
    get extname() {
        return typeof this.path == "string" ? vr.extname(this.path) : void 0
    }
    set extname(t) {
        if (Fc(t, "extname"), Ah(this.dirname, "extname"), t) {
            if (t.codePointAt(0) !== 46) throw new Error("`extname` must start with `.`");
            if (t.includes(".", 1)) throw new Error("`extname` cannot contain multiple dots")
        }
        this.path = vr.join(this.dirname, this.stem + (t || ""))
    }
    get path() {
        return this.history[this.history.length - 1]
    }
    set path(t) {
        u0(t) && (t = Ok(t)), zc(t, "path"), this.path !== t && this.history.push(t)
    }
    get stem() {
        return typeof this.path == "string" ? vr.basename(this.path, this.extname) : void 0
    }
    set stem(t) {
        zc(t, "stem"), Fc(t, "stem"), this.path = vr.join(this.dirname || "", t + (this.extname || ""))
    }
    fail(t, n, r) {
        const i = this.message(t, n, r);
        throw i.fatal = !0, i
    }
    info(t, n, r) {
        const i = this.message(t, n, r);
        return i.fatal = void 0, i
    }
    message(t, n, r) {
        const i = new hn(t, n, r);
        return this.path && (i.name = this.path + ":" + i.name, i.file = this.path), i.fatal = !1, this.messages.push(i), i
    }
    toString(t) {
        return this.value === void 0 ? "" : typeof this.value == "string" ? this.value : new TextDecoder(t || void 0).decode(this.value)
    }
}

function Fc(e, t) {
    if (e && e.includes(vr.sep)) throw new Error("`" + t + "` cannot be a path: did not expect `" + vr.sep + "`")
}

function zc(e, t) {
    if (!e) throw new Error("`" + t + "` cannot be empty")
}

function Ah(e, t) {
    if (!e) throw new Error("Setting `" + t + "` requires `path` to be set too")
}

function Lk(e) {
    return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e)
}
const Dk = function(e) {
        const r = this.constructor.prototype,
            i = r[e],
            s = function() {
                return i.apply(s, arguments)
            };
        return Object.setPrototypeOf(s, r), s
    },
    _k = {}.hasOwnProperty;
class zd extends Dk {
    constructor() {
        super("copy"), this.Compiler = void 0, this.Parser = void 0, this.attachers = [], this.compiler = void 0, this.freezeIndex = -1, this.frozen = void 0, this.namespace = {}, this.parser = void 0, this.transformers = Ck()
    }
    copy() {
        const t = new zd;
        let n = -1;
        for (; ++n < this.attachers.length;) {
            const r = this.attachers[n];
            t.use(...r)
        }
        return t.data(Dc(!0, {}, this.namespace)), t
    }
    data(t, n) {
        return typeof t == "string" ? arguments.length === 2 ? (Hc("data", this.frozen), this.namespace[t] = n, this) : _k.call(this.namespace, t) && this.namespace[t] || void 0 : t ? (Hc("data", this.frozen), this.namespace = t, this) : this.namespace
    }
    freeze() {
        if (this.frozen) return this;
        const t = this;
        for (; ++this.freezeIndex < this.attachers.length;) {
            const [n, ...r] = this.attachers[this.freezeIndex];
            if (r[0] === !1) continue;
            r[0] === !0 && (r[0] = void 0);
            const i = n.call(t, ...r);
            typeof i == "function" && this.transformers.use(i)
        }
        return this.frozen = !0, this.freezeIndex = Number.POSITIVE_INFINITY, this
    }
    parse(t) {
        this.freeze();
        const n = bo(t),
            r = this.parser || this.Parser;
        return Bc("parse", r), r(String(n), n)
    }
    process(t, n) {
        const r = this;
        return this.freeze(), Bc("process", this.parser || this.Parser), $c("process", this.compiler || this.Compiler), n ? i(void 0, n) : new Promise(i);

        function i(s, a) {
            const o = bo(t),
                c = r.parse(o);
            r.run(c, o, function(d, f, m) {
                if (d || !f || !m) return u(d);
                const p = f,
                    g = r.stringify(p, m);
                Bk(g) ? m.value = g : m.result = g, u(d, m)
            });

            function u(d, f) {
                d || !f ? a(d) : s ? s(f) : n(void 0, f)
            }
        }
    }
    processSync(t) {
        let n = !1,
            r;
        return this.freeze(), Bc("processSync", this.parser || this.Parser), $c("processSync", this.compiler || this.Compiler), this.process(t, i), Ih("processSync", "process", n), r;

        function i(s, a) {
            n = !0, Eh(s), r = a
        }
    }
    run(t, n, r) {
        Th(t), this.freeze();
        const i = this.transformers;
        return !r && typeof n == "function" && (r = n, n = void 0), r ? s(void 0, r) : new Promise(s);

        function s(a, o) {
            const c = bo(n);
            i.run(t, c, u);

            function u(d, f, m) {
                const p = f || t;
                d ? o(d) : a ? a(p) : r(void 0, p, m)
            }
        }
    }
    runSync(t, n) {
        let r = !1,
            i;
        return this.run(t, n, s), Ih("runSync", "run", r), i;

        function s(a, o) {
            Eh(a), i = o, r = !0
        }
    }
    stringify(t, n) {
        this.freeze();
        const r = bo(n),
            i = this.compiler || this.Compiler;
        return $c("stringify", i), Th(t), i(t, r)
    }
    use(t, ...n) {
        const r = this.attachers,
            i = this.namespace;
        if (Hc("use", this.frozen), t != null)
            if (typeof t == "function") c(t, n);
            else if (typeof t == "object") Array.isArray(t) ? o(t) : a(t);
        else throw new TypeError("Expected usable value, not `" + t + "`");
        return this;

        function s(u) {
            if (typeof u == "function") c(u, []);
            else if (typeof u == "object")
                if (Array.isArray(u)) {
                    const [d, ...f] = u;
                    c(d, f)
                } else a(u);
            else throw new TypeError("Expected usable value, not `" + u + "`")
        }

        function a(u) {
            if (!("plugins" in u) && !("settings" in u)) throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");
            o(u.plugins), u.settings && (i.settings = Dc(!0, i.settings, u.settings))
        }

        function o(u) {
            let d = -1;
            if (u != null)
                if (Array.isArray(u))
                    for (; ++d < u.length;) {
                        const f = u[d];
                        s(f)
                    } else throw new TypeError("Expected a list of plugins, not `" + u + "`")
        }

        function c(u, d) {
            let f = -1,
                m = -1;
            for (; ++f < r.length;)
                if (r[f][0] === u) {
                    m = f;
                    break
                } if (m === -1) r.push([u, ...d]);
            else if (d.length > 0) {
                let [p, ...g] = d;
                const x = r[m][1];
                c0(x) && c0(p) && (p = Dc(!0, x, p)), r[m] = [u, p, ...g]
            }
        }
    }
}
const Fk = new zd().freeze();

function Bc(e, t) {
    if (typeof t != "function") throw new TypeError("Cannot `" + e + "` without `parser`")
}

function $c(e, t) {
    if (typeof t != "function") throw new TypeError("Cannot `" + e + "` without `compiler`")
}

function Hc(e, t) {
    if (t) throw new Error("Cannot call `" + e + "` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")
}

function Th(e) {
    if (!c0(e) || typeof e.type != "string") throw new TypeError("Expected node, got `" + e + "`")
}

function Ih(e, t, n) {
    if (!n) throw new Error("`" + e + "` finished async. Use `" + t + "` instead")
}

function bo(e) {
    return zk(e) ? e : new l5(e)
}

function zk(e) {
    return !!(e && typeof e == "object" && "message" in e && "messages" in e)
}

function Bk(e) {
    return typeof e == "string" || $k(e)
}

function $k(e) {
    return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e)
}
const Hk = "https://github.com/remarkjs/react-markdown/blob/main/changelog.md",
    jh = [],
    Mh = {
        allowDangerousHtml: !0
    },
    Uk = /^(https?|ircs?|mailto|xmpp)$/i,
    Vk = [{
        from: "astPlugins",
        id: "remove-buggy-html-in-markdown-parser"
    }, {
        from: "allowDangerousHtml",
        id: "remove-buggy-html-in-markdown-parser"
    }, {
        from: "allowNode",
        id: "replace-allownode-allowedtypes-and-disallowedtypes",
        to: "allowElement"
    }, {
        from: "allowedTypes",
        id: "replace-allownode-allowedtypes-and-disallowedtypes",
        to: "allowedElements"
    }, {
        from: "className",
        id: "remove-classname"
    }, {
        from: "disallowedTypes",
        id: "replace-allownode-allowedtypes-and-disallowedtypes",
        to: "disallowedElements"
    }, {
        from: "escapeHtml",
        id: "remove-buggy-html-in-markdown-parser"
    }, {
        from: "includeElementIndex",
        id: "#remove-includeelementindex"
    }, {
        from: "includeNodeIndex",
        id: "change-includenodeindex-to-includeelementindex"
    }, {
        from: "linkTarget",
        id: "remove-linktarget"
    }, {
        from: "plugins",
        id: "change-plugins-to-remarkplugins",
        to: "remarkPlugins"
    }, {
        from: "rawSourcePos",
        id: "#remove-rawsourcepos"
    }, {
        from: "renderers",
        id: "change-renderers-to-components",
        to: "components"
    }, {
        from: "source",
        id: "change-source-to-children",
        to: "children"
    }, {
        from: "sourcePos",
        id: "#remove-sourcepos"
    }, {
        from: "transformImageUri",
        id: "#add-urltransform",
        to: "urlTransform"
    }, {
        from: "transformLinkUri",
        id: "#add-urltransform",
        to: "urlTransform"
    }];

function c5(e) {
    const t = Wk(e),
        n = qk(e);
    return Gk(t.runSync(t.parse(n), n), e)
}

function Wk(e) {
    const t = e.rehypePlugins || jh,
        n = e.remarkPlugins || jh,
        r = e.remarkRehypeOptions ? {
            ...e.remarkRehypeOptions,
            ...Mh
        } : Mh;
    return Fk().use(AC).use(n).use(yk, r).use(t)
}

function qk(e) {
    const t = e.children || "",
        n = new l5;
    return typeof t == "string" && (n.value = t), n
}

function Gk(e, t) {
    const n = t.allowedElements,
        r = t.allowElement,
        i = t.components,
        s = t.disallowedElements,
        a = t.skipHtml,
        o = t.unwrapDisallowed,
        c = t.urlTransform || Yk;
    for (const d of Vk) Object.hasOwn(t, d.from) && ("" + d.from + (d.to ? "use `" + d.to + "` instead" : "remove it") + Hk + d.id, void 0);
    return Fd(e, u), uw(e, {
        Fragment: l.Fragment,
        components: i,
        ignoreInvalidStyle: !0,
        jsx: l.jsx,
        jsxs: l.jsxs,
        passKeys: !0,
        passNode: !0
    });

    function u(d, f, m) {
        if (d.type === "raw" && m && typeof f == "number") return a ? m.children.splice(f, 1) : m.children[f] = {
            type: "text",
            value: d.value
        }, f;
        if (d.type === "element") {
            let p;
            for (p in Rc)
                if (Object.hasOwn(Rc, p) && Object.hasOwn(d.properties, p)) {
                    const g = d.properties[p],
                        x = Rc[p];
                    (x === null || x.includes(d.tagName)) && (d.properties[p] = c(String(g || ""), p, d))
                }
        }
        if (d.type === "element") {
            let p = n ? !n.includes(d.tagName) : s ? s.includes(d.tagName) : !1;
            if (!p && r && typeof f == "number" && (p = !r(d, f, m)), p && m && typeof f == "number") return o && d.children ? m.children.splice(f, 1, ...d.children) : m.children.splice(f, 1), f
        }
    }
}

function Yk(e) {
    const t = e.indexOf(":"),
        n = e.indexOf("?"),
        r = e.indexOf("#"),
        i = e.indexOf("/");
    return t === -1 || i !== -1 && t > i || n !== -1 && t > n || r !== -1 && t > r || Uk.test(e.slice(0, t)) ? e : ""
}
const Rh = /[#.]/g;

function Kk(e, t) {
    const n = e || "",
        r = {};
    let i = 0,
        s, a;
    for (; i < n.length;) {
        Rh.lastIndex = i;
        const o = Rh.exec(n),
            c = n.slice(i, o ? o.index : n.length);
        c && (s ? s === "#" ? r.id = c : Array.isArray(r.className) ? r.className.push(c) : r.className = [c] : a = c, i += c.length), o && (s = o[0], i++)
    }
    return {
        type: "element",
        tagName: a || t || "div",
        properties: r,
        children: []
    }
}

function u5(e, t, n) {
    const r = n ? Jk(n) : void 0;

    function i(s, a, ...o) {
        let c;
        if (s == null) {
            c = {
                type: "root",
                children: []
            };
            const u = a;
            o.unshift(u)
        } else {
            c = Kk(s, t);
            const u = c.tagName.toLowerCase(),
                d = r ? r.get(u) : void 0;
            if (c.tagName = d || u, Xk(a)) o.unshift(a);
            else
                for (const [f, m] of Object.entries(a)) Zk(e, c.properties, f, m)
        }
        for (const u of o) d0(c.children, u);
        return c.type === "element" && c.tagName === "template" && (c.content = {
            type: "root",
            children: c.children
        }, c.children = []), c
    }
    return i
}

function Xk(e) {
    if (e === null || typeof e != "object" || Array.isArray(e)) return !0;
    if (typeof e.type != "string") return !1;
    const t = e,
        n = Object.keys(e);
    for (const r of n) {
        const i = t[r];
        if (i && typeof i == "object") {
            if (!Array.isArray(i)) return !0;
            const s = i;
            for (const a of s)
                if (typeof a != "number" && typeof a != "string") return !0
        }
    }
    return !!("children" in e && Array.isArray(e.children))
}

function Zk(e, t, n, r) {
    const i = Og(e, n);
    let s;
    if (r != null) {
        if (typeof r == "number") {
            if (Number.isNaN(r)) return;
            s = r
        } else typeof r == "boolean" ? s = r : typeof r == "string" ? i.spaceSeparated ? s = J1(r) : i.commaSeparated ? s = Y1(r) : i.commaOrSpaceSeparated ? s = J1(Y1(r).join(" ")) : s = Oh(i, i.property, r) : Array.isArray(r) ? s = [...r] : s = i.property === "style" ? Qk(r) : String(r);
        if (Array.isArray(s)) {
            const a = [];
            for (const o of s) a.push(Oh(i, i.property, o));
            s = a
        }
        i.property === "className" && Array.isArray(t.className) && (s = t.className.concat(s)), t[i.property] = s
    }
}

function d0(e, t) {
    if (t != null)
        if (typeof t == "number" || typeof t == "string") e.push({
            type: "text",
            value: String(t)
        });
        else if (Array.isArray(t))
        for (const n of t) d0(e, n);
    else if (typeof t == "object" && "type" in t) t.type === "root" ? d0(e, t.children) : e.push(t);
    else throw new Error("Expected node, nodes, or string, got `" + t + "`")
}

function Oh(e, t, n) {
    if (typeof n == "string") {
        if (e.number && n && !Number.isNaN(Number(n))) return Number(n);
        if ((e.boolean || e.overloadedBoolean) && (n === "" || La(n) === La(t))) return !0
    }
    return n
}

function Qk(e) {
    const t = [];
    for (const [n, r] of Object.entries(e)) t.push([n, r].join(": "));
    return t.join("; ")
}

function Jk(e) {
    const t = new Map;
    for (const n of e) t.set(n.toLowerCase(), n);
    return t
}
const eE = ["altGlyph", "altGlyphDef", "altGlyphItem", "animateColor", "animateMotion", "animateTransform", "clipPath", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "foreignObject", "glyphRef", "linearGradient", "radialGradient", "solidColor", "textArea", "textPath"],
    tE = u5(Pg, "div"),
    nE = u5(Xl, "g", eE),
    Uc = {
        html: "http://www.w3.org/1999/xhtml",
        svg: "http://www.w3.org/2000/svg"
    };

function rE(e, t) {
    return d5(e, {}) || {
        type: "root",
        children: []
    }
}

function d5(e, t) {
    const n = iE(e, t);
    return n && t.afterTransform && t.afterTransform(e, n), n
}

function iE(e, t) {
    switch (e.nodeType) {
        case 1:
            return lE(e, t);
        case 3:
            return aE(e);
        case 8:
            return oE(e);
        case 9:
            return Ph(e, t);
        case 10:
            return sE();
        case 11:
            return Ph(e, t);
        default:
            return
    }
}

function Ph(e, t) {
    return {
        type: "root",
        children: f5(e, t)
    }
}

function sE() {
    return {
        type: "doctype"
    }
}

function aE(e) {
    return {
        type: "text",
        value: e.nodeValue || ""
    }
}

function oE(e) {
    return {
        type: "comment",
        value: e.nodeValue || ""
    }
}

function lE(e, t) {
    const n = e.namespaceURI,
        r = n === Uc.svg ? nE : tE,
        i = n === Uc.html ? e.tagName.toLowerCase() : e.tagName,
        s = n === Uc.html && i === "template" ? e.content : e,
        a = e.getAttributeNames(),
        o = {};
    let c = -1;
    for (; ++c < a.length;) o[a[c]] = e.getAttribute(a[c]) || "";
    return r(i, o, f5(s, t))
}

function f5(e, t) {
    const n = e.childNodes,
        r = [];
    let i = -1;
    for (; ++i < n.length;) {
        const s = d5(n[i], t);
        s !== void 0 && r.push(s)
    }
    return r
}
new DOMParser;

function cE(e, t) {
    const n = uE(e);
    return rE(n)
}

function uE(e) {
    const t = document.createElement("template");
    return t.innerHTML = e, t.content
}
const Lh = function(e, t, n) {
        const r = to(n);
        if (!e || !e.type || !e.children) throw new Error("Expected parent node");
        if (typeof t == "number") {
            if (t < 0 || t === Number.POSITIVE_INFINITY) throw new Error("Expected positive finite number as index")
        } else if (t = e.children.indexOf(t), t < 0) throw new Error("Expected child node or index");
        for (; ++t < e.children.length;)
            if (r(e.children[t], t, e)) return e.children[t]
    },
    rs = function(e) {
        if (e == null) return hE;
        if (typeof e == "string") return fE(e);
        if (typeof e == "object") return dE(e);
        if (typeof e == "function") return Bd(e);
        throw new Error("Expected function, string, or array as `test`")
    };

function dE(e) {
    const t = [];
    let n = -1;
    for (; ++n < e.length;) t[n] = rs(e[n]);
    return Bd(r);

    function r(...i) {
        let s = -1;
        for (; ++s < t.length;)
            if (t[s].apply(this, i)) return !0;
        return !1
    }
}

function fE(e) {
    return Bd(t);

    function t(n) {
        return n.tagName === e
    }
}

function Bd(e) {
    return t;

    function t(n, r, i) {
        return !!(pE(n) && e.call(this, n, typeof r == "number" ? r : void 0, i || void 0))
    }
}

function hE(e) {
    return !!(e && typeof e == "object" && "type" in e && e.type === "element" && "tagName" in e && typeof e.tagName == "string")
}

function pE(e) {
    return e !== null && typeof e == "object" && "type" in e && "tagName" in e
}
const Dh = /\n/g,
    _h = /[\t ]+/g,
    f0 = rs("br"),
    Fh = rs(SE),
    mE = rs("p"),
    zh = rs("tr"),
    gE = rs(["datalist", "head", "noembed", "noframes", "noscript", "rp", "script", "style", "template", "title", wE, CE]),
    h5 = rs(["address", "article", "aside", "blockquote", "body", "caption", "center", "dd", "dialog", "dir", "dl", "dt", "div", "figure", "figcaption", "footer", "form,", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "html", "legend", "li", "listing", "main", "menu", "nav", "ol", "p", "plaintext", "pre", "section", "ul", "xmp"]);

function xE(e, t) {
    const n = t || {},
        r = "children" in e ? e.children : [],
        i = h5(e),
        s = g5(e, {
            whitespace: n.whitespace || "normal"
        }),
        a = [];
    (e.type === "text" || e.type === "comment") && a.push(...m5(e, {
        breakBefore: !0,
        breakAfter: !0
    }));
    let o = -1;
    for (; ++o < r.length;) a.push(...p5(r[o], e, {
        whitespace: s,
        breakBefore: o ? void 0 : i,
        breakAfter: o < r.length - 1 ? f0(r[o + 1]) : i
    }));
    const c = [];
    let u;
    for (o = -1; ++o < a.length;) {
        const d = a[o];
        typeof d == "number" ? u !== void 0 && d > u && (u = d) : d && (u !== void 0 && u > -1 && c.push(`
`.repeat(u) || " "), u = -1, c.push(d))
    }
    return c.join("")
}

function p5(e, t, n) {
    return e.type === "element" ? vE(e, t, n) : e.type === "text" ? n.whitespace === "normal" ? m5(e, n) : bE(e) : []
}

function vE(e, t, n) {
    const r = g5(e, n),
        i = e.children || [];
    let s = -1,
        a = [];
    if (gE(e)) return a;
    let o, c;
    for (f0(e) || zh(e) && Lh(t, e, zh) ? c = `
` : mE(e) ? (o = 2, c = 2) : h5(e) && (o = 1, c = 1); ++s < i.length;) a = a.concat(p5(i[s], e, {
        whitespace: r,
        breakBefore: s ? void 0 : o,
        breakAfter: s < i.length - 1 ? f0(i[s + 1]) : c
    }));
    return Fh(e) && Lh(t, e, Fh) && a.push("	"), o && a.unshift(o), c && a.push(c), a
}

function m5(e, t) {
    const n = String(e.value),
        r = [],
        i = [];
    let s = 0;
    for (; s <= n.length;) {
        Dh.lastIndex = s;
        const c = Dh.exec(n),
            u = c && "index" in c ? c.index : n.length;
        r.push(yE(n.slice(s, u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g, ""), s === 0 ? t.breakBefore : !0, u === n.length ? t.breakAfter : !0)), s = u + 1
    }
    let a = -1,
        o;
    for (; ++a < r.length;) r[a].charCodeAt(r[a].length - 1) === 8203 || a < r.length - 1 && r[a + 1].charCodeAt(0) === 8203 ? (i.push(r[a]), o = void 0) : r[a] ? (typeof o == "number" && i.push(o), i.push(r[a]), o = 0) : (a === 0 || a === r.length - 1) && i.push(0);
    return i
}

function bE(e) {
    return [String(e.value)]
}

function yE(e, t, n) {
    const r = [];
    let i = 0,
        s;
    for (; i < e.length;) {
        _h.lastIndex = i;
        const a = _h.exec(e);
        s = a ? a.index : e.length, !i && !s && a && !t && r.push(""), i !== s && r.push(e.slice(i, s)), i = a ? s + a[0].length : s
    }
    return i !== s && !n && r.push(""), r.join(" ")
}

function g5(e, t) {
    if (e.type === "element") {
        const n = e.properties || {};
        switch (e.tagName) {
            case "listing":
            case "plaintext":
            case "xmp":
                return "pre";
            case "nobr":
                return "nowrap";
            case "pre":
                return n.wrap ? "pre-wrap" : "pre";
            case "td":
            case "th":
                return n.noWrap ? "nowrap" : t.whitespace;
            case "textarea":
                return "pre-wrap"
        }
    }
    return t.whitespace
}

function wE(e) {
    return !!(e.properties || {}).hidden
}

function SE(e) {
    return e.tagName === "td" || e.tagName === "th"
}

function CE(e) {
    return e.tagName === "dialog" && !(e.properties || {}).open
}
class Pn {
    constructor(t, n, r) {
        this.lexer = void 0, this.start = void 0, this.end = void 0, this.lexer = t, this.start = n, this.end = r
    }
    static range(t, n) {
        return n ? !t || !t.loc || !n.loc || t.loc.lexer !== n.loc.lexer ? null : new Pn(t.loc.lexer, t.loc.start, n.loc.end) : t && t.loc
    }
}
class Kn {
    constructor(t, n) {
        this.text = void 0, this.loc = void 0, this.noexpand = void 0, this.treatAsRelax = void 0, this.text = t, this.loc = n
    }
    range(t, n) {
        return new Kn(n, Pn.range(this, t))
    }
}
class ne {
    constructor(t, n) {
        this.name = void 0, this.position = void 0, this.length = void 0, this.rawMessage = void 0;
        var r = "KaTeX parse error: " + t,
            i, s, a = n && n.loc;
        if (a && a.start <= a.end) {
            var o = a.lexer.input;
            i = a.start, s = a.end, i === o.length ? r += " at end of input: " : r += " at position " + (i + 1) + ": ";
            var c = o.slice(i, s).replace(/[^]/g, "$&"),
                u;
            i > 15 ? u = "" + o.slice(i - 15, i) : u = o.slice(0, i);
            var d;
            s + 15 < o.length ? d = o.slice(s, s + 15) + "" : d = o.slice(s), r += u + c + d
        }
        var f = new Error(r);
        return f.name = "ParseError", f.__proto__ = ne.prototype, f.position = i, i != null && s != null && (f.length = s - i), f.rawMessage = t, f
    }
}
ne.prototype.__proto__ = Error.prototype;
var kE = function(t, n) {
        return t.indexOf(n) !== -1
    },
    EE = function(t, n) {
        return t === void 0 ? n : t
    },
    NE = /([A-Z])/g,
    AE = function(t) {
        return t.replace(NE, "-$1").toLowerCase()
    },
    TE = {
        "&": "&amp;",
        ">": "&gt;",
        "<": "&lt;",
        '"': "&quot;",
        "'": "&#x27;"
    },
    IE = /[&><"']/g;

function jE(e) {
    return String(e).replace(IE, t => TE[t])
}
var x5 = function e(t) {
        return t.type === "ordgroup" || t.type === "color" ? t.body.length === 1 ? e(t.body[0]) : t : t.type === "font" ? e(t.body) : t
    },
    ME = function(t) {
        var n = x5(t);
        return n.type === "mathord" || n.type === "textord" || n.type === "atom"
    },
    RE = function(t) {
        if (!t) throw new Error("Expected non-null, but got " + String(t));
        return t
    },
    OE = function(t) {
        var n = /^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);
        return n ? n[2] !== ":" || !/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1]) ? null : n[1].toLowerCase() : "_relative"
    },
    Ee = {
        contains: kE,
        deflt: EE,
        escape: jE,
        hyphenate: AE,
        getBaseElem: x5,
        isCharacterBox: ME,
        protocolFromUrl: OE
    },
    Go = {
        displayMode: {
            type: "boolean",
            description: "Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",
            cli: "-d, --display-mode"
        },
        output: {
            type: {
                enum: ["htmlAndMathml", "html", "mathml"]
            },
            description: "Determines the markup language of the output.",
            cli: "-F, --format <type>"
        },
        leqno: {
            type: "boolean",
            description: "Render display math in leqno style (left-justified tags)."
        },
        fleqn: {
            type: "boolean",
            description: "Render display math flush left."
        },
        throwOnError: {
            type: "boolean",
            default: !0,
            cli: "-t, --no-throw-on-error",
            cliDescription: "Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."
        },
        errorColor: {
            type: "string",
            default: "#cc0000",
            cli: "-c, --error-color <color>",
            cliDescription: "A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",
            cliProcessor: e => "#" + e
        },
        macros: {
            type: "object",
            cli: "-m, --macro <def>",
            cliDescription: "Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",
            cliDefault: [],
            cliProcessor: (e, t) => (t.push(e), t)
        },
        minRuleThickness: {
            type: "number",
            description: "Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",
            processor: e => Math.max(0, e),
            cli: "--min-rule-thickness <size>",
            cliProcessor: parseFloat
        },
        colorIsTextColor: {
            type: "boolean",
            description: "Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",
            cli: "-b, --color-is-text-color"
        },
        strict: {
            type: [{
                enum: ["warn", "ignore", "error"]
            }, "boolean", "function"],
            description: "Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",
            cli: "-S, --strict",
            cliDefault: !1
        },
        trust: {
            type: ["boolean", "function"],
            description: "Trust the input, enabling all HTML features such as \\url.",
            cli: "-T, --trust"
        },
        maxSize: {
            type: "number",
            default: 1 / 0,
            description: "If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",
            processor: e => Math.max(0, e),
            cli: "-s, --max-size <n>",
            cliProcessor: parseInt
        },
        maxExpand: {
            type: "number",
            default: 1e3,
            description: "Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",
            processor: e => Math.max(0, e),
            cli: "-e, --max-expand <n>",
            cliProcessor: e => e === "Infinity" ? 1 / 0 : parseInt(e)
        },
        globalGroup: {
            type: "boolean",
            cli: !1
        }
    };

function PE(e) {
    if (e.default) return e.default;
    var t = e.type,
        n = Array.isArray(t) ? t[0] : t;
    if (typeof n != "string") return n.enum[0];
    switch (n) {
        case "boolean":
            return !1;
        case "string":
            return "";
        case "number":
            return 0;
        case "object":
            return {}
    }
}
class $d {
    constructor(t) {
        this.displayMode = void 0, this.output = void 0, this.leqno = void 0, this.fleqn = void 0, this.throwOnError = void 0, this.errorColor = void 0, this.macros = void 0, this.minRuleThickness = void 0, this.colorIsTextColor = void 0, this.strict = void 0, this.trust = void 0, this.maxSize = void 0, this.maxExpand = void 0, this.globalGroup = void 0, t = t || {};
        for (var n in Go)
            if (Go.hasOwnProperty(n)) {
                var r = Go[n];
                this[n] = t[n] !== void 0 ? r.processor ? r.processor(t[n]) : t[n] : PE(r)
            }
    }
    reportNonstrict(t, n, r) {
        var i = this.strict;
        if (typeof i == "function" && (i = i(t, n, r)), !(!i || i === "ignore")) {
            if (i === !0 || i === "error") throw new ne("LaTeX-incompatible input and strict mode is set to 'error': " + (n + " [" + t + "]"), r);
            i === "warn" ? typeof console < "u" && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + (n + " [" + t + "]")) : typeof console < "u" && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + i + "': " + n + " [" + t + "]"))
        }
    }
    useStrictBehavior(t, n, r) {
        var i = this.strict;
        if (typeof i == "function") try {
            i = i(t, n, r)
        } catch {
            i = "error"
        }
        return !i || i === "ignore" ? !1 : i === !0 || i === "error" ? !0 : i === "warn" ? (typeof console < "u" && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + (n + " [" + t + "]")), !1) : (typeof console < "u" && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + i + "': " + n + " [" + t + "]")), !1)
    }
    isTrusted(t) {
        if (t.url && !t.protocol) {
            var n = Ee.protocolFromUrl(t.url);
            if (n == null) return !1;
            t.protocol = n
        }
        var r = typeof this.trust == "function" ? this.trust(t) : this.trust;
        return !!r
    }
}
let ci = class {
    constructor(t, n, r) {
        this.id = void 0, this.size = void 0, this.cramped = void 0, this.id = t, this.size = n, this.cramped = r
    }
    sup() {
        return br[LE[this.id]]
    }
    sub() {
        return br[DE[this.id]]
    }
    fracNum() {
        return br[_E[this.id]]
    }
    fracDen() {
        return br[FE[this.id]]
    }
    cramp() {
        return br[zE[this.id]]
    }
    text() {
        return br[BE[this.id]]
    }
    isTight() {
        return this.size >= 2
    }
};
var Hd = 0,
    hl = 1,
    As = 2,
    Yr = 3,
    _a = 4,
    qn = 5,
    Fs = 6,
    xn = 7,
    br = [new ci(Hd, 0, !1), new ci(hl, 0, !0), new ci(As, 1, !1), new ci(Yr, 1, !0), new ci(_a, 2, !1), new ci(qn, 2, !0), new ci(Fs, 3, !1), new ci(xn, 3, !0)],
    LE = [_a, qn, _a, qn, Fs, xn, Fs, xn],
    DE = [qn, qn, qn, qn, xn, xn, xn, xn],
    _E = [As, Yr, _a, qn, Fs, xn, Fs, xn],
    FE = [Yr, Yr, qn, qn, xn, xn, xn, xn],
    zE = [hl, hl, Yr, Yr, qn, qn, xn, xn],
    BE = [Hd, hl, As, Yr, As, Yr, As, Yr],
    Ae = {
        DISPLAY: br[Hd],
        TEXT: br[As],
        SCRIPT: br[_a],
        SCRIPTSCRIPT: br[Fs]
    },
    h0 = [{
        name: "latin",
        blocks: [
            [256, 591],
            [768, 879]
        ]
    }, {
        name: "cyrillic",
        blocks: [
            [1024, 1279]
        ]
    }, {
        name: "armenian",
        blocks: [
            [1328, 1423]
        ]
    }, {
        name: "brahmic",
        blocks: [
            [2304, 4255]
        ]
    }, {
        name: "georgian",
        blocks: [
            [4256, 4351]
        ]
    }, {
        name: "cjk",
        blocks: [
            [12288, 12543],
            [19968, 40879],
            [65280, 65376]
        ]
    }, {
        name: "hangul",
        blocks: [
            [44032, 55215]
        ]
    }];

function $E(e) {
    for (var t = 0; t < h0.length; t++)
        for (var n = h0[t], r = 0; r < n.blocks.length; r++) {
            var i = n.blocks[r];
            if (e >= i[0] && e <= i[1]) return n.name
        }
    return null
}
var Yo = [];
h0.forEach(e => e.blocks.forEach(t => Yo.push(...t)));

function v5(e) {
    for (var t = 0; t < Yo.length; t += 2)
        if (e >= Yo[t] && e <= Yo[t + 1]) return !0;
    return !1
}
var ps = 80,
    HE = function(t, n) {
        return "M95," + (622 + t + n) + `
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l` + t / 2.075 + " -" + t + `
c5.3,-9.3,12,-14,20,-14
H400000v` + (40 + t) + `H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M` + (834 + t) + " " + n + "h400000v" + (40 + t) + "h-400000z"
    },
    UE = function(t, n) {
        return "M263," + (601 + t + n) + `c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l` + t / 2.084 + " -" + t + `
c4.7,-7.3,11,-11,19,-11
H40000v` + (40 + t) + `H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M` + (1001 + t) + " " + n + "h400000v" + (40 + t) + "h-400000z"
    },
    VE = function(t, n) {
        return "M983 " + (10 + t + n) + `
l` + t / 3.13 + " -" + t + `
c4,-6.7,10,-10,18,-10 H400000v` + (40 + t) + `
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M` + (1001 + t) + " " + n + "h400000v" + (40 + t) + "h-400000z"
    },
    WE = function(t, n) {
        return "M424," + (2398 + t + n) + `
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l` + t / 4.223 + " -" + t + `c4,-6.7,10,-10,18,-10 H400000
v` + (40 + t) + `H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M` + (1001 + t) + " " + n + `
h400000v` + (40 + t) + "h-400000z"
    },
    qE = function(t, n) {
        return "M473," + (2713 + t + n) + `
c339.3,-1799.3,509.3,-2700,510,-2702 l` + t / 5.298 + " -" + t + `
c3.3,-7.3,9.3,-11,18,-11 H400000v` + (40 + t) + `H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM` + (1001 + t) + " " + n + "h400000v" + (40 + t) + "H1017.7z"
    },
    GE = function(t) {
        var n = t / 2;
        return "M400000 " + t + " H0 L" + n + " 0 l65 45 L145 " + (t - 80) + " H400000z"
    },
    YE = function(t, n, r) {
        var i = r - 54 - n - t;
        return "M702 " + (t + n) + "H400000" + (40 + t) + `
H742v` + i + `l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 ` + n + "H400000v" + (40 + t) + "H742z"
    },
    KE = function(t, n, r) {
        n = 1e3 * n;
        var i = "";
        switch (t) {
            case "sqrtMain":
                i = HE(n, ps);
                break;
            case "sqrtSize1":
                i = UE(n, ps);
                break;
            case "sqrtSize2":
                i = VE(n, ps);
                break;
            case "sqrtSize3":
                i = WE(n, ps);
                break;
            case "sqrtSize4":
                i = qE(n, ps);
                break;
            case "sqrtTall":
                i = YE(n, ps, r)
        }
        return i
    },
    XE = function(t, n) {
        switch (t) {
            case "":
                return "M291 0 H417 V" + n + " H291z M291 0 H417 V" + n + " H291z";
            case "":
                return "M145 0 H188 V" + n + " H145z M145 0 H188 V" + n + " H145z";
            case "":
                return "M145 0 H188 V" + n + " H145z M145 0 H188 V" + n + " H145z" + ("M367 0 H410 V" + n + " H367z M367 0 H410 V" + n + " H367z");
            case "":
                return "M457 0 H583 V" + n + " H457z M457 0 H583 V" + n + " H457z";
            case "":
                return "M319 0 H403 V" + n + " H319z M319 0 H403 V" + n + " H319z";
            case "":
                return "M263 0 H347 V" + n + " H263z M263 0 H347 V" + n + " H263z";
            case "":
                return "M384 0 H504 V" + n + " H384z M384 0 H504 V" + n + " H384z";
            case "":
                return "M312 0 H355 V" + n + " H312z M312 0 H355 V" + n + " H312z";
            case "":
                return "M257 0 H300 V" + n + " H257z M257 0 H300 V" + n + " H257z" + ("M478 0 H521 V" + n + " H478z M478 0 H521 V" + n + " H478z");
            default:
                return ""
        }
    },
    Bh = {
        doubleleftarrow: `M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,
        doublerightarrow: `M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,
        leftarrow: `M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,
        leftbrace: `M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,
        leftbraceunder: `M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,
        leftgroup: `M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,
        leftgroupunder: `M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,
        leftharpoon: `M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,
        leftharpoonplus: `M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,
        leftharpoondown: `M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,
        leftharpoondownplus: `M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,
        lefthook: `M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,
        leftlinesegment: `M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,
        leftmapsto: `M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,
        leftToFrom: `M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,
        longequal: `M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,
        midbrace: `M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,
        midbraceunder: `M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,
        oiintSize1: `M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,
        oiintSize2: `M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,
        oiiintSize1: `M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,
        oiiintSize2: `M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,
        rightarrow: `M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,
        rightbrace: `M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,
        rightbraceunder: `M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,
        rightgroup: `M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,
        rightgroupunder: `M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,
        rightharpoon: `M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,
        rightharpoonplus: `M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,
        rightharpoondown: `M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,
        rightharpoondownplus: `M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,
        righthook: `M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,
        rightlinesegment: `M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,
        rightToFrom: `M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,
        twoheadleftarrow: `M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,
        twoheadrightarrow: `M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,
        tilde1: `M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,
        tilde2: `M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,
        tilde3: `M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,
        tilde4: `M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,
        vec: `M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,
        widehat1: `M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,
        widehat2: `M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
        widehat3: `M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
        widehat4: `M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
        widecheck1: `M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,
        widecheck2: `M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
        widecheck3: `M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
        widecheck4: `M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
        baraboveleftarrow: `M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,
        rightarrowabovebar: `M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,
        baraboveshortleftharpoon: `M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,
        rightharpoonaboveshortbar: `M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,
        shortbaraboveleftharpoon: `M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,
        shortrightharpoonabovebar: `M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`
    },
    ZE = function(t, n) {
        switch (t) {
            case "lbrack":
                return "M403 1759 V84 H666 V0 H319 V1759 v" + n + ` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v` + n + " v1759 h84z";
            case "rbrack":
                return "M347 1759 V0 H0 V84 H263 V1759 v" + n + ` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v` + n + " v1759 h84z";
            case "vert":
                return "M145 15 v585 v" + n + ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` + -n + ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v` + n + " v585 h43z";
            case "doublevert":
                return "M145 15 v585 v" + n + ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` + -n + ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v` + n + ` v585 h43z
M367 15 v585 v` + n + ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` + -n + ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v` + n + " v585 h43z";
            case "lfloor":
                return "M319 602 V0 H403 V602 v" + n + ` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v` + n + " v1715 H319z";
            case "rfloor":
                return "M319 602 V0 H403 V602 v" + n + ` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v` + n + " v1715 H319z";
            case "lceil":
                return "M403 1759 V84 H666 V0 H319 V1759 v" + n + ` v602 h84z
M403 1759 V0 H319 V1759 v` + n + " v602 h84z";
            case "rceil":
                return "M347 1759 V0 H0 V84 H263 V1759 v" + n + ` v602 h84z
M347 1759 V0 h-84 V1759 v` + n + " v602 h84z";
            case "lparen":
                return `M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,` + (n + 84) + `c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-` + (n + 92) + `c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;
            case "rparen":
                return `M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,` + (n + 9) + `
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-` + (n + 144) + `c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;
            default:
                throw new Error("Unknown stretchy delimiter.")
        }
    };
let ro = class {
    constructor(t) {
        this.children = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.children = t, this.classes = [], this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = {}
    }
    hasClass(t) {
        return Ee.contains(this.classes, t)
    }
    toNode() {
        for (var t = document.createDocumentFragment(), n = 0; n < this.children.length; n++) t.appendChild(this.children[n].toNode());
        return t
    }
    toMarkup() {
        for (var t = "", n = 0; n < this.children.length; n++) t += this.children[n].toMarkup();
        return t
    }
    toText() {
        var t = n => n.toText();
        return this.children.map(t).join("")
    }
};
var Cr = {
        "AMS-Regular": {
            32: [0, 0, 0, 0, .25],
            65: [0, .68889, 0, 0, .72222],
            66: [0, .68889, 0, 0, .66667],
            67: [0, .68889, 0, 0, .72222],
            68: [0, .68889, 0, 0, .72222],
            69: [0, .68889, 0, 0, .66667],
            70: [0, .68889, 0, 0, .61111],
            71: [0, .68889, 0, 0, .77778],
            72: [0, .68889, 0, 0, .77778],
            73: [0, .68889, 0, 0, .38889],
            74: [.16667, .68889, 0, 0, .5],
            75: [0, .68889, 0, 0, .77778],
            76: [0, .68889, 0, 0, .66667],
            77: [0, .68889, 0, 0, .94445],
            78: [0, .68889, 0, 0, .72222],
            79: [.16667, .68889, 0, 0, .77778],
            80: [0, .68889, 0, 0, .61111],
            81: [.16667, .68889, 0, 0, .77778],
            82: [0, .68889, 0, 0, .72222],
            83: [0, .68889, 0, 0, .55556],
            84: [0, .68889, 0, 0, .66667],
            85: [0, .68889, 0, 0, .72222],
            86: [0, .68889, 0, 0, .72222],
            87: [0, .68889, 0, 0, 1],
            88: [0, .68889, 0, 0, .72222],
            89: [0, .68889, 0, 0, .72222],
            90: [0, .68889, 0, 0, .66667],
            107: [0, .68889, 0, 0, .55556],
            160: [0, 0, 0, 0, .25],
            165: [0, .675, .025, 0, .75],
            174: [.15559, .69224, 0, 0, .94666],
            240: [0, .68889, 0, 0, .55556],
            295: [0, .68889, 0, 0, .54028],
            710: [0, .825, 0, 0, 2.33334],
            732: [0, .9, 0, 0, 2.33334],
            770: [0, .825, 0, 0, 2.33334],
            771: [0, .9, 0, 0, 2.33334],
            989: [.08167, .58167, 0, 0, .77778],
            1008: [0, .43056, .04028, 0, .66667],
            8245: [0, .54986, 0, 0, .275],
            8463: [0, .68889, 0, 0, .54028],
            8487: [0, .68889, 0, 0, .72222],
            8498: [0, .68889, 0, 0, .55556],
            8502: [0, .68889, 0, 0, .66667],
            8503: [0, .68889, 0, 0, .44445],
            8504: [0, .68889, 0, 0, .66667],
            8513: [0, .68889, 0, 0, .63889],
            8592: [-.03598, .46402, 0, 0, .5],
            8594: [-.03598, .46402, 0, 0, .5],
            8602: [-.13313, .36687, 0, 0, 1],
            8603: [-.13313, .36687, 0, 0, 1],
            8606: [.01354, .52239, 0, 0, 1],
            8608: [.01354, .52239, 0, 0, 1],
            8610: [.01354, .52239, 0, 0, 1.11111],
            8611: [.01354, .52239, 0, 0, 1.11111],
            8619: [0, .54986, 0, 0, 1],
            8620: [0, .54986, 0, 0, 1],
            8621: [-.13313, .37788, 0, 0, 1.38889],
            8622: [-.13313, .36687, 0, 0, 1],
            8624: [0, .69224, 0, 0, .5],
            8625: [0, .69224, 0, 0, .5],
            8630: [0, .43056, 0, 0, 1],
            8631: [0, .43056, 0, 0, 1],
            8634: [.08198, .58198, 0, 0, .77778],
            8635: [.08198, .58198, 0, 0, .77778],
            8638: [.19444, .69224, 0, 0, .41667],
            8639: [.19444, .69224, 0, 0, .41667],
            8642: [.19444, .69224, 0, 0, .41667],
            8643: [.19444, .69224, 0, 0, .41667],
            8644: [.1808, .675, 0, 0, 1],
            8646: [.1808, .675, 0, 0, 1],
            8647: [.1808, .675, 0, 0, 1],
            8648: [.19444, .69224, 0, 0, .83334],
            8649: [.1808, .675, 0, 0, 1],
            8650: [.19444, .69224, 0, 0, .83334],
            8651: [.01354, .52239, 0, 0, 1],
            8652: [.01354, .52239, 0, 0, 1],
            8653: [-.13313, .36687, 0, 0, 1],
            8654: [-.13313, .36687, 0, 0, 1],
            8655: [-.13313, .36687, 0, 0, 1],
            8666: [.13667, .63667, 0, 0, 1],
            8667: [.13667, .63667, 0, 0, 1],
            8669: [-.13313, .37788, 0, 0, 1],
            8672: [-.064, .437, 0, 0, 1.334],
            8674: [-.064, .437, 0, 0, 1.334],
            8705: [0, .825, 0, 0, .5],
            8708: [0, .68889, 0, 0, .55556],
            8709: [.08167, .58167, 0, 0, .77778],
            8717: [0, .43056, 0, 0, .42917],
            8722: [-.03598, .46402, 0, 0, .5],
            8724: [.08198, .69224, 0, 0, .77778],
            8726: [.08167, .58167, 0, 0, .77778],
            8733: [0, .69224, 0, 0, .77778],
            8736: [0, .69224, 0, 0, .72222],
            8737: [0, .69224, 0, 0, .72222],
            8738: [.03517, .52239, 0, 0, .72222],
            8739: [.08167, .58167, 0, 0, .22222],
            8740: [.25142, .74111, 0, 0, .27778],
            8741: [.08167, .58167, 0, 0, .38889],
            8742: [.25142, .74111, 0, 0, .5],
            8756: [0, .69224, 0, 0, .66667],
            8757: [0, .69224, 0, 0, .66667],
            8764: [-.13313, .36687, 0, 0, .77778],
            8765: [-.13313, .37788, 0, 0, .77778],
            8769: [-.13313, .36687, 0, 0, .77778],
            8770: [-.03625, .46375, 0, 0, .77778],
            8774: [.30274, .79383, 0, 0, .77778],
            8776: [-.01688, .48312, 0, 0, .77778],
            8778: [.08167, .58167, 0, 0, .77778],
            8782: [.06062, .54986, 0, 0, .77778],
            8783: [.06062, .54986, 0, 0, .77778],
            8785: [.08198, .58198, 0, 0, .77778],
            8786: [.08198, .58198, 0, 0, .77778],
            8787: [.08198, .58198, 0, 0, .77778],
            8790: [0, .69224, 0, 0, .77778],
            8791: [.22958, .72958, 0, 0, .77778],
            8796: [.08198, .91667, 0, 0, .77778],
            8806: [.25583, .75583, 0, 0, .77778],
            8807: [.25583, .75583, 0, 0, .77778],
            8808: [.25142, .75726, 0, 0, .77778],
            8809: [.25142, .75726, 0, 0, .77778],
            8812: [.25583, .75583, 0, 0, .5],
            8814: [.20576, .70576, 0, 0, .77778],
            8815: [.20576, .70576, 0, 0, .77778],
            8816: [.30274, .79383, 0, 0, .77778],
            8817: [.30274, .79383, 0, 0, .77778],
            8818: [.22958, .72958, 0, 0, .77778],
            8819: [.22958, .72958, 0, 0, .77778],
            8822: [.1808, .675, 0, 0, .77778],
            8823: [.1808, .675, 0, 0, .77778],
            8828: [.13667, .63667, 0, 0, .77778],
            8829: [.13667, .63667, 0, 0, .77778],
            8830: [.22958, .72958, 0, 0, .77778],
            8831: [.22958, .72958, 0, 0, .77778],
            8832: [.20576, .70576, 0, 0, .77778],
            8833: [.20576, .70576, 0, 0, .77778],
            8840: [.30274, .79383, 0, 0, .77778],
            8841: [.30274, .79383, 0, 0, .77778],
            8842: [.13597, .63597, 0, 0, .77778],
            8843: [.13597, .63597, 0, 0, .77778],
            8847: [.03517, .54986, 0, 0, .77778],
            8848: [.03517, .54986, 0, 0, .77778],
            8858: [.08198, .58198, 0, 0, .77778],
            8859: [.08198, .58198, 0, 0, .77778],
            8861: [.08198, .58198, 0, 0, .77778],
            8862: [0, .675, 0, 0, .77778],
            8863: [0, .675, 0, 0, .77778],
            8864: [0, .675, 0, 0, .77778],
            8865: [0, .675, 0, 0, .77778],
            8872: [0, .69224, 0, 0, .61111],
            8873: [0, .69224, 0, 0, .72222],
            8874: [0, .69224, 0, 0, .88889],
            8876: [0, .68889, 0, 0, .61111],
            8877: [0, .68889, 0, 0, .61111],
            8878: [0, .68889, 0, 0, .72222],
            8879: [0, .68889, 0, 0, .72222],
            8882: [.03517, .54986, 0, 0, .77778],
            8883: [.03517, .54986, 0, 0, .77778],
            8884: [.13667, .63667, 0, 0, .77778],
            8885: [.13667, .63667, 0, 0, .77778],
            8888: [0, .54986, 0, 0, 1.11111],
            8890: [.19444, .43056, 0, 0, .55556],
            8891: [.19444, .69224, 0, 0, .61111],
            8892: [.19444, .69224, 0, 0, .61111],
            8901: [0, .54986, 0, 0, .27778],
            8903: [.08167, .58167, 0, 0, .77778],
            8905: [.08167, .58167, 0, 0, .77778],
            8906: [.08167, .58167, 0, 0, .77778],
            8907: [0, .69224, 0, 0, .77778],
            8908: [0, .69224, 0, 0, .77778],
            8909: [-.03598, .46402, 0, 0, .77778],
            8910: [0, .54986, 0, 0, .76042],
            8911: [0, .54986, 0, 0, .76042],
            8912: [.03517, .54986, 0, 0, .77778],
            8913: [.03517, .54986, 0, 0, .77778],
            8914: [0, .54986, 0, 0, .66667],
            8915: [0, .54986, 0, 0, .66667],
            8916: [0, .69224, 0, 0, .66667],
            8918: [.0391, .5391, 0, 0, .77778],
            8919: [.0391, .5391, 0, 0, .77778],
            8920: [.03517, .54986, 0, 0, 1.33334],
            8921: [.03517, .54986, 0, 0, 1.33334],
            8922: [.38569, .88569, 0, 0, .77778],
            8923: [.38569, .88569, 0, 0, .77778],
            8926: [.13667, .63667, 0, 0, .77778],
            8927: [.13667, .63667, 0, 0, .77778],
            8928: [.30274, .79383, 0, 0, .77778],
            8929: [.30274, .79383, 0, 0, .77778],
            8934: [.23222, .74111, 0, 0, .77778],
            8935: [.23222, .74111, 0, 0, .77778],
            8936: [.23222, .74111, 0, 0, .77778],
            8937: [.23222, .74111, 0, 0, .77778],
            8938: [.20576, .70576, 0, 0, .77778],
            8939: [.20576, .70576, 0, 0, .77778],
            8940: [.30274, .79383, 0, 0, .77778],
            8941: [.30274, .79383, 0, 0, .77778],
            8994: [.19444, .69224, 0, 0, .77778],
            8995: [.19444, .69224, 0, 0, .77778],
            9416: [.15559, .69224, 0, 0, .90222],
            9484: [0, .69224, 0, 0, .5],
            9488: [0, .69224, 0, 0, .5],
            9492: [0, .37788, 0, 0, .5],
            9496: [0, .37788, 0, 0, .5],
            9585: [.19444, .68889, 0, 0, .88889],
            9586: [.19444, .74111, 0, 0, .88889],
            9632: [0, .675, 0, 0, .77778],
            9633: [0, .675, 0, 0, .77778],
            9650: [0, .54986, 0, 0, .72222],
            9651: [0, .54986, 0, 0, .72222],
            9654: [.03517, .54986, 0, 0, .77778],
            9660: [0, .54986, 0, 0, .72222],
            9661: [0, .54986, 0, 0, .72222],
            9664: [.03517, .54986, 0, 0, .77778],
            9674: [.11111, .69224, 0, 0, .66667],
            9733: [.19444, .69224, 0, 0, .94445],
            10003: [0, .69224, 0, 0, .83334],
            10016: [0, .69224, 0, 0, .83334],
            10731: [.11111, .69224, 0, 0, .66667],
            10846: [.19444, .75583, 0, 0, .61111],
            10877: [.13667, .63667, 0, 0, .77778],
            10878: [.13667, .63667, 0, 0, .77778],
            10885: [.25583, .75583, 0, 0, .77778],
            10886: [.25583, .75583, 0, 0, .77778],
            10887: [.13597, .63597, 0, 0, .77778],
            10888: [.13597, .63597, 0, 0, .77778],
            10889: [.26167, .75726, 0, 0, .77778],
            10890: [.26167, .75726, 0, 0, .77778],
            10891: [.48256, .98256, 0, 0, .77778],
            10892: [.48256, .98256, 0, 0, .77778],
            10901: [.13667, .63667, 0, 0, .77778],
            10902: [.13667, .63667, 0, 0, .77778],
            10933: [.25142, .75726, 0, 0, .77778],
            10934: [.25142, .75726, 0, 0, .77778],
            10935: [.26167, .75726, 0, 0, .77778],
            10936: [.26167, .75726, 0, 0, .77778],
            10937: [.26167, .75726, 0, 0, .77778],
            10938: [.26167, .75726, 0, 0, .77778],
            10949: [.25583, .75583, 0, 0, .77778],
            10950: [.25583, .75583, 0, 0, .77778],
            10955: [.28481, .79383, 0, 0, .77778],
            10956: [.28481, .79383, 0, 0, .77778],
            57350: [.08167, .58167, 0, 0, .22222],
            57351: [.08167, .58167, 0, 0, .38889],
            57352: [.08167, .58167, 0, 0, .77778],
            57353: [0, .43056, .04028, 0, .66667],
            57356: [.25142, .75726, 0, 0, .77778],
            57357: [.25142, .75726, 0, 0, .77778],
            57358: [.41951, .91951, 0, 0, .77778],
            57359: [.30274, .79383, 0, 0, .77778],
            57360: [.30274, .79383, 0, 0, .77778],
            57361: [.41951, .91951, 0, 0, .77778],
            57366: [.25142, .75726, 0, 0, .77778],
            57367: [.25142, .75726, 0, 0, .77778],
            57368: [.25142, .75726, 0, 0, .77778],
            57369: [.25142, .75726, 0, 0, .77778],
            57370: [.13597, .63597, 0, 0, .77778],
            57371: [.13597, .63597, 0, 0, .77778]
        },
        "Caligraphic-Regular": {
            32: [0, 0, 0, 0, .25],
            65: [0, .68333, 0, .19445, .79847],
            66: [0, .68333, .03041, .13889, .65681],
            67: [0, .68333, .05834, .13889, .52653],
            68: [0, .68333, .02778, .08334, .77139],
            69: [0, .68333, .08944, .11111, .52778],
            70: [0, .68333, .09931, .11111, .71875],
            71: [.09722, .68333, .0593, .11111, .59487],
            72: [0, .68333, .00965, .11111, .84452],
            73: [0, .68333, .07382, 0, .54452],
            74: [.09722, .68333, .18472, .16667, .67778],
            75: [0, .68333, .01445, .05556, .76195],
            76: [0, .68333, 0, .13889, .68972],
            77: [0, .68333, 0, .13889, 1.2009],
            78: [0, .68333, .14736, .08334, .82049],
            79: [0, .68333, .02778, .11111, .79611],
            80: [0, .68333, .08222, .08334, .69556],
            81: [.09722, .68333, 0, .11111, .81667],
            82: [0, .68333, 0, .08334, .8475],
            83: [0, .68333, .075, .13889, .60556],
            84: [0, .68333, .25417, 0, .54464],
            85: [0, .68333, .09931, .08334, .62583],
            86: [0, .68333, .08222, 0, .61278],
            87: [0, .68333, .08222, .08334, .98778],
            88: [0, .68333, .14643, .13889, .7133],
            89: [.09722, .68333, .08222, .08334, .66834],
            90: [0, .68333, .07944, .13889, .72473],
            160: [0, 0, 0, 0, .25]
        },
        "Fraktur-Regular": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69141, 0, 0, .29574],
            34: [0, .69141, 0, 0, .21471],
            38: [0, .69141, 0, 0, .73786],
            39: [0, .69141, 0, 0, .21201],
            40: [.24982, .74947, 0, 0, .38865],
            41: [.24982, .74947, 0, 0, .38865],
            42: [0, .62119, 0, 0, .27764],
            43: [.08319, .58283, 0, 0, .75623],
            44: [0, .10803, 0, 0, .27764],
            45: [.08319, .58283, 0, 0, .75623],
            46: [0, .10803, 0, 0, .27764],
            47: [.24982, .74947, 0, 0, .50181],
            48: [0, .47534, 0, 0, .50181],
            49: [0, .47534, 0, 0, .50181],
            50: [0, .47534, 0, 0, .50181],
            51: [.18906, .47534, 0, 0, .50181],
            52: [.18906, .47534, 0, 0, .50181],
            53: [.18906, .47534, 0, 0, .50181],
            54: [0, .69141, 0, 0, .50181],
            55: [.18906, .47534, 0, 0, .50181],
            56: [0, .69141, 0, 0, .50181],
            57: [.18906, .47534, 0, 0, .50181],
            58: [0, .47534, 0, 0, .21606],
            59: [.12604, .47534, 0, 0, .21606],
            61: [-.13099, .36866, 0, 0, .75623],
            63: [0, .69141, 0, 0, .36245],
            65: [0, .69141, 0, 0, .7176],
            66: [0, .69141, 0, 0, .88397],
            67: [0, .69141, 0, 0, .61254],
            68: [0, .69141, 0, 0, .83158],
            69: [0, .69141, 0, 0, .66278],
            70: [.12604, .69141, 0, 0, .61119],
            71: [0, .69141, 0, 0, .78539],
            72: [.06302, .69141, 0, 0, .7203],
            73: [0, .69141, 0, 0, .55448],
            74: [.12604, .69141, 0, 0, .55231],
            75: [0, .69141, 0, 0, .66845],
            76: [0, .69141, 0, 0, .66602],
            77: [0, .69141, 0, 0, 1.04953],
            78: [0, .69141, 0, 0, .83212],
            79: [0, .69141, 0, 0, .82699],
            80: [.18906, .69141, 0, 0, .82753],
            81: [.03781, .69141, 0, 0, .82699],
            82: [0, .69141, 0, 0, .82807],
            83: [0, .69141, 0, 0, .82861],
            84: [0, .69141, 0, 0, .66899],
            85: [0, .69141, 0, 0, .64576],
            86: [0, .69141, 0, 0, .83131],
            87: [0, .69141, 0, 0, 1.04602],
            88: [0, .69141, 0, 0, .71922],
            89: [.18906, .69141, 0, 0, .83293],
            90: [.12604, .69141, 0, 0, .60201],
            91: [.24982, .74947, 0, 0, .27764],
            93: [.24982, .74947, 0, 0, .27764],
            94: [0, .69141, 0, 0, .49965],
            97: [0, .47534, 0, 0, .50046],
            98: [0, .69141, 0, 0, .51315],
            99: [0, .47534, 0, 0, .38946],
            100: [0, .62119, 0, 0, .49857],
            101: [0, .47534, 0, 0, .40053],
            102: [.18906, .69141, 0, 0, .32626],
            103: [.18906, .47534, 0, 0, .5037],
            104: [.18906, .69141, 0, 0, .52126],
            105: [0, .69141, 0, 0, .27899],
            106: [0, .69141, 0, 0, .28088],
            107: [0, .69141, 0, 0, .38946],
            108: [0, .69141, 0, 0, .27953],
            109: [0, .47534, 0, 0, .76676],
            110: [0, .47534, 0, 0, .52666],
            111: [0, .47534, 0, 0, .48885],
            112: [.18906, .52396, 0, 0, .50046],
            113: [.18906, .47534, 0, 0, .48912],
            114: [0, .47534, 0, 0, .38919],
            115: [0, .47534, 0, 0, .44266],
            116: [0, .62119, 0, 0, .33301],
            117: [0, .47534, 0, 0, .5172],
            118: [0, .52396, 0, 0, .5118],
            119: [0, .52396, 0, 0, .77351],
            120: [.18906, .47534, 0, 0, .38865],
            121: [.18906, .47534, 0, 0, .49884],
            122: [.18906, .47534, 0, 0, .39054],
            160: [0, 0, 0, 0, .25],
            8216: [0, .69141, 0, 0, .21471],
            8217: [0, .69141, 0, 0, .21471],
            58112: [0, .62119, 0, 0, .49749],
            58113: [0, .62119, 0, 0, .4983],
            58114: [.18906, .69141, 0, 0, .33328],
            58115: [.18906, .69141, 0, 0, .32923],
            58116: [.18906, .47534, 0, 0, .50343],
            58117: [0, .69141, 0, 0, .33301],
            58118: [0, .62119, 0, 0, .33409],
            58119: [0, .47534, 0, 0, .50073]
        },
        "Main-Bold": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, 0, 0, .35],
            34: [0, .69444, 0, 0, .60278],
            35: [.19444, .69444, 0, 0, .95833],
            36: [.05556, .75, 0, 0, .575],
            37: [.05556, .75, 0, 0, .95833],
            38: [0, .69444, 0, 0, .89444],
            39: [0, .69444, 0, 0, .31944],
            40: [.25, .75, 0, 0, .44722],
            41: [.25, .75, 0, 0, .44722],
            42: [0, .75, 0, 0, .575],
            43: [.13333, .63333, 0, 0, .89444],
            44: [.19444, .15556, 0, 0, .31944],
            45: [0, .44444, 0, 0, .38333],
            46: [0, .15556, 0, 0, .31944],
            47: [.25, .75, 0, 0, .575],
            48: [0, .64444, 0, 0, .575],
            49: [0, .64444, 0, 0, .575],
            50: [0, .64444, 0, 0, .575],
            51: [0, .64444, 0, 0, .575],
            52: [0, .64444, 0, 0, .575],
            53: [0, .64444, 0, 0, .575],
            54: [0, .64444, 0, 0, .575],
            55: [0, .64444, 0, 0, .575],
            56: [0, .64444, 0, 0, .575],
            57: [0, .64444, 0, 0, .575],
            58: [0, .44444, 0, 0, .31944],
            59: [.19444, .44444, 0, 0, .31944],
            60: [.08556, .58556, 0, 0, .89444],
            61: [-.10889, .39111, 0, 0, .89444],
            62: [.08556, .58556, 0, 0, .89444],
            63: [0, .69444, 0, 0, .54305],
            64: [0, .69444, 0, 0, .89444],
            65: [0, .68611, 0, 0, .86944],
            66: [0, .68611, 0, 0, .81805],
            67: [0, .68611, 0, 0, .83055],
            68: [0, .68611, 0, 0, .88194],
            69: [0, .68611, 0, 0, .75555],
            70: [0, .68611, 0, 0, .72361],
            71: [0, .68611, 0, 0, .90416],
            72: [0, .68611, 0, 0, .9],
            73: [0, .68611, 0, 0, .43611],
            74: [0, .68611, 0, 0, .59444],
            75: [0, .68611, 0, 0, .90138],
            76: [0, .68611, 0, 0, .69166],
            77: [0, .68611, 0, 0, 1.09166],
            78: [0, .68611, 0, 0, .9],
            79: [0, .68611, 0, 0, .86388],
            80: [0, .68611, 0, 0, .78611],
            81: [.19444, .68611, 0, 0, .86388],
            82: [0, .68611, 0, 0, .8625],
            83: [0, .68611, 0, 0, .63889],
            84: [0, .68611, 0, 0, .8],
            85: [0, .68611, 0, 0, .88472],
            86: [0, .68611, .01597, 0, .86944],
            87: [0, .68611, .01597, 0, 1.18888],
            88: [0, .68611, 0, 0, .86944],
            89: [0, .68611, .02875, 0, .86944],
            90: [0, .68611, 0, 0, .70277],
            91: [.25, .75, 0, 0, .31944],
            92: [.25, .75, 0, 0, .575],
            93: [.25, .75, 0, 0, .31944],
            94: [0, .69444, 0, 0, .575],
            95: [.31, .13444, .03194, 0, .575],
            97: [0, .44444, 0, 0, .55902],
            98: [0, .69444, 0, 0, .63889],
            99: [0, .44444, 0, 0, .51111],
            100: [0, .69444, 0, 0, .63889],
            101: [0, .44444, 0, 0, .52708],
            102: [0, .69444, .10903, 0, .35139],
            103: [.19444, .44444, .01597, 0, .575],
            104: [0, .69444, 0, 0, .63889],
            105: [0, .69444, 0, 0, .31944],
            106: [.19444, .69444, 0, 0, .35139],
            107: [0, .69444, 0, 0, .60694],
            108: [0, .69444, 0, 0, .31944],
            109: [0, .44444, 0, 0, .95833],
            110: [0, .44444, 0, 0, .63889],
            111: [0, .44444, 0, 0, .575],
            112: [.19444, .44444, 0, 0, .63889],
            113: [.19444, .44444, 0, 0, .60694],
            114: [0, .44444, 0, 0, .47361],
            115: [0, .44444, 0, 0, .45361],
            116: [0, .63492, 0, 0, .44722],
            117: [0, .44444, 0, 0, .63889],
            118: [0, .44444, .01597, 0, .60694],
            119: [0, .44444, .01597, 0, .83055],
            120: [0, .44444, 0, 0, .60694],
            121: [.19444, .44444, .01597, 0, .60694],
            122: [0, .44444, 0, 0, .51111],
            123: [.25, .75, 0, 0, .575],
            124: [.25, .75, 0, 0, .31944],
            125: [.25, .75, 0, 0, .575],
            126: [.35, .34444, 0, 0, .575],
            160: [0, 0, 0, 0, .25],
            163: [0, .69444, 0, 0, .86853],
            168: [0, .69444, 0, 0, .575],
            172: [0, .44444, 0, 0, .76666],
            176: [0, .69444, 0, 0, .86944],
            177: [.13333, .63333, 0, 0, .89444],
            184: [.17014, 0, 0, 0, .51111],
            198: [0, .68611, 0, 0, 1.04166],
            215: [.13333, .63333, 0, 0, .89444],
            216: [.04861, .73472, 0, 0, .89444],
            223: [0, .69444, 0, 0, .59722],
            230: [0, .44444, 0, 0, .83055],
            247: [.13333, .63333, 0, 0, .89444],
            248: [.09722, .54167, 0, 0, .575],
            305: [0, .44444, 0, 0, .31944],
            338: [0, .68611, 0, 0, 1.16944],
            339: [0, .44444, 0, 0, .89444],
            567: [.19444, .44444, 0, 0, .35139],
            710: [0, .69444, 0, 0, .575],
            711: [0, .63194, 0, 0, .575],
            713: [0, .59611, 0, 0, .575],
            714: [0, .69444, 0, 0, .575],
            715: [0, .69444, 0, 0, .575],
            728: [0, .69444, 0, 0, .575],
            729: [0, .69444, 0, 0, .31944],
            730: [0, .69444, 0, 0, .86944],
            732: [0, .69444, 0, 0, .575],
            733: [0, .69444, 0, 0, .575],
            915: [0, .68611, 0, 0, .69166],
            916: [0, .68611, 0, 0, .95833],
            920: [0, .68611, 0, 0, .89444],
            923: [0, .68611, 0, 0, .80555],
            926: [0, .68611, 0, 0, .76666],
            928: [0, .68611, 0, 0, .9],
            931: [0, .68611, 0, 0, .83055],
            933: [0, .68611, 0, 0, .89444],
            934: [0, .68611, 0, 0, .83055],
            936: [0, .68611, 0, 0, .89444],
            937: [0, .68611, 0, 0, .83055],
            8211: [0, .44444, .03194, 0, .575],
            8212: [0, .44444, .03194, 0, 1.14999],
            8216: [0, .69444, 0, 0, .31944],
            8217: [0, .69444, 0, 0, .31944],
            8220: [0, .69444, 0, 0, .60278],
            8221: [0, .69444, 0, 0, .60278],
            8224: [.19444, .69444, 0, 0, .51111],
            8225: [.19444, .69444, 0, 0, .51111],
            8242: [0, .55556, 0, 0, .34444],
            8407: [0, .72444, .15486, 0, .575],
            8463: [0, .69444, 0, 0, .66759],
            8465: [0, .69444, 0, 0, .83055],
            8467: [0, .69444, 0, 0, .47361],
            8472: [.19444, .44444, 0, 0, .74027],
            8476: [0, .69444, 0, 0, .83055],
            8501: [0, .69444, 0, 0, .70277],
            8592: [-.10889, .39111, 0, 0, 1.14999],
            8593: [.19444, .69444, 0, 0, .575],
            8594: [-.10889, .39111, 0, 0, 1.14999],
            8595: [.19444, .69444, 0, 0, .575],
            8596: [-.10889, .39111, 0, 0, 1.14999],
            8597: [.25, .75, 0, 0, .575],
            8598: [.19444, .69444, 0, 0, 1.14999],
            8599: [.19444, .69444, 0, 0, 1.14999],
            8600: [.19444, .69444, 0, 0, 1.14999],
            8601: [.19444, .69444, 0, 0, 1.14999],
            8636: [-.10889, .39111, 0, 0, 1.14999],
            8637: [-.10889, .39111, 0, 0, 1.14999],
            8640: [-.10889, .39111, 0, 0, 1.14999],
            8641: [-.10889, .39111, 0, 0, 1.14999],
            8656: [-.10889, .39111, 0, 0, 1.14999],
            8657: [.19444, .69444, 0, 0, .70277],
            8658: [-.10889, .39111, 0, 0, 1.14999],
            8659: [.19444, .69444, 0, 0, .70277],
            8660: [-.10889, .39111, 0, 0, 1.14999],
            8661: [.25, .75, 0, 0, .70277],
            8704: [0, .69444, 0, 0, .63889],
            8706: [0, .69444, .06389, 0, .62847],
            8707: [0, .69444, 0, 0, .63889],
            8709: [.05556, .75, 0, 0, .575],
            8711: [0, .68611, 0, 0, .95833],
            8712: [.08556, .58556, 0, 0, .76666],
            8715: [.08556, .58556, 0, 0, .76666],
            8722: [.13333, .63333, 0, 0, .89444],
            8723: [.13333, .63333, 0, 0, .89444],
            8725: [.25, .75, 0, 0, .575],
            8726: [.25, .75, 0, 0, .575],
            8727: [-.02778, .47222, 0, 0, .575],
            8728: [-.02639, .47361, 0, 0, .575],
            8729: [-.02639, .47361, 0, 0, .575],
            8730: [.18, .82, 0, 0, .95833],
            8733: [0, .44444, 0, 0, .89444],
            8734: [0, .44444, 0, 0, 1.14999],
            8736: [0, .69224, 0, 0, .72222],
            8739: [.25, .75, 0, 0, .31944],
            8741: [.25, .75, 0, 0, .575],
            8743: [0, .55556, 0, 0, .76666],
            8744: [0, .55556, 0, 0, .76666],
            8745: [0, .55556, 0, 0, .76666],
            8746: [0, .55556, 0, 0, .76666],
            8747: [.19444, .69444, .12778, 0, .56875],
            8764: [-.10889, .39111, 0, 0, .89444],
            8768: [.19444, .69444, 0, 0, .31944],
            8771: [.00222, .50222, 0, 0, .89444],
            8773: [.027, .638, 0, 0, .894],
            8776: [.02444, .52444, 0, 0, .89444],
            8781: [.00222, .50222, 0, 0, .89444],
            8801: [.00222, .50222, 0, 0, .89444],
            8804: [.19667, .69667, 0, 0, .89444],
            8805: [.19667, .69667, 0, 0, .89444],
            8810: [.08556, .58556, 0, 0, 1.14999],
            8811: [.08556, .58556, 0, 0, 1.14999],
            8826: [.08556, .58556, 0, 0, .89444],
            8827: [.08556, .58556, 0, 0, .89444],
            8834: [.08556, .58556, 0, 0, .89444],
            8835: [.08556, .58556, 0, 0, .89444],
            8838: [.19667, .69667, 0, 0, .89444],
            8839: [.19667, .69667, 0, 0, .89444],
            8846: [0, .55556, 0, 0, .76666],
            8849: [.19667, .69667, 0, 0, .89444],
            8850: [.19667, .69667, 0, 0, .89444],
            8851: [0, .55556, 0, 0, .76666],
            8852: [0, .55556, 0, 0, .76666],
            8853: [.13333, .63333, 0, 0, .89444],
            8854: [.13333, .63333, 0, 0, .89444],
            8855: [.13333, .63333, 0, 0, .89444],
            8856: [.13333, .63333, 0, 0, .89444],
            8857: [.13333, .63333, 0, 0, .89444],
            8866: [0, .69444, 0, 0, .70277],
            8867: [0, .69444, 0, 0, .70277],
            8868: [0, .69444, 0, 0, .89444],
            8869: [0, .69444, 0, 0, .89444],
            8900: [-.02639, .47361, 0, 0, .575],
            8901: [-.02639, .47361, 0, 0, .31944],
            8902: [-.02778, .47222, 0, 0, .575],
            8968: [.25, .75, 0, 0, .51111],
            8969: [.25, .75, 0, 0, .51111],
            8970: [.25, .75, 0, 0, .51111],
            8971: [.25, .75, 0, 0, .51111],
            8994: [-.13889, .36111, 0, 0, 1.14999],
            8995: [-.13889, .36111, 0, 0, 1.14999],
            9651: [.19444, .69444, 0, 0, 1.02222],
            9657: [-.02778, .47222, 0, 0, .575],
            9661: [.19444, .69444, 0, 0, 1.02222],
            9667: [-.02778, .47222, 0, 0, .575],
            9711: [.19444, .69444, 0, 0, 1.14999],
            9824: [.12963, .69444, 0, 0, .89444],
            9825: [.12963, .69444, 0, 0, .89444],
            9826: [.12963, .69444, 0, 0, .89444],
            9827: [.12963, .69444, 0, 0, .89444],
            9837: [0, .75, 0, 0, .44722],
            9838: [.19444, .69444, 0, 0, .44722],
            9839: [.19444, .69444, 0, 0, .44722],
            10216: [.25, .75, 0, 0, .44722],
            10217: [.25, .75, 0, 0, .44722],
            10815: [0, .68611, 0, 0, .9],
            10927: [.19667, .69667, 0, 0, .89444],
            10928: [.19667, .69667, 0, 0, .89444],
            57376: [.19444, .69444, 0, 0, 0]
        },
        "Main-BoldItalic": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, .11417, 0, .38611],
            34: [0, .69444, .07939, 0, .62055],
            35: [.19444, .69444, .06833, 0, .94444],
            37: [.05556, .75, .12861, 0, .94444],
            38: [0, .69444, .08528, 0, .88555],
            39: [0, .69444, .12945, 0, .35555],
            40: [.25, .75, .15806, 0, .47333],
            41: [.25, .75, .03306, 0, .47333],
            42: [0, .75, .14333, 0, .59111],
            43: [.10333, .60333, .03306, 0, .88555],
            44: [.19444, .14722, 0, 0, .35555],
            45: [0, .44444, .02611, 0, .41444],
            46: [0, .14722, 0, 0, .35555],
            47: [.25, .75, .15806, 0, .59111],
            48: [0, .64444, .13167, 0, .59111],
            49: [0, .64444, .13167, 0, .59111],
            50: [0, .64444, .13167, 0, .59111],
            51: [0, .64444, .13167, 0, .59111],
            52: [.19444, .64444, .13167, 0, .59111],
            53: [0, .64444, .13167, 0, .59111],
            54: [0, .64444, .13167, 0, .59111],
            55: [.19444, .64444, .13167, 0, .59111],
            56: [0, .64444, .13167, 0, .59111],
            57: [0, .64444, .13167, 0, .59111],
            58: [0, .44444, .06695, 0, .35555],
            59: [.19444, .44444, .06695, 0, .35555],
            61: [-.10889, .39111, .06833, 0, .88555],
            63: [0, .69444, .11472, 0, .59111],
            64: [0, .69444, .09208, 0, .88555],
            65: [0, .68611, 0, 0, .86555],
            66: [0, .68611, .0992, 0, .81666],
            67: [0, .68611, .14208, 0, .82666],
            68: [0, .68611, .09062, 0, .87555],
            69: [0, .68611, .11431, 0, .75666],
            70: [0, .68611, .12903, 0, .72722],
            71: [0, .68611, .07347, 0, .89527],
            72: [0, .68611, .17208, 0, .8961],
            73: [0, .68611, .15681, 0, .47166],
            74: [0, .68611, .145, 0, .61055],
            75: [0, .68611, .14208, 0, .89499],
            76: [0, .68611, 0, 0, .69777],
            77: [0, .68611, .17208, 0, 1.07277],
            78: [0, .68611, .17208, 0, .8961],
            79: [0, .68611, .09062, 0, .85499],
            80: [0, .68611, .0992, 0, .78721],
            81: [.19444, .68611, .09062, 0, .85499],
            82: [0, .68611, .02559, 0, .85944],
            83: [0, .68611, .11264, 0, .64999],
            84: [0, .68611, .12903, 0, .7961],
            85: [0, .68611, .17208, 0, .88083],
            86: [0, .68611, .18625, 0, .86555],
            87: [0, .68611, .18625, 0, 1.15999],
            88: [0, .68611, .15681, 0, .86555],
            89: [0, .68611, .19803, 0, .86555],
            90: [0, .68611, .14208, 0, .70888],
            91: [.25, .75, .1875, 0, .35611],
            93: [.25, .75, .09972, 0, .35611],
            94: [0, .69444, .06709, 0, .59111],
            95: [.31, .13444, .09811, 0, .59111],
            97: [0, .44444, .09426, 0, .59111],
            98: [0, .69444, .07861, 0, .53222],
            99: [0, .44444, .05222, 0, .53222],
            100: [0, .69444, .10861, 0, .59111],
            101: [0, .44444, .085, 0, .53222],
            102: [.19444, .69444, .21778, 0, .4],
            103: [.19444, .44444, .105, 0, .53222],
            104: [0, .69444, .09426, 0, .59111],
            105: [0, .69326, .11387, 0, .35555],
            106: [.19444, .69326, .1672, 0, .35555],
            107: [0, .69444, .11111, 0, .53222],
            108: [0, .69444, .10861, 0, .29666],
            109: [0, .44444, .09426, 0, .94444],
            110: [0, .44444, .09426, 0, .64999],
            111: [0, .44444, .07861, 0, .59111],
            112: [.19444, .44444, .07861, 0, .59111],
            113: [.19444, .44444, .105, 0, .53222],
            114: [0, .44444, .11111, 0, .50167],
            115: [0, .44444, .08167, 0, .48694],
            116: [0, .63492, .09639, 0, .385],
            117: [0, .44444, .09426, 0, .62055],
            118: [0, .44444, .11111, 0, .53222],
            119: [0, .44444, .11111, 0, .76777],
            120: [0, .44444, .12583, 0, .56055],
            121: [.19444, .44444, .105, 0, .56166],
            122: [0, .44444, .13889, 0, .49055],
            126: [.35, .34444, .11472, 0, .59111],
            160: [0, 0, 0, 0, .25],
            168: [0, .69444, .11473, 0, .59111],
            176: [0, .69444, 0, 0, .94888],
            184: [.17014, 0, 0, 0, .53222],
            198: [0, .68611, .11431, 0, 1.02277],
            216: [.04861, .73472, .09062, 0, .88555],
            223: [.19444, .69444, .09736, 0, .665],
            230: [0, .44444, .085, 0, .82666],
            248: [.09722, .54167, .09458, 0, .59111],
            305: [0, .44444, .09426, 0, .35555],
            338: [0, .68611, .11431, 0, 1.14054],
            339: [0, .44444, .085, 0, .82666],
            567: [.19444, .44444, .04611, 0, .385],
            710: [0, .69444, .06709, 0, .59111],
            711: [0, .63194, .08271, 0, .59111],
            713: [0, .59444, .10444, 0, .59111],
            714: [0, .69444, .08528, 0, .59111],
            715: [0, .69444, 0, 0, .59111],
            728: [0, .69444, .10333, 0, .59111],
            729: [0, .69444, .12945, 0, .35555],
            730: [0, .69444, 0, 0, .94888],
            732: [0, .69444, .11472, 0, .59111],
            733: [0, .69444, .11472, 0, .59111],
            915: [0, .68611, .12903, 0, .69777],
            916: [0, .68611, 0, 0, .94444],
            920: [0, .68611, .09062, 0, .88555],
            923: [0, .68611, 0, 0, .80666],
            926: [0, .68611, .15092, 0, .76777],
            928: [0, .68611, .17208, 0, .8961],
            931: [0, .68611, .11431, 0, .82666],
            933: [0, .68611, .10778, 0, .88555],
            934: [0, .68611, .05632, 0, .82666],
            936: [0, .68611, .10778, 0, .88555],
            937: [0, .68611, .0992, 0, .82666],
            8211: [0, .44444, .09811, 0, .59111],
            8212: [0, .44444, .09811, 0, 1.18221],
            8216: [0, .69444, .12945, 0, .35555],
            8217: [0, .69444, .12945, 0, .35555],
            8220: [0, .69444, .16772, 0, .62055],
            8221: [0, .69444, .07939, 0, .62055]
        },
        "Main-Italic": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, .12417, 0, .30667],
            34: [0, .69444, .06961, 0, .51444],
            35: [.19444, .69444, .06616, 0, .81777],
            37: [.05556, .75, .13639, 0, .81777],
            38: [0, .69444, .09694, 0, .76666],
            39: [0, .69444, .12417, 0, .30667],
            40: [.25, .75, .16194, 0, .40889],
            41: [.25, .75, .03694, 0, .40889],
            42: [0, .75, .14917, 0, .51111],
            43: [.05667, .56167, .03694, 0, .76666],
            44: [.19444, .10556, 0, 0, .30667],
            45: [0, .43056, .02826, 0, .35778],
            46: [0, .10556, 0, 0, .30667],
            47: [.25, .75, .16194, 0, .51111],
            48: [0, .64444, .13556, 0, .51111],
            49: [0, .64444, .13556, 0, .51111],
            50: [0, .64444, .13556, 0, .51111],
            51: [0, .64444, .13556, 0, .51111],
            52: [.19444, .64444, .13556, 0, .51111],
            53: [0, .64444, .13556, 0, .51111],
            54: [0, .64444, .13556, 0, .51111],
            55: [.19444, .64444, .13556, 0, .51111],
            56: [0, .64444, .13556, 0, .51111],
            57: [0, .64444, .13556, 0, .51111],
            58: [0, .43056, .0582, 0, .30667],
            59: [.19444, .43056, .0582, 0, .30667],
            61: [-.13313, .36687, .06616, 0, .76666],
            63: [0, .69444, .1225, 0, .51111],
            64: [0, .69444, .09597, 0, .76666],
            65: [0, .68333, 0, 0, .74333],
            66: [0, .68333, .10257, 0, .70389],
            67: [0, .68333, .14528, 0, .71555],
            68: [0, .68333, .09403, 0, .755],
            69: [0, .68333, .12028, 0, .67833],
            70: [0, .68333, .13305, 0, .65277],
            71: [0, .68333, .08722, 0, .77361],
            72: [0, .68333, .16389, 0, .74333],
            73: [0, .68333, .15806, 0, .38555],
            74: [0, .68333, .14028, 0, .525],
            75: [0, .68333, .14528, 0, .76888],
            76: [0, .68333, 0, 0, .62722],
            77: [0, .68333, .16389, 0, .89666],
            78: [0, .68333, .16389, 0, .74333],
            79: [0, .68333, .09403, 0, .76666],
            80: [0, .68333, .10257, 0, .67833],
            81: [.19444, .68333, .09403, 0, .76666],
            82: [0, .68333, .03868, 0, .72944],
            83: [0, .68333, .11972, 0, .56222],
            84: [0, .68333, .13305, 0, .71555],
            85: [0, .68333, .16389, 0, .74333],
            86: [0, .68333, .18361, 0, .74333],
            87: [0, .68333, .18361, 0, .99888],
            88: [0, .68333, .15806, 0, .74333],
            89: [0, .68333, .19383, 0, .74333],
            90: [0, .68333, .14528, 0, .61333],
            91: [.25, .75, .1875, 0, .30667],
            93: [.25, .75, .10528, 0, .30667],
            94: [0, .69444, .06646, 0, .51111],
            95: [.31, .12056, .09208, 0, .51111],
            97: [0, .43056, .07671, 0, .51111],
            98: [0, .69444, .06312, 0, .46],
            99: [0, .43056, .05653, 0, .46],
            100: [0, .69444, .10333, 0, .51111],
            101: [0, .43056, .07514, 0, .46],
            102: [.19444, .69444, .21194, 0, .30667],
            103: [.19444, .43056, .08847, 0, .46],
            104: [0, .69444, .07671, 0, .51111],
            105: [0, .65536, .1019, 0, .30667],
            106: [.19444, .65536, .14467, 0, .30667],
            107: [0, .69444, .10764, 0, .46],
            108: [0, .69444, .10333, 0, .25555],
            109: [0, .43056, .07671, 0, .81777],
            110: [0, .43056, .07671, 0, .56222],
            111: [0, .43056, .06312, 0, .51111],
            112: [.19444, .43056, .06312, 0, .51111],
            113: [.19444, .43056, .08847, 0, .46],
            114: [0, .43056, .10764, 0, .42166],
            115: [0, .43056, .08208, 0, .40889],
            116: [0, .61508, .09486, 0, .33222],
            117: [0, .43056, .07671, 0, .53666],
            118: [0, .43056, .10764, 0, .46],
            119: [0, .43056, .10764, 0, .66444],
            120: [0, .43056, .12042, 0, .46389],
            121: [.19444, .43056, .08847, 0, .48555],
            122: [0, .43056, .12292, 0, .40889],
            126: [.35, .31786, .11585, 0, .51111],
            160: [0, 0, 0, 0, .25],
            168: [0, .66786, .10474, 0, .51111],
            176: [0, .69444, 0, 0, .83129],
            184: [.17014, 0, 0, 0, .46],
            198: [0, .68333, .12028, 0, .88277],
            216: [.04861, .73194, .09403, 0, .76666],
            223: [.19444, .69444, .10514, 0, .53666],
            230: [0, .43056, .07514, 0, .71555],
            248: [.09722, .52778, .09194, 0, .51111],
            338: [0, .68333, .12028, 0, .98499],
            339: [0, .43056, .07514, 0, .71555],
            710: [0, .69444, .06646, 0, .51111],
            711: [0, .62847, .08295, 0, .51111],
            713: [0, .56167, .10333, 0, .51111],
            714: [0, .69444, .09694, 0, .51111],
            715: [0, .69444, 0, 0, .51111],
            728: [0, .69444, .10806, 0, .51111],
            729: [0, .66786, .11752, 0, .30667],
            730: [0, .69444, 0, 0, .83129],
            732: [0, .66786, .11585, 0, .51111],
            733: [0, .69444, .1225, 0, .51111],
            915: [0, .68333, .13305, 0, .62722],
            916: [0, .68333, 0, 0, .81777],
            920: [0, .68333, .09403, 0, .76666],
            923: [0, .68333, 0, 0, .69222],
            926: [0, .68333, .15294, 0, .66444],
            928: [0, .68333, .16389, 0, .74333],
            931: [0, .68333, .12028, 0, .71555],
            933: [0, .68333, .11111, 0, .76666],
            934: [0, .68333, .05986, 0, .71555],
            936: [0, .68333, .11111, 0, .76666],
            937: [0, .68333, .10257, 0, .71555],
            8211: [0, .43056, .09208, 0, .51111],
            8212: [0, .43056, .09208, 0, 1.02222],
            8216: [0, .69444, .12417, 0, .30667],
            8217: [0, .69444, .12417, 0, .30667],
            8220: [0, .69444, .1685, 0, .51444],
            8221: [0, .69444, .06961, 0, .51444],
            8463: [0, .68889, 0, 0, .54028]
        },
        "Main-Regular": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, 0, 0, .27778],
            34: [0, .69444, 0, 0, .5],
            35: [.19444, .69444, 0, 0, .83334],
            36: [.05556, .75, 0, 0, .5],
            37: [.05556, .75, 0, 0, .83334],
            38: [0, .69444, 0, 0, .77778],
            39: [0, .69444, 0, 0, .27778],
            40: [.25, .75, 0, 0, .38889],
            41: [.25, .75, 0, 0, .38889],
            42: [0, .75, 0, 0, .5],
            43: [.08333, .58333, 0, 0, .77778],
            44: [.19444, .10556, 0, 0, .27778],
            45: [0, .43056, 0, 0, .33333],
            46: [0, .10556, 0, 0, .27778],
            47: [.25, .75, 0, 0, .5],
            48: [0, .64444, 0, 0, .5],
            49: [0, .64444, 0, 0, .5],
            50: [0, .64444, 0, 0, .5],
            51: [0, .64444, 0, 0, .5],
            52: [0, .64444, 0, 0, .5],
            53: [0, .64444, 0, 0, .5],
            54: [0, .64444, 0, 0, .5],
            55: [0, .64444, 0, 0, .5],
            56: [0, .64444, 0, 0, .5],
            57: [0, .64444, 0, 0, .5],
            58: [0, .43056, 0, 0, .27778],
            59: [.19444, .43056, 0, 0, .27778],
            60: [.0391, .5391, 0, 0, .77778],
            61: [-.13313, .36687, 0, 0, .77778],
            62: [.0391, .5391, 0, 0, .77778],
            63: [0, .69444, 0, 0, .47222],
            64: [0, .69444, 0, 0, .77778],
            65: [0, .68333, 0, 0, .75],
            66: [0, .68333, 0, 0, .70834],
            67: [0, .68333, 0, 0, .72222],
            68: [0, .68333, 0, 0, .76389],
            69: [0, .68333, 0, 0, .68056],
            70: [0, .68333, 0, 0, .65278],
            71: [0, .68333, 0, 0, .78472],
            72: [0, .68333, 0, 0, .75],
            73: [0, .68333, 0, 0, .36111],
            74: [0, .68333, 0, 0, .51389],
            75: [0, .68333, 0, 0, .77778],
            76: [0, .68333, 0, 0, .625],
            77: [0, .68333, 0, 0, .91667],
            78: [0, .68333, 0, 0, .75],
            79: [0, .68333, 0, 0, .77778],
            80: [0, .68333, 0, 0, .68056],
            81: [.19444, .68333, 0, 0, .77778],
            82: [0, .68333, 0, 0, .73611],
            83: [0, .68333, 0, 0, .55556],
            84: [0, .68333, 0, 0, .72222],
            85: [0, .68333, 0, 0, .75],
            86: [0, .68333, .01389, 0, .75],
            87: [0, .68333, .01389, 0, 1.02778],
            88: [0, .68333, 0, 0, .75],
            89: [0, .68333, .025, 0, .75],
            90: [0, .68333, 0, 0, .61111],
            91: [.25, .75, 0, 0, .27778],
            92: [.25, .75, 0, 0, .5],
            93: [.25, .75, 0, 0, .27778],
            94: [0, .69444, 0, 0, .5],
            95: [.31, .12056, .02778, 0, .5],
            97: [0, .43056, 0, 0, .5],
            98: [0, .69444, 0, 0, .55556],
            99: [0, .43056, 0, 0, .44445],
            100: [0, .69444, 0, 0, .55556],
            101: [0, .43056, 0, 0, .44445],
            102: [0, .69444, .07778, 0, .30556],
            103: [.19444, .43056, .01389, 0, .5],
            104: [0, .69444, 0, 0, .55556],
            105: [0, .66786, 0, 0, .27778],
            106: [.19444, .66786, 0, 0, .30556],
            107: [0, .69444, 0, 0, .52778],
            108: [0, .69444, 0, 0, .27778],
            109: [0, .43056, 0, 0, .83334],
            110: [0, .43056, 0, 0, .55556],
            111: [0, .43056, 0, 0, .5],
            112: [.19444, .43056, 0, 0, .55556],
            113: [.19444, .43056, 0, 0, .52778],
            114: [0, .43056, 0, 0, .39167],
            115: [0, .43056, 0, 0, .39445],
            116: [0, .61508, 0, 0, .38889],
            117: [0, .43056, 0, 0, .55556],
            118: [0, .43056, .01389, 0, .52778],
            119: [0, .43056, .01389, 0, .72222],
            120: [0, .43056, 0, 0, .52778],
            121: [.19444, .43056, .01389, 0, .52778],
            122: [0, .43056, 0, 0, .44445],
            123: [.25, .75, 0, 0, .5],
            124: [.25, .75, 0, 0, .27778],
            125: [.25, .75, 0, 0, .5],
            126: [.35, .31786, 0, 0, .5],
            160: [0, 0, 0, 0, .25],
            163: [0, .69444, 0, 0, .76909],
            167: [.19444, .69444, 0, 0, .44445],
            168: [0, .66786, 0, 0, .5],
            172: [0, .43056, 0, 0, .66667],
            176: [0, .69444, 0, 0, .75],
            177: [.08333, .58333, 0, 0, .77778],
            182: [.19444, .69444, 0, 0, .61111],
            184: [.17014, 0, 0, 0, .44445],
            198: [0, .68333, 0, 0, .90278],
            215: [.08333, .58333, 0, 0, .77778],
            216: [.04861, .73194, 0, 0, .77778],
            223: [0, .69444, 0, 0, .5],
            230: [0, .43056, 0, 0, .72222],
            247: [.08333, .58333, 0, 0, .77778],
            248: [.09722, .52778, 0, 0, .5],
            305: [0, .43056, 0, 0, .27778],
            338: [0, .68333, 0, 0, 1.01389],
            339: [0, .43056, 0, 0, .77778],
            567: [.19444, .43056, 0, 0, .30556],
            710: [0, .69444, 0, 0, .5],
            711: [0, .62847, 0, 0, .5],
            713: [0, .56778, 0, 0, .5],
            714: [0, .69444, 0, 0, .5],
            715: [0, .69444, 0, 0, .5],
            728: [0, .69444, 0, 0, .5],
            729: [0, .66786, 0, 0, .27778],
            730: [0, .69444, 0, 0, .75],
            732: [0, .66786, 0, 0, .5],
            733: [0, .69444, 0, 0, .5],
            915: [0, .68333, 0, 0, .625],
            916: [0, .68333, 0, 0, .83334],
            920: [0, .68333, 0, 0, .77778],
            923: [0, .68333, 0, 0, .69445],
            926: [0, .68333, 0, 0, .66667],
            928: [0, .68333, 0, 0, .75],
            931: [0, .68333, 0, 0, .72222],
            933: [0, .68333, 0, 0, .77778],
            934: [0, .68333, 0, 0, .72222],
            936: [0, .68333, 0, 0, .77778],
            937: [0, .68333, 0, 0, .72222],
            8211: [0, .43056, .02778, 0, .5],
            8212: [0, .43056, .02778, 0, 1],
            8216: [0, .69444, 0, 0, .27778],
            8217: [0, .69444, 0, 0, .27778],
            8220: [0, .69444, 0, 0, .5],
            8221: [0, .69444, 0, 0, .5],
            8224: [.19444, .69444, 0, 0, .44445],
            8225: [.19444, .69444, 0, 0, .44445],
            8230: [0, .123, 0, 0, 1.172],
            8242: [0, .55556, 0, 0, .275],
            8407: [0, .71444, .15382, 0, .5],
            8463: [0, .68889, 0, 0, .54028],
            8465: [0, .69444, 0, 0, .72222],
            8467: [0, .69444, 0, .11111, .41667],
            8472: [.19444, .43056, 0, .11111, .63646],
            8476: [0, .69444, 0, 0, .72222],
            8501: [0, .69444, 0, 0, .61111],
            8592: [-.13313, .36687, 0, 0, 1],
            8593: [.19444, .69444, 0, 0, .5],
            8594: [-.13313, .36687, 0, 0, 1],
            8595: [.19444, .69444, 0, 0, .5],
            8596: [-.13313, .36687, 0, 0, 1],
            8597: [.25, .75, 0, 0, .5],
            8598: [.19444, .69444, 0, 0, 1],
            8599: [.19444, .69444, 0, 0, 1],
            8600: [.19444, .69444, 0, 0, 1],
            8601: [.19444, .69444, 0, 0, 1],
            8614: [.011, .511, 0, 0, 1],
            8617: [.011, .511, 0, 0, 1.126],
            8618: [.011, .511, 0, 0, 1.126],
            8636: [-.13313, .36687, 0, 0, 1],
            8637: [-.13313, .36687, 0, 0, 1],
            8640: [-.13313, .36687, 0, 0, 1],
            8641: [-.13313, .36687, 0, 0, 1],
            8652: [.011, .671, 0, 0, 1],
            8656: [-.13313, .36687, 0, 0, 1],
            8657: [.19444, .69444, 0, 0, .61111],
            8658: [-.13313, .36687, 0, 0, 1],
            8659: [.19444, .69444, 0, 0, .61111],
            8660: [-.13313, .36687, 0, 0, 1],
            8661: [.25, .75, 0, 0, .61111],
            8704: [0, .69444, 0, 0, .55556],
            8706: [0, .69444, .05556, .08334, .5309],
            8707: [0, .69444, 0, 0, .55556],
            8709: [.05556, .75, 0, 0, .5],
            8711: [0, .68333, 0, 0, .83334],
            8712: [.0391, .5391, 0, 0, .66667],
            8715: [.0391, .5391, 0, 0, .66667],
            8722: [.08333, .58333, 0, 0, .77778],
            8723: [.08333, .58333, 0, 0, .77778],
            8725: [.25, .75, 0, 0, .5],
            8726: [.25, .75, 0, 0, .5],
            8727: [-.03472, .46528, 0, 0, .5],
            8728: [-.05555, .44445, 0, 0, .5],
            8729: [-.05555, .44445, 0, 0, .5],
            8730: [.2, .8, 0, 0, .83334],
            8733: [0, .43056, 0, 0, .77778],
            8734: [0, .43056, 0, 0, 1],
            8736: [0, .69224, 0, 0, .72222],
            8739: [.25, .75, 0, 0, .27778],
            8741: [.25, .75, 0, 0, .5],
            8743: [0, .55556, 0, 0, .66667],
            8744: [0, .55556, 0, 0, .66667],
            8745: [0, .55556, 0, 0, .66667],
            8746: [0, .55556, 0, 0, .66667],
            8747: [.19444, .69444, .11111, 0, .41667],
            8764: [-.13313, .36687, 0, 0, .77778],
            8768: [.19444, .69444, 0, 0, .27778],
            8771: [-.03625, .46375, 0, 0, .77778],
            8773: [-.022, .589, 0, 0, .778],
            8776: [-.01688, .48312, 0, 0, .77778],
            8781: [-.03625, .46375, 0, 0, .77778],
            8784: [-.133, .673, 0, 0, .778],
            8801: [-.03625, .46375, 0, 0, .77778],
            8804: [.13597, .63597, 0, 0, .77778],
            8805: [.13597, .63597, 0, 0, .77778],
            8810: [.0391, .5391, 0, 0, 1],
            8811: [.0391, .5391, 0, 0, 1],
            8826: [.0391, .5391, 0, 0, .77778],
            8827: [.0391, .5391, 0, 0, .77778],
            8834: [.0391, .5391, 0, 0, .77778],
            8835: [.0391, .5391, 0, 0, .77778],
            8838: [.13597, .63597, 0, 0, .77778],
            8839: [.13597, .63597, 0, 0, .77778],
            8846: [0, .55556, 0, 0, .66667],
            8849: [.13597, .63597, 0, 0, .77778],
            8850: [.13597, .63597, 0, 0, .77778],
            8851: [0, .55556, 0, 0, .66667],
            8852: [0, .55556, 0, 0, .66667],
            8853: [.08333, .58333, 0, 0, .77778],
            8854: [.08333, .58333, 0, 0, .77778],
            8855: [.08333, .58333, 0, 0, .77778],
            8856: [.08333, .58333, 0, 0, .77778],
            8857: [.08333, .58333, 0, 0, .77778],
            8866: [0, .69444, 0, 0, .61111],
            8867: [0, .69444, 0, 0, .61111],
            8868: [0, .69444, 0, 0, .77778],
            8869: [0, .69444, 0, 0, .77778],
            8872: [.249, .75, 0, 0, .867],
            8900: [-.05555, .44445, 0, 0, .5],
            8901: [-.05555, .44445, 0, 0, .27778],
            8902: [-.03472, .46528, 0, 0, .5],
            8904: [.005, .505, 0, 0, .9],
            8942: [.03, .903, 0, 0, .278],
            8943: [-.19, .313, 0, 0, 1.172],
            8945: [-.1, .823, 0, 0, 1.282],
            8968: [.25, .75, 0, 0, .44445],
            8969: [.25, .75, 0, 0, .44445],
            8970: [.25, .75, 0, 0, .44445],
            8971: [.25, .75, 0, 0, .44445],
            8994: [-.14236, .35764, 0, 0, 1],
            8995: [-.14236, .35764, 0, 0, 1],
            9136: [.244, .744, 0, 0, .412],
            9137: [.244, .745, 0, 0, .412],
            9651: [.19444, .69444, 0, 0, .88889],
            9657: [-.03472, .46528, 0, 0, .5],
            9661: [.19444, .69444, 0, 0, .88889],
            9667: [-.03472, .46528, 0, 0, .5],
            9711: [.19444, .69444, 0, 0, 1],
            9824: [.12963, .69444, 0, 0, .77778],
            9825: [.12963, .69444, 0, 0, .77778],
            9826: [.12963, .69444, 0, 0, .77778],
            9827: [.12963, .69444, 0, 0, .77778],
            9837: [0, .75, 0, 0, .38889],
            9838: [.19444, .69444, 0, 0, .38889],
            9839: [.19444, .69444, 0, 0, .38889],
            10216: [.25, .75, 0, 0, .38889],
            10217: [.25, .75, 0, 0, .38889],
            10222: [.244, .744, 0, 0, .412],
            10223: [.244, .745, 0, 0, .412],
            10229: [.011, .511, 0, 0, 1.609],
            10230: [.011, .511, 0, 0, 1.638],
            10231: [.011, .511, 0, 0, 1.859],
            10232: [.024, .525, 0, 0, 1.609],
            10233: [.024, .525, 0, 0, 1.638],
            10234: [.024, .525, 0, 0, 1.858],
            10236: [.011, .511, 0, 0, 1.638],
            10815: [0, .68333, 0, 0, .75],
            10927: [.13597, .63597, 0, 0, .77778],
            10928: [.13597, .63597, 0, 0, .77778],
            57376: [.19444, .69444, 0, 0, 0]
        },
        "Math-BoldItalic": {
            32: [0, 0, 0, 0, .25],
            48: [0, .44444, 0, 0, .575],
            49: [0, .44444, 0, 0, .575],
            50: [0, .44444, 0, 0, .575],
            51: [.19444, .44444, 0, 0, .575],
            52: [.19444, .44444, 0, 0, .575],
            53: [.19444, .44444, 0, 0, .575],
            54: [0, .64444, 0, 0, .575],
            55: [.19444, .44444, 0, 0, .575],
            56: [0, .64444, 0, 0, .575],
            57: [.19444, .44444, 0, 0, .575],
            65: [0, .68611, 0, 0, .86944],
            66: [0, .68611, .04835, 0, .8664],
            67: [0, .68611, .06979, 0, .81694],
            68: [0, .68611, .03194, 0, .93812],
            69: [0, .68611, .05451, 0, .81007],
            70: [0, .68611, .15972, 0, .68889],
            71: [0, .68611, 0, 0, .88673],
            72: [0, .68611, .08229, 0, .98229],
            73: [0, .68611, .07778, 0, .51111],
            74: [0, .68611, .10069, 0, .63125],
            75: [0, .68611, .06979, 0, .97118],
            76: [0, .68611, 0, 0, .75555],
            77: [0, .68611, .11424, 0, 1.14201],
            78: [0, .68611, .11424, 0, .95034],
            79: [0, .68611, .03194, 0, .83666],
            80: [0, .68611, .15972, 0, .72309],
            81: [.19444, .68611, 0, 0, .86861],
            82: [0, .68611, .00421, 0, .87235],
            83: [0, .68611, .05382, 0, .69271],
            84: [0, .68611, .15972, 0, .63663],
            85: [0, .68611, .11424, 0, .80027],
            86: [0, .68611, .25555, 0, .67778],
            87: [0, .68611, .15972, 0, 1.09305],
            88: [0, .68611, .07778, 0, .94722],
            89: [0, .68611, .25555, 0, .67458],
            90: [0, .68611, .06979, 0, .77257],
            97: [0, .44444, 0, 0, .63287],
            98: [0, .69444, 0, 0, .52083],
            99: [0, .44444, 0, 0, .51342],
            100: [0, .69444, 0, 0, .60972],
            101: [0, .44444, 0, 0, .55361],
            102: [.19444, .69444, .11042, 0, .56806],
            103: [.19444, .44444, .03704, 0, .5449],
            104: [0, .69444, 0, 0, .66759],
            105: [0, .69326, 0, 0, .4048],
            106: [.19444, .69326, .0622, 0, .47083],
            107: [0, .69444, .01852, 0, .6037],
            108: [0, .69444, .0088, 0, .34815],
            109: [0, .44444, 0, 0, 1.0324],
            110: [0, .44444, 0, 0, .71296],
            111: [0, .44444, 0, 0, .58472],
            112: [.19444, .44444, 0, 0, .60092],
            113: [.19444, .44444, .03704, 0, .54213],
            114: [0, .44444, .03194, 0, .5287],
            115: [0, .44444, 0, 0, .53125],
            116: [0, .63492, 0, 0, .41528],
            117: [0, .44444, 0, 0, .68102],
            118: [0, .44444, .03704, 0, .56666],
            119: [0, .44444, .02778, 0, .83148],
            120: [0, .44444, 0, 0, .65903],
            121: [.19444, .44444, .03704, 0, .59028],
            122: [0, .44444, .04213, 0, .55509],
            160: [0, 0, 0, 0, .25],
            915: [0, .68611, .15972, 0, .65694],
            916: [0, .68611, 0, 0, .95833],
            920: [0, .68611, .03194, 0, .86722],
            923: [0, .68611, 0, 0, .80555],
            926: [0, .68611, .07458, 0, .84125],
            928: [0, .68611, .08229, 0, .98229],
            931: [0, .68611, .05451, 0, .88507],
            933: [0, .68611, .15972, 0, .67083],
            934: [0, .68611, 0, 0, .76666],
            936: [0, .68611, .11653, 0, .71402],
            937: [0, .68611, .04835, 0, .8789],
            945: [0, .44444, 0, 0, .76064],
            946: [.19444, .69444, .03403, 0, .65972],
            947: [.19444, .44444, .06389, 0, .59003],
            948: [0, .69444, .03819, 0, .52222],
            949: [0, .44444, 0, 0, .52882],
            950: [.19444, .69444, .06215, 0, .50833],
            951: [.19444, .44444, .03704, 0, .6],
            952: [0, .69444, .03194, 0, .5618],
            953: [0, .44444, 0, 0, .41204],
            954: [0, .44444, 0, 0, .66759],
            955: [0, .69444, 0, 0, .67083],
            956: [.19444, .44444, 0, 0, .70787],
            957: [0, .44444, .06898, 0, .57685],
            958: [.19444, .69444, .03021, 0, .50833],
            959: [0, .44444, 0, 0, .58472],
            960: [0, .44444, .03704, 0, .68241],
            961: [.19444, .44444, 0, 0, .6118],
            962: [.09722, .44444, .07917, 0, .42361],
            963: [0, .44444, .03704, 0, .68588],
            964: [0, .44444, .13472, 0, .52083],
            965: [0, .44444, .03704, 0, .63055],
            966: [.19444, .44444, 0, 0, .74722],
            967: [.19444, .44444, 0, 0, .71805],
            968: [.19444, .69444, .03704, 0, .75833],
            969: [0, .44444, .03704, 0, .71782],
            977: [0, .69444, 0, 0, .69155],
            981: [.19444, .69444, 0, 0, .7125],
            982: [0, .44444, .03194, 0, .975],
            1009: [.19444, .44444, 0, 0, .6118],
            1013: [0, .44444, 0, 0, .48333],
            57649: [0, .44444, 0, 0, .39352],
            57911: [.19444, .44444, 0, 0, .43889]
        },
        "Math-Italic": {
            32: [0, 0, 0, 0, .25],
            48: [0, .43056, 0, 0, .5],
            49: [0, .43056, 0, 0, .5],
            50: [0, .43056, 0, 0, .5],
            51: [.19444, .43056, 0, 0, .5],
            52: [.19444, .43056, 0, 0, .5],
            53: [.19444, .43056, 0, 0, .5],
            54: [0, .64444, 0, 0, .5],
            55: [.19444, .43056, 0, 0, .5],
            56: [0, .64444, 0, 0, .5],
            57: [.19444, .43056, 0, 0, .5],
            65: [0, .68333, 0, .13889, .75],
            66: [0, .68333, .05017, .08334, .75851],
            67: [0, .68333, .07153, .08334, .71472],
            68: [0, .68333, .02778, .05556, .82792],
            69: [0, .68333, .05764, .08334, .7382],
            70: [0, .68333, .13889, .08334, .64306],
            71: [0, .68333, 0, .08334, .78625],
            72: [0, .68333, .08125, .05556, .83125],
            73: [0, .68333, .07847, .11111, .43958],
            74: [0, .68333, .09618, .16667, .55451],
            75: [0, .68333, .07153, .05556, .84931],
            76: [0, .68333, 0, .02778, .68056],
            77: [0, .68333, .10903, .08334, .97014],
            78: [0, .68333, .10903, .08334, .80347],
            79: [0, .68333, .02778, .08334, .76278],
            80: [0, .68333, .13889, .08334, .64201],
            81: [.19444, .68333, 0, .08334, .79056],
            82: [0, .68333, .00773, .08334, .75929],
            83: [0, .68333, .05764, .08334, .6132],
            84: [0, .68333, .13889, .08334, .58438],
            85: [0, .68333, .10903, .02778, .68278],
            86: [0, .68333, .22222, 0, .58333],
            87: [0, .68333, .13889, 0, .94445],
            88: [0, .68333, .07847, .08334, .82847],
            89: [0, .68333, .22222, 0, .58056],
            90: [0, .68333, .07153, .08334, .68264],
            97: [0, .43056, 0, 0, .52859],
            98: [0, .69444, 0, 0, .42917],
            99: [0, .43056, 0, .05556, .43276],
            100: [0, .69444, 0, .16667, .52049],
            101: [0, .43056, 0, .05556, .46563],
            102: [.19444, .69444, .10764, .16667, .48959],
            103: [.19444, .43056, .03588, .02778, .47697],
            104: [0, .69444, 0, 0, .57616],
            105: [0, .65952, 0, 0, .34451],
            106: [.19444, .65952, .05724, 0, .41181],
            107: [0, .69444, .03148, 0, .5206],
            108: [0, .69444, .01968, .08334, .29838],
            109: [0, .43056, 0, 0, .87801],
            110: [0, .43056, 0, 0, .60023],
            111: [0, .43056, 0, .05556, .48472],
            112: [.19444, .43056, 0, .08334, .50313],
            113: [.19444, .43056, .03588, .08334, .44641],
            114: [0, .43056, .02778, .05556, .45116],
            115: [0, .43056, 0, .05556, .46875],
            116: [0, .61508, 0, .08334, .36111],
            117: [0, .43056, 0, .02778, .57246],
            118: [0, .43056, .03588, .02778, .48472],
            119: [0, .43056, .02691, .08334, .71592],
            120: [0, .43056, 0, .02778, .57153],
            121: [.19444, .43056, .03588, .05556, .49028],
            122: [0, .43056, .04398, .05556, .46505],
            160: [0, 0, 0, 0, .25],
            915: [0, .68333, .13889, .08334, .61528],
            916: [0, .68333, 0, .16667, .83334],
            920: [0, .68333, .02778, .08334, .76278],
            923: [0, .68333, 0, .16667, .69445],
            926: [0, .68333, .07569, .08334, .74236],
            928: [0, .68333, .08125, .05556, .83125],
            931: [0, .68333, .05764, .08334, .77986],
            933: [0, .68333, .13889, .05556, .58333],
            934: [0, .68333, 0, .08334, .66667],
            936: [0, .68333, .11, .05556, .61222],
            937: [0, .68333, .05017, .08334, .7724],
            945: [0, .43056, .0037, .02778, .6397],
            946: [.19444, .69444, .05278, .08334, .56563],
            947: [.19444, .43056, .05556, 0, .51773],
            948: [0, .69444, .03785, .05556, .44444],
            949: [0, .43056, 0, .08334, .46632],
            950: [.19444, .69444, .07378, .08334, .4375],
            951: [.19444, .43056, .03588, .05556, .49653],
            952: [0, .69444, .02778, .08334, .46944],
            953: [0, .43056, 0, .05556, .35394],
            954: [0, .43056, 0, 0, .57616],
            955: [0, .69444, 0, 0, .58334],
            956: [.19444, .43056, 0, .02778, .60255],
            957: [0, .43056, .06366, .02778, .49398],
            958: [.19444, .69444, .04601, .11111, .4375],
            959: [0, .43056, 0, .05556, .48472],
            960: [0, .43056, .03588, 0, .57003],
            961: [.19444, .43056, 0, .08334, .51702],
            962: [.09722, .43056, .07986, .08334, .36285],
            963: [0, .43056, .03588, 0, .57141],
            964: [0, .43056, .1132, .02778, .43715],
            965: [0, .43056, .03588, .02778, .54028],
            966: [.19444, .43056, 0, .08334, .65417],
            967: [.19444, .43056, 0, .05556, .62569],
            968: [.19444, .69444, .03588, .11111, .65139],
            969: [0, .43056, .03588, 0, .62245],
            977: [0, .69444, 0, .08334, .59144],
            981: [.19444, .69444, 0, .08334, .59583],
            982: [0, .43056, .02778, 0, .82813],
            1009: [.19444, .43056, 0, .08334, .51702],
            1013: [0, .43056, 0, .05556, .4059],
            57649: [0, .43056, 0, .02778, .32246],
            57911: [.19444, .43056, 0, .08334, .38403]
        },
        "SansSerif-Bold": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, 0, 0, .36667],
            34: [0, .69444, 0, 0, .55834],
            35: [.19444, .69444, 0, 0, .91667],
            36: [.05556, .75, 0, 0, .55],
            37: [.05556, .75, 0, 0, 1.02912],
            38: [0, .69444, 0, 0, .83056],
            39: [0, .69444, 0, 0, .30556],
            40: [.25, .75, 0, 0, .42778],
            41: [.25, .75, 0, 0, .42778],
            42: [0, .75, 0, 0, .55],
            43: [.11667, .61667, 0, 0, .85556],
            44: [.10556, .13056, 0, 0, .30556],
            45: [0, .45833, 0, 0, .36667],
            46: [0, .13056, 0, 0, .30556],
            47: [.25, .75, 0, 0, .55],
            48: [0, .69444, 0, 0, .55],
            49: [0, .69444, 0, 0, .55],
            50: [0, .69444, 0, 0, .55],
            51: [0, .69444, 0, 0, .55],
            52: [0, .69444, 0, 0, .55],
            53: [0, .69444, 0, 0, .55],
            54: [0, .69444, 0, 0, .55],
            55: [0, .69444, 0, 0, .55],
            56: [0, .69444, 0, 0, .55],
            57: [0, .69444, 0, 0, .55],
            58: [0, .45833, 0, 0, .30556],
            59: [.10556, .45833, 0, 0, .30556],
            61: [-.09375, .40625, 0, 0, .85556],
            63: [0, .69444, 0, 0, .51945],
            64: [0, .69444, 0, 0, .73334],
            65: [0, .69444, 0, 0, .73334],
            66: [0, .69444, 0, 0, .73334],
            67: [0, .69444, 0, 0, .70278],
            68: [0, .69444, 0, 0, .79445],
            69: [0, .69444, 0, 0, .64167],
            70: [0, .69444, 0, 0, .61111],
            71: [0, .69444, 0, 0, .73334],
            72: [0, .69444, 0, 0, .79445],
            73: [0, .69444, 0, 0, .33056],
            74: [0, .69444, 0, 0, .51945],
            75: [0, .69444, 0, 0, .76389],
            76: [0, .69444, 0, 0, .58056],
            77: [0, .69444, 0, 0, .97778],
            78: [0, .69444, 0, 0, .79445],
            79: [0, .69444, 0, 0, .79445],
            80: [0, .69444, 0, 0, .70278],
            81: [.10556, .69444, 0, 0, .79445],
            82: [0, .69444, 0, 0, .70278],
            83: [0, .69444, 0, 0, .61111],
            84: [0, .69444, 0, 0, .73334],
            85: [0, .69444, 0, 0, .76389],
            86: [0, .69444, .01528, 0, .73334],
            87: [0, .69444, .01528, 0, 1.03889],
            88: [0, .69444, 0, 0, .73334],
            89: [0, .69444, .0275, 0, .73334],
            90: [0, .69444, 0, 0, .67223],
            91: [.25, .75, 0, 0, .34306],
            93: [.25, .75, 0, 0, .34306],
            94: [0, .69444, 0, 0, .55],
            95: [.35, .10833, .03056, 0, .55],
            97: [0, .45833, 0, 0, .525],
            98: [0, .69444, 0, 0, .56111],
            99: [0, .45833, 0, 0, .48889],
            100: [0, .69444, 0, 0, .56111],
            101: [0, .45833, 0, 0, .51111],
            102: [0, .69444, .07639, 0, .33611],
            103: [.19444, .45833, .01528, 0, .55],
            104: [0, .69444, 0, 0, .56111],
            105: [0, .69444, 0, 0, .25556],
            106: [.19444, .69444, 0, 0, .28611],
            107: [0, .69444, 0, 0, .53056],
            108: [0, .69444, 0, 0, .25556],
            109: [0, .45833, 0, 0, .86667],
            110: [0, .45833, 0, 0, .56111],
            111: [0, .45833, 0, 0, .55],
            112: [.19444, .45833, 0, 0, .56111],
            113: [.19444, .45833, 0, 0, .56111],
            114: [0, .45833, .01528, 0, .37222],
            115: [0, .45833, 0, 0, .42167],
            116: [0, .58929, 0, 0, .40417],
            117: [0, .45833, 0, 0, .56111],
            118: [0, .45833, .01528, 0, .5],
            119: [0, .45833, .01528, 0, .74445],
            120: [0, .45833, 0, 0, .5],
            121: [.19444, .45833, .01528, 0, .5],
            122: [0, .45833, 0, 0, .47639],
            126: [.35, .34444, 0, 0, .55],
            160: [0, 0, 0, 0, .25],
            168: [0, .69444, 0, 0, .55],
            176: [0, .69444, 0, 0, .73334],
            180: [0, .69444, 0, 0, .55],
            184: [.17014, 0, 0, 0, .48889],
            305: [0, .45833, 0, 0, .25556],
            567: [.19444, .45833, 0, 0, .28611],
            710: [0, .69444, 0, 0, .55],
            711: [0, .63542, 0, 0, .55],
            713: [0, .63778, 0, 0, .55],
            728: [0, .69444, 0, 0, .55],
            729: [0, .69444, 0, 0, .30556],
            730: [0, .69444, 0, 0, .73334],
            732: [0, .69444, 0, 0, .55],
            733: [0, .69444, 0, 0, .55],
            915: [0, .69444, 0, 0, .58056],
            916: [0, .69444, 0, 0, .91667],
            920: [0, .69444, 0, 0, .85556],
            923: [0, .69444, 0, 0, .67223],
            926: [0, .69444, 0, 0, .73334],
            928: [0, .69444, 0, 0, .79445],
            931: [0, .69444, 0, 0, .79445],
            933: [0, .69444, 0, 0, .85556],
            934: [0, .69444, 0, 0, .79445],
            936: [0, .69444, 0, 0, .85556],
            937: [0, .69444, 0, 0, .79445],
            8211: [0, .45833, .03056, 0, .55],
            8212: [0, .45833, .03056, 0, 1.10001],
            8216: [0, .69444, 0, 0, .30556],
            8217: [0, .69444, 0, 0, .30556],
            8220: [0, .69444, 0, 0, .55834],
            8221: [0, .69444, 0, 0, .55834]
        },
        "SansSerif-Italic": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, .05733, 0, .31945],
            34: [0, .69444, .00316, 0, .5],
            35: [.19444, .69444, .05087, 0, .83334],
            36: [.05556, .75, .11156, 0, .5],
            37: [.05556, .75, .03126, 0, .83334],
            38: [0, .69444, .03058, 0, .75834],
            39: [0, .69444, .07816, 0, .27778],
            40: [.25, .75, .13164, 0, .38889],
            41: [.25, .75, .02536, 0, .38889],
            42: [0, .75, .11775, 0, .5],
            43: [.08333, .58333, .02536, 0, .77778],
            44: [.125, .08333, 0, 0, .27778],
            45: [0, .44444, .01946, 0, .33333],
            46: [0, .08333, 0, 0, .27778],
            47: [.25, .75, .13164, 0, .5],
            48: [0, .65556, .11156, 0, .5],
            49: [0, .65556, .11156, 0, .5],
            50: [0, .65556, .11156, 0, .5],
            51: [0, .65556, .11156, 0, .5],
            52: [0, .65556, .11156, 0, .5],
            53: [0, .65556, .11156, 0, .5],
            54: [0, .65556, .11156, 0, .5],
            55: [0, .65556, .11156, 0, .5],
            56: [0, .65556, .11156, 0, .5],
            57: [0, .65556, .11156, 0, .5],
            58: [0, .44444, .02502, 0, .27778],
            59: [.125, .44444, .02502, 0, .27778],
            61: [-.13, .37, .05087, 0, .77778],
            63: [0, .69444, .11809, 0, .47222],
            64: [0, .69444, .07555, 0, .66667],
            65: [0, .69444, 0, 0, .66667],
            66: [0, .69444, .08293, 0, .66667],
            67: [0, .69444, .11983, 0, .63889],
            68: [0, .69444, .07555, 0, .72223],
            69: [0, .69444, .11983, 0, .59722],
            70: [0, .69444, .13372, 0, .56945],
            71: [0, .69444, .11983, 0, .66667],
            72: [0, .69444, .08094, 0, .70834],
            73: [0, .69444, .13372, 0, .27778],
            74: [0, .69444, .08094, 0, .47222],
            75: [0, .69444, .11983, 0, .69445],
            76: [0, .69444, 0, 0, .54167],
            77: [0, .69444, .08094, 0, .875],
            78: [0, .69444, .08094, 0, .70834],
            79: [0, .69444, .07555, 0, .73611],
            80: [0, .69444, .08293, 0, .63889],
            81: [.125, .69444, .07555, 0, .73611],
            82: [0, .69444, .08293, 0, .64584],
            83: [0, .69444, .09205, 0, .55556],
            84: [0, .69444, .13372, 0, .68056],
            85: [0, .69444, .08094, 0, .6875],
            86: [0, .69444, .1615, 0, .66667],
            87: [0, .69444, .1615, 0, .94445],
            88: [0, .69444, .13372, 0, .66667],
            89: [0, .69444, .17261, 0, .66667],
            90: [0, .69444, .11983, 0, .61111],
            91: [.25, .75, .15942, 0, .28889],
            93: [.25, .75, .08719, 0, .28889],
            94: [0, .69444, .0799, 0, .5],
            95: [.35, .09444, .08616, 0, .5],
            97: [0, .44444, .00981, 0, .48056],
            98: [0, .69444, .03057, 0, .51667],
            99: [0, .44444, .08336, 0, .44445],
            100: [0, .69444, .09483, 0, .51667],
            101: [0, .44444, .06778, 0, .44445],
            102: [0, .69444, .21705, 0, .30556],
            103: [.19444, .44444, .10836, 0, .5],
            104: [0, .69444, .01778, 0, .51667],
            105: [0, .67937, .09718, 0, .23889],
            106: [.19444, .67937, .09162, 0, .26667],
            107: [0, .69444, .08336, 0, .48889],
            108: [0, .69444, .09483, 0, .23889],
            109: [0, .44444, .01778, 0, .79445],
            110: [0, .44444, .01778, 0, .51667],
            111: [0, .44444, .06613, 0, .5],
            112: [.19444, .44444, .0389, 0, .51667],
            113: [.19444, .44444, .04169, 0, .51667],
            114: [0, .44444, .10836, 0, .34167],
            115: [0, .44444, .0778, 0, .38333],
            116: [0, .57143, .07225, 0, .36111],
            117: [0, .44444, .04169, 0, .51667],
            118: [0, .44444, .10836, 0, .46111],
            119: [0, .44444, .10836, 0, .68334],
            120: [0, .44444, .09169, 0, .46111],
            121: [.19444, .44444, .10836, 0, .46111],
            122: [0, .44444, .08752, 0, .43472],
            126: [.35, .32659, .08826, 0, .5],
            160: [0, 0, 0, 0, .25],
            168: [0, .67937, .06385, 0, .5],
            176: [0, .69444, 0, 0, .73752],
            184: [.17014, 0, 0, 0, .44445],
            305: [0, .44444, .04169, 0, .23889],
            567: [.19444, .44444, .04169, 0, .26667],
            710: [0, .69444, .0799, 0, .5],
            711: [0, .63194, .08432, 0, .5],
            713: [0, .60889, .08776, 0, .5],
            714: [0, .69444, .09205, 0, .5],
            715: [0, .69444, 0, 0, .5],
            728: [0, .69444, .09483, 0, .5],
            729: [0, .67937, .07774, 0, .27778],
            730: [0, .69444, 0, 0, .73752],
            732: [0, .67659, .08826, 0, .5],
            733: [0, .69444, .09205, 0, .5],
            915: [0, .69444, .13372, 0, .54167],
            916: [0, .69444, 0, 0, .83334],
            920: [0, .69444, .07555, 0, .77778],
            923: [0, .69444, 0, 0, .61111],
            926: [0, .69444, .12816, 0, .66667],
            928: [0, .69444, .08094, 0, .70834],
            931: [0, .69444, .11983, 0, .72222],
            933: [0, .69444, .09031, 0, .77778],
            934: [0, .69444, .04603, 0, .72222],
            936: [0, .69444, .09031, 0, .77778],
            937: [0, .69444, .08293, 0, .72222],
            8211: [0, .44444, .08616, 0, .5],
            8212: [0, .44444, .08616, 0, 1],
            8216: [0, .69444, .07816, 0, .27778],
            8217: [0, .69444, .07816, 0, .27778],
            8220: [0, .69444, .14205, 0, .5],
            8221: [0, .69444, .00316, 0, .5]
        },
        "SansSerif-Regular": {
            32: [0, 0, 0, 0, .25],
            33: [0, .69444, 0, 0, .31945],
            34: [0, .69444, 0, 0, .5],
            35: [.19444, .69444, 0, 0, .83334],
            36: [.05556, .75, 0, 0, .5],
            37: [.05556, .75, 0, 0, .83334],
            38: [0, .69444, 0, 0, .75834],
            39: [0, .69444, 0, 0, .27778],
            40: [.25, .75, 0, 0, .38889],
            41: [.25, .75, 0, 0, .38889],
            42: [0, .75, 0, 0, .5],
            43: [.08333, .58333, 0, 0, .77778],
            44: [.125, .08333, 0, 0, .27778],
            45: [0, .44444, 0, 0, .33333],
            46: [0, .08333, 0, 0, .27778],
            47: [.25, .75, 0, 0, .5],
            48: [0, .65556, 0, 0, .5],
            49: [0, .65556, 0, 0, .5],
            50: [0, .65556, 0, 0, .5],
            51: [0, .65556, 0, 0, .5],
            52: [0, .65556, 0, 0, .5],
            53: [0, .65556, 0, 0, .5],
            54: [0, .65556, 0, 0, .5],
            55: [0, .65556, 0, 0, .5],
            56: [0, .65556, 0, 0, .5],
            57: [0, .65556, 0, 0, .5],
            58: [0, .44444, 0, 0, .27778],
            59: [.125, .44444, 0, 0, .27778],
            61: [-.13, .37, 0, 0, .77778],
            63: [0, .69444, 0, 0, .47222],
            64: [0, .69444, 0, 0, .66667],
            65: [0, .69444, 0, 0, .66667],
            66: [0, .69444, 0, 0, .66667],
            67: [0, .69444, 0, 0, .63889],
            68: [0, .69444, 0, 0, .72223],
            69: [0, .69444, 0, 0, .59722],
            70: [0, .69444, 0, 0, .56945],
            71: [0, .69444, 0, 0, .66667],
            72: [0, .69444, 0, 0, .70834],
            73: [0, .69444, 0, 0, .27778],
            74: [0, .69444, 0, 0, .47222],
            75: [0, .69444, 0, 0, .69445],
            76: [0, .69444, 0, 0, .54167],
            77: [0, .69444, 0, 0, .875],
            78: [0, .69444, 0, 0, .70834],
            79: [0, .69444, 0, 0, .73611],
            80: [0, .69444, 0, 0, .63889],
            81: [.125, .69444, 0, 0, .73611],
            82: [0, .69444, 0, 0, .64584],
            83: [0, .69444, 0, 0, .55556],
            84: [0, .69444, 0, 0, .68056],
            85: [0, .69444, 0, 0, .6875],
            86: [0, .69444, .01389, 0, .66667],
            87: [0, .69444, .01389, 0, .94445],
            88: [0, .69444, 0, 0, .66667],
            89: [0, .69444, .025, 0, .66667],
            90: [0, .69444, 0, 0, .61111],
            91: [.25, .75, 0, 0, .28889],
            93: [.25, .75, 0, 0, .28889],
            94: [0, .69444, 0, 0, .5],
            95: [.35, .09444, .02778, 0, .5],
            97: [0, .44444, 0, 0, .48056],
            98: [0, .69444, 0, 0, .51667],
            99: [0, .44444, 0, 0, .44445],
            100: [0, .69444, 0, 0, .51667],
            101: [0, .44444, 0, 0, .44445],
            102: [0, .69444, .06944, 0, .30556],
            103: [.19444, .44444, .01389, 0, .5],
            104: [0, .69444, 0, 0, .51667],
            105: [0, .67937, 0, 0, .23889],
            106: [.19444, .67937, 0, 0, .26667],
            107: [0, .69444, 0, 0, .48889],
            108: [0, .69444, 0, 0, .23889],
            109: [0, .44444, 0, 0, .79445],
            110: [0, .44444, 0, 0, .51667],
            111: [0, .44444, 0, 0, .5],
            112: [.19444, .44444, 0, 0, .51667],
            113: [.19444, .44444, 0, 0, .51667],
            114: [0, .44444, .01389, 0, .34167],
            115: [0, .44444, 0, 0, .38333],
            116: [0, .57143, 0, 0, .36111],
            117: [0, .44444, 0, 0, .51667],
            118: [0, .44444, .01389, 0, .46111],
            119: [0, .44444, .01389, 0, .68334],
            120: [0, .44444, 0, 0, .46111],
            121: [.19444, .44444, .01389, 0, .46111],
            122: [0, .44444, 0, 0, .43472],
            126: [.35, .32659, 0, 0, .5],
            160: [0, 0, 0, 0, .25],
            168: [0, .67937, 0, 0, .5],
            176: [0, .69444, 0, 0, .66667],
            184: [.17014, 0, 0, 0, .44445],
            305: [0, .44444, 0, 0, .23889],
            567: [.19444, .44444, 0, 0, .26667],
            710: [0, .69444, 0, 0, .5],
            711: [0, .63194, 0, 0, .5],
            713: [0, .60889, 0, 0, .5],
            714: [0, .69444, 0, 0, .5],
            715: [0, .69444, 0, 0, .5],
            728: [0, .69444, 0, 0, .5],
            729: [0, .67937, 0, 0, .27778],
            730: [0, .69444, 0, 0, .66667],
            732: [0, .67659, 0, 0, .5],
            733: [0, .69444, 0, 0, .5],
            915: [0, .69444, 0, 0, .54167],
            916: [0, .69444, 0, 0, .83334],
            920: [0, .69444, 0, 0, .77778],
            923: [0, .69444, 0, 0, .61111],
            926: [0, .69444, 0, 0, .66667],
            928: [0, .69444, 0, 0, .70834],
            931: [0, .69444, 0, 0, .72222],
            933: [0, .69444, 0, 0, .77778],
            934: [0, .69444, 0, 0, .72222],
            936: [0, .69444, 0, 0, .77778],
            937: [0, .69444, 0, 0, .72222],
            8211: [0, .44444, .02778, 0, .5],
            8212: [0, .44444, .02778, 0, 1],
            8216: [0, .69444, 0, 0, .27778],
            8217: [0, .69444, 0, 0, .27778],
            8220: [0, .69444, 0, 0, .5],
            8221: [0, .69444, 0, 0, .5]
        },
        "Script-Regular": {
            32: [0, 0, 0, 0, .25],
            65: [0, .7, .22925, 0, .80253],
            66: [0, .7, .04087, 0, .90757],
            67: [0, .7, .1689, 0, .66619],
            68: [0, .7, .09371, 0, .77443],
            69: [0, .7, .18583, 0, .56162],
            70: [0, .7, .13634, 0, .89544],
            71: [0, .7, .17322, 0, .60961],
            72: [0, .7, .29694, 0, .96919],
            73: [0, .7, .19189, 0, .80907],
            74: [.27778, .7, .19189, 0, 1.05159],
            75: [0, .7, .31259, 0, .91364],
            76: [0, .7, .19189, 0, .87373],
            77: [0, .7, .15981, 0, 1.08031],
            78: [0, .7, .3525, 0, .9015],
            79: [0, .7, .08078, 0, .73787],
            80: [0, .7, .08078, 0, 1.01262],
            81: [0, .7, .03305, 0, .88282],
            82: [0, .7, .06259, 0, .85],
            83: [0, .7, .19189, 0, .86767],
            84: [0, .7, .29087, 0, .74697],
            85: [0, .7, .25815, 0, .79996],
            86: [0, .7, .27523, 0, .62204],
            87: [0, .7, .27523, 0, .80532],
            88: [0, .7, .26006, 0, .94445],
            89: [0, .7, .2939, 0, .70961],
            90: [0, .7, .24037, 0, .8212],
            160: [0, 0, 0, 0, .25]
        },
        "Size1-Regular": {
            32: [0, 0, 0, 0, .25],
            40: [.35001, .85, 0, 0, .45834],
            41: [.35001, .85, 0, 0, .45834],
            47: [.35001, .85, 0, 0, .57778],
            91: [.35001, .85, 0, 0, .41667],
            92: [.35001, .85, 0, 0, .57778],
            93: [.35001, .85, 0, 0, .41667],
            123: [.35001, .85, 0, 0, .58334],
            125: [.35001, .85, 0, 0, .58334],
            160: [0, 0, 0, 0, .25],
            710: [0, .72222, 0, 0, .55556],
            732: [0, .72222, 0, 0, .55556],
            770: [0, .72222, 0, 0, .55556],
            771: [0, .72222, 0, 0, .55556],
            8214: [-99e-5, .601, 0, 0, .77778],
            8593: [1e-5, .6, 0, 0, .66667],
            8595: [1e-5, .6, 0, 0, .66667],
            8657: [1e-5, .6, 0, 0, .77778],
            8659: [1e-5, .6, 0, 0, .77778],
            8719: [.25001, .75, 0, 0, .94445],
            8720: [.25001, .75, 0, 0, .94445],
            8721: [.25001, .75, 0, 0, 1.05556],
            8730: [.35001, .85, 0, 0, 1],
            8739: [-.00599, .606, 0, 0, .33333],
            8741: [-.00599, .606, 0, 0, .55556],
            8747: [.30612, .805, .19445, 0, .47222],
            8748: [.306, .805, .19445, 0, .47222],
            8749: [.306, .805, .19445, 0, .47222],
            8750: [.30612, .805, .19445, 0, .47222],
            8896: [.25001, .75, 0, 0, .83334],
            8897: [.25001, .75, 0, 0, .83334],
            8898: [.25001, .75, 0, 0, .83334],
            8899: [.25001, .75, 0, 0, .83334],
            8968: [.35001, .85, 0, 0, .47222],
            8969: [.35001, .85, 0, 0, .47222],
            8970: [.35001, .85, 0, 0, .47222],
            8971: [.35001, .85, 0, 0, .47222],
            9168: [-99e-5, .601, 0, 0, .66667],
            10216: [.35001, .85, 0, 0, .47222],
            10217: [.35001, .85, 0, 0, .47222],
            10752: [.25001, .75, 0, 0, 1.11111],
            10753: [.25001, .75, 0, 0, 1.11111],
            10754: [.25001, .75, 0, 0, 1.11111],
            10756: [.25001, .75, 0, 0, .83334],
            10758: [.25001, .75, 0, 0, .83334]
        },
        "Size2-Regular": {
            32: [0, 0, 0, 0, .25],
            40: [.65002, 1.15, 0, 0, .59722],
            41: [.65002, 1.15, 0, 0, .59722],
            47: [.65002, 1.15, 0, 0, .81111],
            91: [.65002, 1.15, 0, 0, .47222],
            92: [.65002, 1.15, 0, 0, .81111],
            93: [.65002, 1.15, 0, 0, .47222],
            123: [.65002, 1.15, 0, 0, .66667],
            125: [.65002, 1.15, 0, 0, .66667],
            160: [0, 0, 0, 0, .25],
            710: [0, .75, 0, 0, 1],
            732: [0, .75, 0, 0, 1],
            770: [0, .75, 0, 0, 1],
            771: [0, .75, 0, 0, 1],
            8719: [.55001, 1.05, 0, 0, 1.27778],
            8720: [.55001, 1.05, 0, 0, 1.27778],
            8721: [.55001, 1.05, 0, 0, 1.44445],
            8730: [.65002, 1.15, 0, 0, 1],
            8747: [.86225, 1.36, .44445, 0, .55556],
            8748: [.862, 1.36, .44445, 0, .55556],
            8749: [.862, 1.36, .44445, 0, .55556],
            8750: [.86225, 1.36, .44445, 0, .55556],
            8896: [.55001, 1.05, 0, 0, 1.11111],
            8897: [.55001, 1.05, 0, 0, 1.11111],
            8898: [.55001, 1.05, 0, 0, 1.11111],
            8899: [.55001, 1.05, 0, 0, 1.11111],
            8968: [.65002, 1.15, 0, 0, .52778],
            8969: [.65002, 1.15, 0, 0, .52778],
            8970: [.65002, 1.15, 0, 0, .52778],
            8971: [.65002, 1.15, 0, 0, .52778],
            10216: [.65002, 1.15, 0, 0, .61111],
            10217: [.65002, 1.15, 0, 0, .61111],
            10752: [.55001, 1.05, 0, 0, 1.51112],
            10753: [.55001, 1.05, 0, 0, 1.51112],
            10754: [.55001, 1.05, 0, 0, 1.51112],
            10756: [.55001, 1.05, 0, 0, 1.11111],
            10758: [.55001, 1.05, 0, 0, 1.11111]
        },
        "Size3-Regular": {
            32: [0, 0, 0, 0, .25],
            40: [.95003, 1.45, 0, 0, .73611],
            41: [.95003, 1.45, 0, 0, .73611],
            47: [.95003, 1.45, 0, 0, 1.04445],
            91: [.95003, 1.45, 0, 0, .52778],
            92: [.95003, 1.45, 0, 0, 1.04445],
            93: [.95003, 1.45, 0, 0, .52778],
            123: [.95003, 1.45, 0, 0, .75],
            125: [.95003, 1.45, 0, 0, .75],
            160: [0, 0, 0, 0, .25],
            710: [0, .75, 0, 0, 1.44445],
            732: [0, .75, 0, 0, 1.44445],
            770: [0, .75, 0, 0, 1.44445],
            771: [0, .75, 0, 0, 1.44445],
            8730: [.95003, 1.45, 0, 0, 1],
            8968: [.95003, 1.45, 0, 0, .58334],
            8969: [.95003, 1.45, 0, 0, .58334],
            8970: [.95003, 1.45, 0, 0, .58334],
            8971: [.95003, 1.45, 0, 0, .58334],
            10216: [.95003, 1.45, 0, 0, .75],
            10217: [.95003, 1.45, 0, 0, .75]
        },
        "Size4-Regular": {
            32: [0, 0, 0, 0, .25],
            40: [1.25003, 1.75, 0, 0, .79167],
            41: [1.25003, 1.75, 0, 0, .79167],
            47: [1.25003, 1.75, 0, 0, 1.27778],
            91: [1.25003, 1.75, 0, 0, .58334],
            92: [1.25003, 1.75, 0, 0, 1.27778],
            93: [1.25003, 1.75, 0, 0, .58334],
            123: [1.25003, 1.75, 0, 0, .80556],
            125: [1.25003, 1.75, 0, 0, .80556],
            160: [0, 0, 0, 0, .25],
            710: [0, .825, 0, 0, 1.8889],
            732: [0, .825, 0, 0, 1.8889],
            770: [0, .825, 0, 0, 1.8889],
            771: [0, .825, 0, 0, 1.8889],
            8730: [1.25003, 1.75, 0, 0, 1],
            8968: [1.25003, 1.75, 0, 0, .63889],
            8969: [1.25003, 1.75, 0, 0, .63889],
            8970: [1.25003, 1.75, 0, 0, .63889],
            8971: [1.25003, 1.75, 0, 0, .63889],
            9115: [.64502, 1.155, 0, 0, .875],
            9116: [1e-5, .6, 0, 0, .875],
            9117: [.64502, 1.155, 0, 0, .875],
            9118: [.64502, 1.155, 0, 0, .875],
            9119: [1e-5, .6, 0, 0, .875],
            9120: [.64502, 1.155, 0, 0, .875],
            9121: [.64502, 1.155, 0, 0, .66667],
            9122: [-99e-5, .601, 0, 0, .66667],
            9123: [.64502, 1.155, 0, 0, .66667],
            9124: [.64502, 1.155, 0, 0, .66667],
            9125: [-99e-5, .601, 0, 0, .66667],
            9126: [.64502, 1.155, 0, 0, .66667],
            9127: [1e-5, .9, 0, 0, .88889],
            9128: [.65002, 1.15, 0, 0, .88889],
            9129: [.90001, 0, 0, 0, .88889],
            9130: [0, .3, 0, 0, .88889],
            9131: [1e-5, .9, 0, 0, .88889],
            9132: [.65002, 1.15, 0, 0, .88889],
            9133: [.90001, 0, 0, 0, .88889],
            9143: [.88502, .915, 0, 0, 1.05556],
            10216: [1.25003, 1.75, 0, 0, .80556],
            10217: [1.25003, 1.75, 0, 0, .80556],
            57344: [-.00499, .605, 0, 0, 1.05556],
            57345: [-.00499, .605, 0, 0, 1.05556],
            57680: [0, .12, 0, 0, .45],
            57681: [0, .12, 0, 0, .45],
            57682: [0, .12, 0, 0, .45],
            57683: [0, .12, 0, 0, .45]
        },
        "Typewriter-Regular": {
            32: [0, 0, 0, 0, .525],
            33: [0, .61111, 0, 0, .525],
            34: [0, .61111, 0, 0, .525],
            35: [0, .61111, 0, 0, .525],
            36: [.08333, .69444, 0, 0, .525],
            37: [.08333, .69444, 0, 0, .525],
            38: [0, .61111, 0, 0, .525],
            39: [0, .61111, 0, 0, .525],
            40: [.08333, .69444, 0, 0, .525],
            41: [.08333, .69444, 0, 0, .525],
            42: [0, .52083, 0, 0, .525],
            43: [-.08056, .53055, 0, 0, .525],
            44: [.13889, .125, 0, 0, .525],
            45: [-.08056, .53055, 0, 0, .525],
            46: [0, .125, 0, 0, .525],
            47: [.08333, .69444, 0, 0, .525],
            48: [0, .61111, 0, 0, .525],
            49: [0, .61111, 0, 0, .525],
            50: [0, .61111, 0, 0, .525],
            51: [0, .61111, 0, 0, .525],
            52: [0, .61111, 0, 0, .525],
            53: [0, .61111, 0, 0, .525],
            54: [0, .61111, 0, 0, .525],
            55: [0, .61111, 0, 0, .525],
            56: [0, .61111, 0, 0, .525],
            57: [0, .61111, 0, 0, .525],
            58: [0, .43056, 0, 0, .525],
            59: [.13889, .43056, 0, 0, .525],
            60: [-.05556, .55556, 0, 0, .525],
            61: [-.19549, .41562, 0, 0, .525],
            62: [-.05556, .55556, 0, 0, .525],
            63: [0, .61111, 0, 0, .525],
            64: [0, .61111, 0, 0, .525],
            65: [0, .61111, 0, 0, .525],
            66: [0, .61111, 0, 0, .525],
            67: [0, .61111, 0, 0, .525],
            68: [0, .61111, 0, 0, .525],
            69: [0, .61111, 0, 0, .525],
            70: [0, .61111, 0, 0, .525],
            71: [0, .61111, 0, 0, .525],
            72: [0, .61111, 0, 0, .525],
            73: [0, .61111, 0, 0, .525],
            74: [0, .61111, 0, 0, .525],
            75: [0, .61111, 0, 0, .525],
            76: [0, .61111, 0, 0, .525],
            77: [0, .61111, 0, 0, .525],
            78: [0, .61111, 0, 0, .525],
            79: [0, .61111, 0, 0, .525],
            80: [0, .61111, 0, 0, .525],
            81: [.13889, .61111, 0, 0, .525],
            82: [0, .61111, 0, 0, .525],
            83: [0, .61111, 0, 0, .525],
            84: [0, .61111, 0, 0, .525],
            85: [0, .61111, 0, 0, .525],
            86: [0, .61111, 0, 0, .525],
            87: [0, .61111, 0, 0, .525],
            88: [0, .61111, 0, 0, .525],
            89: [0, .61111, 0, 0, .525],
            90: [0, .61111, 0, 0, .525],
            91: [.08333, .69444, 0, 0, .525],
            92: [.08333, .69444, 0, 0, .525],
            93: [.08333, .69444, 0, 0, .525],
            94: [0, .61111, 0, 0, .525],
            95: [.09514, 0, 0, 0, .525],
            96: [0, .61111, 0, 0, .525],
            97: [0, .43056, 0, 0, .525],
            98: [0, .61111, 0, 0, .525],
            99: [0, .43056, 0, 0, .525],
            100: [0, .61111, 0, 0, .525],
            101: [0, .43056, 0, 0, .525],
            102: [0, .61111, 0, 0, .525],
            103: [.22222, .43056, 0, 0, .525],
            104: [0, .61111, 0, 0, .525],
            105: [0, .61111, 0, 0, .525],
            106: [.22222, .61111, 0, 0, .525],
            107: [0, .61111, 0, 0, .525],
            108: [0, .61111, 0, 0, .525],
            109: [0, .43056, 0, 0, .525],
            110: [0, .43056, 0, 0, .525],
            111: [0, .43056, 0, 0, .525],
            112: [.22222, .43056, 0, 0, .525],
            113: [.22222, .43056, 0, 0, .525],
            114: [0, .43056, 0, 0, .525],
            115: [0, .43056, 0, 0, .525],
            116: [0, .55358, 0, 0, .525],
            117: [0, .43056, 0, 0, .525],
            118: [0, .43056, 0, 0, .525],
            119: [0, .43056, 0, 0, .525],
            120: [0, .43056, 0, 0, .525],
            121: [.22222, .43056, 0, 0, .525],
            122: [0, .43056, 0, 0, .525],
            123: [.08333, .69444, 0, 0, .525],
            124: [.08333, .69444, 0, 0, .525],
            125: [.08333, .69444, 0, 0, .525],
            126: [0, .61111, 0, 0, .525],
            127: [0, .61111, 0, 0, .525],
            160: [0, 0, 0, 0, .525],
            176: [0, .61111, 0, 0, .525],
            184: [.19445, 0, 0, 0, .525],
            305: [0, .43056, 0, 0, .525],
            567: [.22222, .43056, 0, 0, .525],
            711: [0, .56597, 0, 0, .525],
            713: [0, .56555, 0, 0, .525],
            714: [0, .61111, 0, 0, .525],
            715: [0, .61111, 0, 0, .525],
            728: [0, .61111, 0, 0, .525],
            730: [0, .61111, 0, 0, .525],
            770: [0, .61111, 0, 0, .525],
            771: [0, .61111, 0, 0, .525],
            776: [0, .61111, 0, 0, .525],
            915: [0, .61111, 0, 0, .525],
            916: [0, .61111, 0, 0, .525],
            920: [0, .61111, 0, 0, .525],
            923: [0, .61111, 0, 0, .525],
            926: [0, .61111, 0, 0, .525],
            928: [0, .61111, 0, 0, .525],
            931: [0, .61111, 0, 0, .525],
            933: [0, .61111, 0, 0, .525],
            934: [0, .61111, 0, 0, .525],
            936: [0, .61111, 0, 0, .525],
            937: [0, .61111, 0, 0, .525],
            8216: [0, .61111, 0, 0, .525],
            8217: [0, .61111, 0, 0, .525],
            8242: [0, .61111, 0, 0, .525],
            9251: [.11111, .21944, 0, 0, .525]
        }
    },
    yo = {
        slant: [.25, .25, .25],
        space: [0, 0, 0],
        stretch: [0, 0, 0],
        shrink: [0, 0, 0],
        xHeight: [.431, .431, .431],
        quad: [1, 1.171, 1.472],
        extraSpace: [0, 0, 0],
        num1: [.677, .732, .925],
        num2: [.394, .384, .387],
        num3: [.444, .471, .504],
        denom1: [.686, .752, 1.025],
        denom2: [.345, .344, .532],
        sup1: [.413, .503, .504],
        sup2: [.363, .431, .404],
        sup3: [.289, .286, .294],
        sub1: [.15, .143, .2],
        sub2: [.247, .286, .4],
        supDrop: [.386, .353, .494],
        subDrop: [.05, .071, .1],
        delim1: [2.39, 1.7, 1.98],
        delim2: [1.01, 1.157, 1.42],
        axisHeight: [.25, .25, .25],
        defaultRuleThickness: [.04, .049, .049],
        bigOpSpacing1: [.111, .111, .111],
        bigOpSpacing2: [.166, .166, .166],
        bigOpSpacing3: [.2, .2, .2],
        bigOpSpacing4: [.6, .611, .611],
        bigOpSpacing5: [.1, .143, .143],
        sqrtRuleThickness: [.04, .04, .04],
        ptPerEm: [10, 10, 10],
        doubleRuleSep: [.2, .2, .2],
        arrayRuleWidth: [.04, .04, .04],
        fboxsep: [.3, .3, .3],
        fboxrule: [.04, .04, .04]
    },
    $h = {
        : "A",
        : "D",
        : "o",
        : "a",
        : "d",
        : "o",
        : "A",
        : "B",
        : "B",
        : "F",
        : "A",
        : "E",
        : "K",
        : "3",
        : "N",
        : "N",
        : "K",
        : "N",
        : "M",
        : "H",
        : "O",
        : "N",
        : "P",
        : "C",
        : "T",
        : "y",
        : "O",
        : "X",
        : "U",
        : "h",
        : "W",
        : "W",
        : "B",
        : "X",
        : "B",
        : "3",
        : "X",
        : "R",
        : "a",
        : "b",
        : "a",
        : "r",
        : "y",
        : "e",
        : "m",
        : "e",
        : "n",
        : "n",
        : "n",
        : "n",
        : "m",
        : "n",
        : "o",
        : "n",
        : "p",
        : "c",
        : "o",
        : "y",
        : "b",
        : "x",
        : "n",
        : "n",
        : "w",
        : "w",
        : "a",
        : "m",
        : "a",
        : "e",
        : "m",
        : "r"
    };

function QE(e, t) {
    Cr[e] = t
}

function Ud(e, t, n) {
    if (!Cr[t]) throw new Error("Font metrics not found for font: " + t + ".");
    var r = e.charCodeAt(0),
        i = Cr[t][r];
    if (!i && e[0] in $h && (r = $h[e[0]].charCodeAt(0), i = Cr[t][r]), !i && n === "text" && v5(r) && (i = Cr[t][77]), i) return {
        depth: i[0],
        height: i[1],
        italic: i[2],
        skew: i[3],
        width: i[4]
    }
}
var Vc = {};

function JE(e) {
    var t;
    if (e >= 5 ? t = 0 : e >= 3 ? t = 1 : t = 2, !Vc[t]) {
        var n = Vc[t] = {
            cssEmPerMu: yo.quad[t] / 18
        };
        for (var r in yo) yo.hasOwnProperty(r) && (n[r] = yo[r][t])
    }
    return Vc[t]
}
var eN = [
        [1, 1, 1],
        [2, 1, 1],
        [3, 1, 1],
        [4, 2, 1],
        [5, 2, 1],
        [6, 3, 1],
        [7, 4, 2],
        [8, 6, 3],
        [9, 7, 6],
        [10, 8, 7],
        [11, 10, 9]
    ],
    Hh = [.5, .6, .7, .8, .9, 1, 1.2, 1.44, 1.728, 2.074, 2.488],
    Uh = function(t, n) {
        return n.size < 2 ? t : eN[t - 1][n.size - 1]
    };
class Vr {
    constructor(t) {
        this.style = void 0, this.color = void 0, this.size = void 0, this.textSize = void 0, this.phantom = void 0, this.font = void 0, this.fontFamily = void 0, this.fontWeight = void 0, this.fontShape = void 0, this.sizeMultiplier = void 0, this.maxSize = void 0, this.minRuleThickness = void 0, this._fontMetrics = void 0, this.style = t.style, this.color = t.color, this.size = t.size || Vr.BASESIZE, this.textSize = t.textSize || this.size, this.phantom = !!t.phantom, this.font = t.font || "", this.fontFamily = t.fontFamily || "", this.fontWeight = t.fontWeight || "", this.fontShape = t.fontShape || "", this.sizeMultiplier = Hh[this.size - 1], this.maxSize = t.maxSize, this.minRuleThickness = t.minRuleThickness, this._fontMetrics = void 0
    }
    extend(t) {
        var n = {
            style: this.style,
            size: this.size,
            textSize: this.textSize,
            color: this.color,
            phantom: this.phantom,
            font: this.font,
            fontFamily: this.fontFamily,
            fontWeight: this.fontWeight,
            fontShape: this.fontShape,
            maxSize: this.maxSize,
            minRuleThickness: this.minRuleThickness
        };
        for (var r in t) t.hasOwnProperty(r) && (n[r] = t[r]);
        return new Vr(n)
    }
    havingStyle(t) {
        return this.style === t ? this : this.extend({
            style: t,
            size: Uh(this.textSize, t)
        })
    }
    havingCrampedStyle() {
        return this.havingStyle(this.style.cramp())
    }
    havingSize(t) {
        return this.size === t && this.textSize === t ? this : this.extend({
            style: this.style.text(),
            size: t,
            textSize: t,
            sizeMultiplier: Hh[t - 1]
        })
    }
    havingBaseStyle(t) {
        t = t || this.style.text();
        var n = Uh(Vr.BASESIZE, t);
        return this.size === n && this.textSize === Vr.BASESIZE && this.style === t ? this : this.extend({
            style: t,
            size: n
        })
    }
    havingBaseSizing() {
        var t;
        switch (this.style.id) {
            case 4:
            case 5:
                t = 3;
                break;
            case 6:
            case 7:
                t = 1;
                break;
            default:
                t = 6
        }
        return this.extend({
            style: this.style.text(),
            size: t
        })
    }
    withColor(t) {
        return this.extend({
            color: t
        })
    }
    withPhantom() {
        return this.extend({
            phantom: !0
        })
    }
    withFont(t) {
        return this.extend({
            font: t
        })
    }
    withTextFontFamily(t) {
        return this.extend({
            fontFamily: t,
            font: ""
        })
    }
    withTextFontWeight(t) {
        return this.extend({
            fontWeight: t,
            font: ""
        })
    }
    withTextFontShape(t) {
        return this.extend({
            fontShape: t,
            font: ""
        })
    }
    sizingClasses(t) {
        return t.size !== this.size ? ["sizing", "reset-size" + t.size, "size" + this.size] : []
    }
    baseSizingClasses() {
        return this.size !== Vr.BASESIZE ? ["sizing", "reset-size" + this.size, "size" + Vr.BASESIZE] : []
    }
    fontMetrics() {
        return this._fontMetrics || (this._fontMetrics = JE(this.size)), this._fontMetrics
    }
    getColor() {
        return this.phantom ? "transparent" : this.color
    }
}
Vr.BASESIZE = 6;
var p0 = {
        pt: 1,
        mm: 7227 / 2540,
        cm: 7227 / 254,
        in: 72.27,
        bp: 803 / 800,
        pc: 12,
        dd: 1238 / 1157,
        cc: 14856 / 1157,
        nd: 685 / 642,
        nc: 1370 / 107,
        sp: 1 / 65536,
        px: 803 / 800
    },
    tN = {
        ex: !0,
        em: !0,
        mu: !0
    },
    b5 = function(t) {
        return typeof t != "string" && (t = t.unit), t in p0 || t in tN || t === "ex"
    },
    Et = function(t, n) {
        var r;
        if (t.unit in p0) r = p0[t.unit] / n.fontMetrics().ptPerEm / n.sizeMultiplier;
        else if (t.unit === "mu") r = n.fontMetrics().cssEmPerMu;
        else {
            var i;
            if (n.style.isTight() ? i = n.havingStyle(n.style.text()) : i = n, t.unit === "ex") r = i.fontMetrics().xHeight;
            else if (t.unit === "em") r = i.fontMetrics().quad;
            else throw new ne("Invalid unit: '" + t.unit + "'");
            i !== n && (r *= i.sizeMultiplier / n.sizeMultiplier)
        }
        return Math.min(t.number * r, n.maxSize)
    },
    oe = function(t) {
        return +t.toFixed(4) + "em"
    },
    xi = function(t) {
        return t.filter(n => n).join(" ")
    },
    y5 = function(t, n, r) {
        if (this.classes = t || [], this.attributes = {}, this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = r || {}, n) {
            n.style.isTight() && this.classes.push("mtight");
            var i = n.getColor();
            i && (this.style.color = i)
        }
    },
    w5 = function(t) {
        var n = document.createElement(t);
        n.className = xi(this.classes);
        for (var r in this.style) this.style.hasOwnProperty(r) && (n.style[r] = this.style[r]);
        for (var i in this.attributes) this.attributes.hasOwnProperty(i) && n.setAttribute(i, this.attributes[i]);
        for (var s = 0; s < this.children.length; s++) n.appendChild(this.children[s].toNode());
        return n
    },
    nN = /[\s"'>/=\x00-\x1f]/,
    S5 = function(t) {
        var n = "<" + t;
        this.classes.length && (n += ' class="' + Ee.escape(xi(this.classes)) + '"');
        var r = "";
        for (var i in this.style) this.style.hasOwnProperty(i) && (r += Ee.hyphenate(i) + ":" + this.style[i] + ";");
        r && (n += ' style="' + Ee.escape(r) + '"');
        for (var s in this.attributes)
            if (this.attributes.hasOwnProperty(s)) {
                if (nN.test(s)) throw new ne("Invalid attribute name '" + s + "'");
                n += " " + s + '="' + Ee.escape(this.attributes[s]) + '"'
            } n += ">";
        for (var a = 0; a < this.children.length; a++) n += this.children[a].toMarkup();
        return n += "</" + t + ">", n
    };
class io {
    constructor(t, n, r, i) {
        this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.width = void 0, this.maxFontSize = void 0, this.style = void 0, y5.call(this, t, r, i), this.children = n || []
    }
    setAttribute(t, n) {
        this.attributes[t] = n
    }
    hasClass(t) {
        return Ee.contains(this.classes, t)
    }
    toNode() {
        return w5.call(this, "span")
    }
    toMarkup() {
        return S5.call(this, "span")
    }
}
let Vd = class {
    constructor(t, n, r, i) {
        this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, y5.call(this, n, i), this.children = r || [], this.setAttribute("href", t)
    }
    setAttribute(t, n) {
        this.attributes[t] = n
    }
    hasClass(t) {
        return Ee.contains(this.classes, t)
    }
    toNode() {
        return w5.call(this, "a")
    }
    toMarkup() {
        return S5.call(this, "a")
    }
};
class rN {
    constructor(t, n, r) {
        this.src = void 0, this.alt = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.alt = n, this.src = t, this.classes = ["mord"], this.style = r
    }
    hasClass(t) {
        return Ee.contains(this.classes, t)
    }
    toNode() {
        var t = document.createElement("img");
        t.src = this.src, t.alt = this.alt, t.className = "mord";
        for (var n in this.style) this.style.hasOwnProperty(n) && (t.style[n] = this.style[n]);
        return t
    }
    toMarkup() {
        var t = '<img src="' + Ee.escape(this.src) + '"' + (' alt="' + Ee.escape(this.alt) + '"'),
            n = "";
        for (var r in this.style) this.style.hasOwnProperty(r) && (n += Ee.hyphenate(r) + ":" + this.style[r] + ";");
        return n && (t += ' style="' + Ee.escape(n) + '"'), t += "'/>", t
    }
}
var iN = {
    : "",
    : "",
    : "",
    : ""
};
class Zn {
    constructor(t, n, r, i, s, a, o, c) {
        this.text = void 0, this.height = void 0, this.depth = void 0, this.italic = void 0, this.skew = void 0, this.width = void 0, this.maxFontSize = void 0, this.classes = void 0, this.style = void 0, this.text = t, this.height = n || 0, this.depth = r || 0, this.italic = i || 0, this.skew = s || 0, this.width = a || 0, this.classes = o || [], this.style = c || {}, this.maxFontSize = 0;
        var u = $E(this.text.charCodeAt(0));
        u && this.classes.push(u + "_fallback"), /[]/.test(this.text) && (this.text = iN[this.text])
    }
    hasClass(t) {
        return Ee.contains(this.classes, t)
    }
    toNode() {
        var t = document.createTextNode(this.text),
            n = null;
        this.italic > 0 && (n = document.createElement("span"), n.style.marginRight = oe(this.italic)), this.classes.length > 0 && (n = n || document.createElement("span"), n.className = xi(this.classes));
        for (var r in this.style) this.style.hasOwnProperty(r) && (n = n || document.createElement("span"), n.style[r] = this.style[r]);
        return n ? (n.appendChild(t), n) : t
    }
    toMarkup() {
        var t = !1,
            n = "<span";
        this.classes.length && (t = !0, n += ' class="', n += Ee.escape(xi(this.classes)), n += '"');
        var r = "";
        this.italic > 0 && (r += "margin-right:" + this.italic + "em;");
        for (var i in this.style) this.style.hasOwnProperty(i) && (r += Ee.hyphenate(i) + ":" + this.style[i] + ";");
        r && (t = !0, n += ' style="' + Ee.escape(r) + '"');
        var s = Ee.escape(this.text);
        return t ? (n += ">", n += s, n += "</span>", n) : s
    }
}
class Zr {
    constructor(t, n) {
        this.children = void 0, this.attributes = void 0, this.children = t || [], this.attributes = n || {}
    }
    toNode() {
        var t = "http://www.w3.org/2000/svg",
            n = document.createElementNS(t, "svg");
        for (var r in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, r) && n.setAttribute(r, this.attributes[r]);
        for (var i = 0; i < this.children.length; i++) n.appendChild(this.children[i].toNode());
        return n
    }
    toMarkup() {
        var t = '<svg xmlns="http://www.w3.org/2000/svg"';
        for (var n in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, n) && (t += " " + n + '="' + Ee.escape(this.attributes[n]) + '"');
        t += ">";
        for (var r = 0; r < this.children.length; r++) t += this.children[r].toMarkup();
        return t += "</svg>", t
    }
}
class vi {
    constructor(t, n) {
        this.pathName = void 0, this.alternate = void 0, this.pathName = t, this.alternate = n
    }
    toNode() {
        var t = "http://www.w3.org/2000/svg",
            n = document.createElementNS(t, "path");
        return this.alternate ? n.setAttribute("d", this.alternate) : n.setAttribute("d", Bh[this.pathName]), n
    }
    toMarkup() {
        return this.alternate ? '<path d="' + Ee.escape(this.alternate) + '"/>' : '<path d="' + Ee.escape(Bh[this.pathName]) + '"/>'
    }
}
class m0 {
    constructor(t) {
        this.attributes = void 0, this.attributes = t || {}
    }
    toNode() {
        var t = "http://www.w3.org/2000/svg",
            n = document.createElementNS(t, "line");
        for (var r in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, r) && n.setAttribute(r, this.attributes[r]);
        return n
    }
    toMarkup() {
        var t = "<line";
        for (var n in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, n) && (t += " " + n + '="' + Ee.escape(this.attributes[n]) + '"');
        return t += "/>", t
    }
}

function Vh(e) {
    if (e instanceof Zn) return e;
    throw new Error("Expected symbolNode but got " + String(e) + ".")
}

function sN(e) {
    if (e instanceof io) return e;
    throw new Error("Expected span<HtmlDomNode> but got " + String(e) + ".")
}
var aN = {
        bin: 1,
        close: 1,
        inner: 1,
        open: 1,
        punct: 1,
        rel: 1
    },
    oN = {
        "accent-token": 1,
        mathord: 1,
        "op-token": 1,
        spacing: 1,
        textord: 1
    },
    pt = {
        math: {},
        text: {}
    };

function v(e, t, n, r, i, s) {
    pt[e][i] = {
        font: t,
        group: n,
        replace: r
    }, s && r && (pt[e][r] = pt[e][i])
}
var S = "math",
    ee = "text",
    k = "main",
    P = "ams",
    St = "accent-token",
    xe = "bin",
    yn = "close",
    Ys = "inner",
    Ne = "mathord",
    $t = "op-token",
    Fn = "open",
    tc = "punct",
    L = "rel",
    ni = "spacing",
    $ = "textord";
v(S, k, L, "", "\\equiv", !0);
v(S, k, L, "", "\\prec", !0);
v(S, k, L, "", "\\succ", !0);
v(S, k, L, "", "\\sim", !0);
v(S, k, L, "", "\\perp");
v(S, k, L, "", "\\preceq", !0);
v(S, k, L, "", "\\succeq", !0);
v(S, k, L, "", "\\simeq", !0);
v(S, k, L, "", "\\mid", !0);
v(S, k, L, "", "\\ll", !0);
v(S, k, L, "", "\\gg", !0);
v(S, k, L, "", "\\asymp", !0);
v(S, k, L, "", "\\parallel");
v(S, k, L, "", "\\bowtie", !0);
v(S, k, L, "", "\\smile", !0);
v(S, k, L, "", "\\sqsubseteq", !0);
v(S, k, L, "", "\\sqsupseteq", !0);
v(S, k, L, "", "\\doteq", !0);
v(S, k, L, "", "\\frown", !0);
v(S, k, L, "", "\\ni", !0);
v(S, k, L, "", "\\propto", !0);
v(S, k, L, "", "\\vdash", !0);
v(S, k, L, "", "\\dashv", !0);
v(S, k, L, "", "\\owns");
v(S, k, tc, ".", "\\ldotp");
v(S, k, tc, "", "\\cdotp");
v(S, k, $, "#", "\\#");
v(ee, k, $, "#", "\\#");
v(S, k, $, "&", "\\&");
v(ee, k, $, "&", "\\&");
v(S, k, $, "", "\\aleph", !0);
v(S, k, $, "", "\\forall", !0);
v(S, k, $, "", "\\hbar", !0);
v(S, k, $, "", "\\exists", !0);
v(S, k, $, "", "\\nabla", !0);
v(S, k, $, "", "\\flat", !0);
v(S, k, $, "", "\\ell", !0);
v(S, k, $, "", "\\natural", !0);
v(S, k, $, "", "\\clubsuit", !0);
v(S, k, $, "", "\\wp", !0);
v(S, k, $, "", "\\sharp", !0);
v(S, k, $, "", "\\diamondsuit", !0);
v(S, k, $, "", "\\Re", !0);
v(S, k, $, "", "\\heartsuit", !0);
v(S, k, $, "", "\\Im", !0);
v(S, k, $, "", "\\spadesuit", !0);
v(S, k, $, "", "\\S", !0);
v(ee, k, $, "", "\\S");
v(S, k, $, "", "\\P", !0);
v(ee, k, $, "", "\\P");
v(S, k, $, "", "\\dag");
v(ee, k, $, "", "\\dag");
v(ee, k, $, "", "\\textdagger");
v(S, k, $, "", "\\ddag");
v(ee, k, $, "", "\\ddag");
v(ee, k, $, "", "\\textdaggerdbl");
v(S, k, yn, "", "\\rmoustache", !0);
v(S, k, Fn, "", "\\lmoustache", !0);
v(S, k, yn, "", "\\rgroup", !0);
v(S, k, Fn, "", "\\lgroup", !0);
v(S, k, xe, "", "\\mp", !0);
v(S, k, xe, "", "\\ominus", !0);
v(S, k, xe, "", "\\uplus", !0);
v(S, k, xe, "", "\\sqcap", !0);
v(S, k, xe, "", "\\ast");
v(S, k, xe, "", "\\sqcup", !0);
v(S, k, xe, "", "\\bigcirc", !0);
v(S, k, xe, "", "\\bullet", !0);
v(S, k, xe, "", "\\ddagger");
v(S, k, xe, "", "\\wr", !0);
v(S, k, xe, "", "\\amalg");
v(S, k, xe, "&", "\\And");
v(S, k, L, "", "\\longleftarrow", !0);
v(S, k, L, "", "\\Leftarrow", !0);
v(S, k, L, "", "\\Longleftarrow", !0);
v(S, k, L, "", "\\longrightarrow", !0);
v(S, k, L, "", "\\Rightarrow", !0);
v(S, k, L, "", "\\Longrightarrow", !0);
v(S, k, L, "", "\\leftrightarrow", !0);
v(S, k, L, "", "\\longleftrightarrow", !0);
v(S, k, L, "", "\\Leftrightarrow", !0);
v(S, k, L, "", "\\Longleftrightarrow", !0);
v(S, k, L, "", "\\mapsto", !0);
v(S, k, L, "", "\\longmapsto", !0);
v(S, k, L, "", "\\nearrow", !0);
v(S, k, L, "", "\\hookleftarrow", !0);
v(S, k, L, "", "\\hookrightarrow", !0);
v(S, k, L, "", "\\searrow", !0);
v(S, k, L, "", "\\leftharpoonup", !0);
v(S, k, L, "", "\\rightharpoonup", !0);
v(S, k, L, "", "\\swarrow", !0);
v(S, k, L, "", "\\leftharpoondown", !0);
v(S, k, L, "", "\\rightharpoondown", !0);
v(S, k, L, "", "\\nwarrow", !0);
v(S, k, L, "", "\\rightleftharpoons", !0);
v(S, P, L, "", "\\nless", !0);
v(S, P, L, "", "\\@nleqslant");
v(S, P, L, "", "\\@nleqq");
v(S, P, L, "", "\\lneq", !0);
v(S, P, L, "", "\\lneqq", !0);
v(S, P, L, "", "\\@lvertneqq");
v(S, P, L, "", "\\lnsim", !0);
v(S, P, L, "", "\\lnapprox", !0);
v(S, P, L, "", "\\nprec", !0);
v(S, P, L, "", "\\npreceq", !0);
v(S, P, L, "", "\\precnsim", !0);
v(S, P, L, "", "\\precnapprox", !0);
v(S, P, L, "", "\\nsim", !0);
v(S, P, L, "", "\\@nshortmid");
v(S, P, L, "", "\\nmid", !0);
v(S, P, L, "", "\\nvdash", !0);
v(S, P, L, "", "\\nvDash", !0);
v(S, P, L, "", "\\ntriangleleft");
v(S, P, L, "", "\\ntrianglelefteq", !0);
v(S, P, L, "", "\\subsetneq", !0);
v(S, P, L, "", "\\@varsubsetneq");
v(S, P, L, "", "\\subsetneqq", !0);
v(S, P, L, "", "\\@varsubsetneqq");
v(S, P, L, "", "\\ngtr", !0);
v(S, P, L, "", "\\@ngeqslant");
v(S, P, L, "", "\\@ngeqq");
v(S, P, L, "", "\\gneq", !0);
v(S, P, L, "", "\\gneqq", !0);
v(S, P, L, "", "\\@gvertneqq");
v(S, P, L, "", "\\gnsim", !0);
v(S, P, L, "", "\\gnapprox", !0);
v(S, P, L, "", "\\nsucc", !0);
v(S, P, L, "", "\\nsucceq", !0);
v(S, P, L, "", "\\succnsim", !0);
v(S, P, L, "", "\\succnapprox", !0);
v(S, P, L, "", "\\ncong", !0);
v(S, P, L, "", "\\@nshortparallel");
v(S, P, L, "", "\\nparallel", !0);
v(S, P, L, "", "\\nVDash", !0);
v(S, P, L, "", "\\ntriangleright");
v(S, P, L, "", "\\ntrianglerighteq", !0);
v(S, P, L, "", "\\@nsupseteqq");
v(S, P, L, "", "\\supsetneq", !0);
v(S, P, L, "", "\\@varsupsetneq");
v(S, P, L, "", "\\supsetneqq", !0);
v(S, P, L, "", "\\@varsupsetneqq");
v(S, P, L, "", "\\nVdash", !0);
v(S, P, L, "", "\\precneqq", !0);
v(S, P, L, "", "\\succneqq", !0);
v(S, P, L, "", "\\@nsubseteqq");
v(S, P, xe, "", "\\unlhd");
v(S, P, xe, "", "\\unrhd");
v(S, P, L, "", "\\nleftarrow", !0);
v(S, P, L, "", "\\nrightarrow", !0);
v(S, P, L, "", "\\nLeftarrow", !0);
v(S, P, L, "", "\\nRightarrow", !0);
v(S, P, L, "", "\\nleftrightarrow", !0);
v(S, P, L, "", "\\nLeftrightarrow", !0);
v(S, P, L, "", "\\vartriangle");
v(S, P, $, "", "\\hslash");
v(S, P, $, "", "\\triangledown");
v(S, P, $, "", "\\lozenge");
v(S, P, $, "", "\\circledS");
v(S, P, $, "", "\\circledR");
v(ee, P, $, "", "\\circledR");
v(S, P, $, "", "\\measuredangle", !0);
v(S, P, $, "", "\\nexists");
v(S, P, $, "", "\\mho");
v(S, P, $, "", "\\Finv", !0);
v(S, P, $, "", "\\Game", !0);
v(S, P, $, "", "\\backprime");
v(S, P, $, "", "\\blacktriangle");
v(S, P, $, "", "\\blacktriangledown");
v(S, P, $, "", "\\blacksquare");
v(S, P, $, "", "\\blacklozenge");
v(S, P, $, "", "\\bigstar");
v(S, P, $, "", "\\sphericalangle", !0);
v(S, P, $, "", "\\complement", !0);
v(S, P, $, "", "\\eth", !0);
v(ee, k, $, "", "");
v(S, P, $, "", "\\diagup");
v(S, P, $, "", "\\diagdown");
v(S, P, $, "", "\\square");
v(S, P, $, "", "\\Box");
v(S, P, $, "", "\\Diamond");
v(S, P, $, "", "\\yen", !0);
v(ee, P, $, "", "\\yen", !0);
v(S, P, $, "", "\\checkmark", !0);
v(ee, P, $, "", "\\checkmark");
v(S, P, $, "", "\\beth", !0);
v(S, P, $, "", "\\daleth", !0);
v(S, P, $, "", "\\gimel", !0);
v(S, P, $, "", "\\digamma", !0);
v(S, P, $, "", "\\varkappa");
v(S, P, Fn, "", "\\@ulcorner", !0);
v(S, P, yn, "", "\\@urcorner", !0);
v(S, P, Fn, "", "\\@llcorner", !0);
v(S, P, yn, "", "\\@lrcorner", !0);
v(S, P, L, "", "\\leqq", !0);
v(S, P, L, "", "\\leqslant", !0);
v(S, P, L, "", "\\eqslantless", !0);
v(S, P, L, "", "\\lesssim", !0);
v(S, P, L, "", "\\lessapprox", !0);
v(S, P, L, "", "\\approxeq", !0);
v(S, P, xe, "", "\\lessdot");
v(S, P, L, "", "\\lll", !0);
v(S, P, L, "", "\\lessgtr", !0);
v(S, P, L, "", "\\lesseqgtr", !0);
v(S, P, L, "", "\\lesseqqgtr", !0);
v(S, P, L, "", "\\doteqdot");
v(S, P, L, "", "\\risingdotseq", !0);
v(S, P, L, "", "\\fallingdotseq", !0);
v(S, P, L, "", "\\backsim", !0);
v(S, P, L, "", "\\backsimeq", !0);
v(S, P, L, "", "\\subseteqq", !0);
v(S, P, L, "", "\\Subset", !0);
v(S, P, L, "", "\\sqsubset", !0);
v(S, P, L, "", "\\preccurlyeq", !0);
v(S, P, L, "", "\\curlyeqprec", !0);
v(S, P, L, "", "\\precsim", !0);
v(S, P, L, "", "\\precapprox", !0);
v(S, P, L, "", "\\vartriangleleft");
v(S, P, L, "", "\\trianglelefteq");
v(S, P, L, "", "\\vDash", !0);
v(S, P, L, "", "\\Vvdash", !0);
v(S, P, L, "", "\\smallsmile");
v(S, P, L, "", "\\smallfrown");
v(S, P, L, "", "\\bumpeq", !0);
v(S, P, L, "", "\\Bumpeq", !0);
v(S, P, L, "", "\\geqq", !0);
v(S, P, L, "", "\\geqslant", !0);
v(S, P, L, "", "\\eqslantgtr", !0);
v(S, P, L, "", "\\gtrsim", !0);
v(S, P, L, "", "\\gtrapprox", !0);
v(S, P, xe, "", "\\gtrdot");
v(S, P, L, "", "\\ggg", !0);
v(S, P, L, "", "\\gtrless", !0);
v(S, P, L, "", "\\gtreqless", !0);
v(S, P, L, "", "\\gtreqqless", !0);
v(S, P, L, "", "\\eqcirc", !0);
v(S, P, L, "", "\\circeq", !0);
v(S, P, L, "", "\\triangleq", !0);
v(S, P, L, "", "\\thicksim");
v(S, P, L, "", "\\thickapprox");
v(S, P, L, "", "\\supseteqq", !0);
v(S, P, L, "", "\\Supset", !0);
v(S, P, L, "", "\\sqsupset", !0);
v(S, P, L, "", "\\succcurlyeq", !0);
v(S, P, L, "", "\\curlyeqsucc", !0);
v(S, P, L, "", "\\succsim", !0);
v(S, P, L, "", "\\succapprox", !0);
v(S, P, L, "", "\\vartriangleright");
v(S, P, L, "", "\\trianglerighteq");
v(S, P, L, "", "\\Vdash", !0);
v(S, P, L, "", "\\shortmid");
v(S, P, L, "", "\\shortparallel");
v(S, P, L, "", "\\between", !0);
v(S, P, L, "", "\\pitchfork", !0);
v(S, P, L, "", "\\varpropto");
v(S, P, L, "", "\\blacktriangleleft");
v(S, P, L, "", "\\therefore", !0);
v(S, P, L, "", "\\backepsilon");
v(S, P, L, "", "\\blacktriangleright");
v(S, P, L, "", "\\because", !0);
v(S, P, L, "", "\\llless");
v(S, P, L, "", "\\gggtr");
v(S, P, xe, "", "\\lhd");
v(S, P, xe, "", "\\rhd");
v(S, P, L, "", "\\eqsim", !0);
v(S, k, L, "", "\\Join");
v(S, P, L, "", "\\Doteq", !0);
v(S, P, xe, "", "\\dotplus", !0);
v(S, P, xe, "", "\\smallsetminus");
v(S, P, xe, "", "\\Cap", !0);
v(S, P, xe, "", "\\Cup", !0);
v(S, P, xe, "", "\\doublebarwedge", !0);
v(S, P, xe, "", "\\boxminus", !0);
v(S, P, xe, "", "\\boxplus", !0);
v(S, P, xe, "", "\\divideontimes", !0);
v(S, P, xe, "", "\\ltimes", !0);
v(S, P, xe, "", "\\rtimes", !0);
v(S, P, xe, "", "\\leftthreetimes", !0);
v(S, P, xe, "", "\\rightthreetimes", !0);
v(S, P, xe, "", "\\curlywedge", !0);
v(S, P, xe, "", "\\curlyvee", !0);
v(S, P, xe, "", "\\circleddash", !0);
v(S, P, xe, "", "\\circledast", !0);
v(S, P, xe, "", "\\centerdot");
v(S, P, xe, "", "\\intercal", !0);
v(S, P, xe, "", "\\doublecap");
v(S, P, xe, "", "\\doublecup");
v(S, P, xe, "", "\\boxtimes", !0);
v(S, P, L, "", "\\dashrightarrow", !0);
v(S, P, L, "", "\\dashleftarrow", !0);
v(S, P, L, "", "\\leftleftarrows", !0);
v(S, P, L, "", "\\leftrightarrows", !0);
v(S, P, L, "", "\\Lleftarrow", !0);
v(S, P, L, "", "\\twoheadleftarrow", !0);
v(S, P, L, "", "\\leftarrowtail", !0);
v(S, P, L, "", "\\looparrowleft", !0);
v(S, P, L, "", "\\leftrightharpoons", !0);
v(S, P, L, "", "\\curvearrowleft", !0);
v(S, P, L, "", "\\circlearrowleft", !0);
v(S, P, L, "", "\\Lsh", !0);
v(S, P, L, "", "\\upuparrows", !0);
v(S, P, L, "", "\\upharpoonleft", !0);
v(S, P, L, "", "\\downharpoonleft", !0);
v(S, k, L, "", "\\origof", !0);
v(S, k, L, "", "\\imageof", !0);
v(S, P, L, "", "\\multimap", !0);
v(S, P, L, "", "\\leftrightsquigarrow", !0);
v(S, P, L, "", "\\rightrightarrows", !0);
v(S, P, L, "", "\\rightleftarrows", !0);
v(S, P, L, "", "\\twoheadrightarrow", !0);
v(S, P, L, "", "\\rightarrowtail", !0);
v(S, P, L, "", "\\looparrowright", !0);
v(S, P, L, "", "\\curvearrowright", !0);
v(S, P, L, "", "\\circlearrowright", !0);
v(S, P, L, "", "\\Rsh", !0);
v(S, P, L, "", "\\downdownarrows", !0);
v(S, P, L, "", "\\upharpoonright", !0);
v(S, P, L, "", "\\downharpoonright", !0);
v(S, P, L, "", "\\rightsquigarrow", !0);
v(S, P, L, "", "\\leadsto");
v(S, P, L, "", "\\Rrightarrow", !0);
v(S, P, L, "", "\\restriction");
v(S, k, $, "", "`");
v(S, k, $, "$", "\\$");
v(ee, k, $, "$", "\\$");
v(ee, k, $, "$", "\\textdollar");
v(S, k, $, "%", "\\%");
v(ee, k, $, "%", "\\%");
v(S, k, $, "_", "\\_");
v(ee, k, $, "_", "\\_");
v(ee, k, $, "_", "\\textunderscore");
v(S, k, $, "", "\\angle", !0);
v(S, k, $, "", "\\infty", !0);
v(S, k, $, "", "\\prime");
v(S, k, $, "", "\\triangle");
v(S, k, $, "", "\\Gamma", !0);
v(S, k, $, "", "\\Delta", !0);
v(S, k, $, "", "\\Theta", !0);
v(S, k, $, "", "\\Lambda", !0);
v(S, k, $, "", "\\Xi", !0);
v(S, k, $, "", "\\Pi", !0);
v(S, k, $, "", "\\Sigma", !0);
v(S, k, $, "", "\\Upsilon", !0);
v(S, k, $, "", "\\Phi", !0);
v(S, k, $, "", "\\Psi", !0);
v(S, k, $, "", "\\Omega", !0);
v(S, k, $, "A", "");
v(S, k, $, "B", "");
v(S, k, $, "E", "");
v(S, k, $, "Z", "");
v(S, k, $, "H", "");
v(S, k, $, "I", "");
v(S, k, $, "K", "");
v(S, k, $, "M", "");
v(S, k, $, "N", "");
v(S, k, $, "O", "");
v(S, k, $, "P", "");
v(S, k, $, "T", "");
v(S, k, $, "X", "");
v(S, k, $, "", "\\neg", !0);
v(S, k, $, "", "\\lnot");
v(S, k, $, "", "\\top");
v(S, k, $, "", "\\bot");
v(S, k, $, "", "\\emptyset");
v(S, P, $, "", "\\varnothing");
v(S, k, Ne, "", "\\alpha", !0);
v(S, k, Ne, "", "\\beta", !0);
v(S, k, Ne, "", "\\gamma", !0);
v(S, k, Ne, "", "\\delta", !0);
v(S, k, Ne, "", "\\epsilon", !0);
v(S, k, Ne, "", "\\zeta", !0);
v(S, k, Ne, "", "\\eta", !0);
v(S, k, Ne, "", "\\theta", !0);
v(S, k, Ne, "", "\\iota", !0);
v(S, k, Ne, "", "\\kappa", !0);
v(S, k, Ne, "", "\\lambda", !0);
v(S, k, Ne, "", "\\mu", !0);
v(S, k, Ne, "", "\\nu", !0);
v(S, k, Ne, "", "\\xi", !0);
v(S, k, Ne, "", "\\omicron", !0);
v(S, k, Ne, "", "\\pi", !0);
v(S, k, Ne, "", "\\rho", !0);
v(S, k, Ne, "", "\\sigma", !0);
v(S, k, Ne, "", "\\tau", !0);
v(S, k, Ne, "", "\\upsilon", !0);
v(S, k, Ne, "", "\\phi", !0);
v(S, k, Ne, "", "\\chi", !0);
v(S, k, Ne, "", "\\psi", !0);
v(S, k, Ne, "", "\\omega", !0);
v(S, k, Ne, "", "\\varepsilon", !0);
v(S, k, Ne, "", "\\vartheta", !0);
v(S, k, Ne, "", "\\varpi", !0);
v(S, k, Ne, "", "\\varrho", !0);
v(S, k, Ne, "", "\\varsigma", !0);
v(S, k, Ne, "", "\\varphi", !0);
v(S, k, xe, "", "*", !0);
v(S, k, xe, "+", "+");
v(S, k, xe, "", "-", !0);
v(S, k, xe, "", "\\cdot", !0);
v(S, k, xe, "", "\\circ", !0);
v(S, k, xe, "", "\\div", !0);
v(S, k, xe, "", "\\pm", !0);
v(S, k, xe, "", "\\times", !0);
v(S, k, xe, "", "\\cap", !0);
v(S, k, xe, "", "\\cup", !0);
v(S, k, xe, "", "\\setminus", !0);
v(S, k, xe, "", "\\land");
v(S, k, xe, "", "\\lor");
v(S, k, xe, "", "\\wedge", !0);
v(S, k, xe, "", "\\vee", !0);
v(S, k, $, "", "\\surd");
v(S, k, Fn, "", "\\langle", !0);
v(S, k, Fn, "", "\\lvert");
v(S, k, Fn, "", "\\lVert");
v(S, k, yn, "?", "?");
v(S, k, yn, "!", "!");
v(S, k, yn, "", "\\rangle", !0);
v(S, k, yn, "", "\\rvert");
v(S, k, yn, "", "\\rVert");
v(S, k, L, "=", "=");
v(S, k, L, ":", ":");
v(S, k, L, "", "\\approx", !0);
v(S, k, L, "", "\\cong", !0);
v(S, k, L, "", "\\ge");
v(S, k, L, "", "\\geq", !0);
v(S, k, L, "", "\\gets");
v(S, k, L, ">", "\\gt", !0);
v(S, k, L, "", "\\in", !0);
v(S, k, L, "", "\\@not");
v(S, k, L, "", "\\subset", !0);
v(S, k, L, "", "\\supset", !0);
v(S, k, L, "", "\\subseteq", !0);
v(S, k, L, "", "\\supseteq", !0);
v(S, P, L, "", "\\nsubseteq", !0);
v(S, P, L, "", "\\nsupseteq", !0);
v(S, k, L, "", "\\models");
v(S, k, L, "", "\\leftarrow", !0);
v(S, k, L, "", "\\le");
v(S, k, L, "", "\\leq", !0);
v(S, k, L, "<", "\\lt", !0);
v(S, k, L, "", "\\rightarrow", !0);
v(S, k, L, "", "\\to");
v(S, P, L, "", "\\ngeq", !0);
v(S, P, L, "", "\\nleq", !0);
v(S, k, ni, "", "\\ ");
v(S, k, ni, "", "\\space");
v(S, k, ni, "", "\\nobreakspace");
v(ee, k, ni, "", "\\ ");
v(ee, k, ni, "", " ");
v(ee, k, ni, "", "\\space");
v(ee, k, ni, "", "\\nobreakspace");
v(S, k, ni, null, "\\nobreak");
v(S, k, ni, null, "\\allowbreak");
v(S, k, tc, ",", ",");
v(S, k, tc, ";", ";");
v(S, P, xe, "", "\\barwedge", !0);
v(S, P, xe, "", "\\veebar", !0);
v(S, k, xe, "", "\\odot", !0);
v(S, k, xe, "", "\\oplus", !0);
v(S, k, xe, "", "\\otimes", !0);
v(S, k, $, "", "\\partial", !0);
v(S, k, xe, "", "\\oslash", !0);
v(S, P, xe, "", "\\circledcirc", !0);
v(S, P, xe, "", "\\boxdot", !0);
v(S, k, xe, "", "\\bigtriangleup");
v(S, k, xe, "", "\\bigtriangledown");
v(S, k, xe, "", "\\dagger");
v(S, k, xe, "", "\\diamond");
v(S, k, xe, "", "\\star");
v(S, k, xe, "", "\\triangleleft");
v(S, k, xe, "", "\\triangleright");
v(S, k, Fn, "{", "\\{");
v(ee, k, $, "{", "\\{");
v(ee, k, $, "{", "\\textbraceleft");
v(S, k, yn, "}", "\\}");
v(ee, k, $, "}", "\\}");
v(ee, k, $, "}", "\\textbraceright");
v(S, k, Fn, "{", "\\lbrace");
v(S, k, yn, "}", "\\rbrace");
v(S, k, Fn, "[", "\\lbrack", !0);
v(ee, k, $, "[", "\\lbrack", !0);
v(S, k, yn, "]", "\\rbrack", !0);
v(ee, k, $, "]", "\\rbrack", !0);
v(S, k, Fn, "(", "\\lparen", !0);
v(S, k, yn, ")", "\\rparen", !0);
v(ee, k, $, "<", "\\textless", !0);
v(ee, k, $, ">", "\\textgreater", !0);
v(S, k, Fn, "", "\\lfloor", !0);
v(S, k, yn, "", "\\rfloor", !0);
v(S, k, Fn, "", "\\lceil", !0);
v(S, k, yn, "", "\\rceil", !0);
v(S, k, $, "\\", "\\backslash");
v(S, k, $, "", "|");
v(S, k, $, "", "\\vert");
v(ee, k, $, "|", "\\textbar", !0);
v(S, k, $, "", "\\|");
v(S, k, $, "", "\\Vert");
v(ee, k, $, "", "\\textbardbl");
v(ee, k, $, "~", "\\textasciitilde");
v(ee, k, $, "\\", "\\textbackslash");
v(ee, k, $, "^", "\\textasciicircum");
v(S, k, L, "", "\\uparrow", !0);
v(S, k, L, "", "\\Uparrow", !0);
v(S, k, L, "", "\\downarrow", !0);
v(S, k, L, "", "\\Downarrow", !0);
v(S, k, L, "", "\\updownarrow", !0);
v(S, k, L, "", "\\Updownarrow", !0);
v(S, k, $t, "", "\\coprod");
v(S, k, $t, "", "\\bigvee");
v(S, k, $t, "", "\\bigwedge");
v(S, k, $t, "", "\\biguplus");
v(S, k, $t, "", "\\bigcap");
v(S, k, $t, "", "\\bigcup");
v(S, k, $t, "", "\\int");
v(S, k, $t, "", "\\intop");
v(S, k, $t, "", "\\iint");
v(S, k, $t, "", "\\iiint");
v(S, k, $t, "", "\\prod");
v(S, k, $t, "", "\\sum");
v(S, k, $t, "", "\\bigotimes");
v(S, k, $t, "", "\\bigoplus");
v(S, k, $t, "", "\\bigodot");
v(S, k, $t, "", "\\oint");
v(S, k, $t, "", "\\oiint");
v(S, k, $t, "", "\\oiiint");
v(S, k, $t, "", "\\bigsqcup");
v(S, k, $t, "", "\\smallint");
v(ee, k, Ys, "", "\\textellipsis");
v(S, k, Ys, "", "\\mathellipsis");
v(ee, k, Ys, "", "\\ldots", !0);
v(S, k, Ys, "", "\\ldots", !0);
v(S, k, Ys, "", "\\@cdots", !0);
v(S, k, Ys, "", "\\ddots", !0);
v(S, k, $, "", "\\varvdots");
v(ee, k, $, "", "\\varvdots");
v(S, k, St, "", "\\acute");
v(S, k, St, "", "\\grave");
v(S, k, St, "", "\\ddot");
v(S, k, St, "~", "\\tilde");
v(S, k, St, "", "\\bar");
v(S, k, St, "", "\\breve");
v(S, k, St, "", "\\check");
v(S, k, St, "^", "\\hat");
v(S, k, St, "", "\\vec");
v(S, k, St, "", "\\dot");
v(S, k, St, "", "\\mathring");
v(S, k, Ne, "", "\\@imath");
v(S, k, Ne, "", "\\@jmath");
v(S, k, $, "", "");
v(S, k, $, "", "");
v(ee, k, $, "", "\\i", !0);
v(ee, k, $, "", "\\j", !0);
v(ee, k, $, "", "\\ss", !0);
v(ee, k, $, "", "\\ae", !0);
v(ee, k, $, "", "\\oe", !0);
v(ee, k, $, "", "\\o", !0);
v(ee, k, $, "", "\\AE", !0);
v(ee, k, $, "", "\\OE", !0);
v(ee, k, $, "", "\\O", !0);
v(ee, k, St, "", "\\'");
v(ee, k, St, "", "\\`");
v(ee, k, St, "", "\\^");
v(ee, k, St, "", "\\~");
v(ee, k, St, "", "\\=");
v(ee, k, St, "", "\\u");
v(ee, k, St, "", "\\.");
v(ee, k, St, "", "\\c");
v(ee, k, St, "", "\\r");
v(ee, k, St, "", "\\v");
v(ee, k, St, "", '\\"');
v(ee, k, St, "", "\\H");
v(ee, k, St, "", "\\textcircled");
var C5 = {
    "--": !0,
    "---": !0,
    "``": !0,
    "''": !0
};
v(ee, k, $, "", "--", !0);
v(ee, k, $, "", "\\textendash");
v(ee, k, $, "", "---", !0);
v(ee, k, $, "", "\\textemdash");
v(ee, k, $, "", "`", !0);
v(ee, k, $, "", "\\textquoteleft");
v(ee, k, $, "", "'", !0);
v(ee, k, $, "", "\\textquoteright");
v(ee, k, $, "", "``", !0);
v(ee, k, $, "", "\\textquotedblleft");
v(ee, k, $, "", "''", !0);
v(ee, k, $, "", "\\textquotedblright");
v(S, k, $, "", "\\degree", !0);
v(ee, k, $, "", "\\degree");
v(ee, k, $, "", "\\textdegree", !0);
v(S, k, $, "", "\\pounds");
v(S, k, $, "", "\\mathsterling", !0);
v(ee, k, $, "", "\\pounds");
v(ee, k, $, "", "\\textsterling", !0);
v(S, P, $, "", "\\maltese");
v(ee, P, $, "", "\\maltese");
var Wh = '0123456789/@."';
for (var Wc = 0; Wc < Wh.length; Wc++) {
    var qh = Wh.charAt(Wc);
    v(S, k, $, qh, qh)
}
var Gh = '0123456789!@*()-=+";:?/.,';
for (var qc = 0; qc < Gh.length; qc++) {
    var Yh = Gh.charAt(qc);
    v(ee, k, $, Yh, Yh)
}
var pl = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
for (var Gc = 0; Gc < pl.length; Gc++) {
    var wo = pl.charAt(Gc);
    v(S, k, Ne, wo, wo), v(ee, k, $, wo, wo)
}
v(S, P, $, "C", "");
v(ee, P, $, "C", "");
v(S, P, $, "H", "");
v(ee, P, $, "H", "");
v(S, P, $, "N", "");
v(ee, P, $, "N", "");
v(S, P, $, "P", "");
v(ee, P, $, "P", "");
v(S, P, $, "Q", "");
v(ee, P, $, "Q", "");
v(S, P, $, "R", "");
v(ee, P, $, "R", "");
v(S, P, $, "Z", "");
v(ee, P, $, "Z", "");
v(S, k, Ne, "h", "");
v(ee, k, Ne, "h", "");
var Ie = "";
for (var pn = 0; pn < pl.length; pn++) {
    var At = pl.charAt(pn);
    Ie = String.fromCharCode(55349, 56320 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56372 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56424 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56580 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56684 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56736 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56788 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56840 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56944 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), pn < 26 && (Ie = String.fromCharCode(55349, 56632 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie), Ie = String.fromCharCode(55349, 56476 + pn), v(S, k, Ne, At, Ie), v(ee, k, $, At, Ie))
}
Ie = "";
v(S, k, Ne, "k", Ie);
v(ee, k, $, "k", Ie);
for (var ji = 0; ji < 10; ji++) {
    var ui = ji.toString();
    Ie = String.fromCharCode(55349, 57294 + ji), v(S, k, Ne, ui, Ie), v(ee, k, $, ui, Ie), Ie = String.fromCharCode(55349, 57314 + ji), v(S, k, Ne, ui, Ie), v(ee, k, $, ui, Ie), Ie = String.fromCharCode(55349, 57324 + ji), v(S, k, Ne, ui, Ie), v(ee, k, $, ui, Ie), Ie = String.fromCharCode(55349, 57334 + ji), v(S, k, Ne, ui, Ie), v(ee, k, $, ui, Ie)
}
var g0 = "";
for (var Yc = 0; Yc < g0.length; Yc++) {
    var So = g0.charAt(Yc);
    v(S, k, Ne, So, So), v(ee, k, $, So, So)
}
var Co = [
        ["mathbf", "textbf", "Main-Bold"],
        ["mathbf", "textbf", "Main-Bold"],
        ["mathnormal", "textit", "Math-Italic"],
        ["mathnormal", "textit", "Math-Italic"],
        ["boldsymbol", "boldsymbol", "Main-BoldItalic"],
        ["boldsymbol", "boldsymbol", "Main-BoldItalic"],
        ["mathscr", "textscr", "Script-Regular"],
        ["", "", ""],
        ["", "", ""],
        ["", "", ""],
        ["mathfrak", "textfrak", "Fraktur-Regular"],
        ["mathfrak", "textfrak", "Fraktur-Regular"],
        ["mathbb", "textbb", "AMS-Regular"],
        ["mathbb", "textbb", "AMS-Regular"],
        ["mathboldfrak", "textboldfrak", "Fraktur-Regular"],
        ["mathboldfrak", "textboldfrak", "Fraktur-Regular"],
        ["mathsf", "textsf", "SansSerif-Regular"],
        ["mathsf", "textsf", "SansSerif-Regular"],
        ["mathboldsf", "textboldsf", "SansSerif-Bold"],
        ["mathboldsf", "textboldsf", "SansSerif-Bold"],
        ["mathitsf", "textitsf", "SansSerif-Italic"],
        ["mathitsf", "textitsf", "SansSerif-Italic"],
        ["", "", ""],
        ["", "", ""],
        ["mathtt", "texttt", "Typewriter-Regular"],
        ["mathtt", "texttt", "Typewriter-Regular"]
    ],
    Kh = [
        ["mathbf", "textbf", "Main-Bold"],
        ["", "", ""],
        ["mathsf", "textsf", "SansSerif-Regular"],
        ["mathboldsf", "textboldsf", "SansSerif-Bold"],
        ["mathtt", "texttt", "Typewriter-Regular"]
    ],
    lN = function(t, n) {
        var r = t.charCodeAt(0),
            i = t.charCodeAt(1),
            s = (r - 55296) * 1024 + (i - 56320) + 65536,
            a = n === "math" ? 0 : 1;
        if (119808 <= s && s < 120484) {
            var o = Math.floor((s - 119808) / 26);
            return [Co[o][2], Co[o][a]]
        } else if (120782 <= s && s <= 120831) {
            var c = Math.floor((s - 120782) / 10);
            return [Kh[c][2], Kh[c][a]]
        } else {
            if (s === 120485 || s === 120486) return [Co[0][2], Co[0][a]];
            if (120486 < s && s < 120782) return ["", ""];
            throw new ne("Unsupported character: " + t)
        }
    },
    nc = function(t, n, r) {
        return pt[r][t] && pt[r][t].replace && (t = pt[r][t].replace), {
            value: t,
            metrics: Ud(t, n, r)
        }
    },
    rr = function(t, n, r, i, s) {
        var a = nc(t, n, r),
            o = a.metrics;
        t = a.value;
        var c;
        if (o) {
            var u = o.italic;
            (r === "text" || i && i.font === "mathit") && (u = 0), c = new Zn(t, o.height, o.depth, u, o.skew, o.width, s)
        } else typeof console < "u" && console.warn("No character metrics " + ("for '" + t + "' in style '" + n + "' and mode '" + r + "'")), c = new Zn(t, 0, 0, 0, 0, 0, s);
        if (i) {
            c.maxFontSize = i.sizeMultiplier, i.style.isTight() && c.classes.push("mtight");
            var d = i.getColor();
            d && (c.style.color = d)
        }
        return c
    },
    cN = function(t, n, r, i) {
        return i === void 0 && (i = []), r.font === "boldsymbol" && nc(t, "Main-Bold", n).metrics ? rr(t, "Main-Bold", n, r, i.concat(["mathbf"])) : t === "\\" || pt[n][t].font === "main" ? rr(t, "Main-Regular", n, r, i) : rr(t, "AMS-Regular", n, r, i.concat(["amsrm"]))
    },
    uN = function(t, n, r, i, s) {
        return s !== "textord" && nc(t, "Math-BoldItalic", n).metrics ? {
            fontName: "Math-BoldItalic",
            fontClass: "boldsymbol"
        } : {
            fontName: "Main-Bold",
            fontClass: "mathbf"
        }
    },
    dN = function(t, n, r) {
        var i = t.mode,
            s = t.text,
            a = ["mord"],
            o = i === "math" || i === "text" && n.font,
            c = o ? n.font : n.fontFamily,
            u = "",
            d = "";
        if (s.charCodeAt(0) === 55349 && ([u, d] = lN(s, i)), u.length > 0) return rr(s, u, i, n, a.concat(d));
        if (c) {
            var f, m;
            if (c === "boldsymbol") {
                var p = uN(s, i, n, a, r);
                f = p.fontName, m = [p.fontClass]
            } else o ? (f = N5[c].fontName, m = [c]) : (f = ko(c, n.fontWeight, n.fontShape), m = [c, n.fontWeight, n.fontShape]);
            if (nc(s, f, i).metrics) return rr(s, f, i, n, a.concat(m));
            if (C5.hasOwnProperty(s) && f.slice(0, 10) === "Typewriter") {
                for (var g = [], x = 0; x < s.length; x++) g.push(rr(s[x], f, i, n, a.concat(m)));
                return E5(g)
            }
        }
        if (r === "mathord") return rr(s, "Math-Italic", i, n, a.concat(["mathnormal"]));
        if (r === "textord") {
            var y = pt[i][s] && pt[i][s].font;
            if (y === "ams") {
                var b = ko("amsrm", n.fontWeight, n.fontShape);
                return rr(s, b, i, n, a.concat("amsrm", n.fontWeight, n.fontShape))
            } else if (y === "main" || !y) {
                var w = ko("textrm", n.fontWeight, n.fontShape);
                return rr(s, w, i, n, a.concat(n.fontWeight, n.fontShape))
            } else {
                var C = ko(y, n.fontWeight, n.fontShape);
                return rr(s, C, i, n, a.concat(C, n.fontWeight, n.fontShape))
            }
        } else throw new Error("unexpected type: " + r + " in makeOrd")
    },
    fN = (e, t) => {
        if (xi(e.classes) !== xi(t.classes) || e.skew !== t.skew || e.maxFontSize !== t.maxFontSize) return !1;
        if (e.classes.length === 1) {
            var n = e.classes[0];
            if (n === "mbin" || n === "mord") return !1
        }
        for (var r in e.style)
            if (e.style.hasOwnProperty(r) && e.style[r] !== t.style[r]) return !1;
        for (var i in t.style)
            if (t.style.hasOwnProperty(i) && e.style[i] !== t.style[i]) return !1;
        return !0
    },
    hN = e => {
        for (var t = 0; t < e.length - 1; t++) {
            var n = e[t],
                r = e[t + 1];
            n instanceof Zn && r instanceof Zn && fN(n, r) && (n.text += r.text, n.height = Math.max(n.height, r.height), n.depth = Math.max(n.depth, r.depth), n.italic = r.italic, e.splice(t + 1, 1), t--)
        }
        return e
    },
    Wd = function(t) {
        for (var n = 0, r = 0, i = 0, s = 0; s < t.children.length; s++) {
            var a = t.children[s];
            a.height > n && (n = a.height), a.depth > r && (r = a.depth), a.maxFontSize > i && (i = a.maxFontSize)
        }
        t.height = n, t.depth = r, t.maxFontSize = i
    },
    kn = function(t, n, r, i) {
        var s = new io(t, n, r, i);
        return Wd(s), s
    },
    k5 = (e, t, n, r) => new io(e, t, n, r),
    pN = function(t, n, r) {
        var i = kn([t], [], n);
        return i.height = Math.max(r || n.fontMetrics().defaultRuleThickness, n.minRuleThickness), i.style.borderBottomWidth = oe(i.height), i.maxFontSize = 1, i
    },
    mN = function(t, n, r, i) {
        var s = new Vd(t, n, r, i);
        return Wd(s), s
    },
    E5 = function(t) {
        var n = new ro(t);
        return Wd(n), n
    },
    gN = function(t, n) {
        return t instanceof ro ? kn([], [t], n) : t
    },
    xN = function(t) {
        if (t.positionType === "individualShift") {
            for (var n = t.children, r = [n[0]], i = -n[0].shift - n[0].elem.depth, s = i, a = 1; a < n.length; a++) {
                var o = -n[a].shift - s - n[a].elem.depth,
                    c = o - (n[a - 1].elem.height + n[a - 1].elem.depth);
                s = s + o, r.push({
                    type: "kern",
                    size: c
                }), r.push(n[a])
            }
            return {
                children: r,
                depth: i
            }
        }
        var u;
        if (t.positionType === "top") {
            for (var d = t.positionData, f = 0; f < t.children.length; f++) {
                var m = t.children[f];
                d -= m.type === "kern" ? m.size : m.elem.height + m.elem.depth
            }
            u = d
        } else if (t.positionType === "bottom") u = -t.positionData;
        else {
            var p = t.children[0];
            if (p.type !== "elem") throw new Error('First child must have type "elem".');
            if (t.positionType === "shift") u = -p.elem.depth - t.positionData;
            else if (t.positionType === "firstBaseline") u = -p.elem.depth;
            else throw new Error("Invalid positionType " + t.positionType + ".")
        }
        return {
            children: t.children,
            depth: u
        }
    },
    vN = function(t, n) {
        for (var {
                children: r,
                depth: i
            } = xN(t), s = 0, a = 0; a < r.length; a++) {
            var o = r[a];
            if (o.type === "elem") {
                var c = o.elem;
                s = Math.max(s, c.maxFontSize, c.height)
            }
        }
        s += 2;
        var u = kn(["pstrut"], []);
        u.style.height = oe(s);
        for (var d = [], f = i, m = i, p = i, g = 0; g < r.length; g++) {
            var x = r[g];
            if (x.type === "kern") p += x.size;
            else {
                var y = x.elem,
                    b = x.wrapperClasses || [],
                    w = x.wrapperStyle || {},
                    C = kn(b, [u, y], void 0, w);
                C.style.top = oe(-s - p - y.depth), x.marginLeft && (C.style.marginLeft = x.marginLeft), x.marginRight && (C.style.marginRight = x.marginRight), d.push(C), p += y.height + y.depth
            }
            f = Math.min(f, p), m = Math.max(m, p)
        }
        var E = kn(["vlist"], d);
        E.style.height = oe(m);
        var A;
        if (f < 0) {
            var N = kn([], []),
                j = kn(["vlist"], [N]);
            j.style.height = oe(-f);
            var z = kn(["vlist-s"], [new Zn("")]);
            A = [kn(["vlist-r"], [E, z]), kn(["vlist-r"], [j])]
        } else A = [kn(["vlist-r"], [E])];
        var H = kn(["vlist-t"], A);
        return A.length === 2 && H.classes.push("vlist-t2"), H.height = m, H.depth = -f, H
    },
    bN = (e, t) => {
        var n = kn(["mspace"], [], t),
            r = Et(e, t);
        return n.style.marginRight = oe(r), n
    },
    ko = function(t, n, r) {
        var i = "";
        switch (t) {
            case "amsrm":
                i = "AMS";
                break;
            case "textrm":
                i = "Main";
                break;
            case "textsf":
                i = "SansSerif";
                break;
            case "texttt":
                i = "Typewriter";
                break;
            default:
                i = t
        }
        var s;
        return n === "textbf" && r === "textit" ? s = "BoldItalic" : n === "textbf" ? s = "Bold" : n === "textit" ? s = "Italic" : s = "Regular", i + "-" + s
    },
    N5 = {
        mathbf: {
            variant: "bold",
            fontName: "Main-Bold"
        },
        mathrm: {
            variant: "normal",
            fontName: "Main-Regular"
        },
        textit: {
            variant: "italic",
            fontName: "Main-Italic"
        },
        mathit: {
            variant: "italic",
            fontName: "Main-Italic"
        },
        mathnormal: {
            variant: "italic",
            fontName: "Math-Italic"
        },
        mathsfit: {
            variant: "sans-serif-italic",
            fontName: "SansSerif-Italic"
        },
        mathbb: {
            variant: "double-struck",
            fontName: "AMS-Regular"
        },
        mathcal: {
            variant: "script",
            fontName: "Caligraphic-Regular"
        },
        mathfrak: {
            variant: "fraktur",
            fontName: "Fraktur-Regular"
        },
        mathscr: {
            variant: "script",
            fontName: "Script-Regular"
        },
        mathsf: {
            variant: "sans-serif",
            fontName: "SansSerif-Regular"
        },
        mathtt: {
            variant: "monospace",
            fontName: "Typewriter-Regular"
        }
    },
    A5 = {
        vec: ["vec", .471, .714],
        oiintSize1: ["oiintSize1", .957, .499],
        oiintSize2: ["oiintSize2", 1.472, .659],
        oiiintSize1: ["oiiintSize1", 1.304, .499],
        oiiintSize2: ["oiiintSize2", 1.98, .659]
    },
    yN = function(t, n) {
        var [r, i, s] = A5[t], a = new vi(r), o = new Zr([a], {
            width: oe(i),
            height: oe(s),
            style: "width:" + oe(i),
            viewBox: "0 0 " + 1e3 * i + " " + 1e3 * s,
            preserveAspectRatio: "xMinYMin"
        }), c = k5(["overlay"], [o], n);
        return c.height = s, c.style.height = oe(s), c.style.width = oe(i), c
    },
    q = {
        fontMap: N5,
        makeSymbol: rr,
        mathsym: cN,
        makeSpan: kn,
        makeSvgSpan: k5,
        makeLineSpan: pN,
        makeAnchor: mN,
        makeFragment: E5,
        wrapFragment: gN,
        makeVList: vN,
        makeOrd: dN,
        makeGlue: bN,
        staticSvg: yN,
        svgData: A5,
        tryCombineChars: hN
    },
    kt = {
        number: 3,
        unit: "mu"
    },
    Mi = {
        number: 4,
        unit: "mu"
    },
    $r = {
        number: 5,
        unit: "mu"
    },
    wN = {
        mord: {
            mop: kt,
            mbin: Mi,
            mrel: $r,
            minner: kt
        },
        mop: {
            mord: kt,
            mop: kt,
            mrel: $r,
            minner: kt
        },
        mbin: {
            mord: Mi,
            mop: Mi,
            mopen: Mi,
            minner: Mi
        },
        mrel: {
            mord: $r,
            mop: $r,
            mopen: $r,
            minner: $r
        },
        mopen: {},
        mclose: {
            mop: kt,
            mbin: Mi,
            mrel: $r,
            minner: kt
        },
        mpunct: {
            mord: kt,
            mop: kt,
            mrel: $r,
            mopen: kt,
            mclose: kt,
            mpunct: kt,
            minner: kt
        },
        minner: {
            mord: kt,
            mop: kt,
            mbin: Mi,
            mrel: $r,
            mopen: kt,
            mpunct: kt,
            minner: kt
        }
    },
    SN = {
        mord: {
            mop: kt
        },
        mop: {
            mord: kt,
            mop: kt
        },
        mbin: {},
        mrel: {},
        mopen: {},
        mclose: {
            mop: kt
        },
        mpunct: {},
        minner: {
            mop: kt
        }
    },
    T5 = {},
    ml = {},
    gl = {};

function me(e) {
    for (var {
            type: t,
            names: n,
            props: r,
            handler: i,
            htmlBuilder: s,
            mathmlBuilder: a
        } = e, o = {
            type: t,
            numArgs: r.numArgs,
            argTypes: r.argTypes,
            allowedInArgument: !!r.allowedInArgument,
            allowedInText: !!r.allowedInText,
            allowedInMath: r.allowedInMath === void 0 ? !0 : r.allowedInMath,
            numOptionalArgs: r.numOptionalArgs || 0,
            infix: !!r.infix,
            primitive: !!r.primitive,
            handler: i
        }, c = 0; c < n.length; ++c) T5[n[c]] = o;
    t && (s && (ml[t] = s), a && (gl[t] = a))
}

function is(e) {
    var {
        type: t,
        htmlBuilder: n,
        mathmlBuilder: r
    } = e;
    me({
        type: t,
        names: [],
        props: {
            numArgs: 0
        },
        handler() {
            throw new Error("Should never be called.")
        },
        htmlBuilder: n,
        mathmlBuilder: r
    })
}
var xl = function(t) {
        return t.type === "ordgroup" && t.body.length === 1 ? t.body[0] : t
    },
    Rt = function(t) {
        return t.type === "ordgroup" ? t.body : [t]
    },
    Qr = q.makeSpan,
    CN = ["leftmost", "mbin", "mopen", "mrel", "mop", "mpunct"],
    kN = ["rightmost", "mrel", "mclose", "mpunct"],
    EN = {
        display: Ae.DISPLAY,
        text: Ae.TEXT,
        script: Ae.SCRIPT,
        scriptscript: Ae.SCRIPTSCRIPT
    },
    NN = {
        mord: "mord",
        mop: "mop",
        mbin: "mbin",
        mrel: "mrel",
        mopen: "mopen",
        mclose: "mclose",
        mpunct: "mpunct",
        minner: "minner"
    },
    Vt = function(t, n, r, i) {
        i === void 0 && (i = [null, null]);
        for (var s = [], a = 0; a < t.length; a++) {
            var o = et(t[a], n);
            if (o instanceof ro) {
                var c = o.children;
                s.push(...c)
            } else s.push(o)
        }
        if (q.tryCombineChars(s), !r) return s;
        var u = n;
        if (t.length === 1) {
            var d = t[0];
            d.type === "sizing" ? u = n.havingSize(d.size) : d.type === "styling" && (u = n.havingStyle(EN[d.style]))
        }
        var f = Qr([i[0] || "leftmost"], [], n),
            m = Qr([i[1] || "rightmost"], [], n),
            p = r === "root";
        return Xh(s, (g, x) => {
            var y = x.classes[0],
                b = g.classes[0];
            y === "mbin" && Ee.contains(kN, b) ? x.classes[0] = "mord" : b === "mbin" && Ee.contains(CN, y) && (g.classes[0] = "mord")
        }, {
            node: f
        }, m, p), Xh(s, (g, x) => {
            var y = x0(x),
                b = x0(g),
                w = y && b ? g.hasClass("mtight") ? SN[y][b] : wN[y][b] : null;
            if (w) return q.makeGlue(w, u)
        }, {
            node: f
        }, m, p), s
    },
    Xh = function e(t, n, r, i, s) {
        i && t.push(i);
        for (var a = 0; a < t.length; a++) {
            var o = t[a],
                c = I5(o);
            if (c) {
                e(c.children, n, r, null, s);
                continue
            }
            var u = !o.hasClass("mspace");
            if (u) {
                var d = n(o, r.node);
                d && (r.insertAfter ? r.insertAfter(d) : (t.unshift(d), a++))
            }
            u ? r.node = o : s && o.hasClass("newline") && (r.node = Qr(["leftmost"])), r.insertAfter = (f => m => {
                t.splice(f + 1, 0, m), a++
            })(a)
        }
        i && t.pop()
    },
    I5 = function(t) {
        return t instanceof ro || t instanceof Vd || t instanceof io && t.hasClass("enclosing") ? t : null
    },
    AN = function e(t, n) {
        var r = I5(t);
        if (r) {
            var i = r.children;
            if (i.length) {
                if (n === "right") return e(i[i.length - 1], "right");
                if (n === "left") return e(i[0], "left")
            }
        }
        return t
    },
    x0 = function(t, n) {
        return t ? (n && (t = AN(t, n)), NN[t.classes[0]] || null) : null
    },
    Fa = function(t, n) {
        var r = ["nulldelimiter"].concat(t.baseSizingClasses());
        return Qr(n.concat(r))
    },
    et = function(t, n, r) {
        if (!t) return Qr();
        if (ml[t.type]) {
            var i = ml[t.type](t, n);
            if (r && n.size !== r.size) {
                i = Qr(n.sizingClasses(r), [i], n);
                var s = n.sizeMultiplier / r.sizeMultiplier;
                i.height *= s, i.depth *= s
            }
            return i
        } else throw new ne("Got group of unknown type: '" + t.type + "'")
    };

function Eo(e, t) {
    var n = Qr(["base"], e, t),
        r = Qr(["strut"]);
    return r.style.height = oe(n.height + n.depth), n.depth && (r.style.verticalAlign = oe(-n.depth)), n.children.unshift(r), n
}

function v0(e, t) {
    var n = null;
    e.length === 1 && e[0].type === "tag" && (n = e[0].tag, e = e[0].body);
    var r = Vt(e, t, "root"),
        i;
    r.length === 2 && r[1].hasClass("tag") && (i = r.pop());
    for (var s = [], a = [], o = 0; o < r.length; o++)
        if (a.push(r[o]), r[o].hasClass("mbin") || r[o].hasClass("mrel") || r[o].hasClass("allowbreak")) {
            for (var c = !1; o < r.length - 1 && r[o + 1].hasClass("mspace") && !r[o + 1].hasClass("newline");) o++, a.push(r[o]), r[o].hasClass("nobreak") && (c = !0);
            c || (s.push(Eo(a, t)), a = [])
        } else r[o].hasClass("newline") && (a.pop(), a.length > 0 && (s.push(Eo(a, t)), a = []), s.push(r[o]));
    a.length > 0 && s.push(Eo(a, t));
    var u;
    n ? (u = Eo(Vt(n, t, !0)), u.classes = ["tag"], s.push(u)) : i && s.push(i);
    var d = Qr(["katex-html"], s);
    if (d.setAttribute("aria-hidden", "true"), u) {
        var f = u.children[0];
        f.style.height = oe(d.height + d.depth), d.depth && (f.style.verticalAlign = oe(-d.depth))
    }
    return d
}

function j5(e) {
    return new ro(e)
}
class Ln {
    constructor(t, n, r) {
        this.type = void 0, this.attributes = void 0, this.children = void 0, this.classes = void 0, this.type = t, this.attributes = {}, this.children = n || [], this.classes = r || []
    }
    setAttribute(t, n) {
        this.attributes[t] = n
    }
    getAttribute(t) {
        return this.attributes[t]
    }
    toNode() {
        var t = document.createElementNS("http://www.w3.org/1998/Math/MathML", this.type);
        for (var n in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, n) && t.setAttribute(n, this.attributes[n]);
        this.classes.length > 0 && (t.className = xi(this.classes));
        for (var r = 0; r < this.children.length; r++)
            if (this.children[r] instanceof kr && this.children[r + 1] instanceof kr) {
                for (var i = this.children[r].toText() + this.children[++r].toText(); this.children[r + 1] instanceof kr;) i += this.children[++r].toText();
                t.appendChild(new kr(i).toNode())
            } else t.appendChild(this.children[r].toNode());
        return t
    }
    toMarkup() {
        var t = "<" + this.type;
        for (var n in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, n) && (t += " " + n + '="', t += Ee.escape(this.attributes[n]), t += '"');
        this.classes.length > 0 && (t += ' class ="' + Ee.escape(xi(this.classes)) + '"'), t += ">";
        for (var r = 0; r < this.children.length; r++) t += this.children[r].toMarkup();
        return t += "</" + this.type + ">", t
    }
    toText() {
        return this.children.map(t => t.toText()).join("")
    }
}
class kr {
    constructor(t) {
        this.text = void 0, this.text = t
    }
    toNode() {
        return document.createTextNode(this.text)
    }
    toMarkup() {
        return Ee.escape(this.toText())
    }
    toText() {
        return this.text
    }
}
class TN {
    constructor(t) {
        this.width = void 0, this.character = void 0, this.width = t, t >= .05555 && t <= .05556 ? this.character = "" : t >= .1666 && t <= .1667 ? this.character = "" : t >= .2222 && t <= .2223 ? this.character = "" : t >= .2777 && t <= .2778 ? this.character = "" : t >= -.05556 && t <= -.05555 ? this.character = "" : t >= -.1667 && t <= -.1666 ? this.character = "" : t >= -.2223 && t <= -.2222 ? this.character = "" : t >= -.2778 && t <= -.2777 ? this.character = "" : this.character = null
    }
    toNode() {
        if (this.character) return document.createTextNode(this.character);
        var t = document.createElementNS("http://www.w3.org/1998/Math/MathML", "mspace");
        return t.setAttribute("width", oe(this.width)), t
    }
    toMarkup() {
        return this.character ? "<mtext>" + this.character + "</mtext>" : '<mspace width="' + oe(this.width) + '"/>'
    }
    toText() {
        return this.character ? this.character : " "
    }
}
var te = {
        MathNode: Ln,
        TextNode: kr,
        SpaceNode: TN,
        newDocumentFragment: j5
    },
    Qn = function(t, n, r) {
        return pt[n][t] && pt[n][t].replace && t.charCodeAt(0) !== 55349 && !(C5.hasOwnProperty(t) && r && (r.fontFamily && r.fontFamily.slice(4, 6) === "tt" || r.font && r.font.slice(4, 6) === "tt")) && (t = pt[n][t].replace), new te.TextNode(t)
    },
    qd = function(t) {
        return t.length === 1 ? t[0] : new te.MathNode("mrow", t)
    },
    Gd = function(t, n) {
        if (n.fontFamily === "texttt") return "monospace";
        if (n.fontFamily === "textsf") return n.fontShape === "textit" && n.fontWeight === "textbf" ? "sans-serif-bold-italic" : n.fontShape === "textit" ? "sans-serif-italic" : n.fontWeight === "textbf" ? "bold-sans-serif" : "sans-serif";
        if (n.fontShape === "textit" && n.fontWeight === "textbf") return "bold-italic";
        if (n.fontShape === "textit") return "italic";
        if (n.fontWeight === "textbf") return "bold";
        var r = n.font;
        if (!r || r === "mathnormal") return null;
        var i = t.mode;
        if (r === "mathit") return "italic";
        if (r === "boldsymbol") return t.type === "textord" ? "bold" : "bold-italic";
        if (r === "mathbf") return "bold";
        if (r === "mathbb") return "double-struck";
        if (r === "mathsfit") return "sans-serif-italic";
        if (r === "mathfrak") return "fraktur";
        if (r === "mathscr" || r === "mathcal") return "script";
        if (r === "mathsf") return "sans-serif";
        if (r === "mathtt") return "monospace";
        var s = t.text;
        if (Ee.contains(["\\imath", "\\jmath"], s)) return null;
        pt[i][s] && pt[i][s].replace && (s = pt[i][s].replace);
        var a = q.fontMap[r].fontName;
        return Ud(s, a, i) ? q.fontMap[r].variant : null
    };

function Kc(e) {
    if (!e) return !1;
    if (e.type === "mi" && e.children.length === 1) {
        var t = e.children[0];
        return t instanceof kr && t.text === "."
    } else if (e.type === "mo" && e.children.length === 1 && e.getAttribute("separator") === "true" && e.getAttribute("lspace") === "0em" && e.getAttribute("rspace") === "0em") {
        var n = e.children[0];
        return n instanceof kr && n.text === ","
    } else return !1
}
var In = function(t, n, r) {
        if (t.length === 1) {
            var i = ft(t[0], n);
            return r && i instanceof Ln && i.type === "mo" && (i.setAttribute("lspace", "0em"), i.setAttribute("rspace", "0em")), [i]
        }
        for (var s = [], a, o = 0; o < t.length; o++) {
            var c = ft(t[o], n);
            if (c instanceof Ln && a instanceof Ln) {
                if (c.type === "mtext" && a.type === "mtext" && c.getAttribute("mathvariant") === a.getAttribute("mathvariant")) {
                    a.children.push(...c.children);
                    continue
                } else if (c.type === "mn" && a.type === "mn") {
                    a.children.push(...c.children);
                    continue
                } else if (Kc(c) && a.type === "mn") {
                    a.children.push(...c.children);
                    continue
                } else if (c.type === "mn" && Kc(a)) c.children = [...a.children, ...c.children], s.pop();
                else if ((c.type === "msup" || c.type === "msub") && c.children.length >= 1 && (a.type === "mn" || Kc(a))) {
                    var u = c.children[0];
                    u instanceof Ln && u.type === "mn" && (u.children = [...a.children, ...u.children], s.pop())
                } else if (a.type === "mi" && a.children.length === 1) {
                    var d = a.children[0];
                    if (d instanceof kr && d.text === "" && (c.type === "mo" || c.type === "mi" || c.type === "mn")) {
                        var f = c.children[0];
                        f instanceof kr && f.text.length > 0 && (f.text = f.text.slice(0, 1) + "" + f.text.slice(1), s.pop())
                    }
                }
            }
            s.push(c), a = c
        }
        return s
    },
    bi = function(t, n, r) {
        return qd(In(t, n, r))
    },
    ft = function(t, n) {
        if (!t) return new te.MathNode("mrow");
        if (gl[t.type]) {
            var r = gl[t.type](t, n);
            return r
        } else throw new ne("Got group of unknown type: '" + t.type + "'")
    };

function Zh(e, t, n, r, i) {
    var s = In(e, n),
        a;
    s.length === 1 && s[0] instanceof Ln && Ee.contains(["mrow", "mtable"], s[0].type) ? a = s[0] : a = new te.MathNode("mrow", s);
    var o = new te.MathNode("annotation", [new te.TextNode(t)]);
    o.setAttribute("encoding", "application/x-tex");
    var c = new te.MathNode("semantics", [a, o]),
        u = new te.MathNode("math", [c]);
    u.setAttribute("xmlns", "http://www.w3.org/1998/Math/MathML"), r && u.setAttribute("display", "block");
    var d = i ? "katex" : "katex-mathml";
    return q.makeSpan([d], [u])
}
var M5 = function(t) {
        return new Vr({
            style: t.displayMode ? Ae.DISPLAY : Ae.TEXT,
            maxSize: t.maxSize,
            minRuleThickness: t.minRuleThickness
        })
    },
    R5 = function(t, n) {
        if (n.displayMode) {
            var r = ["katex-display"];
            n.leqno && r.push("leqno"), n.fleqn && r.push("fleqn"), t = q.makeSpan(r, [t])
        }
        return t
    },
    IN = function(t, n, r) {
        var i = M5(r),
            s;
        if (r.output === "mathml") return Zh(t, n, i, r.displayMode, !0);
        if (r.output === "html") {
            var a = v0(t, i);
            s = q.makeSpan(["katex"], [a])
        } else {
            var o = Zh(t, n, i, r.displayMode, !1),
                c = v0(t, i);
            s = q.makeSpan(["katex"], [o, c])
        }
        return R5(s, r)
    },
    jN = function(t, n, r) {
        var i = M5(r),
            s = v0(t, i),
            a = q.makeSpan(["katex"], [s]);
        return R5(a, r)
    },
    MN = {
        widehat: "^",
        widecheck: "",
        widetilde: "~",
        utilde: "~",
        overleftarrow: "",
        underleftarrow: "",
        xleftarrow: "",
        overrightarrow: "",
        underrightarrow: "",
        xrightarrow: "",
        underbrace: "",
        overbrace: "",
        overgroup: "",
        undergroup: "",
        overleftrightarrow: "",
        underleftrightarrow: "",
        xleftrightarrow: "",
        Overrightarrow: "",
        xRightarrow: "",
        overleftharpoon: "",
        xleftharpoonup: "",
        overrightharpoon: "",
        xrightharpoonup: "",
        xLeftarrow: "",
        xLeftrightarrow: "",
        xhookleftarrow: "",
        xhookrightarrow: "",
        xmapsto: "",
        xrightharpoondown: "",
        xleftharpoondown: "",
        xrightleftharpoons: "",
        xleftrightharpoons: "",
        xtwoheadleftarrow: "",
        xtwoheadrightarrow: "",
        xlongequal: "=",
        xtofrom: "",
        xrightleftarrows: "",
        xrightequilibrium: "",
        xleftequilibrium: "",
        "\\cdrightarrow": "",
        "\\cdleftarrow": "",
        "\\cdlongequal": "="
    },
    RN = function(t) {
        var n = new te.MathNode("mo", [new te.TextNode(MN[t.replace(/^\\/, "")])]);
        return n.setAttribute("stretchy", "true"), n
    },
    ON = {
        overrightarrow: [
            ["rightarrow"], .888, 522, "xMaxYMin"
        ],
        overleftarrow: [
            ["leftarrow"], .888, 522, "xMinYMin"
        ],
        underrightarrow: [
            ["rightarrow"], .888, 522, "xMaxYMin"
        ],
        underleftarrow: [
            ["leftarrow"], .888, 522, "xMinYMin"
        ],
        xrightarrow: [
            ["rightarrow"], 1.469, 522, "xMaxYMin"
        ],
        "\\cdrightarrow": [
            ["rightarrow"], 3, 522, "xMaxYMin"
        ],
        xleftarrow: [
            ["leftarrow"], 1.469, 522, "xMinYMin"
        ],
        "\\cdleftarrow": [
            ["leftarrow"], 3, 522, "xMinYMin"
        ],
        Overrightarrow: [
            ["doublerightarrow"], .888, 560, "xMaxYMin"
        ],
        xRightarrow: [
            ["doublerightarrow"], 1.526, 560, "xMaxYMin"
        ],
        xLeftarrow: [
            ["doubleleftarrow"], 1.526, 560, "xMinYMin"
        ],
        overleftharpoon: [
            ["leftharpoon"], .888, 522, "xMinYMin"
        ],
        xleftharpoonup: [
            ["leftharpoon"], .888, 522, "xMinYMin"
        ],
        xleftharpoondown: [
            ["leftharpoondown"], .888, 522, "xMinYMin"
        ],
        overrightharpoon: [
            ["rightharpoon"], .888, 522, "xMaxYMin"
        ],
        xrightharpoonup: [
            ["rightharpoon"], .888, 522, "xMaxYMin"
        ],
        xrightharpoondown: [
            ["rightharpoondown"], .888, 522, "xMaxYMin"
        ],
        xlongequal: [
            ["longequal"], .888, 334, "xMinYMin"
        ],
        "\\cdlongequal": [
            ["longequal"], 3, 334, "xMinYMin"
        ],
        xtwoheadleftarrow: [
            ["twoheadleftarrow"], .888, 334, "xMinYMin"
        ],
        xtwoheadrightarrow: [
            ["twoheadrightarrow"], .888, 334, "xMaxYMin"
        ],
        overleftrightarrow: [
            ["leftarrow", "rightarrow"], .888, 522
        ],
        overbrace: [
            ["leftbrace", "midbrace", "rightbrace"], 1.6, 548
        ],
        underbrace: [
            ["leftbraceunder", "midbraceunder", "rightbraceunder"], 1.6, 548
        ],
        underleftrightarrow: [
            ["leftarrow", "rightarrow"], .888, 522
        ],
        xleftrightarrow: [
            ["leftarrow", "rightarrow"], 1.75, 522
        ],
        xLeftrightarrow: [
            ["doubleleftarrow", "doublerightarrow"], 1.75, 560
        ],
        xrightleftharpoons: [
            ["leftharpoondownplus", "rightharpoonplus"], 1.75, 716
        ],
        xleftrightharpoons: [
            ["leftharpoonplus", "rightharpoondownplus"], 1.75, 716
        ],
        xhookleftarrow: [
            ["leftarrow", "righthook"], 1.08, 522
        ],
        xhookrightarrow: [
            ["lefthook", "rightarrow"], 1.08, 522
        ],
        overlinesegment: [
            ["leftlinesegment", "rightlinesegment"], .888, 522
        ],
        underlinesegment: [
            ["leftlinesegment", "rightlinesegment"], .888, 522
        ],
        overgroup: [
            ["leftgroup", "rightgroup"], .888, 342
        ],
        undergroup: [
            ["leftgroupunder", "rightgroupunder"], .888, 342
        ],
        xmapsto: [
            ["leftmapsto", "rightarrow"], 1.5, 522
        ],
        xtofrom: [
            ["leftToFrom", "rightToFrom"], 1.75, 528
        ],
        xrightleftarrows: [
            ["baraboveleftarrow", "rightarrowabovebar"], 1.75, 901
        ],
        xrightequilibrium: [
            ["baraboveshortleftharpoon", "rightharpoonaboveshortbar"], 1.75, 716
        ],
        xleftequilibrium: [
            ["shortbaraboveleftharpoon", "shortrightharpoonabovebar"], 1.75, 716
        ]
    },
    PN = function(t) {
        return t.type === "ordgroup" ? t.body.length : 1
    },
    LN = function(t, n) {
        function r() {
            var o = 4e5,
                c = t.label.slice(1);
            if (Ee.contains(["widehat", "widecheck", "widetilde", "utilde"], c)) {
                var u = t,
                    d = PN(u.base),
                    f, m, p;
                if (d > 5) c === "widehat" || c === "widecheck" ? (f = 420, o = 2364, p = .42, m = c + "4") : (f = 312, o = 2340, p = .34, m = "tilde4");
                else {
                    var g = [1, 1, 2, 2, 3, 3][d];
                    c === "widehat" || c === "widecheck" ? (o = [0, 1062, 2364, 2364, 2364][g], f = [0, 239, 300, 360, 420][g], p = [0, .24, .3, .3, .36, .42][g], m = c + g) : (o = [0, 600, 1033, 2339, 2340][g], f = [0, 260, 286, 306, 312][g], p = [0, .26, .286, .3, .306, .34][g], m = "tilde" + g)
                }
                var x = new vi(m),
                    y = new Zr([x], {
                        width: "100%",
                        height: oe(p),
                        viewBox: "0 0 " + o + " " + f,
                        preserveAspectRatio: "none"
                    });
                return {
                    span: q.makeSvgSpan([], [y], n),
                    minWidth: 0,
                    height: p
                }
            } else {
                var b = [],
                    w = ON[c],
                    [C, E, A] = w,
                    N = A / 1e3,
                    j = C.length,
                    z, H;
                if (j === 1) {
                    var R = w[3];
                    z = ["hide-tail"], H = [R]
                } else if (j === 2) z = ["halfarrow-left", "halfarrow-right"], H = ["xMinYMin", "xMaxYMin"];
                else if (j === 3) z = ["brace-left", "brace-center", "brace-right"], H = ["xMinYMin", "xMidYMin", "xMaxYMin"];
                else throw new Error(`Correct katexImagesData or update code here to support
                    ` + j + " children.");
                for (var D = 0; D < j; D++) {
                    var _ = new vi(C[D]),
                        O = new Zr([_], {
                            width: "400em",
                            height: oe(N),
                            viewBox: "0 0 " + o + " " + A,
                            preserveAspectRatio: H[D] + " slice"
                        }),
                        F = q.makeSvgSpan([z[D]], [O], n);
                    if (j === 1) return {
                        span: F,
                        minWidth: E,
                        height: N
                    };
                    F.style.height = oe(N), b.push(F)
                }
                return {
                    span: q.makeSpan(["stretchy"], b, n),
                    minWidth: E,
                    height: N
                }
            }
        }
        var {
            span: i,
            minWidth: s,
            height: a
        } = r();
        return i.height = a, i.style.height = oe(a), s > 0 && (i.style.minWidth = oe(s)), i
    },
    DN = function(t, n, r, i, s) {
        var a, o = t.height + t.depth + r + i;
        if (/fbox|color|angl/.test(n)) {
            if (a = q.makeSpan(["stretchy", n], [], s), n === "fbox") {
                var c = s.color && s.getColor();
                c && (a.style.borderColor = c)
            }
        } else {
            var u = [];
            /^[bx]cancel$/.test(n) && u.push(new m0({
                x1: "0",
                y1: "0",
                x2: "100%",
                y2: "100%",
                "stroke-width": "0.046em"
            })), /^x?cancel$/.test(n) && u.push(new m0({
                x1: "0",
                y1: "100%",
                x2: "100%",
                y2: "0",
                "stroke-width": "0.046em"
            }));
            var d = new Zr(u, {
                width: "100%",
                height: oe(o)
            });
            a = q.makeSvgSpan([], [d], s)
        }
        return a.height = o, a.style.height = oe(o), a
    },
    Jr = {
        encloseSpan: DN,
        mathMLnode: RN,
        svgSpan: LN
    };

function $e(e, t) {
    if (!e || e.type !== t) throw new Error("Expected node of type " + t + ", but got " + (e ? "node of type " + e.type : String(e)));
    return e
}

function Yd(e) {
    var t = rc(e);
    if (!t) throw new Error("Expected node of symbol group type, but got " + (e ? "node of type " + e.type : String(e)));
    return t
}

function rc(e) {
    return e && (e.type === "atom" || oN.hasOwnProperty(e.type)) ? e : null
}
var Kd = (e, t) => {
        var n, r, i;
        e && e.type === "supsub" ? (r = $e(e.base, "accent"), n = r.base, e.base = n, i = sN(et(e, t)), e.base = r) : (r = $e(e, "accent"), n = r.base);
        var s = et(n, t.havingCrampedStyle()),
            a = r.isShifty && Ee.isCharacterBox(n),
            o = 0;
        if (a) {
            var c = Ee.getBaseElem(n),
                u = et(c, t.havingCrampedStyle());
            o = Vh(u).skew
        }
        var d = r.label === "\\c",
            f = d ? s.height + s.depth : Math.min(s.height, t.fontMetrics().xHeight),
            m;
        if (r.isStretchy) m = Jr.svgSpan(r, t), m = q.makeVList({
            positionType: "firstBaseline",
            children: [{
                type: "elem",
                elem: s
            }, {
                type: "elem",
                elem: m,
                wrapperClasses: ["svg-align"],
                wrapperStyle: o > 0 ? {
                    width: "calc(100% - " + oe(2 * o) + ")",
                    marginLeft: oe(2 * o)
                } : void 0
            }]
        }, t);
        else {
            var p, g;
            r.label === "\\vec" ? (p = q.staticSvg("vec", t), g = q.svgData.vec[1]) : (p = q.makeOrd({
                mode: r.mode,
                text: r.label
            }, t, "textord"), p = Vh(p), p.italic = 0, g = p.width, d && (f += p.depth)), m = q.makeSpan(["accent-body"], [p]);
            var x = r.label === "\\textcircled";
            x && (m.classes.push("accent-full"), f = s.height);
            var y = o;
            x || (y -= g / 2), m.style.left = oe(y), r.label === "\\textcircled" && (m.style.top = ".2em"), m = q.makeVList({
                positionType: "firstBaseline",
                children: [{
                    type: "elem",
                    elem: s
                }, {
                    type: "kern",
                    size: -f
                }, {
                    type: "elem",
                    elem: m
                }]
            }, t)
        }
        var b = q.makeSpan(["mord", "accent"], [m], t);
        return i ? (i.children[0] = b, i.height = Math.max(b.height, i.height), i.classes[0] = "mord", i) : b
    },
    O5 = (e, t) => {
        var n = e.isStretchy ? Jr.mathMLnode(e.label) : new te.MathNode("mo", [Qn(e.label, e.mode)]),
            r = new te.MathNode("mover", [ft(e.base, t), n]);
        return r.setAttribute("accent", "true"), r
    },
    _N = new RegExp(["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring"].map(e => "\\" + e).join("|"));
me({
    type: "accent",
    names: ["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring", "\\widecheck", "\\widehat", "\\widetilde", "\\overrightarrow", "\\overleftarrow", "\\Overrightarrow", "\\overleftrightarrow", "\\overgroup", "\\overlinesegment", "\\overleftharpoon", "\\overrightharpoon"],
    props: {
        numArgs: 1
    },
    handler: (e, t) => {
        var n = xl(t[0]),
            r = !_N.test(e.funcName),
            i = !r || e.funcName === "\\widehat" || e.funcName === "\\widetilde" || e.funcName === "\\widecheck";
        return {
            type: "accent",
            mode: e.parser.mode,
            label: e.funcName,
            isStretchy: r,
            isShifty: i,
            base: n
        }
    },
    htmlBuilder: Kd,
    mathmlBuilder: O5
});
me({
    type: "accent",
    names: ["\\'", "\\`", "\\^", "\\~", "\\=", "\\u", "\\.", '\\"', "\\c", "\\r", "\\H", "\\v", "\\textcircled"],
    props: {
        numArgs: 1,
        allowedInText: !0,
        allowedInMath: !0,
        argTypes: ["primitive"]
    },
    handler: (e, t) => {
        var n = t[0],
            r = e.parser.mode;
        return r === "math" && (e.parser.settings.reportNonstrict("mathVsTextAccents", "LaTeX's accent " + e.funcName + " works only in text mode"), r = "text"), {
            type: "accent",
            mode: r,
            label: e.funcName,
            isStretchy: !1,
            isShifty: !0,
            base: n
        }
    },
    htmlBuilder: Kd,
    mathmlBuilder: O5
});
me({
    type: "accentUnder",
    names: ["\\underleftarrow", "\\underrightarrow", "\\underleftrightarrow", "\\undergroup", "\\underlinesegment", "\\utilde"],
    props: {
        numArgs: 1
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "accentUnder",
            mode: n.mode,
            label: r,
            base: i
        }
    },
    htmlBuilder: (e, t) => {
        var n = et(e.base, t),
            r = Jr.svgSpan(e, t),
            i = e.label === "\\utilde" ? .12 : 0,
            s = q.makeVList({
                positionType: "top",
                positionData: n.height,
                children: [{
                    type: "elem",
                    elem: r,
                    wrapperClasses: ["svg-align"]
                }, {
                    type: "kern",
                    size: i
                }, {
                    type: "elem",
                    elem: n
                }]
            }, t);
        return q.makeSpan(["mord", "accentunder"], [s], t)
    },
    mathmlBuilder: (e, t) => {
        var n = Jr.mathMLnode(e.label),
            r = new te.MathNode("munder", [ft(e.base, t), n]);
        return r.setAttribute("accentunder", "true"), r
    }
});
var No = e => {
    var t = new te.MathNode("mpadded", e ? [e] : []);
    return t.setAttribute("width", "+0.6em"), t.setAttribute("lspace", "0.3em"), t
};
me({
    type: "xArrow",
    names: ["\\xleftarrow", "\\xrightarrow", "\\xLeftarrow", "\\xRightarrow", "\\xleftrightarrow", "\\xLeftrightarrow", "\\xhookleftarrow", "\\xhookrightarrow", "\\xmapsto", "\\xrightharpoondown", "\\xrightharpoonup", "\\xleftharpoondown", "\\xleftharpoonup", "\\xrightleftharpoons", "\\xleftrightharpoons", "\\xlongequal", "\\xtwoheadrightarrow", "\\xtwoheadleftarrow", "\\xtofrom", "\\xrightleftarrows", "\\xrightequilibrium", "\\xleftequilibrium", "\\\\cdrightarrow", "\\\\cdleftarrow", "\\\\cdlongequal"],
    props: {
        numArgs: 1,
        numOptionalArgs: 1
    },
    handler(e, t, n) {
        var {
            parser: r,
            funcName: i
        } = e;
        return {
            type: "xArrow",
            mode: r.mode,
            label: i,
            body: t[0],
            below: n[0]
        }
    },
    htmlBuilder(e, t) {
        var n = t.style,
            r = t.havingStyle(n.sup()),
            i = q.wrapFragment(et(e.body, r, t), t),
            s = e.label.slice(0, 2) === "\\x" ? "x" : "cd";
        i.classes.push(s + "-arrow-pad");
        var a;
        e.below && (r = t.havingStyle(n.sub()), a = q.wrapFragment(et(e.below, r, t), t), a.classes.push(s + "-arrow-pad"));
        var o = Jr.svgSpan(e, t),
            c = -t.fontMetrics().axisHeight + .5 * o.height,
            u = -t.fontMetrics().axisHeight - .5 * o.height - .111;
        (i.depth > .25 || e.label === "\\xleftequilibrium") && (u -= i.depth);
        var d;
        if (a) {
            var f = -t.fontMetrics().axisHeight + a.height + .5 * o.height + .111;
            d = q.makeVList({
                positionType: "individualShift",
                children: [{
                    type: "elem",
                    elem: i,
                    shift: u
                }, {
                    type: "elem",
                    elem: o,
                    shift: c
                }, {
                    type: "elem",
                    elem: a,
                    shift: f
                }]
            }, t)
        } else d = q.makeVList({
            positionType: "individualShift",
            children: [{
                type: "elem",
                elem: i,
                shift: u
            }, {
                type: "elem",
                elem: o,
                shift: c
            }]
        }, t);
        return d.children[0].children[0].children[1].classes.push("svg-align"), q.makeSpan(["mrel", "x-arrow"], [d], t)
    },
    mathmlBuilder(e, t) {
        var n = Jr.mathMLnode(e.label);
        n.setAttribute("minsize", e.label.charAt(0) === "x" ? "1.75em" : "3.0em");
        var r;
        if (e.body) {
            var i = No(ft(e.body, t));
            if (e.below) {
                var s = No(ft(e.below, t));
                r = new te.MathNode("munderover", [n, s, i])
            } else r = new te.MathNode("mover", [n, i])
        } else if (e.below) {
            var a = No(ft(e.below, t));
            r = new te.MathNode("munder", [n, a])
        } else r = No(), r = new te.MathNode("mover", [n, r]);
        return r
    }
});
var FN = q.makeSpan;

function P5(e, t) {
    var n = Vt(e.body, t, !0);
    return FN([e.mclass], n, t)
}

function L5(e, t) {
    var n, r = In(e.body, t);
    return e.mclass === "minner" ? n = new te.MathNode("mpadded", r) : e.mclass === "mord" ? e.isCharacterBox ? (n = r[0], n.type = "mi") : n = new te.MathNode("mi", r) : (e.isCharacterBox ? (n = r[0], n.type = "mo") : n = new te.MathNode("mo", r), e.mclass === "mbin" ? (n.attributes.lspace = "0.22em", n.attributes.rspace = "0.22em") : e.mclass === "mpunct" ? (n.attributes.lspace = "0em", n.attributes.rspace = "0.17em") : e.mclass === "mopen" || e.mclass === "mclose" ? (n.attributes.lspace = "0em", n.attributes.rspace = "0em") : e.mclass === "minner" && (n.attributes.lspace = "0.0556em", n.attributes.width = "+0.1111em")), n
}
me({
    type: "mclass",
    names: ["\\mathord", "\\mathbin", "\\mathrel", "\\mathopen", "\\mathclose", "\\mathpunct", "\\mathinner"],
    props: {
        numArgs: 1,
        primitive: !0
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "mclass",
            mode: n.mode,
            mclass: "m" + r.slice(5),
            body: Rt(i),
            isCharacterBox: Ee.isCharacterBox(i)
        }
    },
    htmlBuilder: P5,
    mathmlBuilder: L5
});
var ic = e => {
    var t = e.type === "ordgroup" && e.body.length ? e.body[0] : e;
    return t.type === "atom" && (t.family === "bin" || t.family === "rel") ? "m" + t.family : "mord"
};
me({
    type: "mclass",
    names: ["\\@binrel"],
    props: {
        numArgs: 2
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "mclass",
            mode: n.mode,
            mclass: ic(t[0]),
            body: Rt(t[1]),
            isCharacterBox: Ee.isCharacterBox(t[1])
        }
    }
});
me({
    type: "mclass",
    names: ["\\stackrel", "\\overset", "\\underset"],
    props: {
        numArgs: 2
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = t[1], s = t[0], a;
        r !== "\\stackrel" ? a = ic(i) : a = "mrel";
        var o = {
                type: "op",
                mode: i.mode,
                limits: !0,
                alwaysHandleSupSub: !0,
                parentIsSupSub: !1,
                symbol: !1,
                suppressBaseShift: r !== "\\stackrel",
                body: Rt(i)
            },
            c = {
                type: "supsub",
                mode: s.mode,
                base: o,
                sup: r === "\\underset" ? null : s,
                sub: r === "\\underset" ? s : null
            };
        return {
            type: "mclass",
            mode: n.mode,
            mclass: a,
            body: [c],
            isCharacterBox: Ee.isCharacterBox(c)
        }
    },
    htmlBuilder: P5,
    mathmlBuilder: L5
});
me({
    type: "pmb",
    names: ["\\pmb"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "pmb",
            mode: n.mode,
            mclass: ic(t[0]),
            body: Rt(t[0])
        }
    },
    htmlBuilder(e, t) {
        var n = Vt(e.body, t, !0),
            r = q.makeSpan([e.mclass], n, t);
        return r.style.textShadow = "0.02em 0.01em 0.04px", r
    },
    mathmlBuilder(e, t) {
        var n = In(e.body, t),
            r = new te.MathNode("mstyle", n);
        return r.setAttribute("style", "text-shadow: 0.02em 0.01em 0.04px"), r
    }
});
var zN = {
        ">": "\\\\cdrightarrow",
        "<": "\\\\cdleftarrow",
        "=": "\\\\cdlongequal",
        A: "\\uparrow",
        V: "\\downarrow",
        "|": "\\Vert",
        ".": "no arrow"
    },
    Qh = () => ({
        type: "styling",
        body: [],
        mode: "math",
        style: "display"
    }),
    Jh = e => e.type === "textord" && e.text === "@",
    BN = (e, t) => (e.type === "mathord" || e.type === "atom") && e.text === t;

function $N(e, t, n) {
    var r = zN[e];
    switch (r) {
        case "\\\\cdrightarrow":
        case "\\\\cdleftarrow":
            return n.callFunction(r, [t[0]], [t[1]]);
        case "\\uparrow":
        case "\\downarrow": {
            var i = n.callFunction("\\\\cdleft", [t[0]], []),
                s = {
                    type: "atom",
                    text: r,
                    mode: "math",
                    family: "rel"
                },
                a = n.callFunction("\\Big", [s], []),
                o = n.callFunction("\\\\cdright", [t[1]], []),
                c = {
                    type: "ordgroup",
                    mode: "math",
                    body: [i, a, o]
                };
            return n.callFunction("\\\\cdparent", [c], [])
        }
        case "\\\\cdlongequal":
            return n.callFunction("\\\\cdlongequal", [], []);
        case "\\Vert": {
            var u = {
                type: "textord",
                text: "\\Vert",
                mode: "math"
            };
            return n.callFunction("\\Big", [u], [])
        }
        default:
            return {
                type: "textord", text: " ", mode: "math"
            }
    }
}

function HN(e) {
    var t = [];
    for (e.gullet.beginGroup(), e.gullet.macros.set("\\cr", "\\\\\\relax"), e.gullet.beginGroup();;) {
        t.push(e.parseExpression(!1, "\\\\")), e.gullet.endGroup(), e.gullet.beginGroup();
        var n = e.fetch().text;
        if (n === "&" || n === "\\\\") e.consume();
        else if (n === "\\end") {
            t[t.length - 1].length === 0 && t.pop();
            break
        } else throw new ne("Expected \\\\ or \\cr or \\end", e.nextToken)
    }
    for (var r = [], i = [r], s = 0; s < t.length; s++) {
        for (var a = t[s], o = Qh(), c = 0; c < a.length; c++)
            if (!Jh(a[c])) o.body.push(a[c]);
            else {
                r.push(o), c += 1;
                var u = Yd(a[c]).text,
                    d = new Array(2);
                if (d[0] = {
                        type: "ordgroup",
                        mode: "math",
                        body: []
                    }, d[1] = {
                        type: "ordgroup",
                        mode: "math",
                        body: []
                    }, !("=|.".indexOf(u) > -1))
                    if ("<>AV".indexOf(u) > -1)
                        for (var f = 0; f < 2; f++) {
                            for (var m = !0, p = c + 1; p < a.length; p++) {
                                if (BN(a[p], u)) {
                                    m = !1, c = p;
                                    break
                                }
                                if (Jh(a[p])) throw new ne("Missing a " + u + " character to complete a CD arrow.", a[p]);
                                d[f].body.push(a[p])
                            }
                            if (m) throw new ne("Missing a " + u + " character to complete a CD arrow.", a[c])
                        } else throw new ne('Expected one of "<>AV=|." after @', a[c]);
                var g = $N(u, d, e),
                    x = {
                        type: "styling",
                        body: [g],
                        mode: "math",
                        style: "display"
                    };
                r.push(x), o = Qh()
            } s % 2 === 0 ? r.push(o) : r.shift(), r = [], i.push(r)
    }
    e.gullet.endGroup(), e.gullet.endGroup();
    var y = new Array(i[0].length).fill({
        type: "align",
        align: "c",
        pregap: .25,
        postgap: .25
    });
    return {
        type: "array",
        mode: "math",
        body: i,
        arraystretch: 1,
        addJot: !0,
        rowGaps: [null],
        cols: y,
        colSeparationType: "CD",
        hLinesBeforeRow: new Array(i.length + 1).fill([])
    }
}
me({
    type: "cdlabel",
    names: ["\\\\cdleft", "\\\\cdright"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e;
        return {
            type: "cdlabel",
            mode: n.mode,
            side: r.slice(4),
            label: t[0]
        }
    },
    htmlBuilder(e, t) {
        var n = t.havingStyle(t.style.sup()),
            r = q.wrapFragment(et(e.label, n, t), t);
        return r.classes.push("cd-label-" + e.side), r.style.bottom = oe(.8 - r.depth), r.height = 0, r.depth = 0, r
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mrow", [ft(e.label, t)]);
        return n = new te.MathNode("mpadded", [n]), n.setAttribute("width", "0"), e.side === "left" && n.setAttribute("lspace", "-1width"), n.setAttribute("voffset", "0.7em"), n = new te.MathNode("mstyle", [n]), n.setAttribute("displaystyle", "false"), n.setAttribute("scriptlevel", "1"), n
    }
});
me({
    type: "cdlabelparent",
    names: ["\\\\cdparent"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "cdlabelparent",
            mode: n.mode,
            fragment: t[0]
        }
    },
    htmlBuilder(e, t) {
        var n = q.wrapFragment(et(e.fragment, t), t);
        return n.classes.push("cd-vert-arrow"), n
    },
    mathmlBuilder(e, t) {
        return new te.MathNode("mrow", [ft(e.fragment, t)])
    }
});
me({
    type: "textord",
    names: ["\\@char"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler(e, t) {
        for (var {
                parser: n
            } = e, r = $e(t[0], "ordgroup"), i = r.body, s = "", a = 0; a < i.length; a++) {
            var o = $e(i[a], "textord");
            s += o.text
        }
        var c = parseInt(s),
            u;
        if (isNaN(c)) throw new ne("\\@char has non-numeric argument " + s);
        if (c < 0 || c >= 1114111) throw new ne("\\@char with invalid code point " + s);
        return c <= 65535 ? u = String.fromCharCode(c) : (c -= 65536, u = String.fromCharCode((c >> 10) + 55296, (c & 1023) + 56320)), {
            type: "textord",
            mode: n.mode,
            text: u
        }
    }
});
var D5 = (e, t) => {
        var n = Vt(e.body, t.withColor(e.color), !1);
        return q.makeFragment(n)
    },
    _5 = (e, t) => {
        var n = In(e.body, t.withColor(e.color)),
            r = new te.MathNode("mstyle", n);
        return r.setAttribute("mathcolor", e.color), r
    };
me({
    type: "color",
    names: ["\\textcolor"],
    props: {
        numArgs: 2,
        allowedInText: !0,
        argTypes: ["color", "original"]
    },
    handler(e, t) {
        var {
            parser: n
        } = e, r = $e(t[0], "color-token").color, i = t[1];
        return {
            type: "color",
            mode: n.mode,
            color: r,
            body: Rt(i)
        }
    },
    htmlBuilder: D5,
    mathmlBuilder: _5
});
me({
    type: "color",
    names: ["\\color"],
    props: {
        numArgs: 1,
        allowedInText: !0,
        argTypes: ["color"]
    },
    handler(e, t) {
        var {
            parser: n,
            breakOnTokenText: r
        } = e, i = $e(t[0], "color-token").color;
        n.gullet.macros.set("\\current@color", i);
        var s = n.parseExpression(!0, r);
        return {
            type: "color",
            mode: n.mode,
            color: i,
            body: s
        }
    },
    htmlBuilder: D5,
    mathmlBuilder: _5
});
me({
    type: "cr",
    names: ["\\\\"],
    props: {
        numArgs: 0,
        numOptionalArgs: 0,
        allowedInText: !0
    },
    handler(e, t, n) {
        var {
            parser: r
        } = e, i = r.gullet.future().text === "[" ? r.parseSizeGroup(!0) : null, s = !r.settings.displayMode || !r.settings.useStrictBehavior("newLineInDisplayMode", "In LaTeX, \\\\ or \\newline does nothing in display mode");
        return {
            type: "cr",
            mode: r.mode,
            newLine: s,
            size: i && $e(i, "size").value
        }
    },
    htmlBuilder(e, t) {
        var n = q.makeSpan(["mspace"], [], t);
        return e.newLine && (n.classes.push("newline"), e.size && (n.style.marginTop = oe(Et(e.size, t)))), n
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mspace");
        return e.newLine && (n.setAttribute("linebreak", "newline"), e.size && n.setAttribute("height", oe(Et(e.size, t)))), n
    }
});
var b0 = {
        "\\global": "\\global",
        "\\long": "\\\\globallong",
        "\\\\globallong": "\\\\globallong",
        "\\def": "\\gdef",
        "\\gdef": "\\gdef",
        "\\edef": "\\xdef",
        "\\xdef": "\\xdef",
        "\\let": "\\\\globallet",
        "\\futurelet": "\\\\globalfuture"
    },
    F5 = e => {
        var t = e.text;
        if (/^(?:[\\{}$&#^_]|EOF)$/.test(t)) throw new ne("Expected a control sequence", e);
        return t
    },
    UN = e => {
        var t = e.gullet.popToken();
        return t.text === "=" && (t = e.gullet.popToken(), t.text === " " && (t = e.gullet.popToken())), t
    },
    z5 = (e, t, n, r) => {
        var i = e.gullet.macros.get(n.text);
        i == null && (n.noexpand = !0, i = {
            tokens: [n],
            numArgs: 0,
            unexpandable: !e.gullet.isExpandable(n.text)
        }), e.gullet.macros.set(t, i, r)
    };
me({
    type: "internal",
    names: ["\\global", "\\long", "\\\\globallong"],
    props: {
        numArgs: 0,
        allowedInText: !0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e;
        t.consumeSpaces();
        var r = t.fetch();
        if (b0[r.text]) return (n === "\\global" || n === "\\\\globallong") && (r.text = b0[r.text]), $e(t.parseFunction(), "internal");
        throw new ne("Invalid token after macro prefix", r)
    }
});
me({
    type: "internal",
    names: ["\\def", "\\gdef", "\\edef", "\\xdef"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        primitive: !0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e, r = t.gullet.popToken(), i = r.text;
        if (/^(?:[\\{}$&#^_]|EOF)$/.test(i)) throw new ne("Expected a control sequence", r);
        for (var s = 0, a, o = [
                []
            ]; t.gullet.future().text !== "{";)
            if (r = t.gullet.popToken(), r.text === "#") {
                if (t.gullet.future().text === "{") {
                    a = t.gullet.future(), o[s].push("{");
                    break
                }
                if (r = t.gullet.popToken(), !/^[1-9]$/.test(r.text)) throw new ne('Invalid argument number "' + r.text + '"');
                if (parseInt(r.text) !== s + 1) throw new ne('Argument number "' + r.text + '" out of order');
                s++, o.push([])
            } else {
                if (r.text === "EOF") throw new ne("Expected a macro definition");
                o[s].push(r.text)
            } var {
            tokens: c
        } = t.gullet.consumeArg();
        return a && c.unshift(a), (n === "\\edef" || n === "\\xdef") && (c = t.gullet.expandTokens(c), c.reverse()), t.gullet.macros.set(i, {
            tokens: c,
            numArgs: s,
            delimiters: o
        }, n === b0[n]), {
            type: "internal",
            mode: t.mode
        }
    }
});
me({
    type: "internal",
    names: ["\\let", "\\\\globallet"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        primitive: !0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e, r = F5(t.gullet.popToken());
        t.gullet.consumeSpaces();
        var i = UN(t);
        return z5(t, r, i, n === "\\\\globallet"), {
            type: "internal",
            mode: t.mode
        }
    }
});
me({
    type: "internal",
    names: ["\\futurelet", "\\\\globalfuture"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        primitive: !0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e, r = F5(t.gullet.popToken()), i = t.gullet.popToken(), s = t.gullet.popToken();
        return z5(t, r, s, n === "\\\\globalfuture"), t.gullet.pushToken(s), t.gullet.pushToken(i), {
            type: "internal",
            mode: t.mode
        }
    }
});
var ga = function(t, n, r) {
        var i = pt.math[t] && pt.math[t].replace,
            s = Ud(i || t, n, r);
        if (!s) throw new Error("Unsupported symbol " + t + " and font size " + n + ".");
        return s
    },
    Xd = function(t, n, r, i) {
        var s = r.havingBaseStyle(n),
            a = q.makeSpan(i.concat(s.sizingClasses(r)), [t], r),
            o = s.sizeMultiplier / r.sizeMultiplier;
        return a.height *= o, a.depth *= o, a.maxFontSize = s.sizeMultiplier, a
    },
    B5 = function(t, n, r) {
        var i = n.havingBaseStyle(r),
            s = (1 - n.sizeMultiplier / i.sizeMultiplier) * n.fontMetrics().axisHeight;
        t.classes.push("delimcenter"), t.style.top = oe(s), t.height -= s, t.depth += s
    },
    VN = function(t, n, r, i, s, a) {
        var o = q.makeSymbol(t, "Main-Regular", s, i),
            c = Xd(o, n, i, a);
        return r && B5(c, i, n), c
    },
    WN = function(t, n, r, i) {
        return q.makeSymbol(t, "Size" + n + "-Regular", r, i)
    },
    $5 = function(t, n, r, i, s, a) {
        var o = WN(t, n, s, i),
            c = Xd(q.makeSpan(["delimsizing", "size" + n], [o], i), Ae.TEXT, i, a);
        return r && B5(c, i, Ae.TEXT), c
    },
    Xc = function(t, n, r) {
        var i;
        n === "Size1-Regular" ? i = "delim-size1" : i = "delim-size4";
        var s = q.makeSpan(["delimsizinginner", i], [q.makeSpan([], [q.makeSymbol(t, n, r)])]);
        return {
            type: "elem",
            elem: s
        }
    },
    Zc = function(t, n, r) {
        var i = Cr["Size4-Regular"][t.charCodeAt(0)] ? Cr["Size4-Regular"][t.charCodeAt(0)][4] : Cr["Size1-Regular"][t.charCodeAt(0)][4],
            s = new vi("inner", XE(t, Math.round(1e3 * n))),
            a = new Zr([s], {
                width: oe(i),
                height: oe(n),
                style: "width:" + oe(i),
                viewBox: "0 0 " + 1e3 * i + " " + Math.round(1e3 * n),
                preserveAspectRatio: "xMinYMin"
            }),
            o = q.makeSvgSpan([], [a], r);
        return o.height = n, o.style.height = oe(n), o.style.width = oe(i), {
            type: "elem",
            elem: o
        }
    },
    y0 = .008,
    Ao = {
        type: "kern",
        size: -1 * y0
    },
    qN = ["|", "\\lvert", "\\rvert", "\\vert"],
    GN = ["\\|", "\\lVert", "\\rVert", "\\Vert"],
    H5 = function(t, n, r, i, s, a) {
        var o, c, u, d, f = "",
            m = 0;
        o = u = d = t, c = null;
        var p = "Size1-Regular";
        t === "\\uparrow" ? u = d = "" : t === "\\Uparrow" ? u = d = "" : t === "\\downarrow" ? o = u = "" : t === "\\Downarrow" ? o = u = "" : t === "\\updownarrow" ? (o = "\\uparrow", u = "", d = "\\downarrow") : t === "\\Updownarrow" ? (o = "\\Uparrow", u = "", d = "\\Downarrow") : Ee.contains(qN, t) ? (u = "", f = "vert", m = 333) : Ee.contains(GN, t) ? (u = "", f = "doublevert", m = 556) : t === "[" || t === "\\lbrack" ? (o = "", u = "", d = "", p = "Size4-Regular", f = "lbrack", m = 667) : t === "]" || t === "\\rbrack" ? (o = "", u = "", d = "", p = "Size4-Regular", f = "rbrack", m = 667) : t === "\\lfloor" || t === "" ? (u = o = "", d = "", p = "Size4-Regular", f = "lfloor", m = 667) : t === "\\lceil" || t === "" ? (o = "", u = d = "", p = "Size4-Regular", f = "lceil", m = 667) : t === "\\rfloor" || t === "" ? (u = o = "", d = "", p = "Size4-Regular", f = "rfloor", m = 667) : t === "\\rceil" || t === "" ? (o = "", u = d = "", p = "Size4-Regular", f = "rceil", m = 667) : t === "(" || t === "\\lparen" ? (o = "", u = "", d = "", p = "Size4-Regular", f = "lparen", m = 875) : t === ")" || t === "\\rparen" ? (o = "", u = "", d = "", p = "Size4-Regular", f = "rparen", m = 875) : t === "\\{" || t === "\\lbrace" ? (o = "", c = "", d = "", u = "", p = "Size4-Regular") : t === "\\}" || t === "\\rbrace" ? (o = "", c = "", d = "", u = "", p = "Size4-Regular") : t === "\\lgroup" || t === "" ? (o = "", d = "", u = "", p = "Size4-Regular") : t === "\\rgroup" || t === "" ? (o = "", d = "", u = "", p = "Size4-Regular") : t === "\\lmoustache" || t === "" ? (o = "", d = "", u = "", p = "Size4-Regular") : (t === "\\rmoustache" || t === "") && (o = "", d = "", u = "", p = "Size4-Regular");
        var g = ga(o, p, s),
            x = g.height + g.depth,
            y = ga(u, p, s),
            b = y.height + y.depth,
            w = ga(d, p, s),
            C = w.height + w.depth,
            E = 0,
            A = 1;
        if (c !== null) {
            var N = ga(c, p, s);
            E = N.height + N.depth, A = 2
        }
        var j = x + C + E,
            z = Math.max(0, Math.ceil((n - j) / (A * b))),
            H = j + z * A * b,
            R = i.fontMetrics().axisHeight;
        r && (R *= i.sizeMultiplier);
        var D = H / 2 - R,
            _ = [];
        if (f.length > 0) {
            var O = H - x - C,
                F = Math.round(H * 1e3),
                G = ZE(f, Math.round(O * 1e3)),
                Y = new vi(f, G),
                W = (m / 1e3).toFixed(3) + "em",
                B = (F / 1e3).toFixed(3) + "em",
                U = new Zr([Y], {
                    width: W,
                    height: B,
                    viewBox: "0 0 " + m + " " + F
                }),
                I = q.makeSvgSpan([], [U], i);
            I.height = F / 1e3, I.style.width = W, I.style.height = B, _.push({
                type: "elem",
                elem: I
            })
        } else {
            if (_.push(Xc(d, p, s)), _.push(Ao), c === null) {
                var fe = H - x - C + 2 * y0;
                _.push(Zc(u, fe, i))
            } else {
                var re = (H - x - C - E) / 2 + 2 * y0;
                _.push(Zc(u, re, i)), _.push(Ao), _.push(Xc(c, p, s)), _.push(Ao), _.push(Zc(u, re, i))
            }
            _.push(Ao), _.push(Xc(o, p, s))
        }
        var M = i.havingBaseStyle(Ae.TEXT),
            ye = q.makeVList({
                positionType: "bottom",
                positionData: D,
                children: _
            }, M);
        return Xd(q.makeSpan(["delimsizing", "mult"], [ye], M), Ae.TEXT, i, a)
    },
    Qc = 80,
    Jc = .08,
    eu = function(t, n, r, i, s) {
        var a = KE(t, i, r),
            o = new vi(t, a),
            c = new Zr([o], {
                width: "400em",
                height: oe(n),
                viewBox: "0 0 400000 " + r,
                preserveAspectRatio: "xMinYMin slice"
            });
        return q.makeSvgSpan(["hide-tail"], [c], s)
    },
    YN = function(t, n) {
        var r = n.havingBaseSizing(),
            i = q5("\\surd", t * r.sizeMultiplier, W5, r),
            s = r.sizeMultiplier,
            a = Math.max(0, n.minRuleThickness - n.fontMetrics().sqrtRuleThickness),
            o, c = 0,
            u = 0,
            d = 0,
            f;
        return i.type === "small" ? (d = 1e3 + 1e3 * a + Qc, t < 1 ? s = 1 : t < 1.4 && (s = .7), c = (1 + a + Jc) / s, u = (1 + a) / s, o = eu("sqrtMain", c, d, a, n), o.style.minWidth = "0.853em", f = .833 / s) : i.type === "large" ? (d = (1e3 + Qc) * Ea[i.size], u = (Ea[i.size] + a) / s, c = (Ea[i.size] + a + Jc) / s, o = eu("sqrtSize" + i.size, c, d, a, n), o.style.minWidth = "1.02em", f = 1 / s) : (c = t + a + Jc, u = t + a, d = Math.floor(1e3 * t + a) + Qc, o = eu("sqrtTall", c, d, a, n), o.style.minWidth = "0.742em", f = 1.056), o.height = u, o.style.height = oe(c), {
            span: o,
            advanceWidth: f,
            ruleWidth: (n.fontMetrics().sqrtRuleThickness + a) * s
        }
    },
    U5 = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "", "", "\\lceil", "\\rceil", "", "", "\\surd"],
    KN = ["\\uparrow", "\\downarrow", "\\updownarrow", "\\Uparrow", "\\Downarrow", "\\Updownarrow", "|", "\\|", "\\vert", "\\Vert", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "", "", "\\lmoustache", "\\rmoustache", "", ""],
    V5 = ["<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"],
    Ea = [0, 1.2, 1.8, 2.4, 3],
    XN = function(t, n, r, i, s) {
        if (t === "<" || t === "\\lt" || t === "" ? t = "\\langle" : (t === ">" || t === "\\gt" || t === "") && (t = "\\rangle"), Ee.contains(U5, t) || Ee.contains(V5, t)) return $5(t, n, !1, r, i, s);
        if (Ee.contains(KN, t)) return H5(t, Ea[n], !1, r, i, s);
        throw new ne("Illegal delimiter: '" + t + "'")
    },
    ZN = [{
        type: "small",
        style: Ae.SCRIPTSCRIPT
    }, {
        type: "small",
        style: Ae.SCRIPT
    }, {
        type: "small",
        style: Ae.TEXT
    }, {
        type: "large",
        size: 1
    }, {
        type: "large",
        size: 2
    }, {
        type: "large",
        size: 3
    }, {
        type: "large",
        size: 4
    }],
    QN = [{
        type: "small",
        style: Ae.SCRIPTSCRIPT
    }, {
        type: "small",
        style: Ae.SCRIPT
    }, {
        type: "small",
        style: Ae.TEXT
    }, {
        type: "stack"
    }],
    W5 = [{
        type: "small",
        style: Ae.SCRIPTSCRIPT
    }, {
        type: "small",
        style: Ae.SCRIPT
    }, {
        type: "small",
        style: Ae.TEXT
    }, {
        type: "large",
        size: 1
    }, {
        type: "large",
        size: 2
    }, {
        type: "large",
        size: 3
    }, {
        type: "large",
        size: 4
    }, {
        type: "stack"
    }],
    JN = function(t) {
        if (t.type === "small") return "Main-Regular";
        if (t.type === "large") return "Size" + t.size + "-Regular";
        if (t.type === "stack") return "Size4-Regular";
        throw new Error("Add support for delim type '" + t.type + "' here.")
    },
    q5 = function(t, n, r, i) {
        for (var s = Math.min(2, 3 - i.style.size), a = s; a < r.length && r[a].type !== "stack"; a++) {
            var o = ga(t, JN(r[a]), "math"),
                c = o.height + o.depth;
            if (r[a].type === "small") {
                var u = i.havingBaseStyle(r[a].style);
                c *= u.sizeMultiplier
            }
            if (c > n) return r[a]
        }
        return r[r.length - 1]
    },
    G5 = function(t, n, r, i, s, a) {
        t === "<" || t === "\\lt" || t === "" ? t = "\\langle" : (t === ">" || t === "\\gt" || t === "") && (t = "\\rangle");
        var o;
        Ee.contains(V5, t) ? o = ZN : Ee.contains(U5, t) ? o = W5 : o = QN;
        var c = q5(t, n, o, i);
        return c.type === "small" ? VN(t, c.style, r, i, s, a) : c.type === "large" ? $5(t, c.size, r, i, s, a) : H5(t, n, r, i, s, a)
    },
    eA = function(t, n, r, i, s, a) {
        var o = i.fontMetrics().axisHeight * i.sizeMultiplier,
            c = 901,
            u = 5 / i.fontMetrics().ptPerEm,
            d = Math.max(n - o, r + o),
            f = Math.max(d / 500 * c, 2 * d - u);
        return G5(t, f, !0, i, s, a)
    },
    Kr = {
        sqrtImage: YN,
        sizedDelim: XN,
        sizeToMaxHeight: Ea,
        customSizedDelim: G5,
        leftRightDelim: eA
    },
    ep = {
        "\\bigl": {
            mclass: "mopen",
            size: 1
        },
        "\\Bigl": {
            mclass: "mopen",
            size: 2
        },
        "\\biggl": {
            mclass: "mopen",
            size: 3
        },
        "\\Biggl": {
            mclass: "mopen",
            size: 4
        },
        "\\bigr": {
            mclass: "mclose",
            size: 1
        },
        "\\Bigr": {
            mclass: "mclose",
            size: 2
        },
        "\\biggr": {
            mclass: "mclose",
            size: 3
        },
        "\\Biggr": {
            mclass: "mclose",
            size: 4
        },
        "\\bigm": {
            mclass: "mrel",
            size: 1
        },
        "\\Bigm": {
            mclass: "mrel",
            size: 2
        },
        "\\biggm": {
            mclass: "mrel",
            size: 3
        },
        "\\Biggm": {
            mclass: "mrel",
            size: 4
        },
        "\\big": {
            mclass: "mord",
            size: 1
        },
        "\\Big": {
            mclass: "mord",
            size: 2
        },
        "\\bigg": {
            mclass: "mord",
            size: 3
        },
        "\\Bigg": {
            mclass: "mord",
            size: 4
        }
    },
    tA = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "", "", "\\lceil", "\\rceil", "", "", "<", ">", "\\langle", "", "\\rangle", "", "\\lt", "\\gt", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "", "", "\\lmoustache", "\\rmoustache", "", "", "/", "\\backslash", "|", "\\vert", "\\|", "\\Vert", "\\uparrow", "\\Uparrow", "\\downarrow", "\\Downarrow", "\\updownarrow", "\\Updownarrow", "."];

function sc(e, t) {
    var n = rc(e);
    if (n && Ee.contains(tA, n.text)) return n;
    throw n ? new ne("Invalid delimiter '" + n.text + "' after '" + t.funcName + "'", e) : new ne("Invalid delimiter type '" + e.type + "'", e)
}
me({
    type: "delimsizing",
    names: ["\\bigl", "\\Bigl", "\\biggl", "\\Biggl", "\\bigr", "\\Bigr", "\\biggr", "\\Biggr", "\\bigm", "\\Bigm", "\\biggm", "\\Biggm", "\\big", "\\Big", "\\bigg", "\\Bigg"],
    props: {
        numArgs: 1,
        argTypes: ["primitive"]
    },
    handler: (e, t) => {
        var n = sc(t[0], e);
        return {
            type: "delimsizing",
            mode: e.parser.mode,
            size: ep[e.funcName].size,
            mclass: ep[e.funcName].mclass,
            delim: n.text
        }
    },
    htmlBuilder: (e, t) => e.delim === "." ? q.makeSpan([e.mclass]) : Kr.sizedDelim(e.delim, e.size, t, e.mode, [e.mclass]),
    mathmlBuilder: e => {
        var t = [];
        e.delim !== "." && t.push(Qn(e.delim, e.mode));
        var n = new te.MathNode("mo", t);
        e.mclass === "mopen" || e.mclass === "mclose" ? n.setAttribute("fence", "true") : n.setAttribute("fence", "false"), n.setAttribute("stretchy", "true");
        var r = oe(Kr.sizeToMaxHeight[e.size]);
        return n.setAttribute("minsize", r), n.setAttribute("maxsize", r), n
    }
});

function tp(e) {
    if (!e.body) throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")
}
me({
    type: "leftright-right",
    names: ["\\right"],
    props: {
        numArgs: 1,
        primitive: !0
    },
    handler: (e, t) => {
        var n = e.parser.gullet.macros.get("\\current@color");
        if (n && typeof n != "string") throw new ne("\\current@color set to non-string in \\right");
        return {
            type: "leftright-right",
            mode: e.parser.mode,
            delim: sc(t[0], e).text,
            color: n
        }
    }
});
me({
    type: "leftright",
    names: ["\\left"],
    props: {
        numArgs: 1,
        primitive: !0
    },
    handler: (e, t) => {
        var n = sc(t[0], e),
            r = e.parser;
        ++r.leftrightDepth;
        var i = r.parseExpression(!1);
        --r.leftrightDepth, r.expect("\\right", !1);
        var s = $e(r.parseFunction(), "leftright-right");
        return {
            type: "leftright",
            mode: r.mode,
            body: i,
            left: n.text,
            right: s.delim,
            rightColor: s.color
        }
    },
    htmlBuilder: (e, t) => {
        tp(e);
        for (var n = Vt(e.body, t, !0, ["mopen", "mclose"]), r = 0, i = 0, s = !1, a = 0; a < n.length; a++) n[a].isMiddle ? s = !0 : (r = Math.max(n[a].height, r), i = Math.max(n[a].depth, i));
        r *= t.sizeMultiplier, i *= t.sizeMultiplier;
        var o;
        if (e.left === "." ? o = Fa(t, ["mopen"]) : o = Kr.leftRightDelim(e.left, r, i, t, e.mode, ["mopen"]), n.unshift(o), s)
            for (var c = 1; c < n.length; c++) {
                var u = n[c],
                    d = u.isMiddle;
                d && (n[c] = Kr.leftRightDelim(d.delim, r, i, d.options, e.mode, []))
            }
        var f;
        if (e.right === ".") f = Fa(t, ["mclose"]);
        else {
            var m = e.rightColor ? t.withColor(e.rightColor) : t;
            f = Kr.leftRightDelim(e.right, r, i, m, e.mode, ["mclose"])
        }
        return n.push(f), q.makeSpan(["minner"], n, t)
    },
    mathmlBuilder: (e, t) => {
        tp(e);
        var n = In(e.body, t);
        if (e.left !== ".") {
            var r = new te.MathNode("mo", [Qn(e.left, e.mode)]);
            r.setAttribute("fence", "true"), n.unshift(r)
        }
        if (e.right !== ".") {
            var i = new te.MathNode("mo", [Qn(e.right, e.mode)]);
            i.setAttribute("fence", "true"), e.rightColor && i.setAttribute("mathcolor", e.rightColor), n.push(i)
        }
        return qd(n)
    }
});
me({
    type: "middle",
    names: ["\\middle"],
    props: {
        numArgs: 1,
        primitive: !0
    },
    handler: (e, t) => {
        var n = sc(t[0], e);
        if (!e.parser.leftrightDepth) throw new ne("\\middle without preceding \\left", n);
        return {
            type: "middle",
            mode: e.parser.mode,
            delim: n.text
        }
    },
    htmlBuilder: (e, t) => {
        var n;
        if (e.delim === ".") n = Fa(t, []);
        else {
            n = Kr.sizedDelim(e.delim, 1, t, e.mode, []);
            var r = {
                delim: e.delim,
                options: t
            };
            n.isMiddle = r
        }
        return n
    },
    mathmlBuilder: (e, t) => {
        var n = e.delim === "\\vert" || e.delim === "|" ? Qn("|", "text") : Qn(e.delim, e.mode),
            r = new te.MathNode("mo", [n]);
        return r.setAttribute("fence", "true"), r.setAttribute("lspace", "0.05em"), r.setAttribute("rspace", "0.05em"), r
    }
});
var Zd = (e, t) => {
        var n = q.wrapFragment(et(e.body, t), t),
            r = e.label.slice(1),
            i = t.sizeMultiplier,
            s, a = 0,
            o = Ee.isCharacterBox(e.body);
        if (r === "sout") s = q.makeSpan(["stretchy", "sout"]), s.height = t.fontMetrics().defaultRuleThickness / i, a = -.5 * t.fontMetrics().xHeight;
        else if (r === "phase") {
            var c = Et({
                    number: .6,
                    unit: "pt"
                }, t),
                u = Et({
                    number: .35,
                    unit: "ex"
                }, t),
                d = t.havingBaseSizing();
            i = i / d.sizeMultiplier;
            var f = n.height + n.depth + c + u;
            n.style.paddingLeft = oe(f / 2 + c);
            var m = Math.floor(1e3 * f * i),
                p = GE(m),
                g = new Zr([new vi("phase", p)], {
                    width: "400em",
                    height: oe(m / 1e3),
                    viewBox: "0 0 400000 " + m,
                    preserveAspectRatio: "xMinYMin slice"
                });
            s = q.makeSvgSpan(["hide-tail"], [g], t), s.style.height = oe(f), a = n.depth + c + u
        } else {
            /cancel/.test(r) ? o || n.classes.push("cancel-pad") : r === "angl" ? n.classes.push("anglpad") : n.classes.push("boxpad");
            var x = 0,
                y = 0,
                b = 0;
            /box/.test(r) ? (b = Math.max(t.fontMetrics().fboxrule, t.minRuleThickness), x = t.fontMetrics().fboxsep + (r === "colorbox" ? 0 : b), y = x) : r === "angl" ? (b = Math.max(t.fontMetrics().defaultRuleThickness, t.minRuleThickness), x = 4 * b, y = Math.max(0, .25 - n.depth)) : (x = o ? .2 : 0, y = x), s = Jr.encloseSpan(n, r, x, y, t), /fbox|boxed|fcolorbox/.test(r) ? (s.style.borderStyle = "solid", s.style.borderWidth = oe(b)) : r === "angl" && b !== .049 && (s.style.borderTopWidth = oe(b), s.style.borderRightWidth = oe(b)), a = n.depth + y, e.backgroundColor && (s.style.backgroundColor = e.backgroundColor, e.borderColor && (s.style.borderColor = e.borderColor))
        }
        var w;
        if (e.backgroundColor) w = q.makeVList({
            positionType: "individualShift",
            children: [{
                type: "elem",
                elem: s,
                shift: a
            }, {
                type: "elem",
                elem: n,
                shift: 0
            }]
        }, t);
        else {
            var C = /cancel|phase/.test(r) ? ["svg-align"] : [];
            w = q.makeVList({
                positionType: "individualShift",
                children: [{
                    type: "elem",
                    elem: n,
                    shift: 0
                }, {
                    type: "elem",
                    elem: s,
                    shift: a,
                    wrapperClasses: C
                }]
            }, t)
        }
        return /cancel/.test(r) && (w.height = n.height, w.depth = n.depth), /cancel/.test(r) && !o ? q.makeSpan(["mord", "cancel-lap"], [w], t) : q.makeSpan(["mord"], [w], t)
    },
    Qd = (e, t) => {
        var n = 0,
            r = new te.MathNode(e.label.indexOf("colorbox") > -1 ? "mpadded" : "menclose", [ft(e.body, t)]);
        switch (e.label) {
            case "\\cancel":
                r.setAttribute("notation", "updiagonalstrike");
                break;
            case "\\bcancel":
                r.setAttribute("notation", "downdiagonalstrike");
                break;
            case "\\phase":
                r.setAttribute("notation", "phasorangle");
                break;
            case "\\sout":
                r.setAttribute("notation", "horizontalstrike");
                break;
            case "\\fbox":
                r.setAttribute("notation", "box");
                break;
            case "\\angl":
                r.setAttribute("notation", "actuarial");
                break;
            case "\\fcolorbox":
            case "\\colorbox":
                if (n = t.fontMetrics().fboxsep * t.fontMetrics().ptPerEm, r.setAttribute("width", "+" + 2 * n + "pt"), r.setAttribute("height", "+" + 2 * n + "pt"), r.setAttribute("lspace", n + "pt"), r.setAttribute("voffset", n + "pt"), e.label === "\\fcolorbox") {
                    var i = Math.max(t.fontMetrics().fboxrule, t.minRuleThickness);
                    r.setAttribute("style", "border: " + i + "em solid " + String(e.borderColor))
                }
                break;
            case "\\xcancel":
                r.setAttribute("notation", "updiagonalstrike downdiagonalstrike");
                break
        }
        return e.backgroundColor && r.setAttribute("mathbackground", e.backgroundColor), r
    };
me({
    type: "enclose",
    names: ["\\colorbox"],
    props: {
        numArgs: 2,
        allowedInText: !0,
        argTypes: ["color", "text"]
    },
    handler(e, t, n) {
        var {
            parser: r,
            funcName: i
        } = e, s = $e(t[0], "color-token").color, a = t[1];
        return {
            type: "enclose",
            mode: r.mode,
            label: i,
            backgroundColor: s,
            body: a
        }
    },
    htmlBuilder: Zd,
    mathmlBuilder: Qd
});
me({
    type: "enclose",
    names: ["\\fcolorbox"],
    props: {
        numArgs: 3,
        allowedInText: !0,
        argTypes: ["color", "color", "text"]
    },
    handler(e, t, n) {
        var {
            parser: r,
            funcName: i
        } = e, s = $e(t[0], "color-token").color, a = $e(t[1], "color-token").color, o = t[2];
        return {
            type: "enclose",
            mode: r.mode,
            label: i,
            backgroundColor: a,
            borderColor: s,
            body: o
        }
    },
    htmlBuilder: Zd,
    mathmlBuilder: Qd
});
me({
    type: "enclose",
    names: ["\\fbox"],
    props: {
        numArgs: 1,
        argTypes: ["hbox"],
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "enclose",
            mode: n.mode,
            label: "\\fbox",
            body: t[0]
        }
    }
});
me({
    type: "enclose",
    names: ["\\cancel", "\\bcancel", "\\xcancel", "\\sout", "\\phase"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "enclose",
            mode: n.mode,
            label: r,
            body: i
        }
    },
    htmlBuilder: Zd,
    mathmlBuilder: Qd
});
me({
    type: "enclose",
    names: ["\\angl"],
    props: {
        numArgs: 1,
        argTypes: ["hbox"],
        allowedInText: !1
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "enclose",
            mode: n.mode,
            label: "\\angl",
            body: t[0]
        }
    }
});
var Y5 = {};

function Lr(e) {
    for (var {
            type: t,
            names: n,
            props: r,
            handler: i,
            htmlBuilder: s,
            mathmlBuilder: a
        } = e, o = {
            type: t,
            numArgs: r.numArgs || 0,
            allowedInText: !1,
            numOptionalArgs: 0,
            handler: i
        }, c = 0; c < n.length; ++c) Y5[n[c]] = o;
    s && (ml[t] = s), a && (gl[t] = a)
}
var K5 = {};

function T(e, t) {
    K5[e] = t
}

function np(e) {
    var t = [];
    e.consumeSpaces();
    var n = e.fetch().text;
    for (n === "\\relax" && (e.consume(), e.consumeSpaces(), n = e.fetch().text); n === "\\hline" || n === "\\hdashline";) e.consume(), t.push(n === "\\hdashline"), e.consumeSpaces(), n = e.fetch().text;
    return t
}
var ac = e => {
    var t = e.parser.settings;
    if (!t.displayMode) throw new ne("{" + e.envName + "} can be used only in display mode.")
};

function Jd(e) {
    if (e.indexOf("ed") === -1) return e.indexOf("*") === -1
}

function ki(e, t, n) {
    var {
        hskipBeforeAndAfter: r,
        addJot: i,
        cols: s,
        arraystretch: a,
        colSeparationType: o,
        autoTag: c,
        singleRow: u,
        emptySingleRow: d,
        maxNumCols: f,
        leqno: m
    } = t;
    if (e.gullet.beginGroup(), u || e.gullet.macros.set("\\cr", "\\\\\\relax"), !a) {
        var p = e.gullet.expandMacroAsText("\\arraystretch");
        if (p == null) a = 1;
        else if (a = parseFloat(p), !a || a < 0) throw new ne("Invalid \\arraystretch: " + p)
    }
    e.gullet.beginGroup();
    var g = [],
        x = [g],
        y = [],
        b = [],
        w = c != null ? [] : void 0;

    function C() {
        c && e.gullet.macros.set("\\@eqnsw", "1", !0)
    }

    function E() {
        w && (e.gullet.macros.get("\\df@tag") ? (w.push(e.subparse([new Kn("\\df@tag")])), e.gullet.macros.set("\\df@tag", void 0, !0)) : w.push(!!c && e.gullet.macros.get("\\@eqnsw") === "1"))
    }
    for (C(), b.push(np(e));;) {
        var A = e.parseExpression(!1, u ? "\\end" : "\\\\");
        e.gullet.endGroup(), e.gullet.beginGroup(), A = {
            type: "ordgroup",
            mode: e.mode,
            body: A
        }, n && (A = {
            type: "styling",
            mode: e.mode,
            style: n,
            body: [A]
        }), g.push(A);
        var N = e.fetch().text;
        if (N === "&") {
            if (f && g.length === f) {
                if (u || o) throw new ne("Too many tab characters: &", e.nextToken);
                e.settings.reportNonstrict("textEnv", "Too few columns specified in the {array} column argument.")
            }
            e.consume()
        } else if (N === "\\end") {
            E(), g.length === 1 && A.type === "styling" && A.body[0].body.length === 0 && (x.length > 1 || !d) && x.pop(), b.length < x.length + 1 && b.push([]);
            break
        } else if (N === "\\\\") {
            e.consume();
            var j = void 0;
            e.gullet.future().text !== " " && (j = e.parseSizeGroup(!0)), y.push(j ? j.value : null), E(), b.push(np(e)), g = [], x.push(g), C()
        } else throw new ne("Expected & or \\\\ or \\cr or \\end", e.nextToken)
    }
    return e.gullet.endGroup(), e.gullet.endGroup(), {
        type: "array",
        mode: e.mode,
        addJot: i,
        arraystretch: a,
        body: x,
        cols: s,
        rowGaps: y,
        hskipBeforeAndAfter: r,
        hLinesBeforeRow: b,
        colSeparationType: o,
        tags: w,
        leqno: m
    }
}

function ef(e) {
    return e.slice(0, 1) === "d" ? "display" : "text"
}
var Dr = function(t, n) {
        var r, i, s = t.body.length,
            a = t.hLinesBeforeRow,
            o = 0,
            c = new Array(s),
            u = [],
            d = Math.max(n.fontMetrics().arrayRuleWidth, n.minRuleThickness),
            f = 1 / n.fontMetrics().ptPerEm,
            m = 5 * f;
        if (t.colSeparationType && t.colSeparationType === "small") {
            var p = n.havingStyle(Ae.SCRIPT).sizeMultiplier;
            m = .2778 * (p / n.sizeMultiplier)
        }
        var g = t.colSeparationType === "CD" ? Et({
                number: 3,
                unit: "ex"
            }, n) : 12 * f,
            x = 3 * f,
            y = t.arraystretch * g,
            b = .7 * y,
            w = .3 * y,
            C = 0;

        function E(Ct) {
            for (var bt = 0; bt < Ct.length; ++bt) bt > 0 && (C += .25), u.push({
                pos: C,
                isDashed: Ct[bt]
            })
        }
        for (E(a[0]), r = 0; r < t.body.length; ++r) {
            var A = t.body[r],
                N = b,
                j = w;
            o < A.length && (o = A.length);
            var z = new Array(A.length);
            for (i = 0; i < A.length; ++i) {
                var H = et(A[i], n);
                j < H.depth && (j = H.depth), N < H.height && (N = H.height), z[i] = H
            }
            var R = t.rowGaps[r],
                D = 0;
            R && (D = Et(R, n), D > 0 && (D += w, j < D && (j = D), D = 0)), t.addJot && (j += x), z.height = N, z.depth = j, C += N, z.pos = C, C += j + D, c[r] = z, E(a[r + 1])
        }
        var _ = C / 2 + n.fontMetrics().axisHeight,
            O = t.cols || [],
            F = [],
            G, Y, W = [];
        if (t.tags && t.tags.some(Ct => Ct))
            for (r = 0; r < s; ++r) {
                var B = c[r],
                    U = B.pos - _,
                    I = t.tags[r],
                    fe = void 0;
                I === !0 ? fe = q.makeSpan(["eqn-num"], [], n) : I === !1 ? fe = q.makeSpan([], [], n) : fe = q.makeSpan([], Vt(I, n, !0), n), fe.depth = B.depth, fe.height = B.height, W.push({
                    type: "elem",
                    elem: fe,
                    shift: U
                })
            }
        for (i = 0, Y = 0; i < o || Y < O.length; ++i, ++Y) {
            for (var re = O[Y] || {}, M = !0; re.type === "separator";) {
                if (M || (G = q.makeSpan(["arraycolsep"], []), G.style.width = oe(n.fontMetrics().doubleRuleSep), F.push(G)), re.separator === "|" || re.separator === ":") {
                    var ye = re.separator === "|" ? "solid" : "dashed",
                        Oe = q.makeSpan(["vertical-separator"], [], n);
                    Oe.style.height = oe(C), Oe.style.borderRightWidth = oe(d), Oe.style.borderRightStyle = ye, Oe.style.margin = "0 " + oe(-d / 2);
                    var K = C - _;
                    K && (Oe.style.verticalAlign = oe(-K)), F.push(Oe)
                } else throw new ne("Invalid separator type: " + re.separator);
                Y++, re = O[Y] || {}, M = !1
            }
            if (!(i >= o)) {
                var J = void 0;
                (i > 0 || t.hskipBeforeAndAfter) && (J = Ee.deflt(re.pregap, m), J !== 0 && (G = q.makeSpan(["arraycolsep"], []), G.style.width = oe(J), F.push(G)));
                var pe = [];
                for (r = 0; r < s; ++r) {
                    var de = c[r],
                        ce = de[i];
                    if (ce) {
                        var ae = de.pos - _;
                        ce.depth = de.depth, ce.height = de.height, pe.push({
                            type: "elem",
                            elem: ce,
                            shift: ae
                        })
                    }
                }
                pe = q.makeVList({
                    positionType: "individualShift",
                    children: pe
                }, n), pe = q.makeSpan(["col-align-" + (re.align || "c")], [pe]), F.push(pe), (i < o - 1 || t.hskipBeforeAndAfter) && (J = Ee.deflt(re.postgap, m), J !== 0 && (G = q.makeSpan(["arraycolsep"], []), G.style.width = oe(J), F.push(G)))
            }
        }
        if (c = q.makeSpan(["mtable"], F), u.length > 0) {
            for (var ue = q.makeLineSpan("hline", n, d), Ce = q.makeLineSpan("hdashline", n, d), je = [{
                    type: "elem",
                    elem: c,
                    shift: 0
                }]; u.length > 0;) {
                var Te = u.pop(),
                    ve = Te.pos - _;
                Te.isDashed ? je.push({
                    type: "elem",
                    elem: Ce,
                    shift: ve
                }) : je.push({
                    type: "elem",
                    elem: ue,
                    shift: ve
                })
            }
            c = q.makeVList({
                positionType: "individualShift",
                children: je
            }, n)
        }
        if (W.length === 0) return q.makeSpan(["mord"], [c], n);
        var Pe = q.makeVList({
            positionType: "individualShift",
            children: W
        }, n);
        return Pe = q.makeSpan(["tag"], [Pe], n), q.makeFragment([c, Pe])
    },
    nA = {
        c: "center ",
        l: "left ",
        r: "right "
    },
    _r = function(t, n) {
        for (var r = [], i = new te.MathNode("mtd", [], ["mtr-glue"]), s = new te.MathNode("mtd", [], ["mml-eqn-num"]), a = 0; a < t.body.length; a++) {
            for (var o = t.body[a], c = [], u = 0; u < o.length; u++) c.push(new te.MathNode("mtd", [ft(o[u], n)]));
            t.tags && t.tags[a] && (c.unshift(i), c.push(i), t.leqno ? c.unshift(s) : c.push(s)), r.push(new te.MathNode("mtr", c))
        }
        var d = new te.MathNode("mtable", r),
            f = t.arraystretch === .5 ? .1 : .16 + t.arraystretch - 1 + (t.addJot ? .09 : 0);
        d.setAttribute("rowspacing", oe(f));
        var m = "",
            p = "";
        if (t.cols && t.cols.length > 0) {
            var g = t.cols,
                x = "",
                y = !1,
                b = 0,
                w = g.length;
            g[0].type === "separator" && (m += "top ", b = 1), g[g.length - 1].type === "separator" && (m += "bottom ", w -= 1);
            for (var C = b; C < w; C++) g[C].type === "align" ? (p += nA[g[C].align], y && (x += "none "), y = !0) : g[C].type === "separator" && y && (x += g[C].separator === "|" ? "solid " : "dashed ", y = !1);
            d.setAttribute("columnalign", p.trim()), /[sd]/.test(x) && d.setAttribute("columnlines", x.trim())
        }
        if (t.colSeparationType === "align") {
            for (var E = t.cols || [], A = "", N = 1; N < E.length; N++) A += N % 2 ? "0em " : "1em ";
            d.setAttribute("columnspacing", A.trim())
        } else t.colSeparationType === "alignat" || t.colSeparationType === "gather" ? d.setAttribute("columnspacing", "0em") : t.colSeparationType === "small" ? d.setAttribute("columnspacing", "0.2778em") : t.colSeparationType === "CD" ? d.setAttribute("columnspacing", "0.5em") : d.setAttribute("columnspacing", "1em");
        var j = "",
            z = t.hLinesBeforeRow;
        m += z[0].length > 0 ? "left " : "", m += z[z.length - 1].length > 0 ? "right " : "";
        for (var H = 1; H < z.length - 1; H++) j += z[H].length === 0 ? "none " : z[H][0] ? "dashed " : "solid ";
        return /[sd]/.test(j) && d.setAttribute("rowlines", j.trim()), m !== "" && (d = new te.MathNode("menclose", [d]), d.setAttribute("notation", m.trim())), t.arraystretch && t.arraystretch < 1 && (d = new te.MathNode("mstyle", [d]), d.setAttribute("scriptlevel", "1")), d
    },
    X5 = function(t, n) {
        t.envName.indexOf("ed") === -1 && ac(t);
        var r = [],
            i = t.envName.indexOf("at") > -1 ? "alignat" : "align",
            s = t.envName === "split",
            a = ki(t.parser, {
                cols: r,
                addJot: !0,
                autoTag: s ? void 0 : Jd(t.envName),
                emptySingleRow: !0,
                colSeparationType: i,
                maxNumCols: s ? 2 : void 0,
                leqno: t.parser.settings.leqno
            }, "display"),
            o, c = 0,
            u = {
                type: "ordgroup",
                mode: t.mode,
                body: []
            };
        if (n[0] && n[0].type === "ordgroup") {
            for (var d = "", f = 0; f < n[0].body.length; f++) {
                var m = $e(n[0].body[f], "textord");
                d += m.text
            }
            o = Number(d), c = o * 2
        }
        var p = !c;
        a.body.forEach(function(b) {
            for (var w = 1; w < b.length; w += 2) {
                var C = $e(b[w], "styling"),
                    E = $e(C.body[0], "ordgroup");
                E.body.unshift(u)
            }
            if (p) c < b.length && (c = b.length);
            else {
                var A = b.length / 2;
                if (o < A) throw new ne("Too many math in a row: " + ("expected " + o + ", but got " + A), b[0])
            }
        });
        for (var g = 0; g < c; ++g) {
            var x = "r",
                y = 0;
            g % 2 === 1 ? x = "l" : g > 0 && p && (y = 1), r[g] = {
                type: "align",
                align: x,
                pregap: y,
                postgap: 0
            }
        }
        return a.colSeparationType = p ? "align" : "alignat", a
    };
Lr({
    type: "array",
    names: ["array", "darray"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var n = rc(t[0]),
            r = n ? [t[0]] : $e(t[0], "ordgroup").body,
            i = r.map(function(a) {
                var o = Yd(a),
                    c = o.text;
                if ("lcr".indexOf(c) !== -1) return {
                    type: "align",
                    align: c
                };
                if (c === "|") return {
                    type: "separator",
                    separator: "|"
                };
                if (c === ":") return {
                    type: "separator",
                    separator: ":"
                };
                throw new ne("Unknown column alignment: " + c, a)
            }),
            s = {
                cols: i,
                hskipBeforeAndAfter: !0,
                maxNumCols: i.length
            };
        return ki(e.parser, s, ef(e.envName))
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["matrix", "pmatrix", "bmatrix", "Bmatrix", "vmatrix", "Vmatrix", "matrix*", "pmatrix*", "bmatrix*", "Bmatrix*", "vmatrix*", "Vmatrix*"],
    props: {
        numArgs: 0
    },
    handler(e) {
        var t = {
                matrix: null,
                pmatrix: ["(", ")"],
                bmatrix: ["[", "]"],
                Bmatrix: ["\\{", "\\}"],
                vmatrix: ["|", "|"],
                Vmatrix: ["\\Vert", "\\Vert"]
            } [e.envName.replace("*", "")],
            n = "c",
            r = {
                hskipBeforeAndAfter: !1,
                cols: [{
                    type: "align",
                    align: n
                }]
            };
        if (e.envName.charAt(e.envName.length - 1) === "*") {
            var i = e.parser;
            if (i.consumeSpaces(), i.fetch().text === "[") {
                if (i.consume(), i.consumeSpaces(), n = i.fetch().text, "lcr".indexOf(n) === -1) throw new ne("Expected l or c or r", i.nextToken);
                i.consume(), i.consumeSpaces(), i.expect("]"), i.consume(), r.cols = [{
                    type: "align",
                    align: n
                }]
            }
        }
        var s = ki(e.parser, r, ef(e.envName)),
            a = Math.max(0, ...s.body.map(o => o.length));
        return s.cols = new Array(a).fill({
            type: "align",
            align: n
        }), t ? {
            type: "leftright",
            mode: e.mode,
            body: [s],
            left: t[0],
            right: t[1],
            rightColor: void 0
        } : s
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["smallmatrix"],
    props: {
        numArgs: 0
    },
    handler(e) {
        var t = {
                arraystretch: .5
            },
            n = ki(e.parser, t, "script");
        return n.colSeparationType = "small", n
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["subarray"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var n = rc(t[0]),
            r = n ? [t[0]] : $e(t[0], "ordgroup").body,
            i = r.map(function(a) {
                var o = Yd(a),
                    c = o.text;
                if ("lc".indexOf(c) !== -1) return {
                    type: "align",
                    align: c
                };
                throw new ne("Unknown column alignment: " + c, a)
            });
        if (i.length > 1) throw new ne("{subarray} can contain only one column");
        var s = {
            cols: i,
            hskipBeforeAndAfter: !1,
            arraystretch: .5
        };
        if (s = ki(e.parser, s, "script"), s.body.length > 0 && s.body[0].length > 1) throw new ne("{subarray} can contain only one column");
        return s
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["cases", "dcases", "rcases", "drcases"],
    props: {
        numArgs: 0
    },
    handler(e) {
        var t = {
                arraystretch: 1.2,
                cols: [{
                    type: "align",
                    align: "l",
                    pregap: 0,
                    postgap: 1
                }, {
                    type: "align",
                    align: "l",
                    pregap: 0,
                    postgap: 0
                }]
            },
            n = ki(e.parser, t, ef(e.envName));
        return {
            type: "leftright",
            mode: e.mode,
            body: [n],
            left: e.envName.indexOf("r") > -1 ? "." : "\\{",
            right: e.envName.indexOf("r") > -1 ? "\\}" : ".",
            rightColor: void 0
        }
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["align", "align*", "aligned", "split"],
    props: {
        numArgs: 0
    },
    handler: X5,
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["gathered", "gather", "gather*"],
    props: {
        numArgs: 0
    },
    handler(e) {
        Ee.contains(["gather", "gather*"], e.envName) && ac(e);
        var t = {
            cols: [{
                type: "align",
                align: "c"
            }],
            addJot: !0,
            colSeparationType: "gather",
            autoTag: Jd(e.envName),
            emptySingleRow: !0,
            leqno: e.parser.settings.leqno
        };
        return ki(e.parser, t, "display")
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["alignat", "alignat*", "alignedat"],
    props: {
        numArgs: 1
    },
    handler: X5,
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["equation", "equation*"],
    props: {
        numArgs: 0
    },
    handler(e) {
        ac(e);
        var t = {
            autoTag: Jd(e.envName),
            emptySingleRow: !0,
            singleRow: !0,
            maxNumCols: 1,
            leqno: e.parser.settings.leqno
        };
        return ki(e.parser, t, "display")
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
Lr({
    type: "array",
    names: ["CD"],
    props: {
        numArgs: 0
    },
    handler(e) {
        return ac(e), HN(e.parser)
    },
    htmlBuilder: Dr,
    mathmlBuilder: _r
});
T("\\nonumber", "\\gdef\\@eqnsw{0}");
T("\\notag", "\\nonumber");
me({
    type: "text",
    names: ["\\hline", "\\hdashline"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        allowedInMath: !0
    },
    handler(e, t) {
        throw new ne(e.funcName + " valid only within array environment")
    }
});
var rp = Y5;
me({
    type: "environment",
    names: ["\\begin", "\\end"],
    props: {
        numArgs: 1,
        argTypes: ["text"]
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        if (i.type !== "ordgroup") throw new ne("Invalid environment name", i);
        for (var s = "", a = 0; a < i.body.length; ++a) s += $e(i.body[a], "textord").text;
        if (r === "\\begin") {
            if (!rp.hasOwnProperty(s)) throw new ne("No such environment: " + s, i);
            var o = rp[s],
                {
                    args: c,
                    optArgs: u
                } = n.parseArguments("\\begin{" + s + "}", o),
                d = {
                    mode: n.mode,
                    envName: s,
                    parser: n
                },
                f = o.handler(d, c, u);
            n.expect("\\end", !1);
            var m = n.nextToken,
                p = $e(n.parseFunction(), "environment");
            if (p.name !== s) throw new ne("Mismatch: \\begin{" + s + "} matched by \\end{" + p.name + "}", m);
            return f
        }
        return {
            type: "environment",
            mode: n.mode,
            name: s,
            nameGroup: i
        }
    }
});
var Z5 = (e, t) => {
        var n = e.font,
            r = t.withFont(n);
        return et(e.body, r)
    },
    Q5 = (e, t) => {
        var n = e.font,
            r = t.withFont(n);
        return ft(e.body, r)
    },
    ip = {
        "\\Bbb": "\\mathbb",
        "\\bold": "\\mathbf",
        "\\frak": "\\mathfrak",
        "\\bm": "\\boldsymbol"
    };
me({
    type: "font",
    names: ["\\mathrm", "\\mathit", "\\mathbf", "\\mathnormal", "\\mathsfit", "\\mathbb", "\\mathcal", "\\mathfrak", "\\mathscr", "\\mathsf", "\\mathtt", "\\Bbb", "\\bold", "\\frak"],
    props: {
        numArgs: 1,
        allowedInArgument: !0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = xl(t[0]), s = r;
        return s in ip && (s = ip[s]), {
            type: "font",
            mode: n.mode,
            font: s.slice(1),
            body: i
        }
    },
    htmlBuilder: Z5,
    mathmlBuilder: Q5
});
me({
    type: "mclass",
    names: ["\\boldsymbol", "\\bm"],
    props: {
        numArgs: 1
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[0], i = Ee.isCharacterBox(r);
        return {
            type: "mclass",
            mode: n.mode,
            mclass: ic(r),
            body: [{
                type: "font",
                mode: n.mode,
                font: "boldsymbol",
                body: r
            }],
            isCharacterBox: i
        }
    }
});
me({
    type: "font",
    names: ["\\rm", "\\sf", "\\tt", "\\bf", "\\it", "\\cal"],
    props: {
        numArgs: 0,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r,
            breakOnTokenText: i
        } = e, {
            mode: s
        } = n, a = n.parseExpression(!0, i), o = "math" + r.slice(1);
        return {
            type: "font",
            mode: s,
            font: o,
            body: {
                type: "ordgroup",
                mode: n.mode,
                body: a
            }
        }
    },
    htmlBuilder: Z5,
    mathmlBuilder: Q5
});
var J5 = (e, t) => {
        var n = t;
        return e === "display" ? n = n.id >= Ae.SCRIPT.id ? n.text() : Ae.DISPLAY : e === "text" && n.size === Ae.DISPLAY.size ? n = Ae.TEXT : e === "script" ? n = Ae.SCRIPT : e === "scriptscript" && (n = Ae.SCRIPTSCRIPT), n
    },
    tf = (e, t) => {
        var n = J5(e.size, t.style),
            r = n.fracNum(),
            i = n.fracDen(),
            s;
        s = t.havingStyle(r);
        var a = et(e.numer, s, t);
        if (e.continued) {
            var o = 8.5 / t.fontMetrics().ptPerEm,
                c = 3.5 / t.fontMetrics().ptPerEm;
            a.height = a.height < o ? o : a.height, a.depth = a.depth < c ? c : a.depth
        }
        s = t.havingStyle(i);
        var u = et(e.denom, s, t),
            d, f, m;
        e.hasBarLine ? (e.barSize ? (f = Et(e.barSize, t), d = q.makeLineSpan("frac-line", t, f)) : d = q.makeLineSpan("frac-line", t), f = d.height, m = d.height) : (d = null, f = 0, m = t.fontMetrics().defaultRuleThickness);
        var p, g, x;
        n.size === Ae.DISPLAY.size || e.size === "display" ? (p = t.fontMetrics().num1, f > 0 ? g = 3 * m : g = 7 * m, x = t.fontMetrics().denom1) : (f > 0 ? (p = t.fontMetrics().num2, g = m) : (p = t.fontMetrics().num3, g = 3 * m), x = t.fontMetrics().denom2);
        var y;
        if (d) {
            var w = t.fontMetrics().axisHeight;
            p - a.depth - (w + .5 * f) < g && (p += g - (p - a.depth - (w + .5 * f))), w - .5 * f - (u.height - x) < g && (x += g - (w - .5 * f - (u.height - x)));
            var C = -(w - .5 * f);
            y = q.makeVList({
                positionType: "individualShift",
                children: [{
                    type: "elem",
                    elem: u,
                    shift: x
                }, {
                    type: "elem",
                    elem: d,
                    shift: C
                }, {
                    type: "elem",
                    elem: a,
                    shift: -p
                }]
            }, t)
        } else {
            var b = p - a.depth - (u.height - x);
            b < g && (p += .5 * (g - b), x += .5 * (g - b)), y = q.makeVList({
                positionType: "individualShift",
                children: [{
                    type: "elem",
                    elem: u,
                    shift: x
                }, {
                    type: "elem",
                    elem: a,
                    shift: -p
                }]
            }, t)
        }
        s = t.havingStyle(n), y.height *= s.sizeMultiplier / t.sizeMultiplier, y.depth *= s.sizeMultiplier / t.sizeMultiplier;
        var E;
        n.size === Ae.DISPLAY.size ? E = t.fontMetrics().delim1 : n.size === Ae.SCRIPTSCRIPT.size ? E = t.havingStyle(Ae.SCRIPT).fontMetrics().delim2 : E = t.fontMetrics().delim2;
        var A, N;
        return e.leftDelim == null ? A = Fa(t, ["mopen"]) : A = Kr.customSizedDelim(e.leftDelim, E, !0, t.havingStyle(n), e.mode, ["mopen"]), e.continued ? N = q.makeSpan([]) : e.rightDelim == null ? N = Fa(t, ["mclose"]) : N = Kr.customSizedDelim(e.rightDelim, E, !0, t.havingStyle(n), e.mode, ["mclose"]), q.makeSpan(["mord"].concat(s.sizingClasses(t)), [A, q.makeSpan(["mfrac"], [y]), N], t)
    },
    nf = (e, t) => {
        var n = new te.MathNode("mfrac", [ft(e.numer, t), ft(e.denom, t)]);
        if (!e.hasBarLine) n.setAttribute("linethickness", "0px");
        else if (e.barSize) {
            var r = Et(e.barSize, t);
            n.setAttribute("linethickness", oe(r))
        }
        var i = J5(e.size, t.style);
        if (i.size !== t.style.size) {
            n = new te.MathNode("mstyle", [n]);
            var s = i.size === Ae.DISPLAY.size ? "true" : "false";
            n.setAttribute("displaystyle", s), n.setAttribute("scriptlevel", "0")
        }
        if (e.leftDelim != null || e.rightDelim != null) {
            var a = [];
            if (e.leftDelim != null) {
                var o = new te.MathNode("mo", [new te.TextNode(e.leftDelim.replace("\\", ""))]);
                o.setAttribute("fence", "true"), a.push(o)
            }
            if (a.push(n), e.rightDelim != null) {
                var c = new te.MathNode("mo", [new te.TextNode(e.rightDelim.replace("\\", ""))]);
                c.setAttribute("fence", "true"), a.push(c)
            }
            return qd(a)
        }
        return n
    };
me({
    type: "genfrac",
    names: ["\\dfrac", "\\frac", "\\tfrac", "\\dbinom", "\\binom", "\\tbinom", "\\\\atopfrac", "\\\\bracefrac", "\\\\brackfrac"],
    props: {
        numArgs: 2,
        allowedInArgument: !0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0], s = t[1], a, o = null, c = null, u = "auto";
        switch (r) {
            case "\\dfrac":
            case "\\frac":
            case "\\tfrac":
                a = !0;
                break;
            case "\\\\atopfrac":
                a = !1;
                break;
            case "\\dbinom":
            case "\\binom":
            case "\\tbinom":
                a = !1, o = "(", c = ")";
                break;
            case "\\\\bracefrac":
                a = !1, o = "\\{", c = "\\}";
                break;
            case "\\\\brackfrac":
                a = !1, o = "[", c = "]";
                break;
            default:
                throw new Error("Unrecognized genfrac command")
        }
        switch (r) {
            case "\\dfrac":
            case "\\dbinom":
                u = "display";
                break;
            case "\\tfrac":
            case "\\tbinom":
                u = "text";
                break
        }
        return {
            type: "genfrac",
            mode: n.mode,
            continued: !1,
            numer: i,
            denom: s,
            hasBarLine: a,
            leftDelim: o,
            rightDelim: c,
            size: u,
            barSize: null
        }
    },
    htmlBuilder: tf,
    mathmlBuilder: nf
});
me({
    type: "genfrac",
    names: ["\\cfrac"],
    props: {
        numArgs: 2
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0], s = t[1];
        return {
            type: "genfrac",
            mode: n.mode,
            continued: !0,
            numer: i,
            denom: s,
            hasBarLine: !0,
            leftDelim: null,
            rightDelim: null,
            size: "display",
            barSize: null
        }
    }
});
me({
    type: "infix",
    names: ["\\over", "\\choose", "\\atop", "\\brace", "\\brack"],
    props: {
        numArgs: 0,
        infix: !0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n,
            token: r
        } = e, i;
        switch (n) {
            case "\\over":
                i = "\\frac";
                break;
            case "\\choose":
                i = "\\binom";
                break;
            case "\\atop":
                i = "\\\\atopfrac";
                break;
            case "\\brace":
                i = "\\\\bracefrac";
                break;
            case "\\brack":
                i = "\\\\brackfrac";
                break;
            default:
                throw new Error("Unrecognized infix genfrac command")
        }
        return {
            type: "infix",
            mode: t.mode,
            replaceWith: i,
            token: r
        }
    }
});
var sp = ["display", "text", "script", "scriptscript"],
    ap = function(t) {
        var n = null;
        return t.length > 0 && (n = t, n = n === "." ? null : n), n
    };
me({
    type: "genfrac",
    names: ["\\genfrac"],
    props: {
        numArgs: 6,
        allowedInArgument: !0,
        argTypes: ["math", "math", "size", "text", "math", "math"]
    },
    handler(e, t) {
        var {
            parser: n
        } = e, r = t[4], i = t[5], s = xl(t[0]), a = s.type === "atom" && s.family === "open" ? ap(s.text) : null, o = xl(t[1]), c = o.type === "atom" && o.family === "close" ? ap(o.text) : null, u = $e(t[2], "size"), d, f = null;
        u.isBlank ? d = !0 : (f = u.value, d = f.number > 0);
        var m = "auto",
            p = t[3];
        if (p.type === "ordgroup") {
            if (p.body.length > 0) {
                var g = $e(p.body[0], "textord");
                m = sp[Number(g.text)]
            }
        } else p = $e(p, "textord"), m = sp[Number(p.text)];
        return {
            type: "genfrac",
            mode: n.mode,
            numer: r,
            denom: i,
            continued: !1,
            hasBarLine: d,
            barSize: f,
            leftDelim: a,
            rightDelim: c,
            size: m
        }
    },
    htmlBuilder: tf,
    mathmlBuilder: nf
});
me({
    type: "infix",
    names: ["\\above"],
    props: {
        numArgs: 1,
        argTypes: ["size"],
        infix: !0
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r,
            token: i
        } = e;
        return {
            type: "infix",
            mode: n.mode,
            replaceWith: "\\\\abovefrac",
            size: $e(t[0], "size").value,
            token: i
        }
    }
});
me({
    type: "genfrac",
    names: ["\\\\abovefrac"],
    props: {
        numArgs: 3,
        argTypes: ["math", "size", "math"]
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0], s = RE($e(t[1], "infix").size), a = t[2], o = s.number > 0;
        return {
            type: "genfrac",
            mode: n.mode,
            numer: i,
            denom: a,
            continued: !1,
            hasBarLine: o,
            barSize: s,
            leftDelim: null,
            rightDelim: null,
            size: "auto"
        }
    },
    htmlBuilder: tf,
    mathmlBuilder: nf
});
var e4 = (e, t) => {
        var n = t.style,
            r, i;
        e.type === "supsub" ? (r = e.sup ? et(e.sup, t.havingStyle(n.sup()), t) : et(e.sub, t.havingStyle(n.sub()), t), i = $e(e.base, "horizBrace")) : i = $e(e, "horizBrace");
        var s = et(i.base, t.havingBaseStyle(Ae.DISPLAY)),
            a = Jr.svgSpan(i, t),
            o;
        if (i.isOver ? (o = q.makeVList({
                positionType: "firstBaseline",
                children: [{
                    type: "elem",
                    elem: s
                }, {
                    type: "kern",
                    size: .1
                }, {
                    type: "elem",
                    elem: a
                }]
            }, t), o.children[0].children[0].children[1].classes.push("svg-align")) : (o = q.makeVList({
                positionType: "bottom",
                positionData: s.depth + .1 + a.height,
                children: [{
                    type: "elem",
                    elem: a
                }, {
                    type: "kern",
                    size: .1
                }, {
                    type: "elem",
                    elem: s
                }]
            }, t), o.children[0].children[0].children[0].classes.push("svg-align")), r) {
            var c = q.makeSpan(["mord", i.isOver ? "mover" : "munder"], [o], t);
            i.isOver ? o = q.makeVList({
                positionType: "firstBaseline",
                children: [{
                    type: "elem",
                    elem: c
                }, {
                    type: "kern",
                    size: .2
                }, {
                    type: "elem",
                    elem: r
                }]
            }, t) : o = q.makeVList({
                positionType: "bottom",
                positionData: c.depth + .2 + r.height + r.depth,
                children: [{
                    type: "elem",
                    elem: r
                }, {
                    type: "kern",
                    size: .2
                }, {
                    type: "elem",
                    elem: c
                }]
            }, t)
        }
        return q.makeSpan(["mord", i.isOver ? "mover" : "munder"], [o], t)
    },
    rA = (e, t) => {
        var n = Jr.mathMLnode(e.label);
        return new te.MathNode(e.isOver ? "mover" : "munder", [ft(e.base, t), n])
    };
me({
    type: "horizBrace",
    names: ["\\overbrace", "\\underbrace"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e;
        return {
            type: "horizBrace",
            mode: n.mode,
            label: r,
            isOver: /^\\over/.test(r),
            base: t[0]
        }
    },
    htmlBuilder: e4,
    mathmlBuilder: rA
});
me({
    type: "href",
    names: ["\\href"],
    props: {
        numArgs: 2,
        argTypes: ["url", "original"],
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[1], i = $e(t[0], "url").url;
        return n.settings.isTrusted({
            command: "\\href",
            url: i
        }) ? {
            type: "href",
            mode: n.mode,
            href: i,
            body: Rt(r)
        } : n.formatUnsupportedCmd("\\href")
    },
    htmlBuilder: (e, t) => {
        var n = Vt(e.body, t, !1);
        return q.makeAnchor(e.href, [], n, t)
    },
    mathmlBuilder: (e, t) => {
        var n = bi(e.body, t);
        return n instanceof Ln || (n = new Ln("mrow", [n])), n.setAttribute("href", e.href), n
    }
});
me({
    type: "href",
    names: ["\\url"],
    props: {
        numArgs: 1,
        argTypes: ["url"],
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = $e(t[0], "url").url;
        if (!n.settings.isTrusted({
                command: "\\url",
                url: r
            })) return n.formatUnsupportedCmd("\\url");
        for (var i = [], s = 0; s < r.length; s++) {
            var a = r[s];
            a === "~" && (a = "\\textasciitilde"), i.push({
                type: "textord",
                mode: "text",
                text: a
            })
        }
        var o = {
            type: "text",
            mode: n.mode,
            font: "\\texttt",
            body: i
        };
        return {
            type: "href",
            mode: n.mode,
            href: r,
            body: Rt(o)
        }
    }
});
me({
    type: "hbox",
    names: ["\\hbox"],
    props: {
        numArgs: 1,
        argTypes: ["text"],
        allowedInText: !0,
        primitive: !0
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "hbox",
            mode: n.mode,
            body: Rt(t[0])
        }
    },
    htmlBuilder(e, t) {
        var n = Vt(e.body, t, !1);
        return q.makeFragment(n)
    },
    mathmlBuilder(e, t) {
        return new te.MathNode("mrow", In(e.body, t))
    }
});
me({
    type: "html",
    names: ["\\htmlClass", "\\htmlId", "\\htmlStyle", "\\htmlData"],
    props: {
        numArgs: 2,
        argTypes: ["raw", "original"],
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r,
            token: i
        } = e, s = $e(t[0], "raw").string, a = t[1];
        n.settings.strict && n.settings.reportNonstrict("htmlExtension", "HTML extension is disabled on strict mode");
        var o, c = {};
        switch (r) {
            case "\\htmlClass":
                c.class = s, o = {
                    command: "\\htmlClass",
                    class: s
                };
                break;
            case "\\htmlId":
                c.id = s, o = {
                    command: "\\htmlId",
                    id: s
                };
                break;
            case "\\htmlStyle":
                c.style = s, o = {
                    command: "\\htmlStyle",
                    style: s
                };
                break;
            case "\\htmlData": {
                for (var u = s.split(","), d = 0; d < u.length; d++) {
                    var f = u[d].split("=");
                    if (f.length !== 2) throw new ne("Error parsing key-value for \\htmlData");
                    c["data-" + f[0].trim()] = f[1].trim()
                }
                o = {
                    command: "\\htmlData",
                    attributes: c
                };
                break
            }
            default:
                throw new Error("Unrecognized html command")
        }
        return n.settings.isTrusted(o) ? {
            type: "html",
            mode: n.mode,
            attributes: c,
            body: Rt(a)
        } : n.formatUnsupportedCmd(r)
    },
    htmlBuilder: (e, t) => {
        var n = Vt(e.body, t, !1),
            r = ["enclosing"];
        e.attributes.class && r.push(...e.attributes.class.trim().split(/\s+/));
        var i = q.makeSpan(r, n, t);
        for (var s in e.attributes) s !== "class" && e.attributes.hasOwnProperty(s) && i.setAttribute(s, e.attributes[s]);
        return i
    },
    mathmlBuilder: (e, t) => bi(e.body, t)
});
me({
    type: "htmlmathml",
    names: ["\\html@mathml"],
    props: {
        numArgs: 2,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e;
        return {
            type: "htmlmathml",
            mode: n.mode,
            html: Rt(t[0]),
            mathml: Rt(t[1])
        }
    },
    htmlBuilder: (e, t) => {
        var n = Vt(e.html, t, !1);
        return q.makeFragment(n)
    },
    mathmlBuilder: (e, t) => bi(e.mathml, t)
});
var tu = function(t) {
    if (/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t)) return {
        number: +t,
        unit: "bp"
    };
    var n = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);
    if (!n) throw new ne("Invalid size: '" + t + "' in \\includegraphics");
    var r = {
        number: +(n[1] + n[2]),
        unit: n[3]
    };
    if (!b5(r)) throw new ne("Invalid unit: '" + r.unit + "' in \\includegraphics.");
    return r
};
me({
    type: "includegraphics",
    names: ["\\includegraphics"],
    props: {
        numArgs: 1,
        numOptionalArgs: 1,
        argTypes: ["raw", "url"],
        allowedInText: !1
    },
    handler: (e, t, n) => {
        var {
            parser: r
        } = e, i = {
            number: 0,
            unit: "em"
        }, s = {
            number: .9,
            unit: "em"
        }, a = {
            number: 0,
            unit: "em"
        }, o = "";
        if (n[0])
            for (var c = $e(n[0], "raw").string, u = c.split(","), d = 0; d < u.length; d++) {
                var f = u[d].split("=");
                if (f.length === 2) {
                    var m = f[1].trim();
                    switch (f[0].trim()) {
                        case "alt":
                            o = m;
                            break;
                        case "width":
                            i = tu(m);
                            break;
                        case "height":
                            s = tu(m);
                            break;
                        case "totalheight":
                            a = tu(m);
                            break;
                        default:
                            throw new ne("Invalid key: '" + f[0] + "' in \\includegraphics.")
                    }
                }
            }
        var p = $e(t[0], "url").url;
        return o === "" && (o = p, o = o.replace(/^.*[\\/]/, ""), o = o.substring(0, o.lastIndexOf("."))), r.settings.isTrusted({
            command: "\\includegraphics",
            url: p
        }) ? {
            type: "includegraphics",
            mode: r.mode,
            alt: o,
            width: i,
            height: s,
            totalheight: a,
            src: p
        } : r.formatUnsupportedCmd("\\includegraphics")
    },
    htmlBuilder: (e, t) => {
        var n = Et(e.height, t),
            r = 0;
        e.totalheight.number > 0 && (r = Et(e.totalheight, t) - n);
        var i = 0;
        e.width.number > 0 && (i = Et(e.width, t));
        var s = {
            height: oe(n + r)
        };
        i > 0 && (s.width = oe(i)), r > 0 && (s.verticalAlign = oe(-r));
        var a = new rN(e.src, e.alt, s);
        return a.height = n, a.depth = r, a
    },
    mathmlBuilder: (e, t) => {
        var n = new te.MathNode("mglyph", []);
        n.setAttribute("alt", e.alt);
        var r = Et(e.height, t),
            i = 0;
        if (e.totalheight.number > 0 && (i = Et(e.totalheight, t) - r, n.setAttribute("valign", oe(-i))), n.setAttribute("height", oe(r + i)), e.width.number > 0) {
            var s = Et(e.width, t);
            n.setAttribute("width", oe(s))
        }
        return n.setAttribute("src", e.src), n
    }
});
me({
    type: "kern",
    names: ["\\kern", "\\mkern", "\\hskip", "\\mskip"],
    props: {
        numArgs: 1,
        argTypes: ["size"],
        primitive: !0,
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = $e(t[0], "size");
        if (n.settings.strict) {
            var s = r[1] === "m",
                a = i.value.unit === "mu";
            s ? (a || n.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + r + " supports only mu units, " + ("not " + i.value.unit + " units")), n.mode !== "math" && n.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + r + " works only in math mode")) : a && n.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + r + " doesn't support mu units")
        }
        return {
            type: "kern",
            mode: n.mode,
            dimension: i.value
        }
    },
    htmlBuilder(e, t) {
        return q.makeGlue(e.dimension, t)
    },
    mathmlBuilder(e, t) {
        var n = Et(e.dimension, t);
        return new te.SpaceNode(n)
    }
});
me({
    type: "lap",
    names: ["\\mathllap", "\\mathrlap", "\\mathclap"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "lap",
            mode: n.mode,
            alignment: r.slice(5),
            body: i
        }
    },
    htmlBuilder: (e, t) => {
        var n;
        e.alignment === "clap" ? (n = q.makeSpan([], [et(e.body, t)]), n = q.makeSpan(["inner"], [n], t)) : n = q.makeSpan(["inner"], [et(e.body, t)]);
        var r = q.makeSpan(["fix"], []),
            i = q.makeSpan([e.alignment], [n, r], t),
            s = q.makeSpan(["strut"]);
        return s.style.height = oe(i.height + i.depth), i.depth && (s.style.verticalAlign = oe(-i.depth)), i.children.unshift(s), i = q.makeSpan(["thinbox"], [i], t), q.makeSpan(["mord", "vbox"], [i], t)
    },
    mathmlBuilder: (e, t) => {
        var n = new te.MathNode("mpadded", [ft(e.body, t)]);
        if (e.alignment !== "rlap") {
            var r = e.alignment === "llap" ? "-1" : "-0.5";
            n.setAttribute("lspace", r + "width")
        }
        return n.setAttribute("width", "0px"), n
    }
});
me({
    type: "styling",
    names: ["\\(", "$"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        allowedInMath: !1
    },
    handler(e, t) {
        var {
            funcName: n,
            parser: r
        } = e, i = r.mode;
        r.switchMode("math");
        var s = n === "\\(" ? "\\)" : "$",
            a = r.parseExpression(!1, s);
        return r.expect(s), r.switchMode(i), {
            type: "styling",
            mode: r.mode,
            style: "text",
            body: a
        }
    }
});
me({
    type: "text",
    names: ["\\)", "\\]"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        allowedInMath: !1
    },
    handler(e, t) {
        throw new ne("Mismatched " + e.funcName)
    }
});
var op = (e, t) => {
    switch (t.style.size) {
        case Ae.DISPLAY.size:
            return e.display;
        case Ae.TEXT.size:
            return e.text;
        case Ae.SCRIPT.size:
            return e.script;
        case Ae.SCRIPTSCRIPT.size:
            return e.scriptscript;
        default:
            return e.text
    }
};
me({
    type: "mathchoice",
    names: ["\\mathchoice"],
    props: {
        numArgs: 4,
        primitive: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e;
        return {
            type: "mathchoice",
            mode: n.mode,
            display: Rt(t[0]),
            text: Rt(t[1]),
            script: Rt(t[2]),
            scriptscript: Rt(t[3])
        }
    },
    htmlBuilder: (e, t) => {
        var n = op(e, t),
            r = Vt(n, t, !1);
        return q.makeFragment(r)
    },
    mathmlBuilder: (e, t) => {
        var n = op(e, t);
        return bi(n, t)
    }
});
var t4 = (e, t, n, r, i, s, a) => {
        e = q.makeSpan([], [e]);
        var o = n && Ee.isCharacterBox(n),
            c, u;
        if (t) {
            var d = et(t, r.havingStyle(i.sup()), r);
            u = {
                elem: d,
                kern: Math.max(r.fontMetrics().bigOpSpacing1, r.fontMetrics().bigOpSpacing3 - d.depth)
            }
        }
        if (n) {
            var f = et(n, r.havingStyle(i.sub()), r);
            c = {
                elem: f,
                kern: Math.max(r.fontMetrics().bigOpSpacing2, r.fontMetrics().bigOpSpacing4 - f.height)
            }
        }
        var m;
        if (u && c) {
            var p = r.fontMetrics().bigOpSpacing5 + c.elem.height + c.elem.depth + c.kern + e.depth + a;
            m = q.makeVList({
                positionType: "bottom",
                positionData: p,
                children: [{
                    type: "kern",
                    size: r.fontMetrics().bigOpSpacing5
                }, {
                    type: "elem",
                    elem: c.elem,
                    marginLeft: oe(-s)
                }, {
                    type: "kern",
                    size: c.kern
                }, {
                    type: "elem",
                    elem: e
                }, {
                    type: "kern",
                    size: u.kern
                }, {
                    type: "elem",
                    elem: u.elem,
                    marginLeft: oe(s)
                }, {
                    type: "kern",
                    size: r.fontMetrics().bigOpSpacing5
                }]
            }, r)
        } else if (c) {
            var g = e.height - a;
            m = q.makeVList({
                positionType: "top",
                positionData: g,
                children: [{
                    type: "kern",
                    size: r.fontMetrics().bigOpSpacing5
                }, {
                    type: "elem",
                    elem: c.elem,
                    marginLeft: oe(-s)
                }, {
                    type: "kern",
                    size: c.kern
                }, {
                    type: "elem",
                    elem: e
                }]
            }, r)
        } else if (u) {
            var x = e.depth + a;
            m = q.makeVList({
                positionType: "bottom",
                positionData: x,
                children: [{
                    type: "elem",
                    elem: e
                }, {
                    type: "kern",
                    size: u.kern
                }, {
                    type: "elem",
                    elem: u.elem,
                    marginLeft: oe(s)
                }, {
                    type: "kern",
                    size: r.fontMetrics().bigOpSpacing5
                }]
            }, r)
        } else return e;
        var y = [m];
        if (c && s !== 0 && !o) {
            var b = q.makeSpan(["mspace"], [], r);
            b.style.marginRight = oe(s), y.unshift(b)
        }
        return q.makeSpan(["mop", "op-limits"], y, r)
    },
    n4 = ["\\smallint"],
    Ks = (e, t) => {
        var n, r, i = !1,
            s;
        e.type === "supsub" ? (n = e.sup, r = e.sub, s = $e(e.base, "op"), i = !0) : s = $e(e, "op");
        var a = t.style,
            o = !1;
        a.size === Ae.DISPLAY.size && s.symbol && !Ee.contains(n4, s.name) && (o = !0);
        var c;
        if (s.symbol) {
            var u = o ? "Size2-Regular" : "Size1-Regular",
                d = "";
            if ((s.name === "\\oiint" || s.name === "\\oiiint") && (d = s.name.slice(1), s.name = d === "oiint" ? "\\iint" : "\\iiint"), c = q.makeSymbol(s.name, u, "math", t, ["mop", "op-symbol", o ? "large-op" : "small-op"]), d.length > 0) {
                var f = c.italic,
                    m = q.staticSvg(d + "Size" + (o ? "2" : "1"), t);
                c = q.makeVList({
                    positionType: "individualShift",
                    children: [{
                        type: "elem",
                        elem: c,
                        shift: 0
                    }, {
                        type: "elem",
                        elem: m,
                        shift: o ? .08 : 0
                    }]
                }, t), s.name = "\\" + d, c.classes.unshift("mop"), c.italic = f
            }
        } else if (s.body) {
            var p = Vt(s.body, t, !0);
            p.length === 1 && p[0] instanceof Zn ? (c = p[0], c.classes[0] = "mop") : c = q.makeSpan(["mop"], p, t)
        } else {
            for (var g = [], x = 1; x < s.name.length; x++) g.push(q.mathsym(s.name[x], s.mode, t));
            c = q.makeSpan(["mop"], g, t)
        }
        var y = 0,
            b = 0;
        return (c instanceof Zn || s.name === "\\oiint" || s.name === "\\oiiint") && !s.suppressBaseShift && (y = (c.height - c.depth) / 2 - t.fontMetrics().axisHeight, b = c.italic), i ? t4(c, n, r, t, a, b, y) : (y && (c.style.position = "relative", c.style.top = oe(y)), c)
    },
    so = (e, t) => {
        var n;
        if (e.symbol) n = new Ln("mo", [Qn(e.name, e.mode)]), Ee.contains(n4, e.name) && n.setAttribute("largeop", "false");
        else if (e.body) n = new Ln("mo", In(e.body, t));
        else {
            n = new Ln("mi", [new kr(e.name.slice(1))]);
            var r = new Ln("mo", [Qn("", "text")]);
            e.parentIsSupSub ? n = new Ln("mrow", [n, r]) : n = j5([n, r])
        }
        return n
    },
    iA = {
        "": "\\prod",
        "": "\\coprod",
        "": "\\sum",
        "": "\\bigwedge",
        "": "\\bigvee",
        "": "\\bigcap",
        "": "\\bigcup",
        "": "\\bigodot",
        "": "\\bigoplus",
        "": "\\bigotimes",
        "": "\\biguplus",
        "": "\\bigsqcup"
    };
me({
    type: "op",
    names: ["\\coprod", "\\bigvee", "\\bigwedge", "\\biguplus", "\\bigcap", "\\bigcup", "\\intop", "\\prod", "\\sum", "\\bigotimes", "\\bigoplus", "\\bigodot", "\\bigsqcup", "\\smallint", "", "", "", "", "", "", "", "", "", "", "", ""],
    props: {
        numArgs: 0
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = r;
        return i.length === 1 && (i = iA[i]), {
            type: "op",
            mode: n.mode,
            limits: !0,
            parentIsSupSub: !1,
            symbol: !0,
            name: i
        }
    },
    htmlBuilder: Ks,
    mathmlBuilder: so
});
me({
    type: "op",
    names: ["\\mathop"],
    props: {
        numArgs: 1,
        primitive: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[0];
        return {
            type: "op",
            mode: n.mode,
            limits: !1,
            parentIsSupSub: !1,
            symbol: !1,
            body: Rt(r)
        }
    },
    htmlBuilder: Ks,
    mathmlBuilder: so
});
var sA = {
    "": "\\int",
    "": "\\iint",
    "": "\\iiint",
    "": "\\oint",
    "": "\\oiint",
    "": "\\oiiint"
};
me({
    type: "op",
    names: ["\\arcsin", "\\arccos", "\\arctan", "\\arctg", "\\arcctg", "\\arg", "\\ch", "\\cos", "\\cosec", "\\cosh", "\\cot", "\\cotg", "\\coth", "\\csc", "\\ctg", "\\cth", "\\deg", "\\dim", "\\exp", "\\hom", "\\ker", "\\lg", "\\ln", "\\log", "\\sec", "\\sin", "\\sinh", "\\sh", "\\tan", "\\tanh", "\\tg", "\\th"],
    props: {
        numArgs: 0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e;
        return {
            type: "op",
            mode: t.mode,
            limits: !1,
            parentIsSupSub: !1,
            symbol: !1,
            name: n
        }
    },
    htmlBuilder: Ks,
    mathmlBuilder: so
});
me({
    type: "op",
    names: ["\\det", "\\gcd", "\\inf", "\\lim", "\\max", "\\min", "\\Pr", "\\sup"],
    props: {
        numArgs: 0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e;
        return {
            type: "op",
            mode: t.mode,
            limits: !0,
            parentIsSupSub: !1,
            symbol: !1,
            name: n
        }
    },
    htmlBuilder: Ks,
    mathmlBuilder: so
});
me({
    type: "op",
    names: ["\\int", "\\iint", "\\iiint", "\\oint", "\\oiint", "\\oiiint", "", "", "", "", "", ""],
    props: {
        numArgs: 0
    },
    handler(e) {
        var {
            parser: t,
            funcName: n
        } = e, r = n;
        return r.length === 1 && (r = sA[r]), {
            type: "op",
            mode: t.mode,
            limits: !1,
            parentIsSupSub: !1,
            symbol: !0,
            name: r
        }
    },
    htmlBuilder: Ks,
    mathmlBuilder: so
});
var r4 = (e, t) => {
        var n, r, i = !1,
            s;
        e.type === "supsub" ? (n = e.sup, r = e.sub, s = $e(e.base, "operatorname"), i = !0) : s = $e(e, "operatorname");
        var a;
        if (s.body.length > 0) {
            for (var o = s.body.map(f => {
                    var m = f.text;
                    return typeof m == "string" ? {
                        type: "textord",
                        mode: f.mode,
                        text: m
                    } : f
                }), c = Vt(o, t.withFont("mathrm"), !0), u = 0; u < c.length; u++) {
                var d = c[u];
                d instanceof Zn && (d.text = d.text.replace(/\u2212/, "-").replace(/\u2217/, "*"))
            }
            a = q.makeSpan(["mop"], c, t)
        } else a = q.makeSpan(["mop"], [], t);
        return i ? t4(a, n, r, t, t.style, 0, 0) : a
    },
    aA = (e, t) => {
        for (var n = In(e.body, t.withFont("mathrm")), r = !0, i = 0; i < n.length; i++) {
            var s = n[i];
            if (!(s instanceof te.SpaceNode))
                if (s instanceof te.MathNode) switch (s.type) {
                    case "mi":
                    case "mn":
                    case "ms":
                    case "mspace":
                    case "mtext":
                        break;
                    case "mo": {
                        var a = s.children[0];
                        s.children.length === 1 && a instanceof te.TextNode ? a.text = a.text.replace(/\u2212/, "-").replace(/\u2217/, "*") : r = !1;
                        break
                    }
                    default:
                        r = !1
                } else r = !1
        }
        if (r) {
            var o = n.map(d => d.toText()).join("");
            n = [new te.TextNode(o)]
        }
        var c = new te.MathNode("mi", n);
        c.setAttribute("mathvariant", "normal");
        var u = new te.MathNode("mo", [Qn("", "text")]);
        return e.parentIsSupSub ? new te.MathNode("mrow", [c, u]) : te.newDocumentFragment([c, u])
    };
me({
    type: "operatorname",
    names: ["\\operatorname@", "\\operatornamewithlimits"],
    props: {
        numArgs: 1
    },
    handler: (e, t) => {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "operatorname",
            mode: n.mode,
            body: Rt(i),
            alwaysHandleSupSub: r === "\\operatornamewithlimits",
            limits: !1,
            parentIsSupSub: !1
        }
    },
    htmlBuilder: r4,
    mathmlBuilder: aA
});
T("\\operatorname", "\\@ifstar\\operatornamewithlimits\\operatorname@");
is({
    type: "ordgroup",
    htmlBuilder(e, t) {
        return e.semisimple ? q.makeFragment(Vt(e.body, t, !1)) : q.makeSpan(["mord"], Vt(e.body, t, !0), t)
    },
    mathmlBuilder(e, t) {
        return bi(e.body, t, !0)
    }
});
me({
    type: "overline",
    names: ["\\overline"],
    props: {
        numArgs: 1
    },
    handler(e, t) {
        var {
            parser: n
        } = e, r = t[0];
        return {
            type: "overline",
            mode: n.mode,
            body: r
        }
    },
    htmlBuilder(e, t) {
        var n = et(e.body, t.havingCrampedStyle()),
            r = q.makeLineSpan("overline-line", t),
            i = t.fontMetrics().defaultRuleThickness,
            s = q.makeVList({
                positionType: "firstBaseline",
                children: [{
                    type: "elem",
                    elem: n
                }, {
                    type: "kern",
                    size: 3 * i
                }, {
                    type: "elem",
                    elem: r
                }, {
                    type: "kern",
                    size: i
                }]
            }, t);
        return q.makeSpan(["mord", "overline"], [s], t)
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mo", [new te.TextNode("")]);
        n.setAttribute("stretchy", "true");
        var r = new te.MathNode("mover", [ft(e.body, t), n]);
        return r.setAttribute("accent", "true"), r
    }
});
me({
    type: "phantom",
    names: ["\\phantom"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[0];
        return {
            type: "phantom",
            mode: n.mode,
            body: Rt(r)
        }
    },
    htmlBuilder: (e, t) => {
        var n = Vt(e.body, t.withPhantom(), !1);
        return q.makeFragment(n)
    },
    mathmlBuilder: (e, t) => {
        var n = In(e.body, t);
        return new te.MathNode("mphantom", n)
    }
});
me({
    type: "hphantom",
    names: ["\\hphantom"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[0];
        return {
            type: "hphantom",
            mode: n.mode,
            body: r
        }
    },
    htmlBuilder: (e, t) => {
        var n = q.makeSpan([], [et(e.body, t.withPhantom())]);
        if (n.height = 0, n.depth = 0, n.children)
            for (var r = 0; r < n.children.length; r++) n.children[r].height = 0, n.children[r].depth = 0;
        return n = q.makeVList({
            positionType: "firstBaseline",
            children: [{
                type: "elem",
                elem: n
            }]
        }, t), q.makeSpan(["mord"], [n], t)
    },
    mathmlBuilder: (e, t) => {
        var n = In(Rt(e.body), t),
            r = new te.MathNode("mphantom", n),
            i = new te.MathNode("mpadded", [r]);
        return i.setAttribute("height", "0px"), i.setAttribute("depth", "0px"), i
    }
});
me({
    type: "vphantom",
    names: ["\\vphantom"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            parser: n
        } = e, r = t[0];
        return {
            type: "vphantom",
            mode: n.mode,
            body: r
        }
    },
    htmlBuilder: (e, t) => {
        var n = q.makeSpan(["inner"], [et(e.body, t.withPhantom())]),
            r = q.makeSpan(["fix"], []);
        return q.makeSpan(["mord", "rlap"], [n, r], t)
    },
    mathmlBuilder: (e, t) => {
        var n = In(Rt(e.body), t),
            r = new te.MathNode("mphantom", n),
            i = new te.MathNode("mpadded", [r]);
        return i.setAttribute("width", "0px"), i
    }
});
me({
    type: "raisebox",
    names: ["\\raisebox"],
    props: {
        numArgs: 2,
        argTypes: ["size", "hbox"],
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n
        } = e, r = $e(t[0], "size").value, i = t[1];
        return {
            type: "raisebox",
            mode: n.mode,
            dy: r,
            body: i
        }
    },
    htmlBuilder(e, t) {
        var n = et(e.body, t),
            r = Et(e.dy, t);
        return q.makeVList({
            positionType: "shift",
            positionData: -r,
            children: [{
                type: "elem",
                elem: n
            }]
        }, t)
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mpadded", [ft(e.body, t)]),
            r = e.dy.number + e.dy.unit;
        return n.setAttribute("voffset", r), n
    }
});
me({
    type: "internal",
    names: ["\\relax"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        allowedInArgument: !0
    },
    handler(e) {
        var {
            parser: t
        } = e;
        return {
            type: "internal",
            mode: t.mode
        }
    }
});
me({
    type: "rule",
    names: ["\\rule"],
    props: {
        numArgs: 2,
        numOptionalArgs: 1,
        allowedInText: !0,
        allowedInMath: !0,
        argTypes: ["size", "size", "size"]
    },
    handler(e, t, n) {
        var {
            parser: r
        } = e, i = n[0], s = $e(t[0], "size"), a = $e(t[1], "size");
        return {
            type: "rule",
            mode: r.mode,
            shift: i && $e(i, "size").value,
            width: s.value,
            height: a.value
        }
    },
    htmlBuilder(e, t) {
        var n = q.makeSpan(["mord", "rule"], [], t),
            r = Et(e.width, t),
            i = Et(e.height, t),
            s = e.shift ? Et(e.shift, t) : 0;
        return n.style.borderRightWidth = oe(r), n.style.borderTopWidth = oe(i), n.style.bottom = oe(s), n.width = r, n.height = i + s, n.depth = -s, n.maxFontSize = i * 1.125 * t.sizeMultiplier, n
    },
    mathmlBuilder(e, t) {
        var n = Et(e.width, t),
            r = Et(e.height, t),
            i = e.shift ? Et(e.shift, t) : 0,
            s = t.color && t.getColor() || "black",
            a = new te.MathNode("mspace");
        a.setAttribute("mathbackground", s), a.setAttribute("width", oe(n)), a.setAttribute("height", oe(r));
        var o = new te.MathNode("mpadded", [a]);
        return i >= 0 ? o.setAttribute("height", oe(i)) : (o.setAttribute("height", oe(i)), o.setAttribute("depth", oe(-i))), o.setAttribute("voffset", oe(i)), o
    }
});

function i4(e, t, n) {
    for (var r = Vt(e, t, !1), i = t.sizeMultiplier / n.sizeMultiplier, s = 0; s < r.length; s++) {
        var a = r[s].classes.indexOf("sizing");
        a < 0 ? Array.prototype.push.apply(r[s].classes, t.sizingClasses(n)) : r[s].classes[a + 1] === "reset-size" + t.size && (r[s].classes[a + 1] = "reset-size" + n.size), r[s].height *= i, r[s].depth *= i
    }
    return q.makeFragment(r)
}
var lp = ["\\tiny", "\\sixptsize", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"],
    oA = (e, t) => {
        var n = t.havingSize(e.size);
        return i4(e.body, n, t)
    };
me({
    type: "sizing",
    names: lp,
    props: {
        numArgs: 0,
        allowedInText: !0
    },
    handler: (e, t) => {
        var {
            breakOnTokenText: n,
            funcName: r,
            parser: i
        } = e, s = i.parseExpression(!1, n);
        return {
            type: "sizing",
            mode: i.mode,
            size: lp.indexOf(r) + 1,
            body: s
        }
    },
    htmlBuilder: oA,
    mathmlBuilder: (e, t) => {
        var n = t.havingSize(e.size),
            r = In(e.body, n),
            i = new te.MathNode("mstyle", r);
        return i.setAttribute("mathsize", oe(n.sizeMultiplier)), i
    }
});
me({
    type: "smash",
    names: ["\\smash"],
    props: {
        numArgs: 1,
        numOptionalArgs: 1,
        allowedInText: !0
    },
    handler: (e, t, n) => {
        var {
            parser: r
        } = e, i = !1, s = !1, a = n[0] && $e(n[0], "ordgroup");
        if (a)
            for (var o = "", c = 0; c < a.body.length; ++c) {
                var u = a.body[c];
                if (o = u.text, o === "t") i = !0;
                else if (o === "b") s = !0;
                else {
                    i = !1, s = !1;
                    break
                }
            } else i = !0, s = !0;
        var d = t[0];
        return {
            type: "smash",
            mode: r.mode,
            body: d,
            smashHeight: i,
            smashDepth: s
        }
    },
    htmlBuilder: (e, t) => {
        var n = q.makeSpan([], [et(e.body, t)]);
        if (!e.smashHeight && !e.smashDepth) return n;
        if (e.smashHeight && (n.height = 0, n.children))
            for (var r = 0; r < n.children.length; r++) n.children[r].height = 0;
        if (e.smashDepth && (n.depth = 0, n.children))
            for (var i = 0; i < n.children.length; i++) n.children[i].depth = 0;
        var s = q.makeVList({
            positionType: "firstBaseline",
            children: [{
                type: "elem",
                elem: n
            }]
        }, t);
        return q.makeSpan(["mord"], [s], t)
    },
    mathmlBuilder: (e, t) => {
        var n = new te.MathNode("mpadded", [ft(e.body, t)]);
        return e.smashHeight && n.setAttribute("height", "0px"), e.smashDepth && n.setAttribute("depth", "0px"), n
    }
});
me({
    type: "sqrt",
    names: ["\\sqrt"],
    props: {
        numArgs: 1,
        numOptionalArgs: 1
    },
    handler(e, t, n) {
        var {
            parser: r
        } = e, i = n[0], s = t[0];
        return {
            type: "sqrt",
            mode: r.mode,
            body: s,
            index: i
        }
    },
    htmlBuilder(e, t) {
        var n = et(e.body, t.havingCrampedStyle());
        n.height === 0 && (n.height = t.fontMetrics().xHeight), n = q.wrapFragment(n, t);
        var r = t.fontMetrics(),
            i = r.defaultRuleThickness,
            s = i;
        t.style.id < Ae.TEXT.id && (s = t.fontMetrics().xHeight);
        var a = i + s / 4,
            o = n.height + n.depth + a + i,
            {
                span: c,
                ruleWidth: u,
                advanceWidth: d
            } = Kr.sqrtImage(o, t),
            f = c.height - u;
        f > n.height + n.depth + a && (a = (a + f - n.height - n.depth) / 2);
        var m = c.height - n.height - a - u;
        n.style.paddingLeft = oe(d);
        var p = q.makeVList({
            positionType: "firstBaseline",
            children: [{
                type: "elem",
                elem: n,
                wrapperClasses: ["svg-align"]
            }, {
                type: "kern",
                size: -(n.height + m)
            }, {
                type: "elem",
                elem: c
            }, {
                type: "kern",
                size: u
            }]
        }, t);
        if (e.index) {
            var g = t.havingStyle(Ae.SCRIPTSCRIPT),
                x = et(e.index, g, t),
                y = .6 * (p.height - p.depth),
                b = q.makeVList({
                    positionType: "shift",
                    positionData: -y,
                    children: [{
                        type: "elem",
                        elem: x
                    }]
                }, t),
                w = q.makeSpan(["root"], [b]);
            return q.makeSpan(["mord", "sqrt"], [w, p], t)
        } else return q.makeSpan(["mord", "sqrt"], [p], t)
    },
    mathmlBuilder(e, t) {
        var {
            body: n,
            index: r
        } = e;
        return r ? new te.MathNode("mroot", [ft(n, t), ft(r, t)]) : new te.MathNode("msqrt", [ft(n, t)])
    }
});
var cp = {
    display: Ae.DISPLAY,
    text: Ae.TEXT,
    script: Ae.SCRIPT,
    scriptscript: Ae.SCRIPTSCRIPT
};
me({
    type: "styling",
    names: ["\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"],
    props: {
        numArgs: 0,
        allowedInText: !0,
        primitive: !0
    },
    handler(e, t) {
        var {
            breakOnTokenText: n,
            funcName: r,
            parser: i
        } = e, s = i.parseExpression(!0, n), a = r.slice(1, r.length - 5);
        return {
            type: "styling",
            mode: i.mode,
            style: a,
            body: s
        }
    },
    htmlBuilder(e, t) {
        var n = cp[e.style],
            r = t.havingStyle(n).withFont("");
        return i4(e.body, r, t)
    },
    mathmlBuilder(e, t) {
        var n = cp[e.style],
            r = t.havingStyle(n),
            i = In(e.body, r),
            s = new te.MathNode("mstyle", i),
            a = {
                display: ["0", "true"],
                text: ["0", "false"],
                script: ["1", "false"],
                scriptscript: ["2", "false"]
            },
            o = a[e.style];
        return s.setAttribute("scriptlevel", o[0]), s.setAttribute("displaystyle", o[1]), s
    }
});
var lA = function(t, n) {
    var r = t.base;
    if (r)
        if (r.type === "op") {
            var i = r.limits && (n.style.size === Ae.DISPLAY.size || r.alwaysHandleSupSub);
            return i ? Ks : null
        } else if (r.type === "operatorname") {
        var s = r.alwaysHandleSupSub && (n.style.size === Ae.DISPLAY.size || r.limits);
        return s ? r4 : null
    } else {
        if (r.type === "accent") return Ee.isCharacterBox(r.base) ? Kd : null;
        if (r.type === "horizBrace") {
            var a = !t.sub;
            return a === r.isOver ? e4 : null
        } else return null
    } else return null
};
is({
    type: "supsub",
    htmlBuilder(e, t) {
        var n = lA(e, t);
        if (n) return n(e, t);
        var {
            base: r,
            sup: i,
            sub: s
        } = e, a = et(r, t), o, c, u = t.fontMetrics(), d = 0, f = 0, m = r && Ee.isCharacterBox(r);
        if (i) {
            var p = t.havingStyle(t.style.sup());
            o = et(i, p, t), m || (d = a.height - p.fontMetrics().supDrop * p.sizeMultiplier / t.sizeMultiplier)
        }
        if (s) {
            var g = t.havingStyle(t.style.sub());
            c = et(s, g, t), m || (f = a.depth + g.fontMetrics().subDrop * g.sizeMultiplier / t.sizeMultiplier)
        }
        var x;
        t.style === Ae.DISPLAY ? x = u.sup1 : t.style.cramped ? x = u.sup3 : x = u.sup2;
        var y = t.sizeMultiplier,
            b = oe(.5 / u.ptPerEm / y),
            w = null;
        if (c) {
            var C = e.base && e.base.type === "op" && e.base.name && (e.base.name === "\\oiint" || e.base.name === "\\oiiint");
            (a instanceof Zn || C) && (w = oe(-a.italic))
        }
        var E;
        if (o && c) {
            d = Math.max(d, x, o.depth + .25 * u.xHeight), f = Math.max(f, u.sub2);
            var A = u.defaultRuleThickness,
                N = 4 * A;
            if (d - o.depth - (c.height - f) < N) {
                f = N - (d - o.depth) + c.height;
                var j = .8 * u.xHeight - (d - o.depth);
                j > 0 && (d += j, f -= j)
            }
            var z = [{
                type: "elem",
                elem: c,
                shift: f,
                marginRight: b,
                marginLeft: w
            }, {
                type: "elem",
                elem: o,
                shift: -d,
                marginRight: b
            }];
            E = q.makeVList({
                positionType: "individualShift",
                children: z
            }, t)
        } else if (c) {
            f = Math.max(f, u.sub1, c.height - .8 * u.xHeight);
            var H = [{
                type: "elem",
                elem: c,
                marginLeft: w,
                marginRight: b
            }];
            E = q.makeVList({
                positionType: "shift",
                positionData: f,
                children: H
            }, t)
        } else if (o) d = Math.max(d, x, o.depth + .25 * u.xHeight), E = q.makeVList({
            positionType: "shift",
            positionData: -d,
            children: [{
                type: "elem",
                elem: o,
                marginRight: b
            }]
        }, t);
        else throw new Error("supsub must have either sup or sub.");
        var R = x0(a, "right") || "mord";
        return q.makeSpan([R], [a, q.makeSpan(["msupsub"], [E])], t)
    },
    mathmlBuilder(e, t) {
        var n = !1,
            r, i;
        e.base && e.base.type === "horizBrace" && (i = !!e.sup, i === e.base.isOver && (n = !0, r = e.base.isOver)), e.base && (e.base.type === "op" || e.base.type === "operatorname") && (e.base.parentIsSupSub = !0);
        var s = [ft(e.base, t)];
        e.sub && s.push(ft(e.sub, t)), e.sup && s.push(ft(e.sup, t));
        var a;
        if (n) a = r ? "mover" : "munder";
        else if (e.sub)
            if (e.sup) {
                var u = e.base;
                u && u.type === "op" && u.limits && t.style === Ae.DISPLAY || u && u.type === "operatorname" && u.alwaysHandleSupSub && (t.style === Ae.DISPLAY || u.limits) ? a = "munderover" : a = "msubsup"
            } else {
                var c = e.base;
                c && c.type === "op" && c.limits && (t.style === Ae.DISPLAY || c.alwaysHandleSupSub) || c && c.type === "operatorname" && c.alwaysHandleSupSub && (c.limits || t.style === Ae.DISPLAY) ? a = "munder" : a = "msub"
            }
        else {
            var o = e.base;
            o && o.type === "op" && o.limits && (t.style === Ae.DISPLAY || o.alwaysHandleSupSub) || o && o.type === "operatorname" && o.alwaysHandleSupSub && (o.limits || t.style === Ae.DISPLAY) ? a = "mover" : a = "msup"
        }
        return new te.MathNode(a, s)
    }
});
is({
    type: "atom",
    htmlBuilder(e, t) {
        return q.mathsym(e.text, e.mode, t, ["m" + e.family])
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mo", [Qn(e.text, e.mode)]);
        if (e.family === "bin") {
            var r = Gd(e, t);
            r === "bold-italic" && n.setAttribute("mathvariant", r)
        } else e.family === "punct" ? n.setAttribute("separator", "true") : (e.family === "open" || e.family === "close") && n.setAttribute("stretchy", "false");
        return n
    }
});
var s4 = {
    mi: "italic",
    mn: "normal",
    mtext: "normal"
};
is({
    type: "mathord",
    htmlBuilder(e, t) {
        return q.makeOrd(e, t, "mathord")
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mi", [Qn(e.text, e.mode, t)]),
            r = Gd(e, t) || "italic";
        return r !== s4[n.type] && n.setAttribute("mathvariant", r), n
    }
});
is({
    type: "textord",
    htmlBuilder(e, t) {
        return q.makeOrd(e, t, "textord")
    },
    mathmlBuilder(e, t) {
        var n = Qn(e.text, e.mode, t),
            r = Gd(e, t) || "normal",
            i;
        return e.mode === "text" ? i = new te.MathNode("mtext", [n]) : /[0-9]/.test(e.text) ? i = new te.MathNode("mn", [n]) : e.text === "\\prime" ? i = new te.MathNode("mo", [n]) : i = new te.MathNode("mi", [n]), r !== s4[i.type] && i.setAttribute("mathvariant", r), i
    }
});
var nu = {
        "\\nobreak": "nobreak",
        "\\allowbreak": "allowbreak"
    },
    ru = {
        " ": {},
        "\\ ": {},
        "~": {
            className: "nobreak"
        },
        "\\space": {},
        "\\nobreakspace": {
            className: "nobreak"
        }
    };
is({
    type: "spacing",
    htmlBuilder(e, t) {
        if (ru.hasOwnProperty(e.text)) {
            var n = ru[e.text].className || "";
            if (e.mode === "text") {
                var r = q.makeOrd(e, t, "textord");
                return r.classes.push(n), r
            } else return q.makeSpan(["mspace", n], [q.mathsym(e.text, e.mode, t)], t)
        } else {
            if (nu.hasOwnProperty(e.text)) return q.makeSpan(["mspace", nu[e.text]], [], t);
            throw new ne('Unknown type of space "' + e.text + '"')
        }
    },
    mathmlBuilder(e, t) {
        var n;
        if (ru.hasOwnProperty(e.text)) n = new te.MathNode("mtext", [new te.TextNode("")]);
        else {
            if (nu.hasOwnProperty(e.text)) return new te.MathNode("mspace");
            throw new ne('Unknown type of space "' + e.text + '"')
        }
        return n
    }
});
var up = () => {
    var e = new te.MathNode("mtd", []);
    return e.setAttribute("width", "50%"), e
};
is({
    type: "tag",
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mtable", [new te.MathNode("mtr", [up(), new te.MathNode("mtd", [bi(e.body, t)]), up(), new te.MathNode("mtd", [bi(e.tag, t)])])]);
        return n.setAttribute("width", "100%"), n
    }
});
var dp = {
        "\\text": void 0,
        "\\textrm": "textrm",
        "\\textsf": "textsf",
        "\\texttt": "texttt",
        "\\textnormal": "textrm"
    },
    fp = {
        "\\textbf": "textbf",
        "\\textmd": "textmd"
    },
    cA = {
        "\\textit": "textit",
        "\\textup": "textup"
    },
    hp = (e, t) => {
        var n = e.font;
        if (n) {
            if (dp[n]) return t.withTextFontFamily(dp[n]);
            if (fp[n]) return t.withTextFontWeight(fp[n]);
            if (n === "\\emph") return t.fontShape === "textit" ? t.withTextFontShape("textup") : t.withTextFontShape("textit")
        } else return t;
        return t.withTextFontShape(cA[n])
    };
me({
    type: "text",
    names: ["\\text", "\\textrm", "\\textsf", "\\texttt", "\\textnormal", "\\textbf", "\\textmd", "\\textit", "\\textup", "\\emph"],
    props: {
        numArgs: 1,
        argTypes: ["text"],
        allowedInArgument: !0,
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n,
            funcName: r
        } = e, i = t[0];
        return {
            type: "text",
            mode: n.mode,
            body: Rt(i),
            font: r
        }
    },
    htmlBuilder(e, t) {
        var n = hp(e, t),
            r = Vt(e.body, n, !0);
        return q.makeSpan(["mord", "text"], r, n)
    },
    mathmlBuilder(e, t) {
        var n = hp(e, t);
        return bi(e.body, n)
    }
});
me({
    type: "underline",
    names: ["\\underline"],
    props: {
        numArgs: 1,
        allowedInText: !0
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "underline",
            mode: n.mode,
            body: t[0]
        }
    },
    htmlBuilder(e, t) {
        var n = et(e.body, t),
            r = q.makeLineSpan("underline-line", t),
            i = t.fontMetrics().defaultRuleThickness,
            s = q.makeVList({
                positionType: "top",
                positionData: n.height,
                children: [{
                    type: "kern",
                    size: i
                }, {
                    type: "elem",
                    elem: r
                }, {
                    type: "kern",
                    size: 3 * i
                }, {
                    type: "elem",
                    elem: n
                }]
            }, t);
        return q.makeSpan(["mord", "underline"], [s], t)
    },
    mathmlBuilder(e, t) {
        var n = new te.MathNode("mo", [new te.TextNode("")]);
        n.setAttribute("stretchy", "true");
        var r = new te.MathNode("munder", [ft(e.body, t), n]);
        return r.setAttribute("accentunder", "true"), r
    }
});
me({
    type: "vcenter",
    names: ["\\vcenter"],
    props: {
        numArgs: 1,
        argTypes: ["original"],
        allowedInText: !1
    },
    handler(e, t) {
        var {
            parser: n
        } = e;
        return {
            type: "vcenter",
            mode: n.mode,
            body: t[0]
        }
    },
    htmlBuilder(e, t) {
        var n = et(e.body, t),
            r = t.fontMetrics().axisHeight,
            i = .5 * (n.height - r - (n.depth + r));
        return q.makeVList({
            positionType: "shift",
            positionData: i,
            children: [{
                type: "elem",
                elem: n
            }]
        }, t)
    },
    mathmlBuilder(e, t) {
        return new te.MathNode("mpadded", [ft(e.body, t)], ["vcenter"])
    }
});
me({
    type: "verb",
    names: ["\\verb"],
    props: {
        numArgs: 0,
        allowedInText: !0
    },
    handler(e, t, n) {
        throw new ne("\\verb ended by end of line instead of matching delimiter")
    },
    htmlBuilder(e, t) {
        for (var n = pp(e), r = [], i = t.havingStyle(t.style.text()), s = 0; s < n.length; s++) {
            var a = n[s];
            a === "~" && (a = "\\textasciitilde"), r.push(q.makeSymbol(a, "Typewriter-Regular", e.mode, i, ["mord", "texttt"]))
        }
        return q.makeSpan(["mord", "text"].concat(i.sizingClasses(t)), q.tryCombineChars(r), i)
    },
    mathmlBuilder(e, t) {
        var n = new te.TextNode(pp(e)),
            r = new te.MathNode("mtext", [n]);
        return r.setAttribute("mathvariant", "monospace"), r
    }
});
var pp = e => e.body.replace(/ /g, e.star ? "" : ""),
    hi = T5,
    a4 = `[ \r
	]`,
    uA = "\\\\[a-zA-Z@]+",
    dA = "\\\\[^\uD800-\uDFFF]",
    fA = "(" + uA + ")" + a4 + "*",
    hA = `\\\\(
|[ \r	]+
?)[ \r	]*`,
    w0 = "[-]",
    pA = new RegExp(w0 + "+$"),
    mA = "(" + a4 + "+)|" + (hA + "|") + "([!-\\[\\]---]" + (w0 + "*") + "|[\uD800-\uDBFF][\uDC00-\uDFFF]" + (w0 + "*") + "|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5" + ("|" + fA) + ("|" + dA + ")");
class mp {
    constructor(t, n) {
        this.input = void 0, this.settings = void 0, this.tokenRegex = void 0, this.catcodes = void 0, this.input = t, this.settings = n, this.tokenRegex = new RegExp(mA, "g"), this.catcodes = {
            "%": 14,
            "~": 13
        }
    }
    setCatcode(t, n) {
        this.catcodes[t] = n
    }
    lex() {
        var t = this.input,
            n = this.tokenRegex.lastIndex;
        if (n === t.length) return new Kn("EOF", new Pn(this, n, n));
        var r = this.tokenRegex.exec(t);
        if (r === null || r.index !== n) throw new ne("Unexpected character: '" + t[n] + "'", new Kn(t[n], new Pn(this, n, n + 1)));
        var i = r[6] || r[3] || (r[2] ? "\\ " : " ");
        if (this.catcodes[i] === 14) {
            var s = t.indexOf(`
`, this.tokenRegex.lastIndex);
            return s === -1 ? (this.tokenRegex.lastIndex = t.length, this.settings.reportNonstrict("commentAtEnd", "% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")) : this.tokenRegex.lastIndex = s + 1, this.lex()
        }
        return new Kn(i, new Pn(this, n, this.tokenRegex.lastIndex))
    }
}
class gA {
    constructor(t, n) {
        t === void 0 && (t = {}), n === void 0 && (n = {}), this.current = void 0, this.builtins = void 0, this.undefStack = void 0, this.current = n, this.builtins = t, this.undefStack = []
    }
    beginGroup() {
        this.undefStack.push({})
    }
    endGroup() {
        if (this.undefStack.length === 0) throw new ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");
        var t = this.undefStack.pop();
        for (var n in t) t.hasOwnProperty(n) && (t[n] == null ? delete this.current[n] : this.current[n] = t[n])
    }
    endGroups() {
        for (; this.undefStack.length > 0;) this.endGroup()
    }
    has(t) {
        return this.current.hasOwnProperty(t) || this.builtins.hasOwnProperty(t)
    }
    get(t) {
        return this.current.hasOwnProperty(t) ? this.current[t] : this.builtins[t]
    }
    set(t, n, r) {
        if (r === void 0 && (r = !1), r) {
            for (var i = 0; i < this.undefStack.length; i++) delete this.undefStack[i][t];
            this.undefStack.length > 0 && (this.undefStack[this.undefStack.length - 1][t] = n)
        } else {
            var s = this.undefStack[this.undefStack.length - 1];
            s && !s.hasOwnProperty(t) && (s[t] = this.current[t])
        }
        n == null ? delete this.current[t] : this.current[t] = n
    }
}
var xA = K5;
T("\\noexpand", function(e) {
    var t = e.popToken();
    return e.isExpandable(t.text) && (t.noexpand = !0, t.treatAsRelax = !0), {
        tokens: [t],
        numArgs: 0
    }
});
T("\\expandafter", function(e) {
    var t = e.popToken();
    return e.expandOnce(!0), {
        tokens: [t],
        numArgs: 0
    }
});
T("\\@firstoftwo", function(e) {
    var t = e.consumeArgs(2);
    return {
        tokens: t[0],
        numArgs: 0
    }
});
T("\\@secondoftwo", function(e) {
    var t = e.consumeArgs(2);
    return {
        tokens: t[1],
        numArgs: 0
    }
});
T("\\@ifnextchar", function(e) {
    var t = e.consumeArgs(3);
    e.consumeSpaces();
    var n = e.future();
    return t[0].length === 1 && t[0][0].text === n.text ? {
        tokens: t[1],
        numArgs: 0
    } : {
        tokens: t[2],
        numArgs: 0
    }
});
T("\\@ifstar", "\\@ifnextchar *{\\@firstoftwo{#1}}");
T("\\TextOrMath", function(e) {
    var t = e.consumeArgs(2);
    return e.mode === "text" ? {
        tokens: t[0],
        numArgs: 0
    } : {
        tokens: t[1],
        numArgs: 0
    }
});
var gp = {
    0: 0,
    1: 1,
    2: 2,
    3: 3,
    4: 4,
    5: 5,
    6: 6,
    7: 7,
    8: 8,
    9: 9,
    a: 10,
    A: 10,
    b: 11,
    B: 11,
    c: 12,
    C: 12,
    d: 13,
    D: 13,
    e: 14,
    E: 14,
    f: 15,
    F: 15
};
T("\\char", function(e) {
    var t = e.popToken(),
        n, r = "";
    if (t.text === "'") n = 8, t = e.popToken();
    else if (t.text === '"') n = 16, t = e.popToken();
    else if (t.text === "`")
        if (t = e.popToken(), t.text[0] === "\\") r = t.text.charCodeAt(1);
        else {
            if (t.text === "EOF") throw new ne("\\char` missing argument");
            r = t.text.charCodeAt(0)
        }
    else n = 10;
    if (n) {
        if (r = gp[t.text], r == null || r >= n) throw new ne("Invalid base-" + n + " digit " + t.text);
        for (var i;
            (i = gp[e.future().text]) != null && i < n;) r *= n, r += i, e.popToken()
    }
    return "\\@char{" + r + "}"
});
var rf = (e, t, n, r) => {
    var i = e.consumeArg().tokens;
    if (i.length !== 1) throw new ne("\\newcommand's first argument must be a macro name");
    var s = i[0].text,
        a = e.isDefined(s);
    if (a && !t) throw new ne("\\newcommand{" + s + "} attempting to redefine " + (s + "; use \\renewcommand"));
    if (!a && !n) throw new ne("\\renewcommand{" + s + "} when command " + s + " does not yet exist; use \\newcommand");
    var o = 0;
    if (i = e.consumeArg().tokens, i.length === 1 && i[0].text === "[") {
        for (var c = "", u = e.expandNextToken(); u.text !== "]" && u.text !== "EOF";) c += u.text, u = e.expandNextToken();
        if (!c.match(/^\s*[0-9]+\s*$/)) throw new ne("Invalid number of arguments: " + c);
        o = parseInt(c), i = e.consumeArg().tokens
    }
    return a && r || e.macros.set(s, {
        tokens: i,
        numArgs: o
    }), ""
};
T("\\newcommand", e => rf(e, !1, !0, !1));
T("\\renewcommand", e => rf(e, !0, !1, !1));
T("\\providecommand", e => rf(e, !0, !0, !0));
T("\\message", e => {
    var t = e.consumeArgs(1)[0];
    return console.log(t.reverse().map(n => n.text).join("")), ""
});
T("\\errmessage", e => {
    var t = e.consumeArgs(1)[0];
    return console.error(t.reverse().map(n => n.text).join("")), ""
});
T("\\show", e => {
    var t = e.popToken(),
        n = t.text;
    return console.log(t, e.macros.get(n), hi[n], pt.math[n], pt.text[n]), ""
});
T("\\bgroup", "{");
T("\\egroup", "}");
T("~", "\\nobreakspace");
T("\\lq", "`");
T("\\rq", "'");
T("\\aa", "\\r a");
T("\\AA", "\\r A");
T("\\textcopyright", "\\html@mathml{\\textcircled{c}}{\\char`}");
T("\\copyright", "\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");
T("\\textregistered", "\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");
T("", "\\mathscr{B}");
T("", "\\mathscr{E}");
T("", "\\mathscr{F}");
T("", "\\mathscr{H}");
T("", "\\mathscr{I}");
T("", "\\mathscr{L}");
T("", "\\mathscr{M}");
T("", "\\mathscr{R}");
T("", "\\mathfrak{C}");
T("", "\\mathfrak{H}");
T("", "\\mathfrak{Z}");
T("\\Bbbk", "\\Bbb{k}");
T("", "\\cdotp");
T("\\llap", "\\mathllap{\\textrm{#1}}");
T("\\rlap", "\\mathrlap{\\textrm{#1}}");
T("\\clap", "\\mathclap{\\textrm{#1}}");
T("\\mathstrut", "\\vphantom{(}");
T("\\underbar", "\\underline{\\text{#1}}");
T("\\not", '\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');
T("\\neq", "\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");
T("\\ne", "\\neq");
T("", "\\neq");
T("\\notin", "\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");
T("", "\\notin");
T("", "\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");
T("", "\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");
T("", "\\perp");
T("", "\\mathclose{!\\mkern-0.8mu!}");
T("", "\\notni");
T("", "\\ulcorner");
T("", "\\urcorner");
T("", "\\llcorner");
T("", "\\lrcorner");
T("", "\\copyright");
T("", "\\textregistered");
T("", "\\textregistered");
T("\\ulcorner", '\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');
T("\\urcorner", '\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');
T("\\llcorner", '\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');
T("\\lrcorner", '\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');
T("\\vdots", "{\\varvdots\\rule{0pt}{15pt}}");
T("", "\\vdots");
T("\\varGamma", "\\mathit{\\Gamma}");
T("\\varDelta", "\\mathit{\\Delta}");
T("\\varTheta", "\\mathit{\\Theta}");
T("\\varLambda", "\\mathit{\\Lambda}");
T("\\varXi", "\\mathit{\\Xi}");
T("\\varPi", "\\mathit{\\Pi}");
T("\\varSigma", "\\mathit{\\Sigma}");
T("\\varUpsilon", "\\mathit{\\Upsilon}");
T("\\varPhi", "\\mathit{\\Phi}");
T("\\varPsi", "\\mathit{\\Psi}");
T("\\varOmega", "\\mathit{\\Omega}");
T("\\substack", "\\begin{subarray}{c}#1\\end{subarray}");
T("\\colon", "\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");
T("\\boxed", "\\fbox{$\\displaystyle{#1}$}");
T("\\iff", "\\DOTSB\\;\\Longleftrightarrow\\;");
T("\\implies", "\\DOTSB\\;\\Longrightarrow\\;");
T("\\impliedby", "\\DOTSB\\;\\Longleftarrow\\;");
T("\\dddot", "{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");
T("\\ddddot", "{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");
var xp = {
    ",": "\\dotsc",
    "\\not": "\\dotsb",
    "+": "\\dotsb",
    "=": "\\dotsb",
    "<": "\\dotsb",
    ">": "\\dotsb",
    "-": "\\dotsb",
    "*": "\\dotsb",
    ":": "\\dotsb",
    "\\DOTSB": "\\dotsb",
    "\\coprod": "\\dotsb",
    "\\bigvee": "\\dotsb",
    "\\bigwedge": "\\dotsb",
    "\\biguplus": "\\dotsb",
    "\\bigcap": "\\dotsb",
    "\\bigcup": "\\dotsb",
    "\\prod": "\\dotsb",
    "\\sum": "\\dotsb",
    "\\bigotimes": "\\dotsb",
    "\\bigoplus": "\\dotsb",
    "\\bigodot": "\\dotsb",
    "\\bigsqcup": "\\dotsb",
    "\\And": "\\dotsb",
    "\\longrightarrow": "\\dotsb",
    "\\Longrightarrow": "\\dotsb",
    "\\longleftarrow": "\\dotsb",
    "\\Longleftarrow": "\\dotsb",
    "\\longleftrightarrow": "\\dotsb",
    "\\Longleftrightarrow": "\\dotsb",
    "\\mapsto": "\\dotsb",
    "\\longmapsto": "\\dotsb",
    "\\hookrightarrow": "\\dotsb",
    "\\doteq": "\\dotsb",
    "\\mathbin": "\\dotsb",
    "\\mathrel": "\\dotsb",
    "\\relbar": "\\dotsb",
    "\\Relbar": "\\dotsb",
    "\\xrightarrow": "\\dotsb",
    "\\xleftarrow": "\\dotsb",
    "\\DOTSI": "\\dotsi",
    "\\int": "\\dotsi",
    "\\oint": "\\dotsi",
    "\\iint": "\\dotsi",
    "\\iiint": "\\dotsi",
    "\\iiiint": "\\dotsi",
    "\\idotsint": "\\dotsi",
    "\\DOTSX": "\\dotsx"
};
T("\\dots", function(e) {
    var t = "\\dotso",
        n = e.expandAfterFuture().text;
    return n in xp ? t = xp[n] : (n.slice(0, 4) === "\\not" || n in pt.math && Ee.contains(["bin", "rel"], pt.math[n].group)) && (t = "\\dotsb"), t
});
var sf = {
    ")": !0,
    "]": !0,
    "\\rbrack": !0,
    "\\}": !0,
    "\\rbrace": !0,
    "\\rangle": !0,
    "\\rceil": !0,
    "\\rfloor": !0,
    "\\rgroup": !0,
    "\\rmoustache": !0,
    "\\right": !0,
    "\\bigr": !0,
    "\\biggr": !0,
    "\\Bigr": !0,
    "\\Biggr": !0,
    $: !0,
    ";": !0,
    ".": !0,
    ",": !0
};
T("\\dotso", function(e) {
    var t = e.future().text;
    return t in sf ? "\\ldots\\," : "\\ldots"
});
T("\\dotsc", function(e) {
    var t = e.future().text;
    return t in sf && t !== "," ? "\\ldots\\," : "\\ldots"
});
T("\\cdots", function(e) {
    var t = e.future().text;
    return t in sf ? "\\@cdots\\," : "\\@cdots"
});
T("\\dotsb", "\\cdots");
T("\\dotsm", "\\cdots");
T("\\dotsi", "\\!\\cdots");
T("\\dotsx", "\\ldots\\,");
T("\\DOTSI", "\\relax");
T("\\DOTSB", "\\relax");
T("\\DOTSX", "\\relax");
T("\\tmspace", "\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");
T("\\,", "\\tmspace+{3mu}{.1667em}");
T("\\thinspace", "\\,");
T("\\>", "\\mskip{4mu}");
T("\\:", "\\tmspace+{4mu}{.2222em}");
T("\\medspace", "\\:");
T("\\;", "\\tmspace+{5mu}{.2777em}");
T("\\thickspace", "\\;");
T("\\!", "\\tmspace-{3mu}{.1667em}");
T("\\negthinspace", "\\!");
T("\\negmedspace", "\\tmspace-{4mu}{.2222em}");
T("\\negthickspace", "\\tmspace-{5mu}{.277em}");
T("\\enspace", "\\kern.5em ");
T("\\enskip", "\\hskip.5em\\relax");
T("\\quad", "\\hskip1em\\relax");
T("\\qquad", "\\hskip2em\\relax");
T("\\tag", "\\@ifstar\\tag@literal\\tag@paren");
T("\\tag@paren", "\\tag@literal{({#1})}");
T("\\tag@literal", e => {
    if (e.macros.get("\\df@tag")) throw new ne("Multiple \\tag");
    return "\\gdef\\df@tag{\\text{#1}}"
});
T("\\bmod", "\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");
T("\\pod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");
T("\\pmod", "\\pod{{\\rm mod}\\mkern6mu#1}");
T("\\mod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");
T("\\newline", "\\\\\\relax");
T("\\TeX", "\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");
var o4 = oe(Cr["Main-Regular"][84][1] - .7 * Cr["Main-Regular"][65][1]);
T("\\LaTeX", "\\textrm{\\html@mathml{" + ("L\\kern-.36em\\raisebox{" + o4 + "}{\\scriptstyle A}") + "\\kern-.15em\\TeX}{LaTeX}}");
T("\\KaTeX", "\\textrm{\\html@mathml{" + ("K\\kern-.17em\\raisebox{" + o4 + "}{\\scriptstyle A}") + "\\kern-.15em\\TeX}{KaTeX}}");
T("\\hspace", "\\@ifstar\\@hspacer\\@hspace");
T("\\@hspace", "\\hskip #1\\relax");
T("\\@hspacer", "\\rule{0pt}{0pt}\\hskip #1\\relax");
T("\\ordinarycolon", ":");
T("\\vcentcolon", "\\mathrel{\\mathop\\ordinarycolon}");
T("\\dblcolon", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');
T("\\coloneqq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');
T("\\Coloneqq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');
T("\\coloneq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');
T("\\Coloneq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');
T("\\eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');
T("\\Eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');
T("\\eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');
T("\\Eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');
T("\\colonapprox", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');
T("\\Colonapprox", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');
T("\\colonsim", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');
T("\\Colonsim", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');
T("", "\\dblcolon");
T("", "\\eqcolon");
T("", "\\coloneqq");
T("", "\\eqqcolon");
T("", "\\Coloneqq");
T("\\ratio", "\\vcentcolon");
T("\\coloncolon", "\\dblcolon");
T("\\colonequals", "\\coloneqq");
T("\\coloncolonequals", "\\Coloneqq");
T("\\equalscolon", "\\eqqcolon");
T("\\equalscoloncolon", "\\Eqqcolon");
T("\\colonminus", "\\coloneq");
T("\\coloncolonminus", "\\Coloneq");
T("\\minuscolon", "\\eqcolon");
T("\\minuscoloncolon", "\\Eqcolon");
T("\\coloncolonapprox", "\\Colonapprox");
T("\\coloncolonsim", "\\Colonsim");
T("\\simcolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");
T("\\simcoloncolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");
T("\\approxcolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");
T("\\approxcoloncolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");
T("\\notni", "\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");
T("\\limsup", "\\DOTSB\\operatorname*{lim\\,sup}");
T("\\liminf", "\\DOTSB\\operatorname*{lim\\,inf}");
T("\\injlim", "\\DOTSB\\operatorname*{inj\\,lim}");
T("\\projlim", "\\DOTSB\\operatorname*{proj\\,lim}");
T("\\varlimsup", "\\DOTSB\\operatorname*{\\overline{lim}}");
T("\\varliminf", "\\DOTSB\\operatorname*{\\underline{lim}}");
T("\\varinjlim", "\\DOTSB\\operatorname*{\\underrightarrow{lim}}");
T("\\varprojlim", "\\DOTSB\\operatorname*{\\underleftarrow{lim}}");
T("\\gvertneqq", "\\html@mathml{\\@gvertneqq}{}");
T("\\lvertneqq", "\\html@mathml{\\@lvertneqq}{}");
T("\\ngeqq", "\\html@mathml{\\@ngeqq}{}");
T("\\ngeqslant", "\\html@mathml{\\@ngeqslant}{}");
T("\\nleqq", "\\html@mathml{\\@nleqq}{}");
T("\\nleqslant", "\\html@mathml{\\@nleqslant}{}");
T("\\nshortmid", "\\html@mathml{\\@nshortmid}{}");
T("\\nshortparallel", "\\html@mathml{\\@nshortparallel}{}");
T("\\nsubseteqq", "\\html@mathml{\\@nsubseteqq}{}");
T("\\nsupseteqq", "\\html@mathml{\\@nsupseteqq}{}");
T("\\varsubsetneq", "\\html@mathml{\\@varsubsetneq}{}");
T("\\varsubsetneqq", "\\html@mathml{\\@varsubsetneqq}{}");
T("\\varsupsetneq", "\\html@mathml{\\@varsupsetneq}{}");
T("\\varsupsetneqq", "\\html@mathml{\\@varsupsetneqq}{}");
T("\\imath", "\\html@mathml{\\@imath}{}");
T("\\jmath", "\\html@mathml{\\@jmath}{}");
T("\\llbracket", "\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");
T("\\rrbracket", "\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");
T("", "\\llbracket");
T("", "\\rrbracket");
T("\\lBrace", "\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");
T("\\rBrace", "\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");
T("", "\\lBrace");
T("", "\\rBrace");
T("\\minuso", "\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");
T("", "\\minuso");
T("\\darr", "\\downarrow");
T("\\dArr", "\\Downarrow");
T("\\Darr", "\\Downarrow");
T("\\lang", "\\langle");
T("\\rang", "\\rangle");
T("\\uarr", "\\uparrow");
T("\\uArr", "\\Uparrow");
T("\\Uarr", "\\Uparrow");
T("\\N", "\\mathbb{N}");
T("\\R", "\\mathbb{R}");
T("\\Z", "\\mathbb{Z}");
T("\\alef", "\\aleph");
T("\\alefsym", "\\aleph");
T("\\Alpha", "\\mathrm{A}");
T("\\Beta", "\\mathrm{B}");
T("\\bull", "\\bullet");
T("\\Chi", "\\mathrm{X}");
T("\\clubs", "\\clubsuit");
T("\\cnums", "\\mathbb{C}");
T("\\Complex", "\\mathbb{C}");
T("\\Dagger", "\\ddagger");
T("\\diamonds", "\\diamondsuit");
T("\\empty", "\\emptyset");
T("\\Epsilon", "\\mathrm{E}");
T("\\Eta", "\\mathrm{H}");
T("\\exist", "\\exists");
T("\\harr", "\\leftrightarrow");
T("\\hArr", "\\Leftrightarrow");
T("\\Harr", "\\Leftrightarrow");
T("\\hearts", "\\heartsuit");
T("\\image", "\\Im");
T("\\infin", "\\infty");
T("\\Iota", "\\mathrm{I}");
T("\\isin", "\\in");
T("\\Kappa", "\\mathrm{K}");
T("\\larr", "\\leftarrow");
T("\\lArr", "\\Leftarrow");
T("\\Larr", "\\Leftarrow");
T("\\lrarr", "\\leftrightarrow");
T("\\lrArr", "\\Leftrightarrow");
T("\\Lrarr", "\\Leftrightarrow");
T("\\Mu", "\\mathrm{M}");
T("\\natnums", "\\mathbb{N}");
T("\\Nu", "\\mathrm{N}");
T("\\Omicron", "\\mathrm{O}");
T("\\plusmn", "\\pm");
T("\\rarr", "\\rightarrow");
T("\\rArr", "\\Rightarrow");
T("\\Rarr", "\\Rightarrow");
T("\\real", "\\Re");
T("\\reals", "\\mathbb{R}");
T("\\Reals", "\\mathbb{R}");
T("\\Rho", "\\mathrm{P}");
T("\\sdot", "\\cdot");
T("\\sect", "\\S");
T("\\spades", "\\spadesuit");
T("\\sub", "\\subset");
T("\\sube", "\\subseteq");
T("\\supe", "\\supseteq");
T("\\Tau", "\\mathrm{T}");
T("\\thetasym", "\\vartheta");
T("\\weierp", "\\wp");
T("\\Zeta", "\\mathrm{Z}");
T("\\argmin", "\\DOTSB\\operatorname*{arg\\,min}");
T("\\argmax", "\\DOTSB\\operatorname*{arg\\,max}");
T("\\plim", "\\DOTSB\\mathop{\\operatorname{plim}}\\limits");
T("\\bra", "\\mathinner{\\langle{#1}|}");
T("\\ket", "\\mathinner{|{#1}\\rangle}");
T("\\braket", "\\mathinner{\\langle{#1}\\rangle}");
T("\\Bra", "\\left\\langle#1\\right|");
T("\\Ket", "\\left|#1\\right\\rangle");
var l4 = e => t => {
    var n = t.consumeArg().tokens,
        r = t.consumeArg().tokens,
        i = t.consumeArg().tokens,
        s = t.consumeArg().tokens,
        a = t.macros.get("|"),
        o = t.macros.get("\\|");
    t.macros.beginGroup();
    var c = f => m => {
        e && (m.macros.set("|", a), i.length && m.macros.set("\\|", o));
        var p = f;
        if (!f && i.length) {
            var g = m.future();
            g.text === "|" && (m.popToken(), p = !0)
        }
        return {
            tokens: p ? i : r,
            numArgs: 0
        }
    };
    t.macros.set("|", c(!1)), i.length && t.macros.set("\\|", c(!0));
    var u = t.consumeArg().tokens,
        d = t.expandTokens([...s, ...u, ...n]);
    return t.macros.endGroup(), {
        tokens: d.reverse(),
        numArgs: 0
    }
};
T("\\bra@ket", l4(!1));
T("\\bra@set", l4(!0));
T("\\Braket", "\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");
T("\\Set", "\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");
T("\\set", "\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");
T("\\angln", "{\\angl n}");
T("\\blue", "\\textcolor{##6495ed}{#1}");
T("\\orange", "\\textcolor{##ffa500}{#1}");
T("\\pink", "\\textcolor{##ff00af}{#1}");
T("\\red", "\\textcolor{##df0030}{#1}");
T("\\green", "\\textcolor{##28ae7b}{#1}");
T("\\gray", "\\textcolor{gray}{#1}");
T("\\purple", "\\textcolor{##9d38bd}{#1}");
T("\\blueA", "\\textcolor{##ccfaff}{#1}");
T("\\blueB", "\\textcolor{##80f6ff}{#1}");
T("\\blueC", "\\textcolor{##63d9ea}{#1}");
T("\\blueD", "\\textcolor{##11accd}{#1}");
T("\\blueE", "\\textcolor{##0c7f99}{#1}");
T("\\tealA", "\\textcolor{##94fff5}{#1}");
T("\\tealB", "\\textcolor{##26edd5}{#1}");
T("\\tealC", "\\textcolor{##01d1c1}{#1}");
T("\\tealD", "\\textcolor{##01a995}{#1}");
T("\\tealE", "\\textcolor{##208170}{#1}");
T("\\greenA", "\\textcolor{##b6ffb0}{#1}");
T("\\greenB", "\\textcolor{##8af281}{#1}");
T("\\greenC", "\\textcolor{##74cf70}{#1}");
T("\\greenD", "\\textcolor{##1fab54}{#1}");
T("\\greenE", "\\textcolor{##0d923f}{#1}");
T("\\goldA", "\\textcolor{##ffd0a9}{#1}");
T("\\goldB", "\\textcolor{##ffbb71}{#1}");
T("\\goldC", "\\textcolor{##ff9c39}{#1}");
T("\\goldD", "\\textcolor{##e07d10}{#1}");
T("\\goldE", "\\textcolor{##a75a05}{#1}");
T("\\redA", "\\textcolor{##fca9a9}{#1}");
T("\\redB", "\\textcolor{##ff8482}{#1}");
T("\\redC", "\\textcolor{##f9685d}{#1}");
T("\\redD", "\\textcolor{##e84d39}{#1}");
T("\\redE", "\\textcolor{##bc2612}{#1}");
T("\\maroonA", "\\textcolor{##ffbde0}{#1}");
T("\\maroonB", "\\textcolor{##ff92c6}{#1}");
T("\\maroonC", "\\textcolor{##ed5fa6}{#1}");
T("\\maroonD", "\\textcolor{##ca337c}{#1}");
T("\\maroonE", "\\textcolor{##9e034e}{#1}");
T("\\purpleA", "\\textcolor{##ddd7ff}{#1}");
T("\\purpleB", "\\textcolor{##c6b9fc}{#1}");
T("\\purpleC", "\\textcolor{##aa87ff}{#1}");
T("\\purpleD", "\\textcolor{##7854ab}{#1}");
T("\\purpleE", "\\textcolor{##543b78}{#1}");
T("\\mintA", "\\textcolor{##f5f9e8}{#1}");
T("\\mintB", "\\textcolor{##edf2df}{#1}");
T("\\mintC", "\\textcolor{##e0e5cc}{#1}");
T("\\grayA", "\\textcolor{##f6f7f7}{#1}");
T("\\grayB", "\\textcolor{##f0f1f2}{#1}");
T("\\grayC", "\\textcolor{##e3e5e6}{#1}");
T("\\grayD", "\\textcolor{##d6d8da}{#1}");
T("\\grayE", "\\textcolor{##babec2}{#1}");
T("\\grayF", "\\textcolor{##888d93}{#1}");
T("\\grayG", "\\textcolor{##626569}{#1}");
T("\\grayH", "\\textcolor{##3b3e40}{#1}");
T("\\grayI", "\\textcolor{##21242c}{#1}");
T("\\kaBlue", "\\textcolor{##314453}{#1}");
T("\\kaGreen", "\\textcolor{##71B307}{#1}");
var c4 = {
    "^": !0,
    _: !0,
    "\\limits": !0,
    "\\nolimits": !0
};
class vA {
    constructor(t, n, r) {
        this.settings = void 0, this.expansionCount = void 0, this.lexer = void 0, this.macros = void 0, this.stack = void 0, this.mode = void 0, this.settings = n, this.expansionCount = 0, this.feed(t), this.macros = new gA(xA, n.macros), this.mode = r, this.stack = []
    }
    feed(t) {
        this.lexer = new mp(t, this.settings)
    }
    switchMode(t) {
        this.mode = t
    }
    beginGroup() {
        this.macros.beginGroup()
    }
    endGroup() {
        this.macros.endGroup()
    }
    endGroups() {
        this.macros.endGroups()
    }
    future() {
        return this.stack.length === 0 && this.pushToken(this.lexer.lex()), this.stack[this.stack.length - 1]
    }
    popToken() {
        return this.future(), this.stack.pop()
    }
    pushToken(t) {
        this.stack.push(t)
    }
    pushTokens(t) {
        this.stack.push(...t)
    }
    scanArgument(t) {
        var n, r, i;
        if (t) {
            if (this.consumeSpaces(), this.future().text !== "[") return null;
            n = this.popToken(), {
                tokens: i,
                end: r
            } = this.consumeArg(["]"])
        } else({
            tokens: i,
            start: n,
            end: r
        } = this.consumeArg());
        return this.pushToken(new Kn("EOF", r.loc)), this.pushTokens(i), n.range(r, "")
    }
    consumeSpaces() {
        for (;;) {
            var t = this.future();
            if (t.text === " ") this.stack.pop();
            else break
        }
    }
    consumeArg(t) {
        var n = [],
            r = t && t.length > 0;
        r || this.consumeSpaces();
        var i = this.future(),
            s, a = 0,
            o = 0;
        do {
            if (s = this.popToken(), n.push(s), s.text === "{") ++a;
            else if (s.text === "}") {
                if (--a, a === -1) throw new ne("Extra }", s)
            } else if (s.text === "EOF") throw new ne("Unexpected end of input in a macro argument, expected '" + (t && r ? t[o] : "}") + "'", s);
            if (t && r)
                if ((a === 0 || a === 1 && t[o] === "{") && s.text === t[o]) {
                    if (++o, o === t.length) {
                        n.splice(-o, o);
                        break
                    }
                } else o = 0
        } while (a !== 0 || r);
        return i.text === "{" && n[n.length - 1].text === "}" && (n.pop(), n.shift()), n.reverse(), {
            tokens: n,
            start: i,
            end: s
        }
    }
    consumeArgs(t, n) {
        if (n) {
            if (n.length !== t + 1) throw new ne("The length of delimiters doesn't match the number of args!");
            for (var r = n[0], i = 0; i < r.length; i++) {
                var s = this.popToken();
                if (r[i] !== s.text) throw new ne("Use of the macro doesn't match its definition", s)
            }
        }
        for (var a = [], o = 0; o < t; o++) a.push(this.consumeArg(n && n[o + 1]).tokens);
        return a
    }
    countExpansion(t) {
        if (this.expansionCount += t, this.expansionCount > this.settings.maxExpand) throw new ne("Too many expansions: infinite loop or need to increase maxExpand setting")
    }
    expandOnce(t) {
        var n = this.popToken(),
            r = n.text,
            i = n.noexpand ? null : this._getExpansion(r);
        if (i == null || t && i.unexpandable) {
            if (t && i == null && r[0] === "\\" && !this.isDefined(r)) throw new ne("Undefined control sequence: " + r);
            return this.pushToken(n), !1
        }
        this.countExpansion(1);
        var s = i.tokens,
            a = this.consumeArgs(i.numArgs, i.delimiters);
        if (i.numArgs) {
            s = s.slice();
            for (var o = s.length - 1; o >= 0; --o) {
                var c = s[o];
                if (c.text === "#") {
                    if (o === 0) throw new ne("Incomplete placeholder at end of macro body", c);
                    if (c = s[--o], c.text === "#") s.splice(o + 1, 1);
                    else if (/^[1-9]$/.test(c.text)) s.splice(o, 2, ...a[+c.text - 1]);
                    else throw new ne("Not a valid argument number", c)
                }
            }
        }
        return this.pushTokens(s), s.length
    }
    expandAfterFuture() {
        return this.expandOnce(), this.future()
    }
    expandNextToken() {
        for (;;)
            if (this.expandOnce() === !1) {
                var t = this.stack.pop();
                return t.treatAsRelax && (t.text = "\\relax"), t
            } throw new Error
    }
    expandMacro(t) {
        return this.macros.has(t) ? this.expandTokens([new Kn(t)]) : void 0
    }
    expandTokens(t) {
        var n = [],
            r = this.stack.length;
        for (this.pushTokens(t); this.stack.length > r;)
            if (this.expandOnce(!0) === !1) {
                var i = this.stack.pop();
                i.treatAsRelax && (i.noexpand = !1, i.treatAsRelax = !1), n.push(i)
            } return this.countExpansion(n.length), n
    }
    expandMacroAsText(t) {
        var n = this.expandMacro(t);
        return n && n.map(r => r.text).join("")
    }
    _getExpansion(t) {
        var n = this.macros.get(t);
        if (n == null) return n;
        if (t.length === 1) {
            var r = this.lexer.catcodes[t];
            if (r != null && r !== 13) return
        }
        var i = typeof n == "function" ? n(this) : n;
        if (typeof i == "string") {
            var s = 0;
            if (i.indexOf("#") !== -1)
                for (var a = i.replace(/##/g, ""); a.indexOf("#" + (s + 1)) !== -1;) ++s;
            for (var o = new mp(i, this.settings), c = [], u = o.lex(); u.text !== "EOF";) c.push(u), u = o.lex();
            c.reverse();
            var d = {
                tokens: c,
                numArgs: s
            };
            return d
        }
        return i
    }
    isDefined(t) {
        return this.macros.has(t) || hi.hasOwnProperty(t) || pt.math.hasOwnProperty(t) || pt.text.hasOwnProperty(t) || c4.hasOwnProperty(t)
    }
    isExpandable(t) {
        var n = this.macros.get(t);
        return n != null ? typeof n == "string" || typeof n == "function" || !n.unexpandable : hi.hasOwnProperty(t) && !hi[t].primitive
    }
}
var vp = /^[]/,
    To = Object.freeze({
        "": "+",
        "": "-",
        "": "=",
        "": "(",
        "": ")",
        "": "0",
        "": "1",
        "": "2",
        "": "3",
        "": "4",
        "": "5",
        "": "6",
        "": "7",
        "": "8",
        "": "9",
        "": "a",
        "": "e",
        "": "h",
        "": "i",
        "": "j",
        "": "k",
        "": "l",
        "": "m",
        "": "n",
        "": "o",
        "": "p",
        "": "r",
        "": "s",
        "": "t",
        "": "u",
        "": "v",
        "": "x",
        "": "",
        "": "",
        "": "",
        "": "",
        "": "",
        "": "+",
        "": "-",
        "": "=",
        "": "(",
        "": ")",
        "": "0",
        "": "1",
        "": "2",
        "": "3",
        "": "4",
        "": "5",
        "": "6",
        "": "7",
        "": "8",
        "": "9",
        "": "A",
        "": "B",
        "": "D",
        "": "E",
        "": "G",
        "": "H",
        "": "I",
        "": "J",
        "": "K",
        "": "L",
        "": "M",
        "": "N",
        "": "O",
        "": "P",
        "": "R",
        "": "T",
        "": "U",
        "": "V",
        "": "W",
        "": "a",
        "": "b",
        "": "c",
        "": "d",
        "": "e",
        "": "f",
        "": "g",
        : "h",
        "": "i",
        : "j",
        "": "k",
        : "l",
        "": "m",
        : "n",
        "": "o",
        "": "p",
        : "r",
        : "s",
        "": "t",
        "": "u",
        "": "v",
        : "w",
        : "x",
        : "y",
        "": "z",
        "": "",
        "": "",
        "": "",
        "": "",
        "": "",
        "": ""
    }),
    iu = {
        "": {
            text: "\\'",
            math: "\\acute"
        },
        "": {
            text: "\\`",
            math: "\\grave"
        },
        "": {
            text: '\\"',
            math: "\\ddot"
        },
        "": {
            text: "\\~",
            math: "\\tilde"
        },
        "": {
            text: "\\=",
            math: "\\bar"
        },
        "": {
            text: "\\u",
            math: "\\breve"
        },
        "": {
            text: "\\v",
            math: "\\check"
        },
        "": {
            text: "\\^",
            math: "\\hat"
        },
        "": {
            text: "\\.",
            math: "\\dot"
        },
        "": {
            text: "\\r",
            math: "\\mathring"
        },
        "": {
            text: "\\H"
        },
        "": {
            text: "\\c"
        }
    },
    bp = {
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "b",
        : "c",
        : "c",
        : "c",
        : "c",
        : "c",
        : "c",
        : "d",
        : "d",
        : "d",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "f",
        : "g",
        : "g",
        : "g",
        : "g",
        : "g",
        : "g",
        : "g",
        : "h",
        : "h",
        : "h",
        : "h",
        : "h",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "j",
        : "j",
        : "k",
        : "k",
        : "k",
        : "l",
        : "l",
        : "l",
        : "m",
        : "m",
        : "n",
        : "n",
        : "n",
        : "n",
        : "n",
        : "n",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "p",
        : "p",
        : "r",
        : "r",
        : "r",
        : "r",
        : "s",
        : "s",
        : "s",
        : "s",
        : "s",
        : "s",
        : "s",
        : "t",
        : "t",
        : "t",
        : "t",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "v",
        : "w",
        : "w",
        : "w",
        : "w",
        : "w",
        : "w",
        : "x",
        : "x",
        : "y",
        : "y",
        : "y",
        : "y",
        : "y",
        : "y",
        : "y",
        : "y",
        : "z",
        : "z",
        : "z",
        : "z",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "B",
        : "C",
        : "C",
        : "C",
        : "C",
        : "C",
        : "C",
        : "D",
        : "D",
        : "D",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "F",
        : "G",
        : "G",
        : "G",
        : "G",
        : "G",
        : "G",
        : "G",
        : "H",
        : "H",
        : "H",
        : "H",
        : "H",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "J",
        : "K",
        : "K",
        : "K",
        : "L",
        : "L",
        : "L",
        : "M",
        : "M",
        : "N",
        : "N",
        : "N",
        : "N",
        : "N",
        : "N",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "P",
        : "P",
        : "R",
        : "R",
        : "R",
        : "R",
        : "S",
        : "S",
        : "S",
        : "S",
        : "S",
        : "S",
        : "S",
        : "T",
        : "T",
        : "T",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "V",
        : "W",
        : "W",
        : "W",
        : "W",
        : "W",
        : "X",
        : "X",
        : "Y",
        : "Y",
        : "Y",
        : "Y",
        : "Y",
        : "Y",
        : "Y",
        : "Z",
        : "Z",
        : "Z",
        : "Z",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : "",
        : ""
    };
class oc {
    constructor(t, n) {
        this.mode = void 0, this.gullet = void 0, this.settings = void 0, this.leftrightDepth = void 0, this.nextToken = void 0, this.mode = "math", this.gullet = new vA(t, n, this.mode), this.settings = n, this.leftrightDepth = 0
    }
    expect(t, n) {
        if (n === void 0 && (n = !0), this.fetch().text !== t) throw new ne("Expected '" + t + "', got '" + this.fetch().text + "'", this.fetch());
        n && this.consume()
    }
    consume() {
        this.nextToken = null
    }
    fetch() {
        return this.nextToken == null && (this.nextToken = this.gullet.expandNextToken()), this.nextToken
    }
    switchMode(t) {
        this.mode = t, this.gullet.switchMode(t)
    }
    parse() {
        this.settings.globalGroup || this.gullet.beginGroup(), this.settings.colorIsTextColor && this.gullet.macros.set("\\color", "\\textcolor");
        try {
            var t = this.parseExpression(!1);
            return this.expect("EOF"), this.settings.globalGroup || this.gullet.endGroup(), t
        } finally {
            this.gullet.endGroups()
        }
    }
    subparse(t) {
        var n = this.nextToken;
        this.consume(), this.gullet.pushToken(new Kn("}")), this.gullet.pushTokens(t);
        var r = this.parseExpression(!1);
        return this.expect("}"), this.nextToken = n, r
    }
    parseExpression(t, n) {
        for (var r = [];;) {
            this.mode === "math" && this.consumeSpaces();
            var i = this.fetch();
            if (oc.endOfExpression.indexOf(i.text) !== -1 || n && i.text === n || t && hi[i.text] && hi[i.text].infix) break;
            var s = this.parseAtom(n);
            if (s) {
                if (s.type === "internal") continue
            } else break;
            r.push(s)
        }
        return this.mode === "text" && this.formLigatures(r), this.handleInfixNodes(r)
    }
    handleInfixNodes(t) {
        for (var n = -1, r, i = 0; i < t.length; i++)
            if (t[i].type === "infix") {
                if (n !== -1) throw new ne("only one infix operator per group", t[i].token);
                n = i, r = t[i].replaceWith
            } if (n !== -1 && r) {
            var s, a, o = t.slice(0, n),
                c = t.slice(n + 1);
            o.length === 1 && o[0].type === "ordgroup" ? s = o[0] : s = {
                type: "ordgroup",
                mode: this.mode,
                body: o
            }, c.length === 1 && c[0].type === "ordgroup" ? a = c[0] : a = {
                type: "ordgroup",
                mode: this.mode,
                body: c
            };
            var u;
            return r === "\\\\abovefrac" ? u = this.callFunction(r, [s, t[n], a], []) : u = this.callFunction(r, [s, a], []), [u]
        } else return t
    }
    handleSupSubscript(t) {
        var n = this.fetch(),
            r = n.text;
        this.consume(), this.consumeSpaces();
        var i;
        do {
            var s;
            i = this.parseGroup(t)
        } while (((s = i) == null ? void 0 : s.type) === "internal");
        if (!i) throw new ne("Expected group after '" + r + "'", n);
        return i
    }
    formatUnsupportedCmd(t) {
        for (var n = [], r = 0; r < t.length; r++) n.push({
            type: "textord",
            mode: "text",
            text: t[r]
        });
        var i = {
                type: "text",
                mode: this.mode,
                body: n
            },
            s = {
                type: "color",
                mode: this.mode,
                color: this.settings.errorColor,
                body: [i]
            };
        return s
    }
    parseAtom(t) {
        var n = this.parseGroup("atom", t);
        if (n?.type === "internal" || this.mode === "text") return n;
        for (var r, i;;) {
            this.consumeSpaces();
            var s = this.fetch();
            if (s.text === "\\limits" || s.text === "\\nolimits") {
                if (n && n.type === "op") {
                    var a = s.text === "\\limits";
                    n.limits = a, n.alwaysHandleSupSub = !0
                } else if (n && n.type === "operatorname") n.alwaysHandleSupSub && (n.limits = s.text === "\\limits");
                else throw new ne("Limit controls must follow a math operator", s);
                this.consume()
            } else if (s.text === "^") {
                if (r) throw new ne("Double superscript", s);
                r = this.handleSupSubscript("superscript")
            } else if (s.text === "_") {
                if (i) throw new ne("Double subscript", s);
                i = this.handleSupSubscript("subscript")
            } else if (s.text === "'") {
                if (r) throw new ne("Double superscript", s);
                var o = {
                        type: "textord",
                        mode: this.mode,
                        text: "\\prime"
                    },
                    c = [o];
                for (this.consume(); this.fetch().text === "'";) c.push(o), this.consume();
                this.fetch().text === "^" && c.push(this.handleSupSubscript("superscript")), r = {
                    type: "ordgroup",
                    mode: this.mode,
                    body: c
                }
            } else if (To[s.text]) {
                var u = vp.test(s.text),
                    d = [];
                for (d.push(new Kn(To[s.text])), this.consume();;) {
                    var f = this.fetch().text;
                    if (!To[f] || vp.test(f) !== u) break;
                    d.unshift(new Kn(To[f])), this.consume()
                }
                var m = this.subparse(d);
                u ? i = {
                    type: "ordgroup",
                    mode: "math",
                    body: m
                } : r = {
                    type: "ordgroup",
                    mode: "math",
                    body: m
                }
            } else break
        }
        return r || i ? {
            type: "supsub",
            mode: this.mode,
            base: n,
            sup: r,
            sub: i
        } : n
    }
    parseFunction(t, n) {
        var r = this.fetch(),
            i = r.text,
            s = hi[i];
        if (!s) return null;
        if (this.consume(), n && n !== "atom" && !s.allowedInArgument) throw new ne("Got function '" + i + "' with no arguments" + (n ? " as " + n : ""), r);
        if (this.mode === "text" && !s.allowedInText) throw new ne("Can't use function '" + i + "' in text mode", r);
        if (this.mode === "math" && s.allowedInMath === !1) throw new ne("Can't use function '" + i + "' in math mode", r);
        var {
            args: a,
            optArgs: o
        } = this.parseArguments(i, s);
        return this.callFunction(i, a, o, r, t)
    }
    callFunction(t, n, r, i, s) {
        var a = {
                funcName: t,
                parser: this,
                token: i,
                breakOnTokenText: s
            },
            o = hi[t];
        if (o && o.handler) return o.handler(a, n, r);
        throw new ne("No function handler for " + t)
    }
    parseArguments(t, n) {
        var r = n.numArgs + n.numOptionalArgs;
        if (r === 0) return {
            args: [],
            optArgs: []
        };
        for (var i = [], s = [], a = 0; a < r; a++) {
            var o = n.argTypes && n.argTypes[a],
                c = a < n.numOptionalArgs;
            (n.primitive && o == null || n.type === "sqrt" && a === 1 && s[0] == null) && (o = "primitive");
            var u = this.parseGroupOfType("argument to '" + t + "'", o, c);
            if (c) s.push(u);
            else if (u != null) i.push(u);
            else throw new ne("Null argument, please report this as a bug")
        }
        return {
            args: i,
            optArgs: s
        }
    }
    parseGroupOfType(t, n, r) {
        switch (n) {
            case "color":
                return this.parseColorGroup(r);
            case "size":
                return this.parseSizeGroup(r);
            case "url":
                return this.parseUrlGroup(r);
            case "math":
            case "text":
                return this.parseArgumentGroup(r, n);
            case "hbox": {
                var i = this.parseArgumentGroup(r, "text");
                return i != null ? {
                    type: "styling",
                    mode: i.mode,
                    body: [i],
                    style: "text"
                } : null
            }
            case "raw": {
                var s = this.parseStringGroup("raw", r);
                return s != null ? {
                    type: "raw",
                    mode: "text",
                    string: s.text
                } : null
            }
            case "primitive": {
                if (r) throw new ne("A primitive argument cannot be optional");
                var a = this.parseGroup(t);
                if (a == null) throw new ne("Expected group as " + t, this.fetch());
                return a
            }
            case "original":
            case null:
            case void 0:
                return this.parseArgumentGroup(r);
            default:
                throw new ne("Unknown group type as " + t, this.fetch())
        }
    }
    consumeSpaces() {
        for (; this.fetch().text === " ";) this.consume()
    }
    parseStringGroup(t, n) {
        var r = this.gullet.scanArgument(n);
        if (r == null) return null;
        for (var i = "", s;
            (s = this.fetch()).text !== "EOF";) i += s.text, this.consume();
        return this.consume(), r.text = i, r
    }
    parseRegexGroup(t, n) {
        for (var r = this.fetch(), i = r, s = "", a;
            (a = this.fetch()).text !== "EOF" && t.test(s + a.text);) i = a, s += i.text, this.consume();
        if (s === "") throw new ne("Invalid " + n + ": '" + r.text + "'", r);
        return r.range(i, s)
    }
    parseColorGroup(t) {
        var n = this.parseStringGroup("color", t);
        if (n == null) return null;
        var r = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);
        if (!r) throw new ne("Invalid color: '" + n.text + "'", n);
        var i = r[0];
        return /^[0-9a-f]{6}$/i.test(i) && (i = "#" + i), {
            type: "color-token",
            mode: this.mode,
            color: i
        }
    }
    parseSizeGroup(t) {
        var n, r = !1;
        if (this.gullet.consumeSpaces(), !t && this.gullet.future().text !== "{" ? n = this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/, "size") : n = this.parseStringGroup("size", t), !n) return null;
        !t && n.text.length === 0 && (n.text = "0pt", r = !0);
        var i = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);
        if (!i) throw new ne("Invalid size: '" + n.text + "'", n);
        var s = {
            number: +(i[1] + i[2]),
            unit: i[3]
        };
        if (!b5(s)) throw new ne("Invalid unit: '" + s.unit + "'", n);
        return {
            type: "size",
            mode: this.mode,
            value: s,
            isBlank: r
        }
    }
    parseUrlGroup(t) {
        this.gullet.lexer.setCatcode("%", 13), this.gullet.lexer.setCatcode("~", 12);
        var n = this.parseStringGroup("url", t);
        if (this.gullet.lexer.setCatcode("%", 14), this.gullet.lexer.setCatcode("~", 13), n == null) return null;
        var r = n.text.replace(/\\([#$%&~_^{}])/g, "$1");
        return {
            type: "url",
            mode: this.mode,
            url: r
        }
    }
    parseArgumentGroup(t, n) {
        var r = this.gullet.scanArgument(t);
        if (r == null) return null;
        var i = this.mode;
        n && this.switchMode(n), this.gullet.beginGroup();
        var s = this.parseExpression(!1, "EOF");
        this.expect("EOF"), this.gullet.endGroup();
        var a = {
            type: "ordgroup",
            mode: this.mode,
            loc: r.loc,
            body: s
        };
        return n && this.switchMode(i), a
    }
    parseGroup(t, n) {
        var r = this.fetch(),
            i = r.text,
            s;
        if (i === "{" || i === "\\begingroup") {
            this.consume();
            var a = i === "{" ? "}" : "\\endgroup";
            this.gullet.beginGroup();
            var o = this.parseExpression(!1, a),
                c = this.fetch();
            this.expect(a), this.gullet.endGroup(), s = {
                type: "ordgroup",
                mode: this.mode,
                loc: Pn.range(r, c),
                body: o,
                semisimple: i === "\\begingroup" || void 0
            }
        } else if (s = this.parseFunction(n, t) || this.parseSymbol(), s == null && i[0] === "\\" && !c4.hasOwnProperty(i)) {
            if (this.settings.throwOnError) throw new ne("Undefined control sequence: " + i, r);
            s = this.formatUnsupportedCmd(i), this.consume()
        }
        return s
    }
    formLigatures(t) {
        for (var n = t.length - 1, r = 0; r < n; ++r) {
            var i = t[r],
                s = i.text;
            s === "-" && t[r + 1].text === "-" && (r + 1 < n && t[r + 2].text === "-" ? (t.splice(r, 3, {
                type: "textord",
                mode: "text",
                loc: Pn.range(i, t[r + 2]),
                text: "---"
            }), n -= 2) : (t.splice(r, 2, {
                type: "textord",
                mode: "text",
                loc: Pn.range(i, t[r + 1]),
                text: "--"
            }), n -= 1)), (s === "'" || s === "`") && t[r + 1].text === s && (t.splice(r, 2, {
                type: "textord",
                mode: "text",
                loc: Pn.range(i, t[r + 1]),
                text: s + s
            }), n -= 1)
        }
    }
    parseSymbol() {
        var t = this.fetch(),
            n = t.text;
        if (/^\\verb[^a-zA-Z]/.test(n)) {
            this.consume();
            var r = n.slice(5),
                i = r.charAt(0) === "*";
            if (i && (r = r.slice(1)), r.length < 2 || r.charAt(0) !== r.slice(-1)) throw new ne(`\\verb assertion failed --
                    please report what input caused this bug`);
            return r = r.slice(1, -1), {
                type: "verb",
                mode: "text",
                body: r,
                star: i
            }
        }
        bp.hasOwnProperty(n[0]) && !pt[this.mode][n[0]] && (this.settings.strict && this.mode === "math" && this.settings.reportNonstrict("unicodeTextInMathMode", 'Accented Unicode text character "' + n[0] + '" used in math mode', t), n = bp[n[0]] + n.slice(1));
        var s = pA.exec(n);
        s && (n = n.substring(0, s.index), n === "i" ? n = "" : n === "j" && (n = ""));
        var a;
        if (pt[this.mode][n]) {
            this.settings.strict && this.mode === "math" && g0.indexOf(n) >= 0 && this.settings.reportNonstrict("unicodeTextInMathMode", 'Latin-1/Unicode text character "' + n[0] + '" used in math mode', t);
            var o = pt[this.mode][n].group,
                c = Pn.range(t),
                u;
            if (aN.hasOwnProperty(o)) {
                var d = o;
                u = {
                    type: "atom",
                    mode: this.mode,
                    family: d,
                    loc: c,
                    text: n
                }
            } else u = {
                type: o,
                mode: this.mode,
                loc: c,
                text: n
            };
            a = u
        } else if (n.charCodeAt(0) >= 128) this.settings.strict && (v5(n.charCodeAt(0)) ? this.mode === "math" && this.settings.reportNonstrict("unicodeTextInMathMode", 'Unicode text character "' + n[0] + '" used in math mode', t) : this.settings.reportNonstrict("unknownSymbol", 'Unrecognized Unicode character "' + n[0] + '"' + (" (" + n.charCodeAt(0) + ")"), t)), a = {
            type: "textord",
            mode: "text",
            loc: Pn.range(t),
            text: n
        };
        else return null;
        if (this.consume(), s)
            for (var f = 0; f < s[0].length; f++) {
                var m = s[0][f];
                if (!iu[m]) throw new ne("Unknown accent ' " + m + "'", t);
                var p = iu[m][this.mode] || iu[m].text;
                if (!p) throw new ne("Accent " + m + " unsupported in " + this.mode + " mode", t);
                a = {
                    type: "accent",
                    mode: this.mode,
                    loc: Pn.range(t),
                    label: p,
                    isStretchy: !1,
                    isShifty: !0,
                    base: a
                }
            }
        return a
    }
}
oc.endOfExpression = ["}", "\\endgroup", "\\end", "\\right", "&"];
var af = function(t, n) {
        if (!(typeof t == "string" || t instanceof String)) throw new TypeError("KaTeX can only parse string typed expression");
        var r = new oc(t, n);
        delete r.gullet.macros.current["\\df@tag"];
        var i = r.parse();
        if (delete r.gullet.macros.current["\\current@color"], delete r.gullet.macros.current["\\color"], r.gullet.macros.get("\\df@tag")) {
            if (!n.displayMode) throw new ne("\\tag works only in display equations");
            i = [{
                type: "tag",
                mode: "text",
                body: i,
                tag: r.subparse([new Kn("\\df@tag")])
            }]
        }
        return i
    },
    u4 = function(t, n, r) {
        n.textContent = "";
        var i = of(t, r).toNode();
        n.appendChild(i)
    };
typeof document < "u" && document.compatMode !== "CSS1Compat" && (typeof console < "u" && console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."), u4 = function() {
    throw new ne("KaTeX doesn't work in quirks mode.")
});
var bA = function(t, n) {
        var r = of(t, n).toMarkup();
        return r
    },
    yA = function(t, n) {
        var r = new $d(n);
        return af(t, r)
    },
    d4 = function(t, n, r) {
        if (r.throwOnError || !(t instanceof ne)) throw t;
        var i = q.makeSpan(["katex-error"], [new Zn(n)]);
        return i.setAttribute("title", t.toString()), i.setAttribute("style", "color:" + r.errorColor), i
    },
    of = function(t, n) {
        var r = new $d(n);
        try {
            var i = af(t, r);
            return IN(i, t, r)
        } catch (s) {
            return d4(s, t, r)
        }
    },
    wA = function(t, n) {
        var r = new $d(n);
        try {
            var i = af(t, r);
            return jN(i, t, r)
        } catch (s) {
            return d4(s, t, r)
        }
    },
    SA = "0.16.22",
    CA = {
        Span: io,
        Anchor: Vd,
        SymbolNode: Zn,
        SvgNode: Zr,
        PathNode: vi,
        LineNode: m0
    },
    yp = {
        version: SA,
        render: u4,
        renderToString: bA,
        ParseError: ne,
        SETTINGS_SCHEMA: Go,
        __parse: yA,
        __renderToDomTree: of,
        __renderToHTMLTree: wA,
        __setFontMetrics: QE,
        __defineSymbol: v,
        __defineFunction: me,
        __defineMacro: T,
        __domTree: CA
    };
const kA = {},
    EA = [];

function NA(e) {
    const t = e || kA;
    return function(n, r) {
        _d(n, "element", function(i, s) {
            const a = Array.isArray(i.properties.className) ? i.properties.className : EA,
                o = a.includes("language-math"),
                c = a.includes("math-display"),
                u = a.includes("math-inline");
            let d = c;
            if (!o && !c && !u) return;
            let f = s[s.length - 1],
                m = i;
            if (i.tagName === "code" && o && f && f.type === "element" && f.tagName === "pre" && (m = f, f = s[s.length - 2], d = !0), !f) return;
            const p = xE(m, {
                whitespace: "pre"
            });
            let g;
            try {
                g = yp.renderToString(p, {
                    ...t,
                    displayMode: d,
                    throwOnError: !0
                })
            } catch (y) {
                const b = y,
                    w = b.name.toLowerCase();
                r.message("Could not render math with KaTeX", {
                    ancestors: [...s, i],
                    cause: b,
                    place: i.position,
                    ruleId: w,
                    source: "rehype-katex"
                });
                try {
                    g = yp.renderToString(p, {
                        ...t,
                        displayMode: d,
                        strict: "ignore",
                        throwOnError: !1
                    })
                } catch {
                    g = [{
                        type: "element",
                        tagName: "span",
                        properties: {
                            className: ["katex-error"],
                            style: "color:" + (t.errorColor || "#cc0000"),
                            title: String(y)
                        },
                        children: [{
                            type: "text",
                            value: p
                        }]
                    }]
                }
            }
            typeof g == "string" && (g = cE(g).children);
            const x = f.children.indexOf(m);
            return f.children.splice(x, 1, ...g), o5
        })
    }
}

function wp(e, t) {
    const n = String(e);
    if (typeof t != "string") throw new TypeError("Expected character");
    let r = 0,
        i = n.indexOf(t);
    for (; i !== -1;) r++, i = n.indexOf(t, i + t.length);
    return r
}

function AA(e) {
    if (typeof e != "string") throw new TypeError("Expected a string");
    return e.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d")
}

function TA(e, t, n) {
    const i = to((n || {}).ignore || []),
        s = IA(t);
    let a = -1;
    for (; ++a < s.length;) _d(e, "text", o);

    function o(u, d) {
        let f = -1,
            m;
        for (; ++f < d.length;) {
            const p = d[f],
                g = m ? m.children : void 0;
            if (i(p, g ? g.indexOf(p) : void 0, m)) return;
            m = p
        }
        if (m) return c(u, d)
    }

    function c(u, d) {
        const f = d[d.length - 1],
            m = s[a][0],
            p = s[a][1];
        let g = 0;
        const y = f.children.indexOf(u);
        let b = !1,
            w = [];
        m.lastIndex = 0;
        let C = m.exec(u.value);
        for (; C;) {
            const E = C.index,
                A = {
                    index: C.index,
                    input: C.input,
                    stack: [...d, u]
                };
            let N = p(...C, A);
            if (typeof N == "string" && (N = N.length > 0 ? {
                    type: "text",
                    value: N
                } : void 0), N === !1 ? m.lastIndex = E + 1 : (g !== E && w.push({
                    type: "text",
                    value: u.value.slice(g, E)
                }), Array.isArray(N) ? w.push(...N) : N && w.push(N), g = E + C[0].length, b = !0), !m.global) break;
            C = m.exec(u.value)
        }
        return b ? (g < u.value.length && w.push({
            type: "text",
            value: u.value.slice(g)
        }), f.children.splice(y, 1, ...w)) : w = [u], y + w.length
    }
}

function IA(e) {
    const t = [];
    if (!Array.isArray(e)) throw new TypeError("Expected find and replace tuple or list of tuples");
    const n = !e[0] || Array.isArray(e[0]) ? e : [e];
    let r = -1;
    for (; ++r < n.length;) {
        const i = n[r];
        t.push([jA(i[0]), MA(i[1])])
    }
    return t
}

function jA(e) {
    return typeof e == "string" ? new RegExp(AA(e), "g") : e
}

function MA(e) {
    return typeof e == "function" ? e : function() {
        return e
    }
}
const su = "phrasing",
    au = ["autolink", "link", "image", "label"];

function RA() {
    return {
        transforms: [zA],
        enter: {
            literalAutolink: PA,
            literalAutolinkEmail: ou,
            literalAutolinkHttp: ou,
            literalAutolinkWww: ou
        },
        exit: {
            literalAutolink: FA,
            literalAutolinkEmail: _A,
            literalAutolinkHttp: LA,
            literalAutolinkWww: DA
        }
    }
}

function OA() {
    return {
        unsafe: [{
            character: "@",
            before: "[+\\-.\\w]",
            after: "[\\-.\\w]",
            inConstruct: su,
            notInConstruct: au
        }, {
            character: ".",
            before: "[Ww]",
            after: "[\\-.\\w]",
            inConstruct: su,
            notInConstruct: au
        }, {
            character: ":",
            before: "[ps]",
            after: "\\/",
            inConstruct: su,
            notInConstruct: au
        }]
    }
}

function PA(e) {
    this.enter({
        type: "link",
        title: null,
        url: "",
        children: []
    }, e)
}

function ou(e) {
    this.config.enter.autolinkProtocol.call(this, e)
}

function LA(e) {
    this.config.exit.autolinkProtocol.call(this, e)
}

function DA(e) {
    this.config.exit.data.call(this, e);
    const t = this.stack[this.stack.length - 1];
    t.type, t.url = "http://" + this.sliceSerialize(e)
}

function _A(e) {
    this.config.exit.autolinkEmail.call(this, e)
}

function FA(e) {
    this.exit(e)
}

function zA(e) {
    TA(e, [
        [/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi, BA],
        [new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)", "gu"), $A]
    ], {
        ignore: ["link", "linkReference"]
    })
}

function BA(e, t, n, r, i) {
    let s = "";
    if (!f4(i) || (/^w/i.test(t) && (n = t + n, t = "", s = "http://"), !HA(n))) return !1;
    const a = UA(n + r);
    if (!a[0]) return !1;
    const o = {
        type: "link",
        title: null,
        url: s + t + a[0],
        children: [{
            type: "text",
            value: t + a[0]
        }]
    };
    return a[1] ? [o, {
        type: "text",
        value: a[1]
    }] : o
}

function $A(e, t, n, r) {
    return !f4(r, !0) || /[-\d_]$/.test(n) ? !1 : {
        type: "link",
        title: null,
        url: "mailto:" + t + "@" + n,
        children: [{
            type: "text",
            value: t + "@" + n
        }]
    }
}

function HA(e) {
    const t = e.split(".");
    return !(t.length < 2 || t[t.length - 1] && (/_/.test(t[t.length - 1]) || !/[a-zA-Z\d]/.test(t[t.length - 1])) || t[t.length - 2] && (/_/.test(t[t.length - 2]) || !/[a-zA-Z\d]/.test(t[t.length - 2])))
}

function UA(e) {
    const t = /[!"&'),.:;<>?\]}]+$/.exec(e);
    if (!t) return [e, void 0];
    e = e.slice(0, t.index);
    let n = t[0],
        r = n.indexOf(")");
    const i = wp(e, "(");
    let s = wp(e, ")");
    for (; r !== -1 && i > s;) e += n.slice(0, r + 1), n = n.slice(r + 1), r = n.indexOf(")"), s++;
    return [e, n]
}

function f4(e, t) {
    const n = e.input.charCodeAt(e.index - 1);
    return (e.index === 0 || Vi(n) || Zl(n)) && (!t || n !== 47)
}
h4.peek = QA;

function VA() {
    this.buffer()
}

function WA(e) {
    this.enter({
        type: "footnoteReference",
        identifier: "",
        label: ""
    }, e)
}

function qA() {
    this.buffer()
}

function GA(e) {
    this.enter({
        type: "footnoteDefinition",
        identifier: "",
        label: "",
        children: []
    }, e)
}

function YA(e) {
    const t = this.resume(),
        n = this.stack[this.stack.length - 1];
    n.type, n.identifier = lr(this.sliceSerialize(e)).toLowerCase(), n.label = t
}

function KA(e) {
    this.exit(e)
}

function XA(e) {
    const t = this.resume(),
        n = this.stack[this.stack.length - 1];
    n.type, n.identifier = lr(this.sliceSerialize(e)).toLowerCase(), n.label = t
}

function ZA(e) {
    this.exit(e)
}

function QA() {
    return "["
}

function h4(e, t, n, r) {
    const i = n.createTracker(r);
    let s = i.move("[^");
    const a = n.enter("footnoteReference"),
        o = n.enter("reference");
    return s += i.move(n.safe(n.associationId(e), {
        after: "]",
        before: s
    })), o(), a(), s += i.move("]"), s
}

function JA() {
    return {
        enter: {
            gfmFootnoteCallString: VA,
            gfmFootnoteCall: WA,
            gfmFootnoteDefinitionLabelString: qA,
            gfmFootnoteDefinition: GA
        },
        exit: {
            gfmFootnoteCallString: YA,
            gfmFootnoteCall: KA,
            gfmFootnoteDefinitionLabelString: XA,
            gfmFootnoteDefinition: ZA
        }
    }
}

function eT(e) {
    let t = !1;
    return e && e.firstLineBlank && (t = !0), {
        handlers: {
            footnoteDefinition: n,
            footnoteReference: h4
        },
        unsafe: [{
            character: "[",
            inConstruct: ["label", "phrasing", "reference"]
        }]
    };

    function n(r, i, s, a) {
        const o = s.createTracker(a);
        let c = o.move("[^");
        const u = s.enter("footnoteDefinition"),
            d = s.enter("label");
        return c += o.move(s.safe(s.associationId(r), {
            before: c,
            after: "]"
        })), d(), c += o.move("]:"), r.children && r.children.length > 0 && (o.shift(4), c += o.move((t ? `
` : " ") + s.indentLines(s.containerFlow(r, o.current()), t ? p4 : tT))), u(), c
    }
}

function tT(e, t, n) {
    return t === 0 ? e : p4(e, t, n)
}

function p4(e, t, n) {
    return (n ? "" : "    ") + e
}
const nT = ["autolink", "destinationLiteral", "destinationRaw", "reference", "titleQuote", "titleApostrophe"];
m4.peek = oT;

function rT() {
    return {
        canContainEols: ["delete"],
        enter: {
            strikethrough: sT
        },
        exit: {
            strikethrough: aT
        }
    }
}

function iT() {
    return {
        unsafe: [{
            character: "~",
            inConstruct: "phrasing",
            notInConstruct: nT
        }],
        handlers: {
            delete: m4
        }
    }
}

function sT(e) {
    this.enter({
        type: "delete",
        children: []
    }, e)
}

function aT(e) {
    this.exit(e)
}

function m4(e, t, n, r) {
    const i = n.createTracker(r),
        s = n.enter("strikethrough");
    let a = i.move("~~");
    return a += n.containerPhrasing(e, {
        ...i.current(),
        before: a,
        after: "~"
    }), a += i.move("~~"), s(), a
}

function oT() {
    return "~"
}

function lT(e) {
    return e.length
}

function cT(e, t) {
    const n = t || {},
        r = (n.align || []).concat(),
        i = n.stringLength || lT,
        s = [],
        a = [],
        o = [],
        c = [];
    let u = 0,
        d = -1;
    for (; ++d < e.length;) {
        const x = [],
            y = [];
        let b = -1;
        for (e[d].length > u && (u = e[d].length); ++b < e[d].length;) {
            const w = uT(e[d][b]);
            if (n.alignDelimiters !== !1) {
                const C = i(w);
                y[b] = C, (c[b] === void 0 || C > c[b]) && (c[b] = C)
            }
            x.push(w)
        }
        a[d] = x, o[d] = y
    }
    let f = -1;
    if (typeof r == "object" && "length" in r)
        for (; ++f < u;) s[f] = Sp(r[f]);
    else {
        const x = Sp(r);
        for (; ++f < u;) s[f] = x
    }
    f = -1;
    const m = [],
        p = [];
    for (; ++f < u;) {
        const x = s[f];
        let y = "",
            b = "";
        x === 99 ? (y = ":", b = ":") : x === 108 ? y = ":" : x === 114 && (b = ":");
        let w = n.alignDelimiters === !1 ? 1 : Math.max(1, c[f] - y.length - b.length);
        const C = y + "-".repeat(w) + b;
        n.alignDelimiters !== !1 && (w = y.length + w + b.length, w > c[f] && (c[f] = w), p[f] = w), m[f] = C
    }
    a.splice(1, 0, m), o.splice(1, 0, p), d = -1;
    const g = [];
    for (; ++d < a.length;) {
        const x = a[d],
            y = o[d];
        f = -1;
        const b = [];
        for (; ++f < u;) {
            const w = x[f] || "";
            let C = "",
                E = "";
            if (n.alignDelimiters !== !1) {
                const A = c[f] - (y[f] || 0),
                    N = s[f];
                N === 114 ? C = " ".repeat(A) : N === 99 ? A % 2 ? (C = " ".repeat(A / 2 + .5), E = " ".repeat(A / 2 - .5)) : (C = " ".repeat(A / 2), E = C) : E = " ".repeat(A)
            }
            n.delimiterStart !== !1 && !f && b.push("|"), n.padding !== !1 && !(n.alignDelimiters === !1 && w === "") && (n.delimiterStart !== !1 || f) && b.push(" "), n.alignDelimiters !== !1 && b.push(C), b.push(w), n.alignDelimiters !== !1 && b.push(E), n.padding !== !1 && b.push(" "), (n.delimiterEnd !== !1 || f !== u - 1) && b.push("|")
        }
        g.push(n.delimiterEnd === !1 ? b.join("").replace(/ +$/, "") : b.join(""))
    }
    return g.join(`
`)
}

function uT(e) {
    return e == null ? "" : String(e)
}

function Sp(e) {
    const t = typeof e == "string" ? e.codePointAt(0) : 0;
    return t === 67 || t === 99 ? 99 : t === 76 || t === 108 ? 108 : t === 82 || t === 114 ? 114 : 0
}

function dT(e, t, n, r) {
    const i = n.enter("blockquote"),
        s = n.createTracker(r);
    s.move("> "), s.shift(2);
    const a = n.indentLines(n.containerFlow(e, s.current()), fT);
    return i(), a
}

function fT(e, t, n) {
    return ">" + (n ? "" : " ") + e
}

function hT(e, t) {
    return Cp(e, t.inConstruct, !0) && !Cp(e, t.notInConstruct, !1)
}

function Cp(e, t, n) {
    if (typeof t == "string" && (t = [t]), !t || t.length === 0) return n;
    let r = -1;
    for (; ++r < t.length;)
        if (e.includes(t[r])) return !0;
    return !1
}

function kp(e, t, n, r) {
    let i = -1;
    for (; ++i < n.unsafe.length;)
        if (n.unsafe[i].character === `
` && hT(n.stack, n.unsafe[i])) return /[ \t]/.test(r.before) ? "" : " ";
    return `\\
`
}

function g4(e, t) {
    const n = String(e);
    let r = n.indexOf(t),
        i = r,
        s = 0,
        a = 0;
    if (typeof t != "string") throw new TypeError("Expected substring");
    for (; r !== -1;) r === i ? ++s > a && (a = s) : s = 1, i = r + t.length, r = n.indexOf(t, i);
    return a
}

function pT(e, t) {
    return !!(t.options.fences === !1 && e.value && !e.lang && /[^ \r\n]/.test(e.value) && !/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))
}

function mT(e) {
    const t = e.options.fence || "`";
    if (t !== "`" && t !== "~") throw new Error("Cannot serialize code with `" + t + "` for `options.fence`, expected `` ` `` or `~`");
    return t
}

function gT(e, t, n, r) {
    const i = mT(n),
        s = e.value || "",
        a = i === "`" ? "GraveAccent" : "Tilde";
    if (pT(e, n)) {
        const f = n.enter("codeIndented"),
            m = n.indentLines(s, xT);
        return f(), m
    }
    const o = n.createTracker(r),
        c = i.repeat(Math.max(g4(s, i) + 1, 3)),
        u = n.enter("codeFenced");
    let d = o.move(c);
    if (e.lang) {
        const f = n.enter(`codeFencedLang${a}`);
        d += o.move(n.safe(e.lang, {
            before: d,
            after: " ",
            encode: ["`"],
            ...o.current()
        })), f()
    }
    if (e.lang && e.meta) {
        const f = n.enter(`codeFencedMeta${a}`);
        d += o.move(" "), d += o.move(n.safe(e.meta, {
            before: d,
            after: `
`,
            encode: ["`"],
            ...o.current()
        })), f()
    }
    return d += o.move(`
`), s && (d += o.move(s + `
`)), d += o.move(c), u(), d
}

function xT(e, t, n) {
    return (n ? "" : "    ") + e
}

function lf(e) {
    const t = e.options.quote || '"';
    if (t !== '"' && t !== "'") throw new Error("Cannot serialize title with `" + t + "` for `options.quote`, expected `\"`, or `'`");
    return t
}

function vT(e, t, n, r) {
    const i = lf(n),
        s = i === '"' ? "Quote" : "Apostrophe",
        a = n.enter("definition");
    let o = n.enter("label");
    const c = n.createTracker(r);
    let u = c.move("[");
    return u += c.move(n.safe(n.associationId(e), {
        before: u,
        after: "]",
        ...c.current()
    })), u += c.move("]: "), o(), !e.url || /[\0- \u007F]/.test(e.url) ? (o = n.enter("destinationLiteral"), u += c.move("<"), u += c.move(n.safe(e.url, {
        before: u,
        after: ">",
        ...c.current()
    })), u += c.move(">")) : (o = n.enter("destinationRaw"), u += c.move(n.safe(e.url, {
        before: u,
        after: e.title ? " " : `
`,
        ...c.current()
    }))), o(), e.title && (o = n.enter(`title${s}`), u += c.move(" " + i), u += c.move(n.safe(e.title, {
        before: u,
        after: i,
        ...c.current()
    })), u += c.move(i), o()), a(), u
}

function bT(e) {
    const t = e.options.emphasis || "*";
    if (t !== "*" && t !== "_") throw new Error("Cannot serialize emphasis with `" + t + "` for `options.emphasis`, expected `*`, or `_`");
    return t
}

function za(e) {
    return "&#x" + e.toString(16).toUpperCase() + ";"
}

function vl(e, t, n) {
    const r = _s(e),
        i = _s(t);
    return r === void 0 ? i === void 0 ? n === "_" ? {
        inside: !0,
        outside: !0
    } : {
        inside: !1,
        outside: !1
    } : i === 1 ? {
        inside: !0,
        outside: !0
    } : {
        inside: !1,
        outside: !0
    } : r === 1 ? i === void 0 ? {
        inside: !1,
        outside: !1
    } : i === 1 ? {
        inside: !0,
        outside: !0
    } : {
        inside: !1,
        outside: !1
    } : i === void 0 ? {
        inside: !1,
        outside: !1
    } : i === 1 ? {
        inside: !0,
        outside: !1
    } : {
        inside: !1,
        outside: !1
    }
}
x4.peek = yT;

function x4(e, t, n, r) {
    const i = bT(n),
        s = n.enter("emphasis"),
        a = n.createTracker(r),
        o = a.move(i);
    let c = a.move(n.containerPhrasing(e, {
        after: i,
        before: o,
        ...a.current()
    }));
    const u = c.charCodeAt(0),
        d = vl(r.before.charCodeAt(r.before.length - 1), u, i);
    d.inside && (c = za(u) + c.slice(1));
    const f = c.charCodeAt(c.length - 1),
        m = vl(r.after.charCodeAt(0), f, i);
    m.inside && (c = c.slice(0, -1) + za(f));
    const p = a.move(i);
    return s(), n.attentionEncodeSurroundingInfo = {
        after: m.outside,
        before: d.outside
    }, o + c + p
}

function yT(e, t, n) {
    return n.options.emphasis || "*"
}

function wT(e, t) {
    let n = !1;
    return Fd(e, function(r) {
        if ("value" in r && /\r?\n|\r/.test(r.value) || r.type === "break") return n = !0, o0
    }), !!((!e.depth || e.depth < 3) && jd(e) && (t.options.setext || n))
}

function ST(e, t, n, r) {
    const i = Math.max(Math.min(6, e.depth || 1), 1),
        s = n.createTracker(r);
    if (wT(e, n)) {
        const d = n.enter("headingSetext"),
            f = n.enter("phrasing"),
            m = n.containerPhrasing(e, {
                ...s.current(),
                before: `
`,
                after: `
`
            });
        return f(), d(), m + `
` + (i === 1 ? "=" : "-").repeat(m.length - (Math.max(m.lastIndexOf("\r"), m.lastIndexOf(`
`)) + 1))
    }
    const a = "#".repeat(i),
        o = n.enter("headingAtx"),
        c = n.enter("phrasing");
    s.move(a + " ");
    let u = n.containerPhrasing(e, {
        before: "# ",
        after: `
`,
        ...s.current()
    });
    return /^[\t ]/.test(u) && (u = za(u.charCodeAt(0)) + u.slice(1)), u = u ? a + " " + u : a, n.options.closeAtx && (u += " " + a), c(), o(), u
}
v4.peek = CT;

function v4(e) {
    return e.value || ""
}

function CT() {
    return "<"
}
b4.peek = kT;

function b4(e, t, n, r) {
    const i = lf(n),
        s = i === '"' ? "Quote" : "Apostrophe",
        a = n.enter("image");
    let o = n.enter("label");
    const c = n.createTracker(r);
    let u = c.move("![");
    return u += c.move(n.safe(e.alt, {
        before: u,
        after: "]",
        ...c.current()
    })), u += c.move("]("), o(), !e.url && e.title || /[\0- \u007F]/.test(e.url) ? (o = n.enter("destinationLiteral"), u += c.move("<"), u += c.move(n.safe(e.url, {
        before: u,
        after: ">",
        ...c.current()
    })), u += c.move(">")) : (o = n.enter("destinationRaw"), u += c.move(n.safe(e.url, {
        before: u,
        after: e.title ? " " : ")",
        ...c.current()
    }))), o(), e.title && (o = n.enter(`title${s}`), u += c.move(" " + i), u += c.move(n.safe(e.title, {
        before: u,
        after: i,
        ...c.current()
    })), u += c.move(i), o()), u += c.move(")"), a(), u
}

function kT() {
    return "!"
}
y4.peek = ET;

function y4(e, t, n, r) {
    const i = e.referenceType,
        s = n.enter("imageReference");
    let a = n.enter("label");
    const o = n.createTracker(r);
    let c = o.move("![");
    const u = n.safe(e.alt, {
        before: c,
        after: "]",
        ...o.current()
    });
    c += o.move(u + "]["), a();
    const d = n.stack;
    n.stack = [], a = n.enter("reference");
    const f = n.safe(n.associationId(e), {
        before: c,
        after: "]",
        ...o.current()
    });
    return a(), n.stack = d, s(), i === "full" || !u || u !== f ? c += o.move(f + "]") : i === "shortcut" ? c = c.slice(0, -1) : c += o.move("]"), c
}

function ET() {
    return "!"
}
w4.peek = NT;

function w4(e, t, n) {
    let r = e.value || "",
        i = "`",
        s = -1;
    for (; new RegExp("(^|[^`])" + i + "([^`]|$)").test(r);) i += "`";
    for (/[^ \r\n]/.test(r) && (/^[ \r\n]/.test(r) && /[ \r\n]$/.test(r) || /^`|`$/.test(r)) && (r = " " + r + " "); ++s < n.unsafe.length;) {
        const a = n.unsafe[s],
            o = n.compilePattern(a);
        let c;
        if (a.atBreak)
            for (; c = o.exec(r);) {
                let u = c.index;
                r.charCodeAt(u) === 10 && r.charCodeAt(u - 1) === 13 && u--, r = r.slice(0, u) + " " + r.slice(c.index + 1)
            }
    }
    return i + r + i
}

function NT() {
    return "`"
}

function S4(e, t) {
    const n = jd(e);
    return !!(!t.options.resourceLink && e.url && !e.title && e.children && e.children.length === 1 && e.children[0].type === "text" && (n === e.url || "mailto:" + n === e.url) && /^[a-z][a-z+.-]+:/i.test(e.url) && !/[\0- <>\u007F]/.test(e.url))
}
C4.peek = AT;

function C4(e, t, n, r) {
    const i = lf(n),
        s = i === '"' ? "Quote" : "Apostrophe",
        a = n.createTracker(r);
    let o, c;
    if (S4(e, n)) {
        const d = n.stack;
        n.stack = [], o = n.enter("autolink");
        let f = a.move("<");
        return f += a.move(n.containerPhrasing(e, {
            before: f,
            after: ">",
            ...a.current()
        })), f += a.move(">"), o(), n.stack = d, f
    }
    o = n.enter("link"), c = n.enter("label");
    let u = a.move("[");
    return u += a.move(n.containerPhrasing(e, {
        before: u,
        after: "](",
        ...a.current()
    })), u += a.move("]("), c(), !e.url && e.title || /[\0- \u007F]/.test(e.url) ? (c = n.enter("destinationLiteral"), u += a.move("<"), u += a.move(n.safe(e.url, {
        before: u,
        after: ">",
        ...a.current()
    })), u += a.move(">")) : (c = n.enter("destinationRaw"), u += a.move(n.safe(e.url, {
        before: u,
        after: e.title ? " " : ")",
        ...a.current()
    }))), c(), e.title && (c = n.enter(`title${s}`), u += a.move(" " + i), u += a.move(n.safe(e.title, {
        before: u,
        after: i,
        ...a.current()
    })), u += a.move(i), c()), u += a.move(")"), o(), u
}

function AT(e, t, n) {
    return S4(e, n) ? "<" : "["
}
k4.peek = TT;

function k4(e, t, n, r) {
    const i = e.referenceType,
        s = n.enter("linkReference");
    let a = n.enter("label");
    const o = n.createTracker(r);
    let c = o.move("[");
    const u = n.containerPhrasing(e, {
        before: c,
        after: "]",
        ...o.current()
    });
    c += o.move(u + "]["), a();
    const d = n.stack;
    n.stack = [], a = n.enter("reference");
    const f = n.safe(n.associationId(e), {
        before: c,
        after: "]",
        ...o.current()
    });
    return a(), n.stack = d, s(), i === "full" || !u || u !== f ? c += o.move(f + "]") : i === "shortcut" ? c = c.slice(0, -1) : c += o.move("]"), c
}

function TT() {
    return "["
}

function cf(e) {
    const t = e.options.bullet || "*";
    if (t !== "*" && t !== "+" && t !== "-") throw new Error("Cannot serialize items with `" + t + "` for `options.bullet`, expected `*`, `+`, or `-`");
    return t
}

function IT(e) {
    const t = cf(e),
        n = e.options.bulletOther;
    if (!n) return t === "*" ? "-" : "*";
    if (n !== "*" && n !== "+" && n !== "-") throw new Error("Cannot serialize items with `" + n + "` for `options.bulletOther`, expected `*`, `+`, or `-`");
    if (n === t) throw new Error("Expected `bullet` (`" + t + "`) and `bulletOther` (`" + n + "`) to be different");
    return n
}

function jT(e) {
    const t = e.options.bulletOrdered || ".";
    if (t !== "." && t !== ")") throw new Error("Cannot serialize items with `" + t + "` for `options.bulletOrdered`, expected `.` or `)`");
    return t
}

function E4(e) {
    const t = e.options.rule || "*";
    if (t !== "*" && t !== "-" && t !== "_") throw new Error("Cannot serialize rules with `" + t + "` for `options.rule`, expected `*`, `-`, or `_`");
    return t
}

function MT(e, t, n, r) {
    const i = n.enter("list"),
        s = n.bulletCurrent;
    let a = e.ordered ? jT(n) : cf(n);
    const o = e.ordered ? a === "." ? ")" : "." : IT(n);
    let c = t && n.bulletLastUsed ? a === n.bulletLastUsed : !1;
    if (!e.ordered) {
        const d = e.children ? e.children[0] : void 0;
        if ((a === "*" || a === "-") && d && (!d.children || !d.children[0]) && n.stack[n.stack.length - 1] === "list" && n.stack[n.stack.length - 2] === "listItem" && n.stack[n.stack.length - 3] === "list" && n.stack[n.stack.length - 4] === "listItem" && n.indexStack[n.indexStack.length - 1] === 0 && n.indexStack[n.indexStack.length - 2] === 0 && n.indexStack[n.indexStack.length - 3] === 0 && (c = !0), E4(n) === a && d) {
            let f = -1;
            for (; ++f < e.children.length;) {
                const m = e.children[f];
                if (m && m.type === "listItem" && m.children && m.children[0] && m.children[0].type === "thematicBreak") {
                    c = !0;
                    break
                }
            }
        }
    }
    c && (a = o), n.bulletCurrent = a;
    const u = n.containerFlow(e, r);
    return n.bulletLastUsed = a, n.bulletCurrent = s, i(), u
}

function RT(e) {
    const t = e.options.listItemIndent || "one";
    if (t !== "tab" && t !== "one" && t !== "mixed") throw new Error("Cannot serialize items with `" + t + "` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");
    return t
}

function OT(e, t, n, r) {
    const i = RT(n);
    let s = n.bulletCurrent || cf(n);
    t && t.type === "list" && t.ordered && (s = (typeof t.start == "number" && t.start > -1 ? t.start : 1) + (n.options.incrementListMarker === !1 ? 0 : t.children.indexOf(e)) + s);
    let a = s.length + 1;
    (i === "tab" || i === "mixed" && (t && t.type === "list" && t.spread || e.spread)) && (a = Math.ceil(a / 4) * 4);
    const o = n.createTracker(r);
    o.move(s + " ".repeat(a - s.length)), o.shift(a);
    const c = n.enter("listItem"),
        u = n.indentLines(n.containerFlow(e, o.current()), d);
    return c(), u;

    function d(f, m, p) {
        return m ? (p ? "" : " ".repeat(a)) + f : (p ? s : s + " ".repeat(a - s.length)) + f
    }
}

function PT(e, t, n, r) {
    const i = n.enter("paragraph"),
        s = n.enter("phrasing"),
        a = n.containerPhrasing(e, r);
    return s(), i(), a
}
const LT = to(["break", "delete", "emphasis", "footnote", "footnoteReference", "image", "imageReference", "inlineCode", "inlineMath", "link", "linkReference", "mdxJsxTextElement", "mdxTextExpression", "strong", "text", "textDirective"]);

function DT(e, t, n, r) {
    return (e.children.some(function(a) {
        return LT(a)
    }) ? n.containerPhrasing : n.containerFlow).call(n, e, r)
}

function _T(e) {
    const t = e.options.strong || "*";
    if (t !== "*" && t !== "_") throw new Error("Cannot serialize strong with `" + t + "` for `options.strong`, expected `*`, or `_`");
    return t
}
N4.peek = FT;

function N4(e, t, n, r) {
    const i = _T(n),
        s = n.enter("strong"),
        a = n.createTracker(r),
        o = a.move(i + i);
    let c = a.move(n.containerPhrasing(e, {
        after: i,
        before: o,
        ...a.current()
    }));
    const u = c.charCodeAt(0),
        d = vl(r.before.charCodeAt(r.before.length - 1), u, i);
    d.inside && (c = za(u) + c.slice(1));
    const f = c.charCodeAt(c.length - 1),
        m = vl(r.after.charCodeAt(0), f, i);
    m.inside && (c = c.slice(0, -1) + za(f));
    const p = a.move(i + i);
    return s(), n.attentionEncodeSurroundingInfo = {
        after: m.outside,
        before: d.outside
    }, o + c + p
}

function FT(e, t, n) {
    return n.options.strong || "*"
}

function zT(e, t, n, r) {
    return n.safe(e.value, r)
}

function BT(e) {
    const t = e.options.ruleRepetition || 3;
    if (t < 3) throw new Error("Cannot serialize rules with repetition `" + t + "` for `options.ruleRepetition`, expected `3` or more");
    return t
}

function $T(e, t, n) {
    const r = (E4(n) + (n.options.ruleSpaces ? " " : "")).repeat(BT(n));
    return n.options.ruleSpaces ? r.slice(0, -1) : r
}
const A4 = {
    blockquote: dT,
    break: kp,
    code: gT,
    definition: vT,
    emphasis: x4,
    hardBreak: kp,
    heading: ST,
    html: v4,
    image: b4,
    imageReference: y4,
    inlineCode: w4,
    link: C4,
    linkReference: k4,
    list: MT,
    listItem: OT,
    paragraph: PT,
    root: DT,
    strong: N4,
    text: zT,
    thematicBreak: $T
};

function HT() {
    return {
        enter: {
            table: UT,
            tableData: Ep,
            tableHeader: Ep,
            tableRow: WT
        },
        exit: {
            codeText: qT,
            table: VT,
            tableData: lu,
            tableHeader: lu,
            tableRow: lu
        }
    }
}

function UT(e) {
    const t = e._align;
    this.enter({
        type: "table",
        align: t.map(function(n) {
            return n === "none" ? null : n
        }),
        children: []
    }, e), this.data.inTable = !0
}

function VT(e) {
    this.exit(e), this.data.inTable = void 0
}

function WT(e) {
    this.enter({
        type: "tableRow",
        children: []
    }, e)
}

function lu(e) {
    this.exit(e)
}

function Ep(e) {
    this.enter({
        type: "tableCell",
        children: []
    }, e)
}

function qT(e) {
    let t = this.resume();
    this.data.inTable && (t = t.replace(/\\([\\|])/g, GT));
    const n = this.stack[this.stack.length - 1];
    n.type, n.value = t, this.exit(e)
}

function GT(e, t) {
    return t === "|" ? t : e
}

function YT(e) {
    const t = e || {},
        n = t.tableCellPadding,
        r = t.tablePipeAlign,
        i = t.stringLength,
        s = n ? " " : "|";
    return {
        unsafe: [{
            character: "\r",
            inConstruct: "tableCell"
        }, {
            character: `
`,
            inConstruct: "tableCell"
        }, {
            atBreak: !0,
            character: "|",
            after: "[	 :-]"
        }, {
            character: "|",
            inConstruct: "tableCell"
        }, {
            atBreak: !0,
            character: ":",
            after: "-"
        }, {
            atBreak: !0,
            character: "-",
            after: "[:|-]"
        }],
        handlers: {
            inlineCode: m,
            table: a,
            tableCell: c,
            tableRow: o
        }
    };

    function a(p, g, x, y) {
        return u(d(p, x, y), p.align)
    }

    function o(p, g, x, y) {
        const b = f(p, x, y),
            w = u([b]);
        return w.slice(0, w.indexOf(`
`))
    }

    function c(p, g, x, y) {
        const b = x.enter("tableCell"),
            w = x.enter("phrasing"),
            C = x.containerPhrasing(p, {
                ...y,
                before: s,
                after: s
            });
        return w(), b(), C
    }

    function u(p, g) {
        return cT(p, {
            align: g,
            alignDelimiters: r,
            padding: n,
            stringLength: i
        })
    }

    function d(p, g, x) {
        const y = p.children;
        let b = -1;
        const w = [],
            C = g.enter("table");
        for (; ++b < y.length;) w[b] = f(y[b], g, x);
        return C(), w
    }

    function f(p, g, x) {
        const y = p.children;
        let b = -1;
        const w = [],
            C = g.enter("tableRow");
        for (; ++b < y.length;) w[b] = c(y[b], p, g, x);
        return C(), w
    }

    function m(p, g, x) {
        let y = A4.inlineCode(p, g, x);
        return x.stack.includes("tableCell") && (y = y.replace(/\|/g, "\\$&")), y
    }
}

function KT() {
    return {
        exit: {
            taskListCheckValueChecked: Np,
            taskListCheckValueUnchecked: Np,
            paragraph: ZT
        }
    }
}

function XT() {
    return {
        unsafe: [{
            atBreak: !0,
            character: "-",
            after: "[:|-]"
        }],
        handlers: {
            listItem: QT
        }
    }
}

function Np(e) {
    const t = this.stack[this.stack.length - 2];
    t.type, t.checked = e.type === "taskListCheckValueChecked"
}

function ZT(e) {
    const t = this.stack[this.stack.length - 2];
    if (t && t.type === "listItem" && typeof t.checked == "boolean") {
        const n = this.stack[this.stack.length - 1];
        n.type;
        const r = n.children[0];
        if (r && r.type === "text") {
            const i = t.children;
            let s = -1,
                a;
            for (; ++s < i.length;) {
                const o = i[s];
                if (o.type === "paragraph") {
                    a = o;
                    break
                }
            }
            a === n && (r.value = r.value.slice(1), r.value.length === 0 ? n.children.shift() : n.position && r.position && typeof r.position.start.offset == "number" && (r.position.start.column++, r.position.start.offset++, n.position.start = Object.assign({}, r.position.start)))
        }
    }
    this.exit(e)
}

function QT(e, t, n, r) {
    const i = e.children[0],
        s = typeof e.checked == "boolean" && i && i.type === "paragraph",
        a = "[" + (e.checked ? "x" : " ") + "] ",
        o = n.createTracker(r);
    s && o.move(a);
    let c = A4.listItem(e, t, n, {
        ...r,
        ...o.current()
    });
    return s && (c = c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/, u)), c;

    function u(d) {
        return d + a
    }
}

function JT() {
    return [RA(), JA(), rT(), HT(), KT()]
}

function eI(e) {
    return {
        extensions: [OA(), eT(e), iT(), YT(e), XT()]
    }
}
const tI = {
        tokenize: oI,
        partial: !0
    },
    T4 = {
        tokenize: lI,
        partial: !0
    },
    I4 = {
        tokenize: cI,
        partial: !0
    },
    j4 = {
        tokenize: uI,
        partial: !0
    },
    nI = {
        tokenize: dI,
        partial: !0
    },
    M4 = {
        name: "wwwAutolink",
        tokenize: sI,
        previous: O4
    },
    R4 = {
        name: "protocolAutolink",
        tokenize: aI,
        previous: P4
    },
    ri = {
        name: "emailAutolink",
        tokenize: iI,
        previous: L4
    },
    Fr = {};

function rI() {
    return {
        text: Fr
    }
}
let Ri = 48;
for (; Ri < 123;) Fr[Ri] = ri, Ri++, Ri === 58 ? Ri = 65 : Ri === 91 && (Ri = 97);
Fr[43] = ri;
Fr[45] = ri;
Fr[46] = ri;
Fr[95] = ri;
Fr[72] = [ri, R4];
Fr[104] = [ri, R4];
Fr[87] = [ri, M4];
Fr[119] = [ri, M4];

function iI(e, t, n) {
    const r = this;
    let i, s;
    return a;

    function a(f) {
        return !S0(f) || !L4.call(r, r.previous) || uf(r.events) ? n(f) : (e.enter("literalAutolink"), e.enter("literalAutolinkEmail"), o(f))
    }

    function o(f) {
        return S0(f) ? (e.consume(f), o) : f === 64 ? (e.consume(f), c) : n(f)
    }

    function c(f) {
        return f === 46 ? e.check(nI, d, u)(f) : f === 45 || f === 95 || un(f) ? (s = !0, e.consume(f), c) : d(f)
    }

    function u(f) {
        return e.consume(f), i = !0, c
    }

    function d(f) {
        return s && i && gn(r.previous) ? (e.exit("literalAutolinkEmail"), e.exit("literalAutolink"), t(f)) : n(f)
    }
}

function sI(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return a !== 87 && a !== 119 || !O4.call(r, r.previous) || uf(r.events) ? n(a) : (e.enter("literalAutolink"), e.enter("literalAutolinkWww"), e.check(tI, e.attempt(T4, e.attempt(I4, s), n), n)(a))
    }

    function s(a) {
        return e.exit("literalAutolinkWww"), e.exit("literalAutolink"), t(a)
    }
}

function aI(e, t, n) {
    const r = this;
    let i = "",
        s = !1;
    return a;

    function a(f) {
        return (f === 72 || f === 104) && P4.call(r, r.previous) && !uf(r.events) ? (e.enter("literalAutolink"), e.enter("literalAutolinkHttp"), i += String.fromCodePoint(f), e.consume(f), o) : n(f)
    }

    function o(f) {
        if (gn(f) && i.length < 5) return i += String.fromCodePoint(f), e.consume(f), o;
        if (f === 58) {
            const m = i.toLowerCase();
            if (m === "http" || m === "https") return e.consume(f), c
        }
        return n(f)
    }

    function c(f) {
        return f === 47 ? (e.consume(f), s ? u : (s = !0, c)) : n(f)
    }

    function u(f) {
        return f === null || ul(f) || dt(f) || Vi(f) || Zl(f) ? n(f) : e.attempt(T4, e.attempt(I4, d), n)(f)
    }

    function d(f) {
        return e.exit("literalAutolinkHttp"), e.exit("literalAutolink"), t(f)
    }
}

function oI(e, t, n) {
    let r = 0;
    return i;

    function i(a) {
        return (a === 87 || a === 119) && r < 3 ? (r++, e.consume(a), i) : a === 46 && r === 3 ? (e.consume(a), s) : n(a)
    }

    function s(a) {
        return a === null ? n(a) : t(a)
    }
}

function lI(e, t, n) {
    let r, i, s;
    return a;

    function a(u) {
        return u === 46 || u === 95 ? e.check(j4, c, o)(u) : u === null || dt(u) || Vi(u) || u !== 45 && Zl(u) ? c(u) : (s = !0, e.consume(u), a)
    }

    function o(u) {
        return u === 95 ? r = !0 : (i = r, r = void 0), e.consume(u), a
    }

    function c(u) {
        return i || r || !s ? n(u) : t(u)
    }
}

function cI(e, t) {
    let n = 0,
        r = 0;
    return i;

    function i(a) {
        return a === 40 ? (n++, e.consume(a), i) : a === 41 && r < n ? s(a) : a === 33 || a === 34 || a === 38 || a === 39 || a === 41 || a === 42 || a === 44 || a === 46 || a === 58 || a === 59 || a === 60 || a === 63 || a === 93 || a === 95 || a === 126 ? e.check(j4, t, s)(a) : a === null || dt(a) || Vi(a) ? t(a) : (e.consume(a), i)
    }

    function s(a) {
        return a === 41 && r++, e.consume(a), i
    }
}

function uI(e, t, n) {
    return r;

    function r(o) {
        return o === 33 || o === 34 || o === 39 || o === 41 || o === 42 || o === 44 || o === 46 || o === 58 || o === 59 || o === 63 || o === 95 || o === 126 ? (e.consume(o), r) : o === 38 ? (e.consume(o), s) : o === 93 ? (e.consume(o), i) : o === 60 || o === null || dt(o) || Vi(o) ? t(o) : n(o)
    }

    function i(o) {
        return o === null || o === 40 || o === 91 || dt(o) || Vi(o) ? t(o) : r(o)
    }

    function s(o) {
        return gn(o) ? a(o) : n(o)
    }

    function a(o) {
        return o === 59 ? (e.consume(o), r) : gn(o) ? (e.consume(o), a) : n(o)
    }
}

function dI(e, t, n) {
    return r;

    function r(s) {
        return e.consume(s), i
    }

    function i(s) {
        return un(s) ? n(s) : t(s)
    }
}

function O4(e) {
    return e === null || e === 40 || e === 42 || e === 95 || e === 91 || e === 93 || e === 126 || dt(e)
}

function P4(e) {
    return !gn(e)
}

function L4(e) {
    return !(e === 47 || S0(e))
}

function S0(e) {
    return e === 43 || e === 45 || e === 46 || e === 95 || un(e)
}

function uf(e) {
    let t = e.length,
        n = !1;
    for (; t--;) {
        const r = e[t][1];
        if ((r.type === "labelLink" || r.type === "labelImage") && !r._balanced) {
            n = !0;
            break
        }
        if (r._gfmAutolinkLiteralWalkedInto) {
            n = !1;
            break
        }
    }
    return e.length > 0 && !n && (e[e.length - 1][1]._gfmAutolinkLiteralWalkedInto = !0), n
}
const fI = {
    tokenize: yI,
    partial: !0
};

function hI() {
    return {
        document: {
            91: {
                name: "gfmFootnoteDefinition",
                tokenize: xI,
                continuation: {
                    tokenize: vI
                },
                exit: bI
            }
        },
        text: {
            91: {
                name: "gfmFootnoteCall",
                tokenize: gI
            },
            93: {
                name: "gfmPotentialFootnoteCall",
                add: "after",
                tokenize: pI,
                resolveTo: mI
            }
        }
    }
}

function pI(e, t, n) {
    const r = this;
    let i = r.events.length;
    const s = r.parser.gfmFootnotes || (r.parser.gfmFootnotes = []);
    let a;
    for (; i--;) {
        const c = r.events[i][1];
        if (c.type === "labelImage") {
            a = c;
            break
        }
        if (c.type === "gfmFootnoteCall" || c.type === "labelLink" || c.type === "label" || c.type === "image" || c.type === "link") break
    }
    return o;

    function o(c) {
        if (!a || !a._balanced) return n(c);
        const u = lr(r.sliceSerialize({
            start: a.end,
            end: r.now()
        }));
        return u.codePointAt(0) !== 94 || !s.includes(u.slice(1)) ? n(c) : (e.enter("gfmFootnoteCallLabelMarker"), e.consume(c), e.exit("gfmFootnoteCallLabelMarker"), t(c))
    }
}

function mI(e, t) {
    let n = e.length;
    for (; n--;)
        if (e[n][1].type === "labelImage" && e[n][0] === "enter") {
            e[n][1];
            break
        } e[n + 1][1].type = "data", e[n + 3][1].type = "gfmFootnoteCallLabelMarker";
    const r = {
            type: "gfmFootnoteCall",
            start: Object.assign({}, e[n + 3][1].start),
            end: Object.assign({}, e[e.length - 1][1].end)
        },
        i = {
            type: "gfmFootnoteCallMarker",
            start: Object.assign({}, e[n + 3][1].end),
            end: Object.assign({}, e[n + 3][1].end)
        };
    i.end.column++, i.end.offset++, i.end._bufferIndex++;
    const s = {
            type: "gfmFootnoteCallString",
            start: Object.assign({}, i.end),
            end: Object.assign({}, e[e.length - 1][1].start)
        },
        a = {
            type: "chunkString",
            contentType: "string",
            start: Object.assign({}, s.start),
            end: Object.assign({}, s.end)
        },
        o = [e[n + 1], e[n + 2],
            ["enter", r, t], e[n + 3], e[n + 4],
            ["enter", i, t],
            ["exit", i, t],
            ["enter", s, t],
            ["enter", a, t],
            ["exit", a, t],
            ["exit", s, t], e[e.length - 2], e[e.length - 1],
            ["exit", r, t]
        ];
    return e.splice(n, e.length - n + 1, ...o), e
}

function gI(e, t, n) {
    const r = this,
        i = r.parser.gfmFootnotes || (r.parser.gfmFootnotes = []);
    let s = 0,
        a;
    return o;

    function o(f) {
        return e.enter("gfmFootnoteCall"), e.enter("gfmFootnoteCallLabelMarker"), e.consume(f), e.exit("gfmFootnoteCallLabelMarker"), c
    }

    function c(f) {
        return f !== 94 ? n(f) : (e.enter("gfmFootnoteCallMarker"), e.consume(f), e.exit("gfmFootnoteCallMarker"), e.enter("gfmFootnoteCallString"), e.enter("chunkString").contentType = "string", u)
    }

    function u(f) {
        if (s > 999 || f === 93 && !a || f === null || f === 91 || dt(f)) return n(f);
        if (f === 93) {
            e.exit("chunkString");
            const m = e.exit("gfmFootnoteCallString");
            return i.includes(lr(r.sliceSerialize(m))) ? (e.enter("gfmFootnoteCallLabelMarker"), e.consume(f), e.exit("gfmFootnoteCallLabelMarker"), e.exit("gfmFootnoteCall"), t) : n(f)
        }
        return dt(f) || (a = !0), s++, e.consume(f), f === 92 ? d : u
    }

    function d(f) {
        return f === 91 || f === 92 || f === 93 ? (e.consume(f), s++, u) : u(f)
    }
}

function xI(e, t, n) {
    const r = this,
        i = r.parser.gfmFootnotes || (r.parser.gfmFootnotes = []);
    let s, a = 0,
        o;
    return c;

    function c(g) {
        return e.enter("gfmFootnoteDefinition")._container = !0, e.enter("gfmFootnoteDefinitionLabel"), e.enter("gfmFootnoteDefinitionLabelMarker"), e.consume(g), e.exit("gfmFootnoteDefinitionLabelMarker"), u
    }

    function u(g) {
        return g === 94 ? (e.enter("gfmFootnoteDefinitionMarker"), e.consume(g), e.exit("gfmFootnoteDefinitionMarker"), e.enter("gfmFootnoteDefinitionLabelString"), e.enter("chunkString").contentType = "string", d) : n(g)
    }

    function d(g) {
        if (a > 999 || g === 93 && !o || g === null || g === 91 || dt(g)) return n(g);
        if (g === 93) {
            e.exit("chunkString");
            const x = e.exit("gfmFootnoteDefinitionLabelString");
            return s = lr(r.sliceSerialize(x)), e.enter("gfmFootnoteDefinitionLabelMarker"), e.consume(g), e.exit("gfmFootnoteDefinitionLabelMarker"), e.exit("gfmFootnoteDefinitionLabel"), m
        }
        return dt(g) || (o = !0), a++, e.consume(g), g === 92 ? f : d
    }

    function f(g) {
        return g === 91 || g === 92 || g === 93 ? (e.consume(g), a++, d) : d(g)
    }

    function m(g) {
        return g === 58 ? (e.enter("definitionMarker"), e.consume(g), e.exit("definitionMarker"), i.includes(s) || i.push(s), We(e, p, "gfmFootnoteDefinitionWhitespace")) : n(g)
    }

    function p(g) {
        return t(g)
    }
}

function vI(e, t, n) {
    return e.check(eo, t, e.attempt(fI, t, n))
}

function bI(e) {
    e.exit("gfmFootnoteDefinition")
}

function yI(e, t, n) {
    const r = this;
    return We(e, i, "gfmFootnoteDefinitionIndent", 5);

    function i(s) {
        const a = r.events[r.events.length - 1];
        return a && a[1].type === "gfmFootnoteDefinitionIndent" && a[2].sliceSerialize(a[1], !0).length === 4 ? t(s) : n(s)
    }
}

function wI(e) {
    let n = (e || {}).singleTilde;
    const r = {
        name: "strikethrough",
        tokenize: s,
        resolveAll: i
    };
    return n == null && (n = !0), {
        text: {
            126: r
        },
        insideSpan: {
            null: [r]
        },
        attentionMarkers: {
            null: [126]
        }
    };

    function i(a, o) {
        let c = -1;
        for (; ++c < a.length;)
            if (a[c][0] === "enter" && a[c][1].type === "strikethroughSequenceTemporary" && a[c][1]._close) {
                let u = c;
                for (; u--;)
                    if (a[u][0] === "exit" && a[u][1].type === "strikethroughSequenceTemporary" && a[u][1]._open && a[c][1].end.offset - a[c][1].start.offset === a[u][1].end.offset - a[u][1].start.offset) {
                        a[c][1].type = "strikethroughSequence", a[u][1].type = "strikethroughSequence";
                        const d = {
                                type: "strikethrough",
                                start: Object.assign({}, a[u][1].start),
                                end: Object.assign({}, a[c][1].end)
                            },
                            f = {
                                type: "strikethroughText",
                                start: Object.assign({}, a[u][1].end),
                                end: Object.assign({}, a[c][1].start)
                            },
                            m = [
                                ["enter", d, o],
                                ["enter", a[u][1], o],
                                ["exit", a[u][1], o],
                                ["enter", f, o]
                            ],
                            p = o.parser.constructs.insideSpan.null;
                        p && Dn(m, m.length, 0, Ql(p, a.slice(u + 1, c), o)), Dn(m, m.length, 0, [
                            ["exit", f, o],
                            ["enter", a[c][1], o],
                            ["exit", a[c][1], o],
                            ["exit", d, o]
                        ]), Dn(a, u - 1, c - u + 3, m), c = u + m.length - 2;
                        break
                    }
            } for (c = -1; ++c < a.length;) a[c][1].type === "strikethroughSequenceTemporary" && (a[c][1].type = "data");
        return a
    }

    function s(a, o, c) {
        const u = this.previous,
            d = this.events;
        let f = 0;
        return m;

        function m(g) {
            return u === 126 && d[d.length - 1][1].type !== "characterEscape" ? c(g) : (a.enter("strikethroughSequenceTemporary"), p(g))
        }

        function p(g) {
            const x = _s(u);
            if (g === 126) return f > 1 ? c(g) : (a.consume(g), f++, p);
            if (f < 2 && !n) return c(g);
            const y = a.exit("strikethroughSequenceTemporary"),
                b = _s(g);
            return y._open = !b || b === 2 && !!x, y._close = !x || x === 2 && !!b, o(g)
        }
    }
}
class SI {
    constructor() {
        this.map = []
    }
    add(t, n, r) {
        CI(this, t, n, r)
    }
    consume(t) {
        if (this.map.sort(function(s, a) {
                return s[0] - a[0]
            }), this.map.length === 0) return;
        let n = this.map.length;
        const r = [];
        for (; n > 0;) n -= 1, r.push(t.slice(this.map[n][0] + this.map[n][1]), this.map[n][2]), t.length = this.map[n][0];
        r.push(t.slice()), t.length = 0;
        let i = r.pop();
        for (; i;) {
            for (const s of i) t.push(s);
            i = r.pop()
        }
        this.map.length = 0
    }
}

function CI(e, t, n, r) {
    let i = 0;
    if (!(n === 0 && r.length === 0)) {
        for (; i < e.map.length;) {
            if (e.map[i][0] === t) {
                e.map[i][1] += n, e.map[i][2].push(...r);
                return
            }
            i += 1
        }
        e.map.push([t, n, r])
    }
}

function kI(e, t) {
    let n = !1;
    const r = [];
    for (; t < e.length;) {
        const i = e[t];
        if (n) {
            if (i[0] === "enter") i[1].type === "tableContent" && r.push(e[t + 1][1].type === "tableDelimiterMarker" ? "left" : "none");
            else if (i[1].type === "tableContent") {
                if (e[t - 1][1].type === "tableDelimiterMarker") {
                    const s = r.length - 1;
                    r[s] = r[s] === "left" ? "center" : "right"
                }
            } else if (i[1].type === "tableDelimiterRow") break
        } else i[0] === "enter" && i[1].type === "tableDelimiterRow" && (n = !0);
        t += 1
    }
    return r
}

function EI() {
    return {
        flow: {
            null: {
                name: "table",
                tokenize: NI,
                resolveAll: AI
            }
        }
    }
}

function NI(e, t, n) {
    const r = this;
    let i = 0,
        s = 0,
        a;
    return o;

    function o(R) {
        let D = r.events.length - 1;
        for (; D > -1;) {
            const F = r.events[D][1].type;
            if (F === "lineEnding" || F === "linePrefix") D--;
            else break
        }
        const _ = D > -1 ? r.events[D][1].type : null,
            O = _ === "tableHead" || _ === "tableRow" ? N : c;
        return O === N && r.parser.lazy[r.now().line] ? n(R) : O(R)
    }

    function c(R) {
        return e.enter("tableHead"), e.enter("tableRow"), u(R)
    }

    function u(R) {
        return R === 124 || (a = !0, s += 1), d(R)
    }

    function d(R) {
        return R === null ? n(R) : we(R) ? s > 1 ? (s = 0, r.interrupt = !0, e.exit("tableRow"), e.enter("lineEnding"), e.consume(R), e.exit("lineEnding"), p) : n(R) : qe(R) ? We(e, d, "whitespace")(R) : (s += 1, a && (a = !1, i += 1), R === 124 ? (e.enter("tableCellDivider"), e.consume(R), e.exit("tableCellDivider"), a = !0, d) : (e.enter("data"), f(R)))
    }

    function f(R) {
        return R === null || R === 124 || dt(R) ? (e.exit("data"), d(R)) : (e.consume(R), R === 92 ? m : f)
    }

    function m(R) {
        return R === 92 || R === 124 ? (e.consume(R), f) : f(R)
    }

    function p(R) {
        return r.interrupt = !1, r.parser.lazy[r.now().line] ? n(R) : (e.enter("tableDelimiterRow"), a = !1, qe(R) ? We(e, g, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(R) : g(R))
    }

    function g(R) {
        return R === 45 || R === 58 ? y(R) : R === 124 ? (a = !0, e.enter("tableCellDivider"), e.consume(R), e.exit("tableCellDivider"), x) : A(R)
    }

    function x(R) {
        return qe(R) ? We(e, y, "whitespace")(R) : y(R)
    }

    function y(R) {
        return R === 58 ? (s += 1, a = !0, e.enter("tableDelimiterMarker"), e.consume(R), e.exit("tableDelimiterMarker"), b) : R === 45 ? (s += 1, b(R)) : R === null || we(R) ? E(R) : A(R)
    }

    function b(R) {
        return R === 45 ? (e.enter("tableDelimiterFiller"), w(R)) : A(R)
    }

    function w(R) {
        return R === 45 ? (e.consume(R), w) : R === 58 ? (a = !0, e.exit("tableDelimiterFiller"), e.enter("tableDelimiterMarker"), e.consume(R), e.exit("tableDelimiterMarker"), C) : (e.exit("tableDelimiterFiller"), C(R))
    }

    function C(R) {
        return qe(R) ? We(e, E, "whitespace")(R) : E(R)
    }

    function E(R) {
        return R === 124 ? g(R) : R === null || we(R) ? !a || i !== s ? A(R) : (e.exit("tableDelimiterRow"), e.exit("tableHead"), t(R)) : A(R)
    }

    function A(R) {
        return n(R)
    }

    function N(R) {
        return e.enter("tableRow"), j(R)
    }

    function j(R) {
        return R === 124 ? (e.enter("tableCellDivider"), e.consume(R), e.exit("tableCellDivider"), j) : R === null || we(R) ? (e.exit("tableRow"), t(R)) : qe(R) ? We(e, j, "whitespace")(R) : (e.enter("data"), z(R))
    }

    function z(R) {
        return R === null || R === 124 || dt(R) ? (e.exit("data"), j(R)) : (e.consume(R), R === 92 ? H : z)
    }

    function H(R) {
        return R === 92 || R === 124 ? (e.consume(R), z) : z(R)
    }
}

function AI(e, t) {
    let n = -1,
        r = !0,
        i = 0,
        s = [0, 0, 0, 0],
        a = [0, 0, 0, 0],
        o = !1,
        c = 0,
        u, d, f;
    const m = new SI;
    for (; ++n < e.length;) {
        const p = e[n],
            g = p[1];
        p[0] === "enter" ? g.type === "tableHead" ? (o = !1, c !== 0 && (Ap(m, t, c, u, d), d = void 0, c = 0), u = {
            type: "table",
            start: Object.assign({}, g.start),
            end: Object.assign({}, g.end)
        }, m.add(n, 0, [
            ["enter", u, t]
        ])) : g.type === "tableRow" || g.type === "tableDelimiterRow" ? (r = !0, f = void 0, s = [0, 0, 0, 0], a = [0, n + 1, 0, 0], o && (o = !1, d = {
            type: "tableBody",
            start: Object.assign({}, g.start),
            end: Object.assign({}, g.end)
        }, m.add(n, 0, [
            ["enter", d, t]
        ])), i = g.type === "tableDelimiterRow" ? 2 : d ? 3 : 1) : i && (g.type === "data" || g.type === "tableDelimiterMarker" || g.type === "tableDelimiterFiller") ? (r = !1, a[2] === 0 && (s[1] !== 0 && (a[0] = a[1], f = Io(m, t, s, i, void 0, f), s = [0, 0, 0, 0]), a[2] = n)) : g.type === "tableCellDivider" && (r ? r = !1 : (s[1] !== 0 && (a[0] = a[1], f = Io(m, t, s, i, void 0, f)), s = a, a = [s[1], n, 0, 0])) : g.type === "tableHead" ? (o = !0, c = n) : g.type === "tableRow" || g.type === "tableDelimiterRow" ? (c = n, s[1] !== 0 ? (a[0] = a[1], f = Io(m, t, s, i, n, f)) : a[1] !== 0 && (f = Io(m, t, a, i, n, f)), i = 0) : i && (g.type === "data" || g.type === "tableDelimiterMarker" || g.type === "tableDelimiterFiller") && (a[3] = n)
    }
    for (c !== 0 && Ap(m, t, c, u, d), m.consume(t.events), n = -1; ++n < t.events.length;) {
        const p = t.events[n];
        p[0] === "enter" && p[1].type === "table" && (p[1]._align = kI(t.events, n))
    }
    return e
}

function Io(e, t, n, r, i, s) {
    const a = r === 1 ? "tableHeader" : r === 2 ? "tableDelimiter" : "tableData",
        o = "tableContent";
    n[0] !== 0 && (s.end = Object.assign({}, ws(t.events, n[0])), e.add(n[0], 0, [
        ["exit", s, t]
    ]));
    const c = ws(t.events, n[1]);
    if (s = {
            type: a,
            start: Object.assign({}, c),
            end: Object.assign({}, c)
        }, e.add(n[1], 0, [
            ["enter", s, t]
        ]), n[2] !== 0) {
        const u = ws(t.events, n[2]),
            d = ws(t.events, n[3]),
            f = {
                type: o,
                start: Object.assign({}, u),
                end: Object.assign({}, d)
            };
        if (e.add(n[2], 0, [
                ["enter", f, t]
            ]), r !== 2) {
            const m = t.events[n[2]],
                p = t.events[n[3]];
            if (m[1].end = Object.assign({}, p[1].end), m[1].type = "chunkText", m[1].contentType = "text", n[3] > n[2] + 1) {
                const g = n[2] + 1,
                    x = n[3] - n[2] - 1;
                e.add(g, x, [])
            }
        }
        e.add(n[3] + 1, 0, [
            ["exit", f, t]
        ])
    }
    return i !== void 0 && (s.end = Object.assign({}, ws(t.events, i)), e.add(i, 0, [
        ["exit", s, t]
    ]), s = void 0), s
}

function Ap(e, t, n, r, i) {
    const s = [],
        a = ws(t.events, n);
    i && (i.end = Object.assign({}, a), s.push(["exit", i, t])), r.end = Object.assign({}, a), s.push(["exit", r, t]), e.add(n + 1, 0, s)
}

function ws(e, t) {
    const n = e[t],
        r = n[0] === "enter" ? "start" : "end";
    return n[1][r]
}
const TI = {
    name: "tasklistCheck",
    tokenize: jI
};

function II() {
    return {
        text: {
            91: TI
        }
    }
}

function jI(e, t, n) {
    const r = this;
    return i;

    function i(c) {
        return r.previous !== null || !r._gfmTasklistFirstContentOfListItem ? n(c) : (e.enter("taskListCheck"), e.enter("taskListCheckMarker"), e.consume(c), e.exit("taskListCheckMarker"), s)
    }

    function s(c) {
        return dt(c) ? (e.enter("taskListCheckValueUnchecked"), e.consume(c), e.exit("taskListCheckValueUnchecked"), a) : c === 88 || c === 120 ? (e.enter("taskListCheckValueChecked"), e.consume(c), e.exit("taskListCheckValueChecked"), a) : n(c)
    }

    function a(c) {
        return c === 93 ? (e.enter("taskListCheckMarker"), e.consume(c), e.exit("taskListCheckMarker"), e.exit("taskListCheck"), o) : n(c)
    }

    function o(c) {
        return we(c) ? t(c) : qe(c) ? e.check({
            tokenize: MI
        }, t, n)(c) : n(c)
    }
}

function MI(e, t, n) {
    return We(e, r, "whitespace");

    function r(i) {
        return i === null ? n(i) : t(i)
    }
}

function RI(e) {
    return Hg([rI(), hI(), wI(e), EI(), II()])
}
const OI = {};

function PI(e) {
    const t = this,
        n = e || OI,
        r = t.data(),
        i = r.micromarkExtensions || (r.micromarkExtensions = []),
        s = r.fromMarkdownExtensions || (r.fromMarkdownExtensions = []),
        a = r.toMarkdownExtensions || (r.toMarkdownExtensions = []);
    i.push(RI(n)), s.push(JT()), a.push(eI(n))
}

function LI() {
    return {
        enter: {
            mathFlow: e,
            mathFlowFenceMeta: t,
            mathText: s
        },
        exit: {
            mathFlow: i,
            mathFlowFence: r,
            mathFlowFenceMeta: n,
            mathFlowValue: o,
            mathText: a,
            mathTextData: o
        }
    };

    function e(c) {
        const u = {
            type: "element",
            tagName: "code",
            properties: {
                className: ["language-math", "math-display"]
            },
            children: []
        };
        this.enter({
            type: "math",
            meta: null,
            value: "",
            data: {
                hName: "pre",
                hChildren: [u]
            }
        }, c)
    }

    function t() {
        this.buffer()
    }

    function n() {
        const c = this.resume(),
            u = this.stack[this.stack.length - 1];
        u.type, u.meta = c
    }

    function r() {
        this.data.mathFlowInside || (this.buffer(), this.data.mathFlowInside = !0)
    }

    function i(c) {
        const u = this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g, ""),
            d = this.stack[this.stack.length - 1];
        d.type, this.exit(c), d.value = u;
        const f = d.data.hChildren[0];
        f.type, f.tagName, f.children.push({
            type: "text",
            value: u
        }), this.data.mathFlowInside = void 0
    }

    function s(c) {
        this.enter({
            type: "inlineMath",
            value: "",
            data: {
                hName: "code",
                hProperties: {
                    className: ["language-math", "math-inline"]
                },
                hChildren: []
            }
        }, c), this.buffer()
    }

    function a(c) {
        const u = this.resume(),
            d = this.stack[this.stack.length - 1];
        d.type, this.exit(c), d.value = u, d.data.hChildren.push({
            type: "text",
            value: u
        })
    }

    function o(c) {
        this.config.enter.data.call(this, c), this.config.exit.data.call(this, c)
    }
}

function DI(e) {
    let t = (e || {}).singleDollarTextMath;
    return t == null && (t = !0), r.peek = i, {
        unsafe: [{
            character: "\r",
            inConstruct: "mathFlowMeta"
        }, {
            character: `
`,
            inConstruct: "mathFlowMeta"
        }, {
            character: "$",
            after: t ? void 0 : "\\$",
            inConstruct: "phrasing"
        }, {
            character: "$",
            inConstruct: "mathFlowMeta"
        }, {
            atBreak: !0,
            character: "$",
            after: "\\$"
        }],
        handlers: {
            math: n,
            inlineMath: r
        }
    };

    function n(s, a, o, c) {
        const u = s.value || "",
            d = o.createTracker(c),
            f = "$".repeat(Math.max(g4(u, "$") + 1, 2)),
            m = o.enter("mathFlow");
        let p = d.move(f);
        if (s.meta) {
            const g = o.enter("mathFlowMeta");
            p += d.move(o.safe(s.meta, {
                after: `
`,
                before: p,
                encode: ["$"],
                ...d.current()
            })), g()
        }
        return p += d.move(`
`), u && (p += d.move(u + `
`)), p += d.move(f), m(), p
    }

    function r(s, a, o) {
        let c = s.value || "",
            u = 1;
        for (t || u++; new RegExp("(^|[^$])" + "\\$".repeat(u) + "([^$]|$)").test(c);) u++;
        const d = "$".repeat(u);
        /[^ \r\n]/.test(c) && (/^[ \r\n]/.test(c) && /[ \r\n]$/.test(c) || /^\$|\$$/.test(c)) && (c = " " + c + " ");
        let f = -1;
        for (; ++f < o.unsafe.length;) {
            const m = o.unsafe[f];
            if (!m.atBreak) continue;
            const p = o.compilePattern(m);
            let g;
            for (; g = p.exec(c);) {
                let x = g.index;
                c.codePointAt(x) === 10 && c.codePointAt(x - 1) === 13 && x--, c = c.slice(0, x) + " " + c.slice(g.index + 1)
            }
        }
        return d + c + d
    }

    function i() {
        return "$"
    }
}
const _I = {
        tokenize: FI,
        concrete: !0,
        name: "mathFlow"
    },
    Tp = {
        tokenize: zI,
        partial: !0
    };

function FI(e, t, n) {
    const r = this,
        i = r.events[r.events.length - 1],
        s = i && i[1].type === "linePrefix" ? i[2].sliceSerialize(i[1], !0).length : 0;
    let a = 0;
    return o;

    function o(w) {
        return e.enter("mathFlow"), e.enter("mathFlowFence"), e.enter("mathFlowFenceSequence"), c(w)
    }

    function c(w) {
        return w === 36 ? (e.consume(w), a++, c) : a < 2 ? n(w) : (e.exit("mathFlowFenceSequence"), We(e, u, "whitespace")(w))
    }

    function u(w) {
        return w === null || we(w) ? f(w) : (e.enter("mathFlowFenceMeta"), e.enter("chunkString", {
            contentType: "string"
        }), d(w))
    }

    function d(w) {
        return w === null || we(w) ? (e.exit("chunkString"), e.exit("mathFlowFenceMeta"), f(w)) : w === 36 ? n(w) : (e.consume(w), d)
    }

    function f(w) {
        return e.exit("mathFlowFence"), r.interrupt ? t(w) : e.attempt(Tp, m, y)(w)
    }

    function m(w) {
        return e.attempt({
            tokenize: b,
            partial: !0
        }, y, p)(w)
    }

    function p(w) {
        return (s ? We(e, g, "linePrefix", s + 1) : g)(w)
    }

    function g(w) {
        return w === null ? y(w) : we(w) ? e.attempt(Tp, m, y)(w) : (e.enter("mathFlowValue"), x(w))
    }

    function x(w) {
        return w === null || we(w) ? (e.exit("mathFlowValue"), g(w)) : (e.consume(w), x)
    }

    function y(w) {
        return e.exit("mathFlow"), t(w)
    }

    function b(w, C, E) {
        let A = 0;
        return We(w, N, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4);

        function N(H) {
            return w.enter("mathFlowFence"), w.enter("mathFlowFenceSequence"), j(H)
        }

        function j(H) {
            return H === 36 ? (A++, w.consume(H), j) : A < a ? E(H) : (w.exit("mathFlowFenceSequence"), We(w, z, "whitespace")(H))
        }

        function z(H) {
            return H === null || we(H) ? (w.exit("mathFlowFence"), C(H)) : E(H)
        }
    }
}

function zI(e, t, n) {
    const r = this;
    return i;

    function i(a) {
        return a === null ? t(a) : (e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), s)
    }

    function s(a) {
        return r.parser.lazy[r.now().line] ? n(a) : t(a)
    }
}

function BI(e) {
    let n = (e || {}).singleDollarTextMath;
    return n == null && (n = !0), {
        tokenize: r,
        resolve: $I,
        previous: HI,
        name: "mathText"
    };

    function r(i, s, a) {
        let o = 0,
            c, u;
        return d;

        function d(x) {
            return i.enter("mathText"), i.enter("mathTextSequence"), f(x)
        }

        function f(x) {
            return x === 36 ? (i.consume(x), o++, f) : o < 2 && !n ? a(x) : (i.exit("mathTextSequence"), m(x))
        }

        function m(x) {
            return x === null ? a(x) : x === 36 ? (u = i.enter("mathTextSequence"), c = 0, g(x)) : x === 32 ? (i.enter("space"), i.consume(x), i.exit("space"), m) : we(x) ? (i.enter("lineEnding"), i.consume(x), i.exit("lineEnding"), m) : (i.enter("mathTextData"), p(x))
        }

        function p(x) {
            return x === null || x === 32 || x === 36 || we(x) ? (i.exit("mathTextData"), m(x)) : (i.consume(x), p)
        }

        function g(x) {
            return x === 36 ? (i.consume(x), c++, g) : c === o ? (i.exit("mathTextSequence"), i.exit("mathText"), s(x)) : (u.type = "mathTextData", p(x))
        }
    }
}

function $I(e) {
    let t = e.length - 4,
        n = 3,
        r, i;
    if ((e[n][1].type === "lineEnding" || e[n][1].type === "space") && (e[t][1].type === "lineEnding" || e[t][1].type === "space")) {
        for (r = n; ++r < t;)
            if (e[r][1].type === "mathTextData") {
                e[t][1].type = "mathTextPadding", e[n][1].type = "mathTextPadding", n += 2, t -= 2;
                break
            }
    }
    for (r = n - 1, t++; ++r <= t;) i === void 0 ? r !== t && e[r][1].type !== "lineEnding" && (i = r) : (r === t || e[r][1].type === "lineEnding") && (e[i][1].type = "mathTextData", r !== i + 2 && (e[i][1].end = e[r - 1][1].end, e.splice(i + 2, r - i - 2), t -= r - i - 2, r = i + 2), i = void 0);
    return e
}

function HI(e) {
    return e !== 36 || this.events[this.events.length - 1][1].type === "characterEscape"
}

function UI(e) {
    return {
        flow: {
            36: _I
        },
        text: {
            36: BI(e)
        }
    }
}
const VI = {};

function WI(e) {
    const t = this,
        n = e || VI,
        r = t.data(),
        i = r.micromarkExtensions || (r.micromarkExtensions = []),
        s = r.fromMarkdownExtensions || (r.fromMarkdownExtensions = []),
        a = r.toMarkdownExtensions || (r.toMarkdownExtensions = []);
    i.push(UI(n)), s.push(LI()), a.push(DI(n))
}
var qI = Object.defineProperty,
    GI = e => t => {
        var n = e[t];
        if (n) return n();
        throw new Error("Module not found in bundle: " + t)
    },
    Ye = (e, t) => () => (e && (t = e(e = 0)), t),
    Xe = (e, t) => {
        for (var n in t) qI(e, n, {
            get: t[n],
            enumerable: !0
        })
    },
    D4 = {};
Xe(D4, {
    default: () => _4
});
var _4, YI = Ye(() => {
        _4 = [{
            type: "cmnt",
            match: /(;|#).*/gm
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "num",
            match: /\$[\da-fA-F]*\b/g
        }, {
            type: "kwd",
            match: /^[a-z]+\s+[a-z.]+\b/gm,
            sub: [{
                type: "func",
                match: /^[a-z]+/g
            }]
        }, {
            type: "kwd",
            match: /^\t*[a-z][a-z\d]*\b/gm
        }, {
            match: /%|\$/g,
            type: "oper"
        }]
    }),
    F4 = {};
Xe(F4, {
    default: () => df
});
var cu, df, z4 = Ye(() => {
        cu = {
            type: "var",
            match: /\$\w+|\${[^}]*}|\$\([^)]*\)/g
        }, df = [{
            sub: "todo",
            match: /#.*/g
        }, {
            type: "str",
            match: /(["'])((?!\1)[^\r\n\\]|\\[^])*\1?/g,
            sub: [cu]
        }, {
            type: "oper",
            match: /(?<=\s|^)\.*\/[a-z/_.-]+/gi
        }, {
            type: "kwd",
            match: /\s-[a-zA-Z]+|$<|[&|;]+|\b(unset|readonly|shift|export|if|fi|else|elif|while|do|done|for|until|case|esac|break|continue|exit|return|trap|wait|eval|exec|then|declare|enable|local|select|typeset|time|add|remove|install|update|delete)(?=\s|$)/g
        }, {
            expand: "num"
        }, {
            type: "func",
            match: /(?<=(^|\||\&\&|\;)\s*)[a-z_.-]+(?=\s|$)/gmi
        }, {
            type: "bool",
            match: /(?<=\s|^)(true|false)(?=\s|$)/g
        }, {
            type: "oper",
            match: /[=(){}<>!]+/g
        }, {
            type: "var",
            match: /(?<=\s|^)[\w_]+(?=\s*=)/g
        }, cu]
    }),
    B4 = {};
Xe(B4, {
    default: () => $4
});
var $4, KI = Ye(() => {
        $4 = [{
            match: /[^\[\->+.<\]\s].*/g,
            sub: "todo"
        }, {
            type: "func",
            match: /\.+/g
        }, {
            type: "kwd",
            match: /[<>]+/g
        }, {
            type: "oper",
            match: /[+-]+/g
        }]
    }),
    H4 = {};
Xe(H4, {
    default: () => U4
});
var U4, XI = Ye(() => {
        U4 = [{
            match: /\/\/.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "kwd",
            match: /#\s*include (<.*>|".*")/g,
            sub: [{
                type: "str",
                match: /(<|").*/g
            }]
        }, {
            match: /asm\s*{[^}]*}/g,
            sub: [{
                type: "kwd",
                match: /^asm/g
            }, {
                match: /[^{}]*(?=}$)/g,
                sub: "asm"
            }]
        }, {
            type: "kwd",
            match: /\*|&|#[a-z]+\b|\b(asm|auto|double|int|struct|break|else|long|switch|case|enum|register|typedef|char|extern|return|union|const|float|short|unsigned|continue|for|signed|void|default|goto|sizeof|volatile|do|if|static|while)\b/g
        }, {
            type: "oper",
            match: /[/*+:?&|%^~=!,<>.^-]+/g
        }, {
            type: "func",
            match: /[a-zA-Z_][\w_]*(?=\s*\()/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }]
    }),
    V4 = {};
Xe(V4, {
    default: () => W4
});
var W4, ZI = Ye(() => {
        W4 = [{
            match: /\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            type: "kwd",
            match: /@\w+\b|\b(and|not|only|or)\b|\b[a-z-]+(?=[^{}]*{)/g
        }, {
            type: "var",
            match: /\b[\w-]+(?=\s*:)|(::?|\.)[\w-]+(?=[^{}]*{)/g
        }, {
            type: "func",
            match: /#[\w-]+(?=[^{}]*{)/g
        }, {
            type: "num",
            match: /#[\da-f]{3,8}/g
        }, {
            type: "num",
            match: /\d+(\.\d+)?(cm|mm|in|px|pt|pc|em|ex|ch|rem|vm|vh|vmin|vmax|%)?/g,
            sub: [{
                type: "var",
                match: /[a-z]+|%/g
            }]
        }, {
            match: /url\([^)]*\)/g,
            sub: [{
                type: "func",
                match: /url(?=\()/g
            }, {
                type: "str",
                match: /[^()]+/g
            }]
        }, {
            type: "func",
            match: /\b[a-zA-Z]\w*(?=\s*\()/g
        }, {
            type: "num",
            match: /\b[a-z-]+\b/g
        }]
    }),
    q4 = {};
Xe(q4, {
    default: () => G4
});
var G4, QI = Ye(() => {
        G4 = [{
            expand: "strDouble"
        }, {
            type: "oper",
            match: /,/g
        }]
    }),
    Y4 = {};
Xe(Y4, {
    default: () => ff
});
var ff, K4 = Ye(() => {
        ff = [{
            type: "deleted",
            match: /^[-<].*/gm
        }, {
            type: "insert",
            match: /^[+>].*/gm
        }, {
            type: "kwd",
            match: /!.*/gm
        }, {
            type: "section",
            match: /^@@.*@@$|^\d.*|^([*-+])\1\1.*/gm
        }]
    }),
    X4 = {};
Xe(X4, {
    default: () => Z4
});
var Z4, JI = Ye(() => {
        z4(), Z4 = [{
            type: "kwd",
            match: /^(FROM|RUN|CMD|LABEL|MAINTAINER|EXPOSE|ENV|ADD|COPY|ENTRYPOINT|VOLUME|USER|WORKDIR|ARG|ONBUILD|STOPSIGNAL|HEALTHCHECK|SHELL)\b/gmi
        }, ...df]
    }),
    Q4 = {};
Xe(Q4, {
    default: () => J4
});
var J4, ej = Ye(() => {
        K4(), J4 = [{
            match: /^#.*/gm,
            sub: "todo"
        }, {
            expand: "str"
        }, ...ff, {
            type: "func",
            match: /^(\$ )?git(\s.*)?$/gm
        }, {
            type: "kwd",
            match: /^commit \w+$/gm
        }]
    }),
    e3 = {};
Xe(e3, {
    default: () => t3
});
var t3, tj = Ye(() => {
        t3 = [{
            match: /\/\/.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "kwd",
            match: /\*|&|\b(break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go|goto|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/g
        }, {
            type: "func",
            match: /[a-zA-Z_][\w_]*(?=\s*\()/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }, {
            type: "oper",
            match: /[+\-*\/%&|^~=!<>.^-]+/g
        }]
    }),
    n3 = {};
Xe(n3, {
    default: () => hf,
    name: () => di,
    properties: () => Li,
    xmlElement: () => Wr
});
var uu, Ip, di, Li, Wr, hf, r3 = Ye(() => {
        uu = ":A-Z_a-z-----------", Ip = uu + "\\-\\.0-9--", di = `[${uu}][${Ip}]*`, Li = `\\s*(\\s+${di}\\s*(=\\s*([^"']\\S*|("|')(\\\\[^]|(?!\\4)[^])*\\4?)?)?\\s*)*`, Wr = {
            match: RegExp(`<[/!?]?${di}${Li}[/!?]?>`, "g"),
            sub: [{
                type: "var",
                match: RegExp(`^<[/!?]?${di}`, "g"),
                sub: [{
                    type: "oper",
                    match: /^<[\/!?]?/g
                }]
            }, {
                type: "str",
                match: /=\s*([^"']\S*|("|')(\\[^]|(?!\2)[^])*\2?)/g,
                sub: [{
                    type: "oper",
                    match: /^=/g
                }]
            }, {
                type: "oper",
                match: /[\/!?]?>/g
            }, {
                type: "class",
                match: RegExp(di, "g")
            }]
        }, hf = [{
            match: /<!--((?!-->)[^])*-->/g,
            sub: "todo"
        }, {
            type: "class",
            match: /<!\[CDATA\[[\s\S]*?\]\]>/gi
        }, Wr, {
            type: "str",
            match: RegExp(`<\\?${di}([^?]|\\?[^?>])*\\?+>`, "g"),
            sub: [{
                type: "var",
                match: RegExp(`^<\\?${di}`, "g"),
                sub: [{
                    type: "oper",
                    match: /^<\?/g
                }]
            }, {
                type: "oper",
                match: /\?+>$/g
            }]
        }, {
            type: "var",
            match: /&(#x?)?[\da-z]{1,8};/gi
        }]
    }),
    i3 = {};
Xe(i3, {
    default: () => s3
});
var s3, nj = Ye(() => {
        r3(), s3 = [{
            type: "class",
            match: /<!DOCTYPE("[^"]*"|'[^']*'|[^"'>])*>/gi,
            sub: [{
                type: "str",
                match: /"[^"]*"|'[^']*'/g
            }, {
                type: "oper",
                match: /^<!|>$/g
            }, {
                type: "var",
                match: /DOCTYPE/gi
            }]
        }, {
            match: RegExp(`<style${Li}>((?!</style>)[^])*</style\\s*>`, "g"),
            sub: [{
                match: RegExp(`^<style${Li}>`, "g"),
                sub: Wr.sub
            }, {
                match: RegExp(`${Wr.match}|[^]*(?=</style\\s*>$)`, "g"),
                sub: "css"
            }, Wr]
        }, {
            match: RegExp(`<script${Li}>((?!<\/script>)[^])*<\/script\\s*>`, "g"),
            sub: [{
                match: RegExp(`^<script${Li}>`, "g"),
                sub: Wr.sub
            }, {
                match: RegExp(`${Wr.match}|[^]*(?=<\/script\\s*>$)`, "g"),
                sub: "js"
            }, Wr]
        }, ...hf]
    }),
    jp, Ba, pf = Ye(() => {
        jp = [
            ["bash", [/#!(\/usr)?\/bin\/bash/g, 500],
                [/\b(if|elif|then|fi|echo)\b|\$/g, 10]
            ],
            ["html", [/<\/?[a-z-]+[^\n>]*>/g, 10],
                [/^\s+<!DOCTYPE\s+html/g, 500]
            ],
            ["http", [/^(GET|HEAD|POST|PUT|DELETE|PATCH|HTTP)\b/g, 500]],
            ["js", [/\b(console|await|async|function|export|import|this|class|for|let|const|map|join|require)\b/g, 10]],
            ["ts", [/\b(console|await|async|function|export|import|this|class|for|let|const|map|join|require|implements|interface|namespace)\b/g, 10]],
            ["py", [/\b(def|print|class|and|or|lambda)\b/g, 10]],
            ["sql", [/\b(SELECT|INSERT|FROM)\b/g, 50]],
            ["pl", [/#!(\/usr)?\/bin\/perl/g, 500],
                [/\b(use|print)\b|\$/g, 10]
            ],
            ["lua", [/#!(\/usr)?\/bin\/lua/g, 500]],
            ["make", [/\b(ifneq|endif|if|elif|then|fi|echo|.PHONY|^[a-z]+ ?:$)\b|\$/gm, 10]],
            ["uri", [/https?:|mailto:|tel:|ftp:/g, 30]],
            ["css", [/^(@import|@page|@media|(\.|#)[a-z]+)/gm, 20]],
            ["diff", [/^[+><-]/gm, 10],
                [/^@@ ?[-+,0-9 ]+ ?@@/gm, 25]
            ],
            ["md", [/^(>|\t\*|\t\d+.)/gm, 10],
                [/\[.*\](.*)/g, 10]
            ],
            ["docker", [/^(FROM|ENTRYPOINT|RUN)/gm, 500]],
            ["xml", [/<\/?[a-z-]+[^\n>]*>/g, 10],
                [/^<\?xml/g, 500]
            ],
            ["c", [/#include\b|\bprintf\s+\(/g, 100]],
            ["rs", [/^\s+(use|fn|mut|match)\b/gm, 100]],
            ["go", [/\b(func|fmt|package)\b/g, 100]],
            ["java", [/^import\s+java/gm, 500]],
            ["asm", [/^(section|global main|extern|\t(call|mov|ret))/gm, 100]],
            ["css", [/^(@import|@page|@media|(\.|#)[a-z]+)/gm, 20]],
            ["json", [/\b(true|false|null|\{})\b|\"[^"]+\":/g, 10]],
            ["yaml", [/^(\s+)?[a-z][a-z0-9]*:/gmi, 10]]
        ], Ba = e => jp.map(([t, ...n]) => [t, n.reduce((r, [i, s]) => r + [...e.matchAll(i)].length * s, 0)]).filter(([t, n]) => n > 20).sort((t, n) => n[1] - t[1])[0]?.[0] || "plain"
    }),
    a3 = {};
Xe(a3, {
    default: () => o3
});
var o3, rj = Ye(() => {
        pf(), o3 = [{
            type: "kwd",
            match: /^(GET|HEAD|POST|PUT|DELETE|CONNECT|OPTIONS|TRACE|PATCH|PRI|SEARCH)\b/gm
        }, {
            expand: "str"
        }, {
            type: "section",
            match: /\bHTTP\/[\d.]+\b/g
        }, {
            expand: "num"
        }, {
            type: "oper",
            match: /[,;:=]/g
        }, {
            type: "var",
            match: /[a-zA-Z][\w-]*(?=:)/g
        }, {
            match: /\n\n[^]*/g,
            sub: Ba
        }]
    }),
    l3 = {};
Xe(l3, {
    default: () => c3
});
var c3, ij = Ye(() => {
        c3 = [{
            match: /(^[ \f\t\v]*)[#;].*/gm,
            sub: "todo"
        }, {
            type: "str",
            match: /.*/g
        }, {
            type: "var",
            match: /.*(?==)/g
        }, {
            type: "section",
            match: /^\s*\[.+\]\s*$/gm
        }, {
            type: "oper",
            match: /=/g
        }]
    }),
    u3 = {};
Xe(u3, {
    default: () => d3
});
var d3, sj = Ye(() => {
        d3 = [{
            match: /\/\/.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "kwd",
            match: /\b(abstract|assert|boolean|break|byte|case|catch|char|class|continue|const|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|package|private|protected|public|requires|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|transient|try|var|void|volatile|while)\b/g
        }, {
            type: "oper",
            match: /[/*+:?&|%^~=!,<>.^-]+/g
        }, {
            type: "func",
            match: /[a-zA-Z_][\w_]*(?=\s*\()/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }]
    }),
    f3 = {};
Xe(f3, {
    default: () => mf
});
var mf, h3 = Ye(() => {
        mf = [{
            match: /\/\*\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "jsdoc"
        }, {
            match: /\/\/.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            match: /`((?!`)[^]|\\[^])*`?/g,
            sub: "js_template_literals"
        }, {
            type: "kwd",
            match: /=>|\b(this|set|get|as|async|await|break|case|catch|class|const|constructor|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|if|implements|import|in|instanceof|interface|let|var|of|new|package|private|protected|public|return|static|super|switch|throw|throws|try|typeof|void|while|with|yield)\b/g
        }, {
            match: /\/((?!\/)[^\r\n\\]|\\.)+\/[dgimsuy]*/g,
            sub: "regex"
        }, {
            expand: "num"
        }, {
            type: "num",
            match: /\b(NaN|null|undefined|[A-Z][A-Z_]*)\b/g
        }, {
            type: "bool",
            match: /\b(true|false)\b/g
        }, {
            type: "oper",
            match: /[/*+:?&|%^~=!,<>.^-]+/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }, {
            type: "func",
            match: /[a-zA-Z$_][\w$_]*(?=\s*((\?\.)?\s*\(|=\s*(\(?[\w,{}\[\])]+\)? =>|function\b)))/g
        }]
    }),
    p3 = {};
Xe(p3, {
    default: () => m3,
    type: () => g3
});
var m3, g3, aj = Ye(() => {
        m3 = [{
            match: new class {
                exec(e) {
                    let t = this.lastIndex,
                        n, r = i => {
                            for (; ++t < e.length - 2;)
                                if (e[t] == "{") r();
                                else if (e[t] == "}") return
                        };
                    for (; t < e.length; ++t)
                        if (e[t - 1] != "\\" && e[t] == "$" && e[t + 1] == "{") return n = t++, r(), this.lastIndex = t + 1, {
                            index: n,
                            0: e.slice(n, t + 1)
                        };
                    return null
                }
            },
            sub: [{
                type: "kwd",
                match: /^\${|}$/g
            }, {
                match: /(?!^\$|{)[^]+(?=}$)/g,
                sub: "js"
            }]
        }], g3 = "str"
    }),
    x3 = {};
Xe(x3, {
    default: () => gf,
    type: () => v3
});
var gf, v3, b3 = Ye(() => {
        gf = [{
            type: "err",
            match: /\b(TODO|FIXME|DEBUG|OPTIMIZE|WARNING|XXX|BUG)\b/g
        }, {
            type: "class",
            match: /\bIDEA\b/g
        }, {
            type: "insert",
            match: /\b(CHANGED|FIX|CHANGE)\b/g
        }, {
            type: "oper",
            match: /\bQUESTION\b/g
        }], v3 = "cmnt"
    }),
    y3 = {};
Xe(y3, {
    default: () => w3,
    type: () => S3
});
var w3, S3, oj = Ye(() => {
        b3(), w3 = [{
            type: "kwd",
            match: /@\w+/g
        }, {
            type: "class",
            match: /{[\w\s|<>,.@\[\]]+}/g
        }, {
            type: "var",
            match: /\[[\w\s="']+\]/g
        }, ...gf], S3 = "cmnt"
    }),
    C3 = {};
Xe(C3, {
    default: () => k3
});
var k3, lj = Ye(() => {
        k3 = [{
            type: "var",
            match: /("|')?[a-zA-Z]\w*\1(?=\s*:)/g
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "num",
            match: /\bnull\b/g
        }, {
            type: "bool",
            match: /\b(true|false)\b/g
        }]
    }),
    E3 = {};
Xe(E3, {
    default: () => xf
});
var xf, N3 = Ye(() => {
        pf(), xf = [{
            type: "cmnt",
            match: /^>.*|(=|-)\1+/gm
        }, {
            type: "class",
            match: /\*\*((?!\*\*).)*\*\*/g
        }, {
            match: /```((?!```)[^])*\n```/g,
            sub: e => ({
                type: "kwd",
                sub: [{
                    match: /\n[^]*(?=```)/g,
                    sub: e.split(`
`)[0].slice(3) || Ba(e)
                }]
            })
        }, {
            type: "str",
            match: /`[^`]*`/g
        }, {
            type: "var",
            match: /~~((?!~~).)*~~/g
        }, {
            type: "kwd",
            match: /_[^_]*_|\*[^*]*\*/g
        }, {
            type: "kwd",
            match: /^\s*(\*|\d+\.)\s/gm
        }, {
            type: "oper",
            match: /\[[^\]]*]/g
        }, {
            type: "func",
            match: /\([^)]*\)/g
        }]
    }),
    A3 = {};
Xe(A3, {
    default: () => T3
});
var T3, cj = Ye(() => {
        N3(), pf(), T3 = [{
            type: "insert",
            match: /(leanpub-start-insert)((?!leanpub-end-insert)[^])*(leanpub-end-insert)?/g,
            sub: [{
                type: "insert",
                match: /leanpub-(start|end)-insert/g
            }, {
                match: /(?!leanpub-start-insert)((?!leanpub-end-insert)[^])*/g,
                sub: Ba
            }]
        }, {
            type: "deleted",
            match: /(leanpub-start-delete)((?!leanpub-end-delete)[^])*(leanpub-end-delete)?/g,
            sub: [{
                type: "deleted",
                match: /leanpub-(start|end)-delete/g
            }, {
                match: /(?!leanpub-start-delete)((?!leanpub-end-delete)[^])*/g,
                sub: Ba
            }]
        }, ...xf]
    }),
    I3 = {};
Xe(I3, {
    default: () => j3
});
var j3, uj = Ye(() => {
        j3 = [{
            type: "cmnt",
            match: /^#.*/gm
        }, {
            expand: "strDouble"
        }, {
            expand: "num"
        }, {
            type: "err",
            match: /\b(err(or)?|[a-z_-]*exception|warn|warning|failed|ko|invalid|not ?found|alert|fatal)\b/gi
        }, {
            type: "num",
            match: /\b(null|undefined)\b/gi
        }, {
            type: "bool",
            match: /\b(false|true|yes|no)\b/gi
        }, {
            type: "oper",
            match: /\.|,/g
        }]
    }),
    M3 = {};
Xe(M3, {
    default: () => R3
});
var R3, dj = Ye(() => {
        R3 = [{
            match: /^#!.*|--(\[(=*)\[((?!--\]\2\])[^])*--\]\2\]|.*)/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            type: "kwd",
            match: /\b(and|break|do|else|elseif|end|for|function|if|in|local|not|or|repeat|return|then|until|while)\b/g
        }, {
            type: "bool",
            match: /\b(true|false|nil)\b/g
        }, {
            type: "oper",
            match: /[+*/%^#=~<>:,.-]+/g
        }, {
            expand: "num"
        }, {
            type: "func",
            match: /[a-z_]+(?=\s*[({])/g
        }]
    }),
    O3 = {};
Xe(O3, {
    default: () => P3
});
var P3, fj = Ye(() => {
        P3 = [{
            match: /^\s*#.*/gm,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            type: "oper",
            match: /[${}()]+/g
        }, {
            type: "class",
            match: /.PHONY:/gm
        }, {
            type: "section",
            match: /^[\w.]+:/gm
        }, {
            type: "kwd",
            match: /\b(ifneq|endif)\b/g
        }, {
            expand: "num"
        }, {
            type: "var",
            match: /[A-Z_]+(?=\s*=)/g
        }, {
            match: /^.*$/gm,
            sub: "bash"
        }]
    }),
    L3 = {};
Xe(L3, {
    default: () => D3
});
var D3, hj = Ye(() => {
        D3 = [{
            match: /#.*/g,
            sub: "todo"
        }, {
            type: "str",
            match: /(["'])(\\[^]|(?!\1)[^])*\1?/g
        }, {
            expand: "num"
        }, {
            type: "kwd",
            match: /\b(any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while|not|and|or|xor)\b/g
        }, {
            type: "oper",
            match: /[-+*/%~!&<>|=?,]+/g
        }, {
            type: "func",
            match: /[a-z_]+(?=\s*\()/g
        }]
    }),
    _3 = {};
Xe(_3, {
    default: () => F3
});
var F3, pj = Ye(() => {
        F3 = [{
            expand: "strDouble"
        }]
    }),
    z3 = {};
Xe(z3, {
    default: () => B3
});
var B3, mj = Ye(() => {
        B3 = [{
            match: /#.*/g,
            sub: "todo"
        }, {
            match: /("""|''')(\\[^]|(?!\1)[^])*\1?/g,
            sub: "todo"
        }, {
            type: "str",
            match: /f("|')(\\[^]|(?!\1).)*\1?|f((["'])\4\4)(\\[^]|(?!\3)[^])*\3?/gi,
            sub: [{
                type: "var",
                match: /{[^{}]*}/g,
                sub: [{
                    match: /(?!^{)[^]*(?=}$)/g,
                    sub: "py"
                }]
            }]
        }, {
            expand: "str"
        }, {
            type: "kwd",
            match: /\b(and|as|assert|break|class|continue|def|del|elif|else|except|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|raise|return|try|while|with|yield)\b/g
        }, {
            type: "bool",
            match: /\b(False|True|None)\b/g
        }, {
            expand: "num"
        }, {
            type: "func",
            match: /[a-z_]+(?=\s*\()/g
        }, {
            type: "oper",
            match: /[-/*+<>,=!&|^%]+/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }]
    }),
    $3 = {};
Xe($3, {
    default: () => H3,
    type: () => U3
});
var H3, U3, gj = Ye(() => {
        H3 = [{
            match: /^(?!\/).*/gm,
            sub: "todo"
        }, {
            type: "num",
            match: /\[((?!\])[^\\]|\\.)*\]/g
        }, {
            type: "kwd",
            match: /\||\^|\$|\\.|\w+($|\r|\n)/g
        }, {
            type: "var",
            match: /\*|\+|\{\d+,\d+\}/g
        }], U3 = "oper"
    }),
    V3 = {};
Xe(V3, {
    default: () => W3
});
var W3, xj = Ye(() => {
        W3 = [{
            match: /\/\/.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            expand: "num"
        }, {
            type: "kwd",
            match: /\b(as|break|const|continue|crate|else|enum|extern|false|fn|for|if|impl|in|let|loop|match|mod|move|mut|pub|ref|return|self|Self|static|struct|super|trait|true|type|unsafe|use|where|while|async|await|dyn|abstract|become|box|do|final|macro|override|priv|typeof|unsized|virtual|yield|try)\b/g
        }, {
            type: "oper",
            match: /[/*+:?&|%^~=!,<>.^-]+/g
        }, {
            type: "class",
            match: /\b[A-Z][\w_]*\b/g
        }, {
            type: "func",
            match: /[a-zA-Z_][\w_]*(?=\s*!?\s*\()/g
        }]
    }),
    q3 = {};
Xe(q3, {
    default: () => G3
});
var G3, vj = Ye(() => {
        G3 = [{
            match: /--.*\n?|\/\*((?!\*\/)[^])*(\*\/)?/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            type: "func",
            match: /\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/g
        }, {
            type: "kwd",
            match: /\b(ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|kwdS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/g
        }, {
            type: "num",
            match: /\.?\d[\d.oxa-fA-F-]*|\bNULL\b/g
        }, {
            type: "bool",
            match: /\b(TRUE|FALSE)\b/g
        }, {
            type: "oper",
            match: /[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/g
        }, {
            type: "var",
            match: /@\S+/g
        }]
    }),
    Y3 = {};
Xe(Y3, {
    default: () => K3
});
var K3, bj = Ye(() => {
        K3 = [{
            match: /#.*/g,
            sub: "todo"
        }, {
            type: "str",
            match: /("""|''')((?!\1)[^]|\\[^])*\1?/g
        }, {
            expand: "str"
        }, {
            type: "section",
            match: /^\[.+\]\s*$/gm
        }, {
            type: "num",
            match: /\b(inf|nan)\b|\d[\d:ZT.-]*/g
        }, {
            expand: "num"
        }, {
            type: "bool",
            match: /\b(true|false)\b/g
        }, {
            type: "oper",
            match: /[+,.=-]/g
        }, {
            type: "var",
            match: /\w+(?= \=)/g
        }]
    }),
    X3 = {};
Xe(X3, {
    default: () => Z3
});
var Z3, yj = Ye(() => {
        h3(), Z3 = [{
            type: "type",
            match: /:\s*(any|void|number|boolean|string|object|never|enum)\b/g
        }, {
            type: "kwd",
            match: /\b(type|namespace|typedef|interface|public|private|protected|implements|declare|abstract|readonly)\b/g
        }, ...mf]
    }),
    Q3 = {};
Xe(Q3, {
    default: () => J3
});
var J3, wj = Ye(() => {
        J3 = [{
            match: /^#.*/gm,
            sub: "todo"
        }, {
            type: "class",
            match: /^\w+(?=:?)/gm
        }, {
            type: "num",
            match: /:\d+/g
        }, {
            type: "oper",
            match: /[:/&?]|\w+=/g
        }, {
            type: "func",
            match: /[.\w]+@|#[\w]+$/gm
        }, {
            type: "var",
            match: /\w+\.\w+(\.\w+)*/g
        }]
    }),
    ex = {};
Xe(ex, {
    default: () => tx
});
var tx, Sj = Ye(() => {
        tx = [{
            match: /#.*/g,
            sub: "todo"
        }, {
            expand: "str"
        }, {
            type: "str",
            match: /(>|\|)\r?\n((\s[^\n]*)?(\r?\n|$))*/g
        }, {
            type: "type",
            match: /!![a-z]+/g
        }, {
            type: "bool",
            match: /\b(Yes|No)\b/g
        }, {
            type: "oper",
            match: /[+:-]/g
        }, {
            expand: "num"
        }, {
            type: "var",
            match: /[a-zA-Z]\w*(?=:)/g
        }]
    }),
    Cj = {
        num: {
            type: "num",
            match: /(\.e?|\b)\d(e-|[\d.oxa-fA-F_])*(\.|\b)/g
        },
        str: {
            type: "str",
            match: /(["'])(\\[^]|(?!\1)[^\r\n\\])*\1?/g
        },
        strDouble: {
            type: "str",
            match: /"((?!")[^\r\n\\]|\\[^])*"?/g
        }
    },
    kj = GI({
        "./languages/asm.js": () => Promise.resolve().then(() => (YI(), D4)),
        "./languages/bash.js": () => Promise.resolve().then(() => (z4(), F4)),
        "./languages/bf.js": () => Promise.resolve().then(() => (KI(), B4)),
        "./languages/c.js": () => Promise.resolve().then(() => (XI(), H4)),
        "./languages/css.js": () => Promise.resolve().then(() => (ZI(), V4)),
        "./languages/csv.js": () => Promise.resolve().then(() => (QI(), q4)),
        "./languages/diff.js": () => Promise.resolve().then(() => (K4(), Y4)),
        "./languages/docker.js": () => Promise.resolve().then(() => (JI(), X4)),
        "./languages/git.js": () => Promise.resolve().then(() => (ej(), Q4)),
        "./languages/go.js": () => Promise.resolve().then(() => (tj(), e3)),
        "./languages/html.js": () => Promise.resolve().then(() => (nj(), i3)),
        "./languages/http.js": () => Promise.resolve().then(() => (rj(), a3)),
        "./languages/ini.js": () => Promise.resolve().then(() => (ij(), l3)),
        "./languages/java.js": () => Promise.resolve().then(() => (sj(), u3)),
        "./languages/js.js": () => Promise.resolve().then(() => (h3(), f3)),
        "./languages/js_template_literals.js": () => Promise.resolve().then(() => (aj(), p3)),
        "./languages/jsdoc.js": () => Promise.resolve().then(() => (oj(), y3)),
        "./languages/json.js": () => Promise.resolve().then(() => (lj(), C3)),
        "./languages/leanpub-md.js": () => Promise.resolve().then(() => (cj(), A3)),
        "./languages/log.js": () => Promise.resolve().then(() => (uj(), I3)),
        "./languages/lua.js": () => Promise.resolve().then(() => (dj(), M3)),
        "./languages/make.js": () => Promise.resolve().then(() => (fj(), O3)),
        "./languages/md.js": () => Promise.resolve().then(() => (N3(), E3)),
        "./languages/pl.js": () => Promise.resolve().then(() => (hj(), L3)),
        "./languages/plain.js": () => Promise.resolve().then(() => (pj(), _3)),
        "./languages/py.js": () => Promise.resolve().then(() => (mj(), z3)),
        "./languages/regex.js": () => Promise.resolve().then(() => (gj(), $3)),
        "./languages/rs.js": () => Promise.resolve().then(() => (xj(), V3)),
        "./languages/sql.js": () => Promise.resolve().then(() => (vj(), q3)),
        "./languages/todo.js": () => Promise.resolve().then(() => (b3(), x3)),
        "./languages/toml.js": () => Promise.resolve().then(() => (bj(), Y3)),
        "./languages/ts.js": () => Promise.resolve().then(() => (yj(), X3)),
        "./languages/uri.js": () => Promise.resolve().then(() => (wj(), Q3)),
        "./languages/xml.js": () => Promise.resolve().then(() => (r3(), n3)),
        "./languages/yaml.js": () => Promise.resolve().then(() => (Sj(), ex))
    }),
    Mp = {},
    Ej = (e = "") => e.replaceAll("&", "&#38;").replaceAll?.("<", "&lt;").replaceAll?.(">", "&gt;"),
    Nj = (e, t) => t ? `<span class="shj-syn-${t}">${e}</span>` : e;
async function nx(e, t, n) {
    try {
        let r, i, s = {},
            a, o = [],
            c = 0,
            u = typeof t == "string" ? await (Mp[t] ?? (Mp[t] = kj(`./languages/${t}.js`))) : t,
            d = [...typeof t == "string" ? u.default : t.sub];
        for (; c < e.length;) {
            for (s.index = null, r = d.length; r-- > 0;) {
                if (i = d[r].expand ? Cj[d[r].expand] : d[r], o[r] === void 0 || o[r].match.index < c) {
                    if (i.match.lastIndex = c, a = i.match.exec(e), a === null) {
                        d.splice(r, 1), o.splice(r, 1);
                        continue
                    }
                    o[r] = {
                        match: a,
                        lastIndex: i.match.lastIndex
                    }
                }
                o[r].match[0] && (o[r].match.index <= s.index || s.index === null) && (s = {
                    part: i,
                    index: o[r].match.index,
                    match: o[r].match[0],
                    end: o[r].lastIndex
                })
            }
            if (s.index === null) break;
            n(e.slice(c, s.index), u.type), c = s.end, s.part.sub ? await nx(s.match, typeof s.part.sub == "string" ? s.part.sub : typeof s.part.sub == "function" ? s.part.sub(s.match) : s.part, n) : n(s.match, s.part.type)
        }
        n(e.slice(c, e.length), u.type)
    } catch {
        n(e)
    }
}
async function Aj(e, t, n = !0, r = {}) {
    let i = "";
    return await nx(e, t, (s, a) => i += Nj(Ej(s), a)), n ? `<div><div class="shj-numbers">${"<div></div>".repeat(!r.hideLineNumbers&&e.split(`
`).length)}</div><div>${i}</div></div>` : i
}
const Tj = 500;

function Ij({
    language: e,
    children: t
}) {
    const [n, r] = h.useState(null);
    return h.useEffect(() => {
        const i = jj(e);
        if (!i) {
            r(null);
            return
        }
        let s = !1;
        const o = setTimeout(async () => {
            const c = await Aj(t, i, !0, {
                hideLineNumbers: !0
            });
            s || r(c)
        }, Tj);
        return () => {
            s = !0, clearTimeout(o)
        }
    }, [e, t]), l.jsx("code", {
        className: "whitespace-pre-wrap break-words",
        children: n != null ? l.jsx("div", {
            dangerouslySetInnerHTML: {
                __html: n
            }
        }) : l.jsx("div", {
            children: t
        })
    })
}

function jj(e) {
    switch (e.toLowerCase()) {
        case "asm":
            return "asm";
        case "bash":
        case "sh":
        case "shell":
            return "bash";
        case "bf":
        case "brainfuck":
            return "bf";
        case "c":
            return "c";
        case "css":
            return "css";
        case "csv":
            return "csv";
        case "diff":
            return "diff";
        case "docker":
        case "dockerfile":
            return "docker";
        case "git":
            return "git";
        case "go":
        case "golang":
            return "go";
        case "html":
        case "xml":
            return "html";
        case "http":
            return "http";
        case "ini":
            return "ini";
        case "java":
            return "java";
        case "js":
        case "javascript":
        case "node":
        case "nodejs":
            return "js";
        case "jsdoc":
            return "jsdoc";
        case "json":
            return "json";
        case "leanpub-md":
            return "leanpub-md";
        case "log":
            return "log";
        case "lua":
            return "lua";
        case "make":
        case "makefile":
            return "make";
        case "md":
        case "markdown":
            return "md";
        case "pl":
        case "perl":
            return "pl";
        case "plain":
        case "plaintext":
        case "text":
            return "plain";
        case "py":
        case "python":
            return "py";
        case "regex":
        case "regexp":
            return "regex";
        case "rs":
        case "rust":
            return "rs";
        case "sql":
            return "sql";
        case "todo":
            return "todo";
        case "toml":
            return "toml";
        case "ts":
        case "typescript":
            return "ts";
        case "uri":
        case "url":
            return "uri";
        case "yaml":
        case "yml":
            return "yaml";
        default:
            return null
    }
}
const Mj = ["h1", "h2", "h3", "h4", "h5", "h6", "b", "strong"],
    Rj = {
        code({
            className: e,
            children: t
        }) {
            const n = String(t);
            if (!n.endsWith(`
`)) return l.jsx("code", {
                children: n
            });
            const i = /language-(\w+)/.exec(e ?? "")?.[1] ?? "";
            return l.jsx(Ij, {
                language: i,
                children: n
            })
        },
        a({
            children: e,
            href: t
        }) {
            return l.jsx("a", {
                href: t,
                target: "_blank",
                rel: "noopener noreferrer",
                children: e
            })
        },
        ...Mj.reduce((e, t) => (e[t] = ({
            children: n
        }) => h.createElement(t, {
            style: {
                fontFamily: ty,
                color: Ya
            }
        }, n), e), {})
    };

function Tr({
    className: e,
    children: t
}) {
    const n = h.useRef(null),
        r = Oj(t);
    return Pj(n, r), t ? l.jsx("div", {
        ref: n,
        className: Q("prose prose-sm prose-light max-w-none", e),
        "data-testid": "ai-response",
        children: l.jsx(c5, {
            components: Rj,
            remarkPlugins: [PI, WI],
            rehypePlugins: [
                [NA, {
                    strict: !1,
                    throwOnError: !1,
                    errorColor: "#cc0000",
                    macros: {
                        "\\RR": "\\mathbb{R}",
                        "\\NN": "\\mathbb{N}",
                        "\\ZZ": "\\mathbb{Z}",
                        "\\QQ": "\\mathbb{Q}",
                        "\\CC": "\\mathbb{C}"
                    }
                }]
            ],
            children: r
        })
    }) : null
}

function Oj(e) {
    let t = e.replace(/\\\[([\s\S]*?)\\\]/g, (n, r) => `$$${r.trim()}$$`);
    return t = t.replace(/\\\(([\s\S]*?)\\\)/g, (n, r) => `$${r.trim()}$`), t = t.replace(/\$\$([\s\S]*?)\$\$/g, (n, r) => `$$${r.trim()}$$`), t = t.replace(/\$([^$\n]+?)\$/g, (n, r) => r.includes("\\") ? `$${r.trim()}$` : n), t
}

function Pj(e, t) {
    h.useEffect(() => {
        const n = setTimeout(() => {
            if (e.current && t) {
                const r = new Event("resize");
                window.dispatchEvent(r)
            }
        }, 100);
        return () => clearTimeout(n)
    }, [e, t])
}

function bl({
    className: e,
    children: t
}) {
    return l.jsx("h1", {
        className: Q("text-lg text-white/90 font-semibold mb-2", e),
        children: t
    })
}

function lc({
    indent: e = 0,
    className: t,
    onClick: n,
    children: r
}) {
    return l.jsx(X.HeadlessButton, {
        className: Q("w-full text-left rounded border border-transparent hover:bg-white/10 hover:border-white/20 active:bg-white/20 transition duration-30", !n && "pointer-events-none", t),
        onClick: n,
        children: l.jsx("div", {
            className: "-ml-1 -my-1",
            style: {
                paddingLeft: `${e*20}px`
            },
            children: l.jsx(Tr, {
                children: r
            })
        })
    })
}

function vf({
    className: e,
    onClick: t,
    children: n
}) {
    const r = {
            "": sl,
            "": yd,
            "": bg,
            "": pg,
            "": Pa,
            "": Sd,
            "": Kl,
            "": kd,
            "": wd,
            "": mg,
            "": xg,
            "": Cd,
            "": bd
        },
        i = {
            "": "text-sky-200",
            "": "text-cyan-200",
            "": "text-yellow-200",
            "": "text-red-200"
        },
        s = {
            "": "bg-sky-800/30",
            "": "bg-cyan-800/30",
            "": "bg-yellow-800/30",
            "": "bg-red-800/30"
        },
        a = n.trim().split(/\s+/, 1)[0],
        o = r[a ?? ""] ?? sl,
        c = i[a ?? ""] ?? "text-white/80",
        u = s[a ?? ""] ?? "bg-white/20",
        d = a ? n.slice(a?.length ?? 0).trimStart() : n;
    return l.jsxs("div", {
        className: Q("text-left border hover:bg-white/20 active:bg-white/20 transition duration-30 border-white/10 bg-white/10 rounded-xl px-3 py-1.5 min-h-12 flex flex-row items-center gap-2.5", !t && "pointer-events-none", e),
        onClick: t,
        children: [l.jsx("div", {
            className: Q("shrink-0 size-8 rounded-full flex items-center justify-center", u),
            children: l.jsx(o, {
                className: Q("size-4.5", c)
            })
        }), l.jsx("div", {
            className: "prose prose-sm prose-light break-words line-clamp-3",
            children: l.jsx(c5, {
                children: d
            })
        })]
    })
}
const Lj = e => "Tell the user what they should say next. Answer to the question if a question is asked, or otherwise provide information to advance the conversation. Don't summarize the conversation, just give a response to the user's message. Respond to the latest transcription: " + e,
    Dj = se(function({
        shouldCaptureScreenshot: t
    }) {
        const {
            aiResponsesService: n,
            contextService: r,
            micAudioCaptureService: i,
            systemAudioCaptureService: s
        } = ke(), [a, o] = h.useState(""), c = i.transcriptionService?.buffer, u = s.transcriptionService?.buffer, f = u?.partialText ? `${u.partialText}` : c?.partialText ? `${c.partialText}` : r.fullContext.audioTranscriptions.at(-1)?.text || "";
        h.useEffect(() => {
            f.split(" ").length > 3 && o(f)
        }, [f]);
        const m = () => {
            n.triggerAi({
                shouldCaptureScreenshot: t,
                manualInput: Lj(a),
                displayInput: a
            })
        };
        return a ? l.jsx("div", {
            className: "mx-4",
            children: l.jsxs(X.HeadlessButton, {
                className: "w-full p-2 text-left rounded bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 active:bg-white/20 transition duration-30",
                onClick: m,
                children: [l.jsx("p", {
                    className: "text-xs text-white font-semibold mb-0.5",
                    children: "What should I say next?"
                }), l.jsx("p", {
                    className: "text-sm text-white/80 line-clamp-2 leading-tight",
                    children: a
                })]
            })
        }) : null
    });

function rx(e) {
    const t = [e.displayName];
    return e.modelInstructions.length && t.push(`Additional instructions: ${e.modelInstructions}`), t.join(`

`)
}
const Rp = 5,
    Op = 300,
    Pp = 100,
    ix = h.createContext(() => {});

function Xs({
    className: e,
    maxHeight: t,
    scrollDownAccelerator: n,
    scrollUpAccelerator: r,
    enableSnapToBottom: i = !1,
    showBottomActions: s = !0,
    showAsTruncated: a = !1,
    snapToBottomKey: o,
    onScrollPastBottom: c,
    onScrollPastTop: u,
    children: d,
    bottomActions: f
}) {
    const m = at(),
        p = h.useRef(null),
        {
            isNearTop: g,
            isNearBottom: x,
            notifyContentUpdated: y
        } = Fj(p),
        {
            isSnappedToBottom: b,
            snapToBottom: w,
            cancelSnapToBottom: C
        } = zj(p, i, x, o);
    return xt(n, () => {
        x && c?.(), p.current?.scrollBy({
            top: Op,
            behavior: "smooth"
        }), m.capture(ge.SCROLL_PRESSED)
    }), xt(r, () => {
        C(), g && u?.(), p.current?.scrollBy({
            top: -Op,
            behavior: "smooth"
        }), m.capture(ge.SCROLL_PRESSED)
    }), l.jsx(ix, {
        value: y,
        children: l.jsxs("div", {
            className: "relative",
            children: [l.jsx(Hl, {}), l.jsx(V.div, {
                animate: {
                    maskImage: g ? "linear-gradient(to top, black calc(100% - 0px), transparent 100%)" : `linear-gradient(to top, black calc(100% - ${Pp}px), transparent 100%)`
                },
                transition: {
                    duration: .15
                },
                children: l.jsx(V.div, {
                    animate: {
                        maskImage: (x || b) && !a ? "linear-gradient(to bottom, black calc(100% - 0px), transparent 100%)" : `linear-gradient(to bottom, black calc(100% - ${Pp}px), transparent 100%)`
                    },
                    transition: {
                        duration: .15
                    },
                    children: l.jsx("div", {
                        ref: p,
                        className: Q("px-4 [scrollbar-gutter:stable] overflow-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/50", e),
                        style: {
                            maxHeight: t
                        },
                        children: d
                    })
                })
            }), l.jsx(_j, {
                showViewLatest: i && !b,
                showBottomActions: s,
                bottomActions: f,
                onViewLatest: w
            })]
        })
    })
}

function sx() {
    const e = h.useContext(ix);
    h.useEffect(() => {
        e()
    })
}

function bf({
    onClick: e,
    children: t
}) {
    return l.jsx(X.HeadlessButton, {
        className: "text-[11px] text-white/90 block px-3 h-8 rounded-lg bg-black/45 hover:bg-black/30 active:bg-black/20 transition",
        onClick: e,
        children: t
    })
}

function _j({
    showViewLatest: e,
    showBottomActions: t,
    bottomActions: n,
    onViewLatest: r
}) {
    return l.jsx("div", {
        className: "absolute bottom-1 left-1/2 -translate-x-1/2",
        children: l.jsx(Ke, {
            mode: "wait",
            children: e ? l.jsx(Lp, {
                children: l.jsx(bf, {
                    onClick: r,
                    children: "View Latest"
                })
            }, "view-latest") : t ? l.jsx(Lp, {
                children: n
            }, "bottom-actions") : null
        })
    })
}

function Lp({
    children: e
}) {
    return l.jsx(V.div, {
        initial: {
            opacity: 0,
            y: 10
        },
        animate: {
            opacity: 1,
            y: 0
        },
        exit: {
            opacity: 0,
            y: 10
        },
        transition: {
            duration: .3
        },
        children: e
    })
}

function Fj(e) {
    const [t, n] = h.useState(!0), [r, i] = h.useState(!0), s = h.useCallback(o => {
        n(o.scrollTop <= Rp), i(o.scrollTop + o.clientHeight >= o.scrollHeight - Rp)
    }, []), a = h.useCallback(() => {
        e.current && s(e.current)
    }, [e, s]);
    return h.useEffect(() => {
        a()
    }), h.useEffect(() => {
        const o = e.current;
        if (!o) return;
        const c = () => {
            s(o)
        };
        return o.addEventListener("scroll", c), () => o.removeEventListener("scroll", c)
    }, [e, s]), {
        isNearTop: t,
        isNearBottom: r,
        notifyContentUpdated: a
    }
}

function zj(e, t, n, r) {
    const [i, s] = h.useState(!1), [a, o] = h.useState(!1), c = h.useCallback(() => {
        s(!1), o(!0)
    }, []);
    h.useEffect(() => {
        t && n && !i && !a && s(!0)
    }, [t, n, i, a]), h.useEffect(() => {
        t && r != null && s(!0)
    }, [t, r]), h.useEffect(() => {
        const m = e.current;
        if (!m) return;
        let p = m.scrollTop;
        const g = () => {
            m.scrollTop < p && c(), p = m.scrollTop
        };
        return m.addEventListener("scroll", g), () => m.removeEventListener("scroll", g)
    }, [e, c]);
    const [u, d] = h.useState(!1);
    h.useEffect(() => {
        i && e.current?.scrollTo({
            top: e.current.scrollHeight,
            behavior: "smooth"
        })
    }, [i, e]), h.useEffect(() => {
        i && !u && e.current?.scrollTo({
            top: e.current.scrollHeight,
            behavior: "instant"
        })
    }), h.useEffect(() => {
        if (u) {
            const m = setTimeout(() => {
                d(!1)
            }, 300);
            return () => clearTimeout(m)
        }
    }, [u]), h.useEffect(() => {
        if (a) {
            const m = setTimeout(() => {
                o(!1)
            }, 300);
            return () => clearTimeout(m)
        }
    }, [a]);
    const f = h.useCallback(() => {
        s(!0), d(!0)
    }, []);
    return {
        isSnappedToBottom: i,
        snapToBottom: f,
        cancelSnapToBottom: c
    }
}

function yf() {
    const {
        data: e
    } = ei({
        queryKey: ["nerdy-auto-suggestions-enabled"],
        queryFn: () => dn(Bt().external.nerdy.is_auto_suggestions_enabled.get()),
        enabled: id
    });
    return !!e
}

function ao() {
    Ul();
    const {
        data: e,
        refetch: t
    } = ei({
        queryKey: ["platform.desktop.live_action_settings.get"],
        queryFn: () => dn(Bt().desktop.live_action_settings.get()),
        enabled: id
    });
    return {
        data: e ?? {
            disableDefaultActions: !1,
            disableRecommendedActions: !1,
            disableFollowUpActions: !1
        },
        refetch: t
    }
}
const Bj = ["dashboard.teams.active_team_for_settings.get"];

function $j() {
    return ei({
        queryKey: Bj,
        queryFn: () => dn(Bt().dashboard.teams.active_team_for_settings.get())
    })
}

function oo() {
    const {
        data: e
    } = $j(), t = Gt(Rr).session?.user?.organization;
    return e?.specialMediaOption ?? t?.specialMediaOption
}
const Hj = se(function({
        titleShortcuts: t
    }) {
        const {
            contextService: n
        } = ke(), {
            isInAudioSessionAndNotPaused: r
        } = n, i = Vl(!r, 300), {
            data: {
                disableFollowUpActions: s
            }
        } = ao();
        return l.jsxs(l.Fragment, {
            children: [l.jsx(X.WindowTitle, {
                shortcuts: t,
                children: "Live Insights"
            }), l.jsxs("div", {
                className: "space-y-3",
                "data-testid": "insights",
                children: [l.jsx(Vj, {}), l.jsx(Wj, {}), i && !s && l.jsx(qj, {})]
            })]
        })
    }),
    Uj = [{
        displayWide: " What should I say next?",
        displayNarrow: " What should I say?",
        input: "What should I say next? Output only the words I should say."
    }, {
        displayWide: " Follow-up questions",
        input: "Suggest two follow-up questions that I can ask to carry forward the conversation. Output as two bullet points."
    }, {
        displayWide: " Fact-check statements",
        displayNarrow: " Fact-check",
        input: "Is the most recent thing said in conversation accurate? Start your response with one of the following emojis [ for correct], [ for partially correct] or [ for incorrect]. Include the statement you are checking and the reason for your answer.You MUST search the web to verify the accuracy of the statement."
    }, {
        displayWide: " Recap",
        input: "Recap the most recent thing that happened in the conversation."
    }],
    Vj = se(function() {
        const t = at(),
            {
                aiResponsesService: n,
                contextService: r
            } = ke(),
            {
                liveInsights: i,
                fullContext: s
            } = r,
            {
                actions: a
            } = i,
            o = yf(),
            c = cn(en.LIVE_INSIGHTS_NERDY_WHAT_SHOULD_I_SAY_NEXT),
            u = h.useMemo(() => o ? a.filter(b => !b.text.startsWith("")) : a, [o, a]),
            d = ax(),
            {
                legacyCommandBar: f
            } = jt(),
            m = f ? lc : vf,
            {
                data: {
                    disableDefaultActions: p,
                    disableRecommendedActions: g
                }
            } = ao(),
            x = Eg(),
            y = !p || x.length > 0;
        return l.jsxs(l.Fragment, {
            children: [c && l.jsx(Dj, {
                shouldCaptureScreenshot: d
            }), y && l.jsxs(yl, {
                twoColumns: !0,
                children: [f && l.jsx(bl, {
                    children: `${p?"Custom":"Default"} Actions`
                }), !p && Uj.map((b, w) => l.jsx(m, {
                    onClick: () => {
                        n.triggerAi({
                            shouldCaptureScreenshot: d,
                            manualInput: b.input,
                            displayInput: b.displayWide
                        })
                    },
                    children: n.showMainAppAiContent ? b.displayNarrow ?? b.displayWide : b.displayWide
                }, w)), x.map((b, w) => l.jsx(m, {
                    onClick: () => n.triggerAi({
                        shouldCaptureScreenshot: d,
                        displayInput: ` ${b.displayName}`,
                        manualInput: rx(b)
                    }),
                    children: ` ${b.displayName}`
                }, w))]
            }), u.length > 0 && !g && l.jsxs(yl, {
                scrollMaxHeight: 250,
                children: [f && u.length > 0 && l.jsx(bl, {
                    children: "Recommended Actions"
                }), u.map(b => l.jsx(m, {
                    onClick: () => {
                        t.capture(ge.LIVE_INSIGHTS_CLICKED, {
                            type: "action",
                            action: b,
                            processedTranscripts: s.audioTranscriptions.slice(0, b.processedTranscriptEntryCount),
                            unprocessedTranscripts: s.audioTranscriptions.slice(b.processedTranscriptEntryCount, b.inputTranscriptEntryCount)
                        }), n.triggerAi({
                            shouldCaptureScreenshot: d,
                            manualInput: b.text,
                            displayInput: b.text
                        })
                    },
                    children: b.text
                }, b.id))]
            })]
        })
    }),
    Wj = se(function() {
        const t = at(),
            {
                aiResponsesService: n,
                contextService: r
            } = ke(),
            {
                liveInsights: i
            } = r,
            {
                suggestions: s
            } = i,
            a = ax(),
            {
                legacyCommandBar: o
            } = jt(),
            c = o ? lc : vf;
        return s.length === 0 ? null : l.jsx(yl, {
            children: s.map(u => {
                const d = () => {
                    t.capture(ge.LIVE_SUGGESTION_CLICKED, {
                        suggestion: u
                    }), n.triggerAi({
                        shouldCaptureScreenshot: a,
                        manualInput: u.title,
                        displayInput: u.title
                    })
                };
                return l.jsxs(h.Fragment, {
                    children: [l.jsx(c, {
                        onClick: d,
                        children: String(u.title)
                    }), l.jsx(c, {
                        onClick: d,
                        children: String(u.body)
                    })]
                }, u.id)
            })
        })
    }),
    Hr = {
        draftFollowUpEmail: {
            display: " Draft a follow-up email",
            input: "Draft a follow-up email Output the email greeting, body, and closing in a code block Use placeholders for the sender and recipient names, unless the names were explicitly mentioned in the conversation"
        },
        generateActionItems: {
            display: " Generate action items",
            input: "List all action items discussed, formatted as bullet points"
        },
        generateExecutiveSummary: {
            display: " Generate executive summary",
            input: "Generate a one-paragraph executive summary of the conversation, including key points and decisions made"
        }
    },
    qj = se(function() {
        const {
            aiResponsesService: t
        } = ke(), {
            legacyCommandBar: n
        } = jt(), r = n ? lc : vf;
        return l.jsxs(yl, {
            children: [n && l.jsx(bl, {
                children: "Follow-Ups"
            }), l.jsx(r, {
                onClick: () => {
                    t.triggerAi({
                        shouldCaptureScreenshot: !1,
                        manualInput: Hr.draftFollowUpEmail.input,
                        displayInput: Hr.draftFollowUpEmail.display
                    })
                },
                children: Hr.draftFollowUpEmail.display
            }), l.jsx(r, {
                onClick: () => {
                    t.triggerAi({
                        shouldCaptureScreenshot: !1,
                        manualInput: Hr.generateActionItems.input,
                        displayInput: Hr.generateActionItems.display
                    })
                },
                children: Hr.generateActionItems.display
            }), l.jsx(r, {
                onClick: () => {
                    t.triggerAi({
                        shouldCaptureScreenshot: !1,
                        manualInput: Hr.generateExecutiveSummary.input,
                        displayInput: Hr.generateExecutiveSummary.display
                    })
                },
                children: Hr.generateExecutiveSummary.display
            })]
        })
    });

function yl({
    twoColumns: e = !1,
    scrollMaxHeight: t,
    children: n
}) {
    const {
        legacyCommandBar: r
    } = jt(), i = r ? l.jsx("div", {
        children: n
    }) : l.jsx("div", {
        className: Q("grid gap-3 items-start", e && "grid-cols-2"),
        children: n
    });
    return t != null ? l.jsx(Xs, {
        maxHeight: t,
        enableSnapToBottom: !0,
        children: i
    }) : l.jsx("div", {
        className: "px-4",
        children: i
    })
}

function ax() {
    const e = cn(en.LIVE_INSIGHTS_ACTIONS_RESPECT_SPECIAL_MEDIA_OPTION),
        t = oo();
    return e ? t !== "no-screenshots" : !1
}
const Gj = se(function({
        titleShortcuts: t
    }) {
        return l.jsxs(l.Fragment, {
            children: [l.jsx(X.WindowTitle, {
                shortcuts: t,
                children: "Live Summary"
            }), l.jsx(Yj, {})]
        })
    }),
    Yj = se(function() {
        const {
            contextService: t
        } = ke(), {
            summary: n
        } = t.liveInsights;
        return l.jsx(Xs, {
            maxHeight: 500,
            enableSnapToBottom: !0,
            children: n.lines.map((r, i) => r.type === "heading" ? l.jsx(bl, {
                className: "mt-2",
                children: r.text
            }, i) : l.jsx(lc, {
                indent: r.indent,
                children: r.text
            }, i))
        })
    }),
    Kj = se(function({
        titleShortcuts: t
    }) {
        return l.jsxs(l.Fragment, {
            children: [l.jsx(Xj, {
                titleShortcuts: t
            }), l.jsx(Zj, {})]
        })
    }),
    Xj = se(function({
        titleShortcuts: t
    }) {
        const {
            contextService: n
        } = ke(), {
            audioSession: r,
            isInAudioSessionAndAudioIsPaused: i
        } = n, s = r?.state.state === "created" ? r.state.createdAt : null, [a, o] = h.useState(0);
        h.useEffect(() => {
            if (!s) return;
            const u = setInterval(() => {
                o(d => d + 1)
            }, 1e3);
            return () => clearInterval(u)
        }, [s]);
        const c = s ? Date.now() - s.getTime() : 0;
        return l.jsx(X.WindowTitle, {
            shortcuts: t,
            className: "flex-1",
            children: l.jsxs("div", {
                className: "flex items-center",
                children: [l.jsx("p", {
                    className: "min-w-fit",
                    children: i ? `${Be} is Paused` : `${Be} is Listening`
                }), !i && l.jsx("span", {
                    className: "text-white/60 font-normal ml-3",
                    children: ny(c)
                })]
            })
        })
    }),
    Zj = se(function() {
        const {
            contextService: t,
            micAudioCaptureService: n,
            systemAudioCaptureService: r
        } = ke(), {
            paragraphTranscripts: i
        } = t.fullContext, [s, a] = h.useState(!0);
        h.useEffect(() => {
            a(!1)
        }, []);
        const o = n.transcriptionService?.buffer,
            c = r.transcriptionService?.buffer;
        if (!(i.transcripts.length > 0 || i.remainingMicText.length > 0 || i.remainingSystemText.length > 0 || !!o?.partialText || !!c?.partialText)) return l.jsx(X.WindowMessage, {
            className: "my-1 opacity-80",
            children: "Start speaking to see real-time transcriptions"
        });
        const d = `${i.remainingMicText} ${o?.partialText??""}`.trim(),
            f = `${i.remainingSystemText} ${c?.partialText??""}`.trim();
        return l.jsxs(Xs, {
            className: "space-y-1.5",
            maxHeight: 400,
            enableSnapToBottom: !0,
            children: [i.transcripts.map((m, p) => l.jsx(Qj, {
                transcription: m,
                skipAnimate: s
            }, p)), f.length > 0 && l.jsx(lx, {
                skipAnimate: s,
                children: l.jsxs("span", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(ur, {
                        size: 4.5,
                        color: "white",
                        className: "opacity-90"
                    }), l.jsx("span", {
                        children: f
                    })]
                })
            }), d.length > 0 && l.jsx(ox, {
                skipAnimate: s,
                children: l.jsxs("span", {
                    className: "flex items-center gap-2",
                    children: [l.jsx("span", {
                        children: d
                    }), l.jsx(ur, {
                        size: 4.5,
                        color: "white",
                        className: "opacity-90"
                    })]
                })
            })]
        })
    }),
    Qj = se(function({
        transcription: t,
        skipAnimate: n
    }) {
        switch (t.role) {
            case "mic":
                return l.jsx(ox, {
                    skipAnimate: n,
                    children: t.text
                });
            case "system":
                return l.jsx(lx, {
                    skipAnimate: n,
                    children: t.text
                })
        }
    });

function ox({
    skipAnimate: e,
    children: t
}) {
    return l.jsx(V.div, {
        className: "px-2.5 py-1.5 w-fit max-w-72 ml-auto rounded-lg bg-sky-400/60 saturate-150 text-white/90 text-xs shadow-xs",
        style: {
            backgroundColor: Ya
        },
        initial: e ? !1 : {
            scale: .8,
            opacity: 0
        },
        animate: {
            scale: 1,
            opacity: 1
        },
        transition: {
            duration: .2,
            ease: "easeOut"
        },
        children: t
    })
}

function lx({
    skipAnimate: e,
    children: t
}) {
    return l.jsx(V.div, {
        className: "px-2.5 py-1.5 w-fit max-w-72 mr-auto rounded-lg bg-white/10 text-white/90 text-xs shadow-xs",
        initial: e ? !1 : {
            scale: .8,
            opacity: 0
        },
        animate: {
            scale: 1,
            opacity: 1
        },
        transition: {
            duration: .2,
            ease: "easeOut"
        },
        children: t
    })
}
const Ir = {
        aliceblue: [240, 248, 255],
        antiquewhite: [250, 235, 215],
        aqua: [0, 255, 255],
        aquamarine: [127, 255, 212],
        azure: [240, 255, 255],
        beige: [245, 245, 220],
        bisque: [255, 228, 196],
        black: [0, 0, 0],
        blanchedalmond: [255, 235, 205],
        blue: [0, 0, 255],
        blueviolet: [138, 43, 226],
        brown: [165, 42, 42],
        burlywood: [222, 184, 135],
        cadetblue: [95, 158, 160],
        chartreuse: [127, 255, 0],
        chocolate: [210, 105, 30],
        coral: [255, 127, 80],
        cornflowerblue: [100, 149, 237],
        cornsilk: [255, 248, 220],
        crimson: [220, 20, 60],
        cyan: [0, 255, 255],
        darkblue: [0, 0, 139],
        darkcyan: [0, 139, 139],
        darkgoldenrod: [184, 134, 11],
        darkgray: [169, 169, 169],
        darkgreen: [0, 100, 0],
        darkgrey: [169, 169, 169],
        darkkhaki: [189, 183, 107],
        darkmagenta: [139, 0, 139],
        darkolivegreen: [85, 107, 47],
        darkorange: [255, 140, 0],
        darkorchid: [153, 50, 204],
        darkred: [139, 0, 0],
        darksalmon: [233, 150, 122],
        darkseagreen: [143, 188, 143],
        darkslateblue: [72, 61, 139],
        darkslategray: [47, 79, 79],
        darkslategrey: [47, 79, 79],
        darkturquoise: [0, 206, 209],
        darkviolet: [148, 0, 211],
        deeppink: [255, 20, 147],
        deepskyblue: [0, 191, 255],
        dimgray: [105, 105, 105],
        dimgrey: [105, 105, 105],
        dodgerblue: [30, 144, 255],
        firebrick: [178, 34, 34],
        floralwhite: [255, 250, 240],
        forestgreen: [34, 139, 34],
        fuchsia: [255, 0, 255],
        gainsboro: [220, 220, 220],
        ghostwhite: [248, 248, 255],
        gold: [255, 215, 0],
        goldenrod: [218, 165, 32],
        gray: [128, 128, 128],
        green: [0, 128, 0],
        greenyellow: [173, 255, 47],
        grey: [128, 128, 128],
        honeydew: [240, 255, 240],
        hotpink: [255, 105, 180],
        indianred: [205, 92, 92],
        indigo: [75, 0, 130],
        ivory: [255, 255, 240],
        khaki: [240, 230, 140],
        lavender: [230, 230, 250],
        lavenderblush: [255, 240, 245],
        lawngreen: [124, 252, 0],
        lemonchiffon: [255, 250, 205],
        lightblue: [173, 216, 230],
        lightcoral: [240, 128, 128],
        lightcyan: [224, 255, 255],
        lightgoldenrodyellow: [250, 250, 210],
        lightgray: [211, 211, 211],
        lightgreen: [144, 238, 144],
        lightgrey: [211, 211, 211],
        lightpink: [255, 182, 193],
        lightsalmon: [255, 160, 122],
        lightseagreen: [32, 178, 170],
        lightskyblue: [135, 206, 250],
        lightslategray: [119, 136, 153],
        lightslategrey: [119, 136, 153],
        lightsteelblue: [176, 196, 222],
        lightyellow: [255, 255, 224],
        lime: [0, 255, 0],
        limegreen: [50, 205, 50],
        linen: [250, 240, 230],
        magenta: [255, 0, 255],
        maroon: [128, 0, 0],
        mediumaquamarine: [102, 205, 170],
        mediumblue: [0, 0, 205],
        mediumorchid: [186, 85, 211],
        mediumpurple: [147, 112, 219],
        mediumseagreen: [60, 179, 113],
        mediumslateblue: [123, 104, 238],
        mediumspringgreen: [0, 250, 154],
        mediumturquoise: [72, 209, 204],
        mediumvioletred: [199, 21, 133],
        midnightblue: [25, 25, 112],
        mintcream: [245, 255, 250],
        mistyrose: [255, 228, 225],
        moccasin: [255, 228, 181],
        navajowhite: [255, 222, 173],
        navy: [0, 0, 128],
        oldlace: [253, 245, 230],
        olive: [128, 128, 0],
        olivedrab: [107, 142, 35],
        orange: [255, 165, 0],
        orangered: [255, 69, 0],
        orchid: [218, 112, 214],
        palegoldenrod: [238, 232, 170],
        palegreen: [152, 251, 152],
        paleturquoise: [175, 238, 238],
        palevioletred: [219, 112, 147],
        papayawhip: [255, 239, 213],
        peachpuff: [255, 218, 185],
        peru: [205, 133, 63],
        pink: [255, 192, 203],
        plum: [221, 160, 221],
        powderblue: [176, 224, 230],
        purple: [128, 0, 128],
        rebeccapurple: [102, 51, 153],
        red: [255, 0, 0],
        rosybrown: [188, 143, 143],
        royalblue: [65, 105, 225],
        saddlebrown: [139, 69, 19],
        salmon: [250, 128, 114],
        sandybrown: [244, 164, 96],
        seagreen: [46, 139, 87],
        seashell: [255, 245, 238],
        sienna: [160, 82, 45],
        silver: [192, 192, 192],
        skyblue: [135, 206, 235],
        slateblue: [106, 90, 205],
        slategray: [112, 128, 144],
        slategrey: [112, 128, 144],
        snow: [255, 250, 250],
        springgreen: [0, 255, 127],
        steelblue: [70, 130, 180],
        tan: [210, 180, 140],
        teal: [0, 128, 128],
        thistle: [216, 191, 216],
        tomato: [255, 99, 71],
        turquoise: [64, 224, 208],
        violet: [238, 130, 238],
        wheat: [245, 222, 179],
        white: [255, 255, 255],
        whitesmoke: [245, 245, 245],
        yellow: [255, 255, 0],
        yellowgreen: [154, 205, 50]
    },
    cx = Object.create(null);
for (const e in Ir) Object.hasOwn(Ir, e) && (cx[Ir[e]] = e);
const Ut = {
    to: {},
    get: {}
};
Ut.get = function(e) {
    const t = e.slice(0, 3).toLowerCase();
    let n, r;
    switch (t) {
        case "hsl": {
            n = Ut.get.hsl(e), r = "hsl";
            break
        }
        case "hwb": {
            n = Ut.get.hwb(e), r = "hwb";
            break
        }
        default: {
            n = Ut.get.rgb(e), r = "rgb";
            break
        }
    }
    return n ? {
        model: r,
        value: n
    } : null
};
Ut.get.rgb = function(e) {
    if (!e) return null;
    const t = /^#([a-f\d]{3,4})$/i,
        n = /^#([a-f\d]{6})([a-f\d]{2})?$/i,
        r = /^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,
        i = /^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,
        s = /^(\w+)$/;
    let a = [0, 0, 0, 1],
        o, c, u;
    if (o = e.match(n)) {
        for (u = o[2], o = o[1], c = 0; c < 3; c++) {
            const d = c * 2;
            a[c] = Number.parseInt(o.slice(d, d + 2), 16)
        }
        u && (a[3] = Number.parseInt(u, 16) / 255)
    } else if (o = e.match(t)) {
        for (o = o[1], u = o[3], c = 0; c < 3; c++) a[c] = Number.parseInt(o[c] + o[c], 16);
        u && (a[3] = Number.parseInt(u + u, 16) / 255)
    } else if (o = e.match(r)) {
        for (c = 0; c < 3; c++) a[c] = Number.parseInt(o[c + 1], 10);
        o[4] && (a[3] = o[5] ? Number.parseFloat(o[4]) * .01 : Number.parseFloat(o[4]))
    } else if (o = e.match(i)) {
        for (c = 0; c < 3; c++) a[c] = Math.round(Number.parseFloat(o[c + 1]) * 2.55);
        o[4] && (a[3] = o[5] ? Number.parseFloat(o[4]) * .01 : Number.parseFloat(o[4]))
    } else return (o = e.match(s)) ? o[1] === "transparent" ? [0, 0, 0, 0] : Object.hasOwn(Ir, o[1]) ? (a = Ir[o[1]], a[3] = 1, a) : null : null;
    for (c = 0; c < 3; c++) a[c] = mi(a[c], 0, 255);
    return a[3] = mi(a[3], 0, 1), a
};
Ut.get.hsl = function(e) {
    if (!e) return null;
    const t = /^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,
        n = e.match(t);
    if (n) {
        const r = Number.parseFloat(n[4]),
            i = (Number.parseFloat(n[1]) % 360 + 360) % 360,
            s = mi(Number.parseFloat(n[2]), 0, 100),
            a = mi(Number.parseFloat(n[3]), 0, 100),
            o = mi(Number.isNaN(r) ? 1 : r, 0, 1);
        return [i, s, a, o]
    }
    return null
};
Ut.get.hwb = function(e) {
    if (!e) return null;
    const t = /^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,
        n = e.match(t);
    if (n) {
        const r = Number.parseFloat(n[4]),
            i = (Number.parseFloat(n[1]) % 360 + 360) % 360,
            s = mi(Number.parseFloat(n[2]), 0, 100),
            a = mi(Number.parseFloat(n[3]), 0, 100),
            o = mi(Number.isNaN(r) ? 1 : r, 0, 1);
        return [i, s, a, o]
    }
    return null
};
Ut.to.hex = function(...e) {
    return "#" + jo(e[0]) + jo(e[1]) + jo(e[2]) + (e[3] < 1 ? jo(Math.round(e[3] * 255)) : "")
};
Ut.to.rgb = function(...e) {
    return e.length < 4 || e[3] === 1 ? "rgb(" + Math.round(e[0]) + ", " + Math.round(e[1]) + ", " + Math.round(e[2]) + ")" : "rgba(" + Math.round(e[0]) + ", " + Math.round(e[1]) + ", " + Math.round(e[2]) + ", " + e[3] + ")"
};
Ut.to.rgb.percent = function(...e) {
    const t = Math.round(e[0] / 255 * 100),
        n = Math.round(e[1] / 255 * 100),
        r = Math.round(e[2] / 255 * 100);
    return e.length < 4 || e[3] === 1 ? "rgb(" + t + "%, " + n + "%, " + r + "%)" : "rgba(" + t + "%, " + n + "%, " + r + "%, " + e[3] + ")"
};
Ut.to.hsl = function(...e) {
    return e.length < 4 || e[3] === 1 ? "hsl(" + e[0] + ", " + e[1] + "%, " + e[2] + "%)" : "hsla(" + e[0] + ", " + e[1] + "%, " + e[2] + "%, " + e[3] + ")"
};
Ut.to.hwb = function(...e) {
    let t = "";
    return e.length >= 4 && e[3] !== 1 && (t = ", " + e[3]), "hwb(" + e[0] + ", " + e[1] + "%, " + e[2] + "%" + t + ")"
};
Ut.to.keyword = function(...e) {
    return cx[e.slice(0, 3)]
};

function mi(e, t, n) {
    return Math.min(Math.max(t, e), n)
}

function jo(e) {
    const t = Math.round(e).toString(16).toUpperCase();
    return t.length < 2 ? "0" + t : t
}
const ux = {};
for (const e of Object.keys(Ir)) ux[Ir[e]] = e;
const he = {
        rgb: {
            channels: 3,
            labels: "rgb"
        },
        hsl: {
            channels: 3,
            labels: "hsl"
        },
        hsv: {
            channels: 3,
            labels: "hsv"
        },
        hwb: {
            channels: 3,
            labels: "hwb"
        },
        cmyk: {
            channels: 4,
            labels: "cmyk"
        },
        xyz: {
            channels: 3,
            labels: "xyz"
        },
        lab: {
            channels: 3,
            labels: "lab"
        },
        oklab: {
            channels: 3,
            labels: ["okl", "oka", "okb"]
        },
        lch: {
            channels: 3,
            labels: "lch"
        },
        oklch: {
            channels: 3,
            labels: ["okl", "okc", "okh"]
        },
        hex: {
            channels: 1,
            labels: ["hex"]
        },
        keyword: {
            channels: 1,
            labels: ["keyword"]
        },
        ansi16: {
            channels: 1,
            labels: ["ansi16"]
        },
        ansi256: {
            channels: 1,
            labels: ["ansi256"]
        },
        hcg: {
            channels: 3,
            labels: ["h", "c", "g"]
        },
        apple: {
            channels: 3,
            labels: ["r16", "g16", "b16"]
        },
        gray: {
            channels: 1,
            labels: ["gray"]
        }
    },
    Xr = (6 / 29) ** 3;

function Ts(e) {
    const t = e > .0031308 ? 1.055 * e ** .4166666666666667 - .055 : e * 12.92;
    return Math.min(Math.max(0, t), 1)
}

function Is(e) {
    return e > .04045 ? ((e + .055) / 1.055) ** 2.4 : e / 12.92
}
for (const e of Object.keys(he)) {
    if (!("channels" in he[e])) throw new Error("missing channels property: " + e);
    if (!("labels" in he[e])) throw new Error("missing channel labels property: " + e);
    if (he[e].labels.length !== he[e].channels) throw new Error("channel and label counts mismatch: " + e);
    const {
        channels: t,
        labels: n
    } = he[e];
    delete he[e].channels, delete he[e].labels, Object.defineProperty(he[e], "channels", {
        value: t
    }), Object.defineProperty(he[e], "labels", {
        value: n
    })
}
he.rgb.hsl = function(e) {
    const t = e[0] / 255,
        n = e[1] / 255,
        r = e[2] / 255,
        i = Math.min(t, n, r),
        s = Math.max(t, n, r),
        a = s - i;
    let o, c;
    switch (s) {
        case i: {
            o = 0;
            break
        }
        case t: {
            o = (n - r) / a;
            break
        }
        case n: {
            o = 2 + (r - t) / a;
            break
        }
        case r: {
            o = 4 + (t - n) / a;
            break
        }
    }
    o = Math.min(o * 60, 360), o < 0 && (o += 360);
    const u = (i + s) / 2;
    return s === i ? c = 0 : u <= .5 ? c = a / (s + i) : c = a / (2 - s - i), [o, c * 100, u * 100]
};
he.rgb.hsv = function(e) {
    let t, n, r, i, s;
    const a = e[0] / 255,
        o = e[1] / 255,
        c = e[2] / 255,
        u = Math.max(a, o, c),
        d = u - Math.min(a, o, c),
        f = function(m) {
            return (u - m) / 6 / d + 1 / 2
        };
    if (d === 0) i = 0, s = 0;
    else {
        switch (s = d / u, t = f(a), n = f(o), r = f(c), u) {
            case a: {
                i = r - n;
                break
            }
            case o: {
                i = 1 / 3 + t - r;
                break
            }
            case c: {
                i = 2 / 3 + n - t;
                break
            }
        }
        i < 0 ? i += 1 : i > 1 && (i -= 1)
    }
    return [i * 360, s * 100, u * 100]
};
he.rgb.hwb = function(e) {
    const t = e[0],
        n = e[1];
    let r = e[2];
    const i = he.rgb.hsl(e)[0],
        s = 1 / 255 * Math.min(t, Math.min(n, r));
    return r = 1 - 1 / 255 * Math.max(t, Math.max(n, r)), [i, s * 100, r * 100]
};
he.rgb.oklab = function(e) {
    const t = Is(e[0] / 255),
        n = Is(e[1] / 255),
        r = Is(e[2] / 255),
        i = Math.cbrt(.4122214708 * t + .5363325363 * n + .0514459929 * r),
        s = Math.cbrt(.2119034982 * t + .6806995451 * n + .1073969566 * r),
        a = Math.cbrt(.0883024619 * t + .2817188376 * n + .6299787005 * r),
        o = .2104542553 * i + .793617785 * s - .0040720468 * a,
        c = 1.9779984951 * i - 2.428592205 * s + .4505937099 * a,
        u = .0259040371 * i + .7827717662 * s - .808675766 * a;
    return [o * 100, c * 100, u * 100]
};
he.rgb.cmyk = function(e) {
    const t = e[0] / 255,
        n = e[1] / 255,
        r = e[2] / 255,
        i = Math.min(1 - t, 1 - n, 1 - r),
        s = (1 - t - i) / (1 - i) || 0,
        a = (1 - n - i) / (1 - i) || 0,
        o = (1 - r - i) / (1 - i) || 0;
    return [s * 100, a * 100, o * 100, i * 100]
};

function Jj(e, t) {
    return (e[0] - t[0]) ** 2 + (e[1] - t[1]) ** 2 + (e[2] - t[2]) ** 2
}
he.rgb.keyword = function(e) {
    const t = ux[e];
    if (t) return t;
    let n = Number.POSITIVE_INFINITY,
        r;
    for (const i of Object.keys(Ir)) {
        const s = Ir[i],
            a = Jj(e, s);
        a < n && (n = a, r = i)
    }
    return r
};
he.keyword.rgb = function(e) {
    return Ir[e]
};
he.rgb.xyz = function(e) {
    const t = Is(e[0] / 255),
        n = Is(e[1] / 255),
        r = Is(e[2] / 255),
        i = t * .4124564 + n * .3575761 + r * .1804375,
        s = t * .2126729 + n * .7151522 + r * .072175,
        a = t * .0193339 + n * .119192 + r * .9503041;
    return [i * 100, s * 100, a * 100]
};
he.rgb.lab = function(e) {
    const t = he.rgb.xyz(e);
    let n = t[0],
        r = t[1],
        i = t[2];
    n /= 95.047, r /= 100, i /= 108.883, n = n > Xr ? n ** (1 / 3) : 7.787 * n + 16 / 116, r = r > Xr ? r ** (1 / 3) : 7.787 * r + 16 / 116, i = i > Xr ? i ** (1 / 3) : 7.787 * i + 16 / 116;
    const s = 116 * r - 16,
        a = 500 * (n - r),
        o = 200 * (r - i);
    return [s, a, o]
};
he.hsl.rgb = function(e) {
    const t = e[0] / 360,
        n = e[1] / 100,
        r = e[2] / 100;
    let i, s;
    if (n === 0) return s = r * 255, [s, s, s];
    const a = r < .5 ? r * (1 + n) : r + n - r * n,
        o = 2 * r - a,
        c = [0, 0, 0];
    for (let u = 0; u < 3; u++) i = t + 1 / 3 * -(u - 1), i < 0 && i++, i > 1 && i--, 6 * i < 1 ? s = o + (a - o) * 6 * i : 2 * i < 1 ? s = a : 3 * i < 2 ? s = o + (a - o) * (2 / 3 - i) * 6 : s = o, c[u] = s * 255;
    return c
};
he.hsl.hsv = function(e) {
    const t = e[0];
    let n = e[1] / 100,
        r = e[2] / 100,
        i = n;
    const s = Math.max(r, .01);
    r *= 2, n *= r <= 1 ? r : 2 - r, i *= s <= 1 ? s : 2 - s;
    const a = (r + n) / 2,
        o = r === 0 ? 2 * i / (s + i) : 2 * n / (r + n);
    return [t, o * 100, a * 100]
};
he.hsv.rgb = function(e) {
    const t = e[0] / 60,
        n = e[1] / 100;
    let r = e[2] / 100;
    const i = Math.floor(t) % 6,
        s = t - Math.floor(t),
        a = 255 * r * (1 - n),
        o = 255 * r * (1 - n * s),
        c = 255 * r * (1 - n * (1 - s));
    switch (r *= 255, i) {
        case 0:
            return [r, c, a];
        case 1:
            return [o, r, a];
        case 2:
            return [a, r, c];
        case 3:
            return [a, o, r];
        case 4:
            return [c, a, r];
        case 5:
            return [r, a, o]
    }
};
he.hsv.hsl = function(e) {
    const t = e[0],
        n = e[1] / 100,
        r = e[2] / 100,
        i = Math.max(r, .01);
    let s, a;
    a = (2 - n) * r;
    const o = (2 - n) * i;
    return s = n * i, s /= o <= 1 ? o : 2 - o, s = s || 0, a /= 2, [t, s * 100, a * 100]
};
he.hwb.rgb = function(e) {
    const t = e[0] / 360;
    let n = e[1] / 100,
        r = e[2] / 100;
    const i = n + r;
    let s;
    i > 1 && (n /= i, r /= i);
    const a = Math.floor(6 * t),
        o = 1 - r;
    s = 6 * t - a, (a & 1) !== 0 && (s = 1 - s);
    const c = n + s * (o - n);
    let u, d, f;
    switch (a) {
        default:
        case 6:
        case 0: {
            u = o, d = c, f = n;
            break
        }
        case 1: {
            u = c, d = o, f = n;
            break
        }
        case 2: {
            u = n, d = o, f = c;
            break
        }
        case 3: {
            u = n, d = c, f = o;
            break
        }
        case 4: {
            u = c, d = n, f = o;
            break
        }
        case 5: {
            u = o, d = n, f = c;
            break
        }
    }
    return [u * 255, d * 255, f * 255]
};
he.cmyk.rgb = function(e) {
    const t = e[0] / 100,
        n = e[1] / 100,
        r = e[2] / 100,
        i = e[3] / 100,
        s = 1 - Math.min(1, t * (1 - i) + i),
        a = 1 - Math.min(1, n * (1 - i) + i),
        o = 1 - Math.min(1, r * (1 - i) + i);
    return [s * 255, a * 255, o * 255]
};
he.xyz.rgb = function(e) {
    const t = e[0] / 100,
        n = e[1] / 100,
        r = e[2] / 100;
    let i, s, a;
    return i = t * 3.2404542 + n * -1.5371385 + r * -.4985314, s = t * -.969266 + n * 1.8760108 + r * .041556, a = t * .0556434 + n * -.2040259 + r * 1.0572252, i = Ts(i), s = Ts(s), a = Ts(a), [i * 255, s * 255, a * 255]
};
he.xyz.lab = function(e) {
    let t = e[0],
        n = e[1],
        r = e[2];
    t /= 95.047, n /= 100, r /= 108.883, t = t > Xr ? t ** (1 / 3) : 7.787 * t + 16 / 116, n = n > Xr ? n ** (1 / 3) : 7.787 * n + 16 / 116, r = r > Xr ? r ** (1 / 3) : 7.787 * r + 16 / 116;
    const i = 116 * n - 16,
        s = 500 * (t - n),
        a = 200 * (n - r);
    return [i, s, a]
};
he.xyz.oklab = function(e) {
    const t = e[0] / 100,
        n = e[1] / 100,
        r = e[2] / 100,
        i = Math.cbrt(.8189330101 * t + .3618667424 * n - .1288597137 * r),
        s = Math.cbrt(.0329845436 * t + .9293118715 * n + .0361456387 * r),
        a = Math.cbrt(.0482003018 * t + .2643662691 * n + .633851707 * r),
        o = .2104542553 * i + .793617785 * s - .0040720468 * a,
        c = 1.9779984951 * i - 2.428592205 * s + .4505937099 * a,
        u = .0259040371 * i + .7827717662 * s - .808675766 * a;
    return [o * 100, c * 100, u * 100]
};
he.oklab.oklch = function(e) {
    return he.lab.lch(e)
};
he.oklab.xyz = function(e) {
    const t = e[0] / 100,
        n = e[1] / 100,
        r = e[2] / 100,
        i = (.999999998 * t + .396337792 * n + .215803758 * r) ** 3,
        s = (1.000000008 * t - .105561342 * n - .063854175 * r) ** 3,
        a = (1.000000055 * t - .089484182 * n - 1.291485538 * r) ** 3,
        o = 1.227013851 * i - .55779998 * s + .281256149 * a,
        c = -.040580178 * i + 1.11225687 * s - .071676679 * a,
        u = -.076381285 * i - .421481978 * s + 1.58616322 * a;
    return [o * 100, c * 100, u * 100]
};
he.oklab.rgb = function(e) {
    const t = e[0] / 100,
        n = e[1] / 100,
        r = e[2] / 100,
        i = (t + .3963377774 * n + .2158037573 * r) ** 3,
        s = (t - .1055613458 * n - .0638541728 * r) ** 3,
        a = (t - .0894841775 * n - 1.291485548 * r) ** 3,
        o = Ts(4.0767416621 * i - 3.3077115913 * s + .2309699292 * a),
        c = Ts(-1.2684380046 * i + 2.6097574011 * s - .3413193965 * a),
        u = Ts(-.0041960863 * i - .7034186147 * s + 1.707614701 * a);
    return [o * 255, c * 255, u * 255]
};
he.oklch.oklab = function(e) {
    return he.lch.lab(e)
};
he.lab.xyz = function(e) {
    const t = e[0],
        n = e[1],
        r = e[2];
    let i, s, a;
    s = (t + 16) / 116, i = n / 500 + s, a = s - r / 200;
    const o = s ** 3,
        c = i ** 3,
        u = a ** 3;
    return s = o > Xr ? o : (s - 16 / 116) / 7.787, i = c > Xr ? c : (i - 16 / 116) / 7.787, a = u > Xr ? u : (a - 16 / 116) / 7.787, i *= 95.047, s *= 100, a *= 108.883, [i, s, a]
};
he.lab.lch = function(e) {
    const t = e[0],
        n = e[1],
        r = e[2];
    let i;
    i = Math.atan2(r, n) * 360 / 2 / Math.PI, i < 0 && (i += 360);
    const a = Math.sqrt(n * n + r * r);
    return [t, a, i]
};
he.lch.lab = function(e) {
    const t = e[0],
        n = e[1],
        i = e[2] / 360 * 2 * Math.PI,
        s = n * Math.cos(i),
        a = n * Math.sin(i);
    return [t, s, a]
};
he.rgb.ansi16 = function(e, t = null) {
    const [n, r, i] = e;
    let s = t === null ? he.rgb.hsv(e)[2] : t;
    if (s = Math.round(s / 50), s === 0) return 30;
    let a = 30 + (Math.round(i / 255) << 2 | Math.round(r / 255) << 1 | Math.round(n / 255));
    return s === 2 && (a += 60), a
};
he.hsv.ansi16 = function(e) {
    return he.rgb.ansi16(he.hsv.rgb(e), e[2])
};
he.rgb.ansi256 = function(e) {
    const t = e[0],
        n = e[1],
        r = e[2];
    return t >> 4 === n >> 4 && n >> 4 === r >> 4 ? t < 8 ? 16 : t > 248 ? 231 : Math.round((t - 8) / 247 * 24) + 232 : 16 + 36 * Math.round(t / 255 * 5) + 6 * Math.round(n / 255 * 5) + Math.round(r / 255 * 5)
};
he.ansi16.rgb = function(e) {
    e = e[0];
    let t = e % 10;
    if (t === 0 || t === 7) return e > 50 && (t += 3.5), t = t / 10.5 * 255, [t, t, t];
    const n = (Math.trunc(e > 50) + 1) * .5,
        r = (t & 1) * n * 255,
        i = (t >> 1 & 1) * n * 255,
        s = (t >> 2 & 1) * n * 255;
    return [r, i, s]
};
he.ansi256.rgb = function(e) {
    if (e = e[0], e >= 232) {
        const s = (e - 232) * 10 + 8;
        return [s, s, s]
    }
    e -= 16;
    let t;
    const n = Math.floor(e / 36) / 5 * 255,
        r = Math.floor((t = e % 36) / 6) / 5 * 255,
        i = t % 6 / 5 * 255;
    return [n, r, i]
};
he.rgb.hex = function(e) {
    const n = (((Math.round(e[0]) & 255) << 16) + ((Math.round(e[1]) & 255) << 8) + (Math.round(e[2]) & 255)).toString(16).toUpperCase();
    return "000000".slice(n.length) + n
};
he.hex.rgb = function(e) {
    const t = e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);
    if (!t) return [0, 0, 0];
    let n = t[0];
    t[0].length === 3 && (n = [...n].map(o => o + o).join(""));
    const r = Number.parseInt(n, 16),
        i = r >> 16 & 255,
        s = r >> 8 & 255,
        a = r & 255;
    return [i, s, a]
};
he.rgb.hcg = function(e) {
    const t = e[0] / 255,
        n = e[1] / 255,
        r = e[2] / 255,
        i = Math.max(Math.max(t, n), r),
        s = Math.min(Math.min(t, n), r),
        a = i - s;
    let o;
    const c = a < 1 ? s / (1 - a) : 0;
    return a <= 0 ? o = 0 : i === t ? o = (n - r) / a % 6 : i === n ? o = 2 + (r - t) / a : o = 4 + (t - n) / a, o /= 6, o %= 1, [o * 360, a * 100, c * 100]
};
he.hsl.hcg = function(e) {
    const t = e[1] / 100,
        n = e[2] / 100,
        r = n < .5 ? 2 * t * n : 2 * t * (1 - n);
    let i = 0;
    return r < 1 && (i = (n - .5 * r) / (1 - r)), [e[0], r * 100, i * 100]
};
he.hsv.hcg = function(e) {
    const t = e[1] / 100,
        n = e[2] / 100,
        r = t * n;
    let i = 0;
    return r < 1 && (i = (n - r) / (1 - r)), [e[0], r * 100, i * 100]
};
he.hcg.rgb = function(e) {
    const t = e[0] / 360,
        n = e[1] / 100,
        r = e[2] / 100;
    if (n === 0) return [r * 255, r * 255, r * 255];
    const i = [0, 0, 0],
        s = t % 1 * 6,
        a = s % 1,
        o = 1 - a;
    let c = 0;
    switch (Math.floor(s)) {
        case 0: {
            i[0] = 1, i[1] = a, i[2] = 0;
            break
        }
        case 1: {
            i[0] = o, i[1] = 1, i[2] = 0;
            break
        }
        case 2: {
            i[0] = 0, i[1] = 1, i[2] = a;
            break
        }
        case 3: {
            i[0] = 0, i[1] = o, i[2] = 1;
            break
        }
        case 4: {
            i[0] = a, i[1] = 0, i[2] = 1;
            break
        }
        default:
            i[0] = 1, i[1] = 0, i[2] = o
    }
    return c = (1 - n) * r, [(n * i[0] + c) * 255, (n * i[1] + c) * 255, (n * i[2] + c) * 255]
};
he.hcg.hsv = function(e) {
    const t = e[1] / 100,
        n = e[2] / 100,
        r = t + n * (1 - t);
    let i = 0;
    return r > 0 && (i = t / r), [e[0], i * 100, r * 100]
};
he.hcg.hsl = function(e) {
    const t = e[1] / 100,
        r = e[2] / 100 * (1 - t) + .5 * t;
    let i = 0;
    return r > 0 && r < .5 ? i = t / (2 * r) : r >= .5 && r < 1 && (i = t / (2 * (1 - r))), [e[0], i * 100, r * 100]
};
he.hcg.hwb = function(e) {
    const t = e[1] / 100,
        n = e[2] / 100,
        r = t + n * (1 - t);
    return [e[0], (r - t) * 100, (1 - r) * 100]
};
he.hwb.hcg = function(e) {
    const t = e[1] / 100,
        r = 1 - e[2] / 100,
        i = r - t;
    let s = 0;
    return i < 1 && (s = (r - i) / (1 - i)), [e[0], i * 100, s * 100]
};
he.apple.rgb = function(e) {
    return [e[0] / 65535 * 255, e[1] / 65535 * 255, e[2] / 65535 * 255]
};
he.rgb.apple = function(e) {
    return [e[0] / 255 * 65535, e[1] / 255 * 65535, e[2] / 255 * 65535]
};
he.gray.rgb = function(e) {
    return [e[0] / 100 * 255, e[0] / 100 * 255, e[0] / 100 * 255]
};
he.gray.hsl = function(e) {
    return [0, 0, e[0]]
};
he.gray.hsv = he.gray.hsl;
he.gray.hwb = function(e) {
    return [0, 100, e[0]]
};
he.gray.cmyk = function(e) {
    return [0, 0, 0, e[0]]
};
he.gray.lab = function(e) {
    return [e[0], 0, 0]
};
he.gray.hex = function(e) {
    const t = Math.round(e[0] / 100 * 255) & 255,
        r = ((t << 16) + (t << 8) + t).toString(16).toUpperCase();
    return "000000".slice(r.length) + r
};
he.rgb.gray = function(e) {
    return [(e[0] + e[1] + e[2]) / 3 / 255 * 100]
};

function eM() {
    const e = {},
        t = Object.keys(he);
    for (let {
            length: n
        } = t, r = 0; r < n; r++) e[t[r]] = {
        distance: -1,
        parent: null
    };
    return e
}

function tM(e) {
    const t = eM(),
        n = [e];
    for (t[e].distance = 0; n.length > 0;) {
        const r = n.pop(),
            i = Object.keys(he[r]);
        for (let {
                length: s
            } = i, a = 0; a < s; a++) {
            const o = i[a],
                c = t[o];
            c.distance === -1 && (c.distance = t[r].distance + 1, c.parent = r, n.unshift(o))
        }
    }
    return t
}

function nM(e, t) {
    return function(n) {
        return t(e(n))
    }
}

function rM(e, t) {
    const n = [t[e].parent, e];
    let r = he[t[e].parent][e],
        i = t[e].parent;
    for (; t[i].parent;) n.unshift(t[i].parent), r = nM(he[t[i].parent][i], r), i = t[i].parent;
    return r.conversion = n, r
}

function iM(e) {
    const t = tM(e),
        n = {},
        r = Object.keys(t);
    for (let {
            length: i
        } = r, s = 0; s < i; s++) {
        const a = r[s];
        t[a].parent !== null && (n[a] = rM(a, t))
    }
    return n
}
const tn = {},
    sM = Object.keys(he);

function aM(e) {
    const t = function(...n) {
        const r = n[0];
        return r == null ? r : (r.length > 1 && (n = r), e(n))
    };
    return "conversion" in e && (t.conversion = e.conversion), t
}

function oM(e) {
    const t = function(...n) {
        const r = n[0];
        if (r == null) return r;
        r.length > 1 && (n = r);
        const i = e(n);
        if (typeof i == "object")
            for (let {
                    length: s
                } = i, a = 0; a < s; a++) i[a] = Math.round(i[a]);
        return i
    };
    return "conversion" in e && (t.conversion = e.conversion), t
}
for (const e of sM) {
    tn[e] = {}, Object.defineProperty(tn[e], "channels", {
        value: he[e].channels
    }), Object.defineProperty(tn[e], "labels", {
        value: he[e].labels
    });
    const t = iM(e),
        n = Object.keys(t);
    for (const r of n) {
        const i = t[r];
        tn[e][r] = oM(i), tn[e][r].raw = aM(i)
    }
}
const dx = ["keyword", "gray", "hex"],
    C0 = {};
for (const e of Object.keys(tn)) C0[[...tn[e].labels].sort().join("")] = e;
const k0 = {};

function Qt(e, t) {
    if (!(this instanceof Qt)) return new Qt(e, t);
    if (t && t in dx && (t = null), t && !(t in tn)) throw new Error("Unknown model: " + t);
    let n, r;
    if (e == null) this.model = "rgb", this.color = [0, 0, 0], this.valpha = 1;
    else if (e instanceof Qt) this.model = e.model, this.color = [...e.color], this.valpha = e.valpha;
    else if (typeof e == "string") {
        const i = Ut.get(e);
        if (i === null) throw new Error("Unable to parse color from string: " + e);
        this.model = i.model, r = tn[this.model].channels, this.color = i.value.slice(0, r), this.valpha = typeof i.value[r] == "number" ? i.value[r] : 1
    } else if (e.length > 0) {
        this.model = t || "rgb", r = tn[this.model].channels;
        const i = Array.prototype.slice.call(e, 0, r);
        this.color = E0(i, r), this.valpha = typeof e[r] == "number" ? e[r] : 1
    } else if (typeof e == "number") this.model = "rgb", this.color = [e >> 16 & 255, e >> 8 & 255, e & 255], this.valpha = 1;
    else {
        this.valpha = 1;
        const i = Object.keys(e);
        "alpha" in e && (i.splice(i.indexOf("alpha"), 1), this.valpha = typeof e.alpha == "number" ? e.alpha : 0);
        const s = i.sort().join("");
        if (!(s in C0)) throw new Error("Unable to parse color from object: " + JSON.stringify(e));
        this.model = C0[s];
        const {
            labels: a
        } = tn[this.model], o = [];
        for (n = 0; n < a.length; n++) o.push(e[a[n]]);
        this.color = E0(o)
    }
    if (k0[this.model])
        for (r = tn[this.model].channels, n = 0; n < r; n++) {
            const i = k0[this.model][n];
            i && (this.color[n] = i(this.color[n]))
        }
    this.valpha = Math.max(0, Math.min(1, this.valpha)), Object.freeze && Object.freeze(this)
}
Qt.prototype = {
    toString() {
        return this.string()
    },
    toJSON() {
        return this[this.model]()
    },
    string(e) {
        let t = this.model in Ut.to ? this : this.rgb();
        t = t.round(typeof e == "number" ? e : 1);
        const n = t.valpha === 1 ? t.color : [...t.color, this.valpha];
        return Ut.to[t.model](...n)
    },
    percentString(e) {
        const t = this.rgb().round(typeof e == "number" ? e : 1),
            n = t.valpha === 1 ? t.color : [...t.color, this.valpha];
        return Ut.to.rgb.percent(...n)
    },
    array() {
        return this.valpha === 1 ? [...this.color] : [...this.color, this.valpha]
    },
    object() {
        const e = {},
            {
                channels: t
            } = tn[this.model],
            {
                labels: n
            } = tn[this.model];
        for (let r = 0; r < t; r++) e[n[r]] = this.color[r];
        return this.valpha !== 1 && (e.alpha = this.valpha), e
    },
    unitArray() {
        const e = this.rgb().color;
        return e[0] /= 255, e[1] /= 255, e[2] /= 255, this.valpha !== 1 && e.push(this.valpha), e
    },
    unitObject() {
        const e = this.rgb().object();
        return e.r /= 255, e.g /= 255, e.b /= 255, this.valpha !== 1 && (e.alpha = this.valpha), e
    },
    round(e) {
        return e = Math.max(e || 0, 0), new Qt([...this.color.map(cM(e)), this.valpha], this.model)
    },
    alpha(e) {
        return e !== void 0 ? new Qt([...this.color, Math.max(0, Math.min(1, e))], this.model) : this.valpha
    },
    red: Tt("rgb", 0, Ht(255)),
    green: Tt("rgb", 1, Ht(255)),
    blue: Tt("rgb", 2, Ht(255)),
    hue: Tt(["hsl", "hsv", "hsl", "hwb", "hcg"], 0, e => (e % 360 + 360) % 360),
    saturationl: Tt("hsl", 1, Ht(100)),
    lightness: Tt("hsl", 2, Ht(100)),
    saturationv: Tt("hsv", 1, Ht(100)),
    value: Tt("hsv", 2, Ht(100)),
    chroma: Tt("hcg", 1, Ht(100)),
    gray: Tt("hcg", 2, Ht(100)),
    white: Tt("hwb", 1, Ht(100)),
    wblack: Tt("hwb", 2, Ht(100)),
    cyan: Tt("cmyk", 0, Ht(100)),
    magenta: Tt("cmyk", 1, Ht(100)),
    yellow: Tt("cmyk", 2, Ht(100)),
    black: Tt("cmyk", 3, Ht(100)),
    x: Tt("xyz", 0, Ht(95.047)),
    y: Tt("xyz", 1, Ht(100)),
    z: Tt("xyz", 2, Ht(108.833)),
    l: Tt("lab", 0, Ht(100)),
    a: Tt("lab", 1),
    b: Tt("lab", 2),
    keyword(e) {
        return e !== void 0 ? new Qt(e) : tn[this.model].keyword(this.color)
    },
    hex(e) {
        return e !== void 0 ? new Qt(e) : Ut.to.hex(...this.rgb().round().color)
    },
    hexa(e) {
        if (e !== void 0) return new Qt(e);
        const t = this.rgb().round().color;
        let n = Math.round(this.valpha * 255).toString(16).toUpperCase();
        return n.length === 1 && (n = "0" + n), Ut.to.hex(...t) + n
    },
    rgbNumber() {
        const e = this.rgb().color;
        return (e[0] & 255) << 16 | (e[1] & 255) << 8 | e[2] & 255
    },
    luminosity() {
        const e = this.rgb().color,
            t = [];
        for (const [n, r] of e.entries()) {
            const i = r / 255;
            t[n] = i <= .04045 ? i / 12.92 : ((i + .055) / 1.055) ** 2.4
        }
        return .2126 * t[0] + .7152 * t[1] + .0722 * t[2]
    },
    contrast(e) {
        const t = this.luminosity(),
            n = e.luminosity();
        return t > n ? (t + .05) / (n + .05) : (n + .05) / (t + .05)
    },
    level(e) {
        const t = this.contrast(e);
        return t >= 7 ? "AAA" : t >= 4.5 ? "AA" : ""
    },
    isDark() {
        const e = this.rgb().color;
        return (e[0] * 2126 + e[1] * 7152 + e[2] * 722) / 1e4 < 128
    },
    isLight() {
        return !this.isDark()
    },
    negate() {
        const e = this.rgb();
        for (let t = 0; t < 3; t++) e.color[t] = 255 - e.color[t];
        return e
    },
    lighten(e) {
        const t = this.hsl();
        return t.color[2] += t.color[2] * e, t
    },
    darken(e) {
        const t = this.hsl();
        return t.color[2] -= t.color[2] * e, t
    },
    saturate(e) {
        const t = this.hsl();
        return t.color[1] += t.color[1] * e, t
    },
    desaturate(e) {
        const t = this.hsl();
        return t.color[1] -= t.color[1] * e, t
    },
    whiten(e) {
        const t = this.hwb();
        return t.color[1] += t.color[1] * e, t
    },
    blacken(e) {
        const t = this.hwb();
        return t.color[2] += t.color[2] * e, t
    },
    grayscale() {
        const e = this.rgb().color,
            t = e[0] * .3 + e[1] * .59 + e[2] * .11;
        return Qt.rgb(t, t, t)
    },
    fade(e) {
        return this.alpha(this.valpha - this.valpha * e)
    },
    opaquer(e) {
        return this.alpha(this.valpha + this.valpha * e)
    },
    rotate(e) {
        const t = this.hsl();
        let n = t.color[0];
        return n = (n + e) % 360, n = n < 0 ? 360 + n : n, t.color[0] = n, t
    },
    mix(e, t) {
        if (!e || !e.rgb) throw new Error('Argument to "mix" was not a Color instance, but rather an instance of ' + typeof e);
        const n = e.rgb(),
            r = this.rgb(),
            i = t === void 0 ? .5 : t,
            s = 2 * i - 1,
            a = n.alpha() - r.alpha(),
            o = ((s * a === -1 ? s : (s + a) / (1 + s * a)) + 1) / 2,
            c = 1 - o;
        return Qt.rgb(o * n.red() + c * r.red(), o * n.green() + c * r.green(), o * n.blue() + c * r.blue(), n.alpha() * i + r.alpha() * (1 - i))
    }
};
for (const e of Object.keys(tn)) {
    if (dx.includes(e)) continue;
    const {
        channels: t
    } = tn[e];
    Qt.prototype[e] = function(...n) {
        return this.model === e ? new Qt(this) : n.length > 0 ? new Qt(n, e) : new Qt([...uM(tn[this.model][e].raw(this.color)), this.valpha], e)
    }, Qt[e] = function(...n) {
        let r = n[0];
        return typeof r == "number" && (r = E0(n, t)), new Qt(r, e)
    }
}

function lM(e, t) {
    return Number(e.toFixed(t))
}

function cM(e) {
    return function(t) {
        return lM(t, e)
    }
}

function Tt(e, t, n) {
    e = Array.isArray(e) ? e : [e];
    for (const r of e)(k0[r] ||= [])[t] = n;
    return e = e[0],
        function(r) {
            let i;
            return r !== void 0 ? (n && (r = n(r)), i = this[e](), i.color[t] = r, i) : (i = this[e]().color[t], n && (i = n(i)), i)
        }
}

function Ht(e) {
    return function(t) {
        return Math.max(0, Math.min(e, t))
    }
}

function uM(e) {
    return Array.isArray(e) ? e : [e]
}

function E0(e, t) {
    for (let n = 0; n < t; n++) typeof e[n] != "number" && (e[n] = 0);
    return e
}

function dM({
    children: e,
    side: t
}) {
    return l.jsx("div", {
        className: Q("flex items-center", t === "left" ? "justify-start" : "justify-end"),
        children: l.jsx("div", {
            className: Q("rounded-lg bg-white py-1.5 px-2 max-w-[80%] text-[13px] leading-[19px]", t === "left" && "bg-white/10"),
            style: {
                background: t === "right" ? Qt(Ya).fade(.6).hexa() : void 0
            },
            children: e
        })
    })
}
const fM = se(function({
        onBack: t
    }) {
        const {
            contextService: n
        } = ke(), {
            liveInsights: r
        } = n, {
            nerdyAutoSuggestions: i,
            nerdyAutoSuggestionsIteration: s
        } = r, a = h.useRef(null), o = h.useMemo(() => I9(i, u => u.type === "response" ? u.state.state === "done" || u.state.state === "streaming" ? u.state.text.length : u.state.state === "error" ? u.state.message.length : 0 : u.suggestion.text.length), [i, s]);
        h.useEffect(() => {
            a.current && (a.current.scrollTop = a.current.scrollHeight)
        }, [o]);
        const c = i;
        return l.jsxs("div", {
            className: "text-white text-sm max-h-[500px] overflow-hidden flex flex-col min-h-0",
            children: [l.jsx(X.WindowTitle, {
                shortcuts: l.jsxs(l.Fragment, {
                    children: [l.jsx(X.Shortcut, {
                        label: l.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [l.jsx(Pa, {
                                size: 14,
                                className: "text-white/70"
                            }), l.jsx("span", {
                                children: "Show Insights"
                            })]
                        }),
                        onTrigger: () => t()
                    }), l.jsx(X.Shortcut, {
                        label: l.jsx(h9, {
                            size: 14,
                            className: "text-white/70"
                        }),
                        onTrigger: () => r.clearNerdyAutoSuggestions()
                    })]
                }),
                children: l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(Kl, {
                        size: 14,
                        className: "text-white/70"
                    }), l.jsx("div", {
                        children: "Suggestions"
                    })]
                })
            }), l.jsx("div", {
                className: "flex-1 px-3 min-h-0 overflow-auto",
                ref: a,
                children: c.length ? l.jsx("div", {
                    className: "flex flex-col gap-2",
                    children: c.map(u => l.jsx(dM, {
                        side: u.type === "suggestion" ? "left" : "right",
                        children: u.type === "suggestion" ? u.suggestion.text.replace(/^+/, "").trim() : u.state.state === "error" ? l.jsxs("div", {
                            className: "text-white/50",
                            children: ["Error: ", u.state.message]
                        }) : u.state.state === "pending" ? l.jsx(ur, {
                            size: 4.5,
                            color: "rgba(255,255,255,10)"
                        }) : l.jsx("div", {
                            className: "flex-1 min-w-0 [&_p]:text-[13px]! [&_p]:leading-[19px]!",
                            children: l.jsx(Tr, {
                                children: u.state.text
                            })
                        })
                    }, u.id))
                }) : l.jsx("div", {
                    className: "text-white/50 pb-0.5 leading-none",
                    children: "Waiting for suggestions..."
                })
            })]
        })
    }),
    du = ["dashboard.instructions.get"],
    hM = ["dashboard.instructions.id.default.patch"],
    Zs = (e, t) => {
        const n = Q2(),
            [r, i] = h.useState(!1);
        h.useEffect(() => {
            if (r) {
                const o = setTimeout(() => {
                    i(!1)
                }, 1e3);
                return () => clearTimeout(o)
            }
        }, [r]);
        const s = ei({
                queryKey: du,
                queryFn: async () => dn(Bt().dashboard.instructions.optimized.get({
                    query: {}
                })),
                enabled: e
            }),
            a = wg({
                mutationKey: hM,
                mutationFn: async o => {
                    n.setQueryData(du, c => {
                        if (c) return {
                            ...c,
                            activeInstructionId: o
                        }
                    }), await dn(Bt().dashboard.instructions({
                        id: o
                    }).default.patch())
                },
                onSuccess: () => {
                    i(!0), n.invalidateQueries({
                        queryKey: du
                    }), t?.()
                }
            });
        return {
            userInstructionsQuery: s,
            setDefaultMutation: a,
            showSetDefaultSuccess: r
        }
    },
    pM = se(function() {
        const {
            aiResponsesService: t
        } = ke(), {
            isAudioSessionWindowOpen: n
        } = t, {
            vOrientation: r
        } = ts();
        L9();
        const i = Gt(cd),
            s = i ? 450 : 550;
        return l.jsx(ry, {
            children: l.jsx("div", {
                className: "absolute",
                style: {
                    ...r === "top" ? {
                        top: 0
                    } : {
                        bottom: 0
                    },
                    ...i ? {
                        right: "calc(100% + 20px)"
                    } : {
                        left: `calc(50% - ${s/2}px)`
                    }
                },
                children: l.jsx(Ke, {
                    children: n && l.jsx(V.div, {
                        initial: {
                            opacity: 0,
                            scale: .98
                        },
                        animate: {
                            opacity: 1,
                            scale: 1
                        },
                        exit: {
                            opacity: 0,
                            scale: .98
                        },
                        children: l.jsxs(dr.Inline, {
                            width: s,
                            layoutTransition: !0,
                            captureMouseEvents: !0,
                            contentClassName: "relative group",
                            children: [l.jsx(mM, {}), l.jsx(X.WindowFooter, {}), l.jsx(sn, {
                                className: "absolute -top-2 -right-2 z-9999",
                                children: l.jsx(X.HeadlessButton, {
                                    className: Q("size-6 flex items-center justify-center rounded-full border border-[#71726f] hover:bg-[#71726f] transition duration-300 bg-[#616260] opacity-0 group-hover:opacity-100"),
                                    onClick: () => t.setIsAudioSessionWindowOpen(!1),
                                    children: l.jsx(hr, {
                                        className: "size-3 text-gray-300"
                                    })
                                })
                            })]
                        })
                    })
                })
            })
        })
    }),
    mM = se(function() {
        const {
            contextService: t
        } = ke(), {
            fullContext: n
        } = t, {
            transcripts: r,
            remainingMicText: i,
            remainingSystemText: s
        } = n.paragraphTranscripts, a = [...r.map(E => E.roledTranscript), i && `[Me]
Transcription: ${i}`, s && `[Them]
Transcription: ${s}`].filter(Boolean).join(`
`), [o, c] = h.useState("actions");
        Us();
        const u = !id,
            {
                audioSession: d
            } = t,
            {
                userInstructionsQuery: {
                    data: f,
                    isLoading: m
                },
                setDefaultMutation: p
            } = Zs(u, () => {
                d?.refreshInstructionActionables()
            }),
            g = Gt(cd),
            x = kg(),
            y = yf(),
            b = l.jsx(X.Shortcut, {
                label: l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(Kl, {
                        size: 14,
                        className: "text-white/70"
                    }), l.jsx("span", {
                        children: "Suggestions"
                    })]
                }),
                onTrigger: () => c("suggestions")
            }),
            w = l.jsx(X.Shortcut, {
                label: l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(e9, {
                        size: 14,
                        className: "text-white/70"
                    }), l.jsx("span", {
                        children: "Summary"
                    })]
                }),
                onTrigger: () => c("summary")
            }),
            C = l.jsx(X.Shortcut, {
                label: l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(m8, {
                        size: 14,
                        className: "text-white/70"
                    }), l.jsx("span", {
                        children: "Transcript"
                    })]
                }),
                onTrigger: () => c("transcript")
            });
        return o === "actions" ? l.jsx(Hj, {
            titleShortcuts: l.jsxs("div", {
                className: "flex items-center gap-4",
                children: [l.jsx("div", {
                    className: "leading-none",
                    children: m ? l.jsx(ur, {
                        size: 4.5,
                        color: "white",
                        className: "opacity-90 my-1"
                    }) : !!f?.instructions.length && l.jsx("div", {
                        className: "rounded-full border border-white/30 px-1",
                        children: l.jsx("select", {
                            className: Q("py-0.5 outline-none text-white text-[11px] truncate disabled:opacity-50", y ? g ? "w-[130px]" : "w-[100px]" : g ? "w-[130px]" : "w-[200px]"),
                            value: f.activeInstructionId,
                            disabled: p.isPending,
                            onChange: E => p.mutate(E.target.value),
                            children: f.instructions.map(E => l.jsx("option", {
                                className: "bg-neutral-800 text-white",
                                value: E.id,
                                children: E.displayName
                            }, E.id))
                        })
                    })
                }), y && b, x && w, C]
            })
        }) : o === "summary" ? l.jsx(Gj, {
            titleShortcuts: l.jsx(X.Shortcut, {
                label: l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(Pa, {
                        size: 14,
                        className: "text-white/70"
                    }), l.jsx("span", {
                        children: "Show Insights"
                    })]
                }),
                onTrigger: () => c("actions")
            })
        }) : o === "suggestions" ? l.jsx(fM, {
            onBack: () => c("actions")
        }) : l.jsx(Kj, {
            titleShortcuts: l.jsxs(l.Fragment, {
                children: [l.jsx(X.Shortcut, {
                    label: l.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [l.jsx(Pa, {
                            size: 14,
                            className: "text-white/70"
                        }), l.jsx("span", {
                            children: "Show Insights"
                        })]
                    }),
                    onTrigger: () => c("actions")
                }), l.jsx(X.Shortcut, {
                    label: l.jsx("div", {
                        className: "flex items-center gap-2",
                        children: l.jsx(vd, {
                            size: 14,
                            className: "text-white/70"
                        })
                    }),
                    onTrigger: async () => {
                        await navigator.clipboard.writeText(a)
                    }
                })]
            })
        })
    });

function fx({
    isStatic: e
}) {
    return l.jsx("div", {
        className: "w-4 flex items-center justify-center gap-[2px]",
        children: ["waveform-1", "waveform-2", "waveform-3"].map((t, n) => l.jsx(V.div, {
            className: Q("w-[2px] rounded-full", e ? "bg-primary-foreground" : "bg-white/60"),
            initial: {
                height: "0px"
            },
            animate: e ? {
                height: [4, 10, 8][n]
            } : {
                height: [3, 9, 3],
                transition: {
                    duration: 1,
                    repeat: Number.POSITIVE_INFINITY,
                    delay: n * .2,
                    ease: "easeInOut"
                }
            }
        }, t))
    })
}

function gM() {
    const {
        contextService: e,
        aiResponsesService: t
    } = ke(), {
        audioSession: n
    } = e, r = h.useCallback(() => {
        t.setIsAudioSessionWindowOpen(!0)
    }, [t]), i = h.useCallback(() => {
        t.setIsAudioSessionWindowOpen(!1)
    }, [t]);
    h.useEffect(() => {
        if (n) return r(), () => i()
    }, [n, r, i])
}

function xM() {
    const {
        contextService: e,
        aiResponsesService: t
    } = ke();
    Ds("set-audio-session-transcript", ({
        transcript: n
    }) => {
        e.clear(), e.fullContext.bulkAddAudioTranscriptions(n.map(r => new iy(r.text, r.role === "system" ? "system" : "mic", new Date(r.createdAt)))), t.clearCurrentConversation(), t.triggerAi({
            shouldCaptureScreenshot: !1,
            manualInput: "Summarize what happened thus far in the call. Focus on the purpose of the call."
        })
    })
}

function vM() {
    const {
        micAudioCaptureService: e,
        systemAudioCaptureService: t,
        contextService: n
    } = ke();
    h.useEffect(() => {
        const r = () => {
            n.isInAudioSession && (console.log("devicechange, restarting mic and system audio capture services"), e.restart(n.isInAudioSessionAndAudioIsPaused), t.restart(n.isInAudioSessionAndAudioIsPaused))
        };
        return navigator.mediaDevices.addEventListener("devicechange", r), () => navigator.mediaDevices.removeEventListener("devicechange", r)
    }, [n, e, t])
}
const Mo = se(function({
        isLoading: t,
        onClick: n
    }) {
        return l.jsx(V.div, {
            initial: {
                scale: 0
            },
            animate: {
                scale: 1
            },
            children: l.jsxs(X.HeadlessButton, {
                className: "px-2.5 h-7 rounded-full bg-[#072452] border border-[#196ACC] text-white hover:bg-[#0F2B57] shadow-sm flex items-center justify-center gap-1 transition",
                onClick: n,
                children: [t ? l.jsx(A9, {
                    color: "currentColor",
                    size: 16
                }) : l.jsx(fx, {
                    isStatic: !0
                }), l.jsx("p", {
                    className: "font-medium text-[11px]",
                    children: Nr.short.listen
                })]
            })
        })
    }),
    hx = fr(!1);
ud("dashboard-visibility", ({
    visible: e
}) => {
    rl().set(hx, e)
});

function bM() {
    return Gt(hx)
}

function Ei() {
    const {
        legacyCommandBar: e
    } = jt();
    return Ui(t => {
        e || be("set-dashboard-visibility", {
            visible: t
        })
    })
}

function ss() {
    const {
        aiResponsesService: e,
        contextService: t
    } = ke(), n = Si(J2), r = Ei();
    return h.useCallback(({
        additionalContext: i,
        eventsCallbackUrl: s,
        passthroughProperties: a,
        properNouns: o,
        peopleSearchEmails: c,
        meetingId: u,
        resumeSessionId: d
    }) => {
        n(o ?? null), e.clearCurrentConversation(), e.revealCurrentConversation(), t.startNewAudioSession({
            additionalContext: i,
            eventsCallbackUrl: s,
            passthroughProperties: a,
            peopleSearchEmails: c,
            meetingId: u,
            resumeSessionId: d
        }), r(!1), Wl(null)
    }, [e, t, r, n])
}

function yM() {
    const e = at(),
        t = Gt(Rr).session?.user,
        {
            contextService: n
        } = ke(),
        r = ss();
    gt("start-listening", ({
        meetingId: i,
        attendeeEmails: s
    }) => {
        r({
            meetingId: i ?? void 0,
            peopleSearchEmails: s?.filter(a => a !== t?.email)
        }), e.capture(ge.DASHBOARD_CLICKED_START)
    }), gt("stop-listening", () => {
        n.stopAudio(), e.capture(ge.DASHBOARD_CLICKED_STOP)
    }), gt("resume-session", ({
        sessionId: i
    }) => {
        r({
            resumeSessionId: i
        })
    })
}
const wM = {
        xmlns: "http://www.w3.org/2000/svg",
        width: 24,
        height: 24,
        fill: "none"
    },
    SM = h.forwardRef(({
        color: e = "currentColor",
        size: t = 24,
        strokeWidth: n = 0,
        absoluteStrokeWidth: r,
        children: i,
        iconNode: s,
        ...a
    }, o) => h.createElement("svg", {
        ref: o,
        ...wM,
        width: t,
        height: t,
        stroke: e,
        strokeWidth: r ? Number(n) * 24 / Number(t) : n,
        ...a
    }, [...s.map(([c, u]) => h.createElement(c, u)), ...Array.isArray(i) ? i : [i]])),
    Pt = (e, t, n) => {
        const r = h.forwardRef(({
            className: i = "",
            ...s
        }, a) => h.createElement(SM, {
            ref: a,
            viewBox: n,
            iconNode: t,
            className: i,
            ...s
        }));
        return r.displayName = e, r
    },
    CM = Pt("logo", [
        ["path", {
            d: "M67.4307 11.5693C52.005 -3.85643 26.995 -3.85643 11.5693 11.5693C-3.85643 26.995 -3.85643 52.005 11.5693 67.4307C26.995 82.8564 52.005 82.8564 67.4307 67.4307C82.8564 52.005 82.8564 26.995 67.4307 11.5693ZM17.9332 17.9332C29.8442 6.02225 49.1558 6.02225 61.0668 17.9332C72.9777 29.8442 72.9777 49.1558 61.0668 61.0668C59.7316 62.4019 58.3035 63.5874 56.8032 64.6232L56.8241 64.6023C46.8657 54.6439 46.8657 38.4982 56.8241 28.5398L58.2383 27.1256L51.8744 20.7617L50.4602 22.1759C40.5018 32.1343 24.3561 32.1343 14.3977 22.1759L14.3768 22.1968C15.4126 20.6965 16.5981 19.2684 17.9332 17.9332ZM34.0282 38.6078C25.6372 38.9948 17.1318 36.3344 10.3131 30.6265C7.56889 39.6809 9.12599 49.76 14.9844 57.6517L34.0282 38.6078ZM21.3483 64.0156C29.24 69.874 39.3191 71.4311 48.3735 68.6869C42.6656 61.8682 40.0052 53.3628 40.3922 44.9718L21.3483 64.0156Z",
            key: "qf7gf0",
            stroke: "none",
            fillRule: "evenodd",
            clipRule: "evenodd"
        }]
    ], "0 0 79 79");

function pr(e) {
    return l.jsx(CM, {
        ...e,
        "data-logo": ""
    })
}
const kM = Pt("collapse", [
        ["path", {
            d: "M6.00017 10.0007H4.00017C3.81128 10.0007 3.65305 9.93665 3.5255 9.80865C3.39794 9.68065 3.33394 9.52243 3.3335 9.33399C3.33305 9.14554 3.39705 8.98732 3.5255 8.85932C3.65394 8.73132 3.81217 8.66732 4.00017 8.66732H6.66683C6.85572 8.66732 7.01417 8.73132 7.14217 8.85932C7.27017 8.98732 7.33394 9.14554 7.3335 9.33399V12.0007C7.3335 12.1895 7.2695 12.348 7.1415 12.476C7.0135 12.604 6.85528 12.6678 6.66683 12.6673C6.47839 12.6669 6.32017 12.6029 6.19217 12.4753C6.06417 12.3478 6.00017 12.1895 6.00017 12.0007V10.0007ZM10.0002 6.00065H12.0002C12.1891 6.00065 12.3475 6.06465 12.4755 6.19265C12.6035 6.32065 12.6673 6.47888 12.6668 6.66732C12.6664 6.85576 12.6024 7.01421 12.4748 7.14265C12.3473 7.2711 12.1891 7.33488 12.0002 7.33399H9.3335C9.14461 7.33399 8.98639 7.26999 8.85883 7.14199C8.73128 7.01399 8.66728 6.85576 8.66683 6.66732V4.00065C8.66683 3.81176 8.73083 3.65354 8.85883 3.52599C8.98683 3.39843 9.14505 3.33443 9.3335 3.33399C9.52194 3.33354 9.68039 3.39754 9.80883 3.52599C9.93728 3.65443 10.0011 3.81265 10.0002 4.00065V6.00065Z",
            fill: "currentColor"
        }]
    ], "0 0 16 16"),
    EM = Pt("expand", [
        ["path", {
            d: "M4.66683 11.334H6.66683C6.85572 11.334 7.01394 11.398 7.1415 11.526C7.26905 11.654 7.33305 11.8122 7.3335 12.0007C7.33394 12.1891 7.26994 12.3473 7.1415 12.4753C7.01305 12.6033 6.85483 12.6673 6.66683 12.6673H4.00017C3.81128 12.6673 3.65283 12.6033 3.52483 12.4753C3.39683 12.3473 3.33305 12.1891 3.3335 12.0007V9.33399C3.3335 9.1451 3.3975 8.98666 3.5255 8.85866C3.6535 8.73066 3.81172 8.66688 4.00017 8.66732C4.18861 8.66777 4.34683 8.73177 4.47483 8.85932C4.60283 8.98688 4.66683 9.1451 4.66683 9.33399V11.334ZM11.3335 4.66733H9.3335C9.14461 4.66733 8.98617 4.60333 8.85817 4.47533C8.73017 4.34733 8.66639 4.1891 8.66683 4.00066C8.66728 3.81222 8.73128 3.65377 8.85883 3.52533C8.98639 3.39688 9.14461 3.3331 9.3335 3.33399H12.0002C12.1891 3.33399 12.3473 3.39799 12.4748 3.52599C12.6024 3.65399 12.6664 3.81222 12.6668 4.00066V6.66733C12.6668 6.85622 12.6028 7.01444 12.4748 7.14199C12.3468 7.26955 12.1886 7.33355 12.0002 7.33399C11.8117 7.33444 11.6533 7.27044 11.5248 7.14199C11.3964 7.01355 11.3326 6.85533 11.3335 6.66733V4.66733Z",
            fill: "currentColor"
        }]
    ], "0 0 16 16"),
    NM = Pt("send", [
        ["path", {
            d: "M4.14248 2.14697C3.08103 1.64399 1.87994 2.50119 2.00966 3.66797C2.00966 3.66797 2.13393 4.78455 2.21356 5.5C2.23395 5.68321 2.38916 5.83105 3.25625 5.83105C3.15766 4.94303 3.0038 3.55713 3.0038 3.55713C2.96068 3.16814 3.36134 2.88271 3.71474 3.05029L9.68691 5.87939C10.0442 6.04855 10.0664 6.53571 9.75381 6.74463L9.68691 6.78272L3.71474 9.61231C3.36081 9.77976 2.96073 9.49394 3.0038 9.10547C3.0038 9.10547 3.15766 7.71927 3.25625 6.83106C2.36105 6.83106 2.242 6.90666 2.21356 7.16226C2.13393 7.87785 2.00966 8.99463 2.00966 8.99463C1.87987 10.162 3.08198 11.0185 4.14297 10.5161L10.1146 7.68604C11.2585 7.14444 11.2585 5.51715 10.1146 4.97559L4.14248 2.14697Z",
            fillRule: "evenodd",
            clipRule: "evenodd",
            fill: "currentColor"
        }],
        ["path", {
            d: "M3.71474 3.05029C3.36134 2.88271 2.96068 3.16814 3.0038 3.55713C3.0038 3.55713 3.15766 4.94303 3.25625 5.83105C4.44841 5.83105 5.19062 5.83105 5.19062 5.83105C5.4667 5.83114 5.69062 6.05496 5.69062 6.33106C5.69062 6.60715 5.4667 6.83097 5.19062 6.83106C5.19062 6.83106 4.44841 6.83106 3.25625 6.83106C3.15766 7.71927 3.0038 9.10547 3.0038 9.10547C2.96073 9.49394 3.36081 9.77976 3.71474 9.61231L9.68691 6.78272L9.75381 6.74463C10.0664 6.53571 10.0442 6.04855 9.68691 5.87939L3.71474 3.05029Z",
            fill: "currentColor"
        }]
    ], "0 0 12 12");
Pt("waveform", [
    ["path", {
        d: "M9 12.5833C9 13.0896 8.55229 13.5 8 13.5C7.44772 13.5 7 13.0896 7 12.5833L7 3.41667C7 2.91041 7.44771 2.5 8 2.5C8.55228 2.5 9 2.91041 9 3.4167L9 12.5833Z",
        fill: "currentColor"
    }],
    ["path", {
        d: "M13 10.625C13 11.1082 12.5523 11.5 12 11.5C11.4477 11.5 11 11.1082 11 10.625V5.375C11 4.89175 11.4477 4.5 12 4.5C12.5523 4.5 13 4.89175 13 5.375V10.625Z",
        fill: "currentColor"
    }],
    ["path", {
        d: "M5 10.625C5 11.1082 4.55228 11.5 4 11.5C3.44772 11.5 3 11.1082 3 10.625L3 5.375C3 4.89175 3.44772 4.5 4 4.5C4.55228 4.5 5 4.89175 5 5.375L5 10.625Z",
        fill: "currentColor"
    }]
], "0 0 16 16");
Pt("waveform-off", [
    ["path", {
        d: "M8 13.5C8.55229 13.5 9 13.0896 9 12.5833L9 11.81L7 10V12.5833C7 13.0896 7.44772 13.5 8 13.5ZM9 6.2V3.41667C9 2.91041 8.55228 2.5 8 2.5C7.44771 2.5 7 2.91041 7 3.41667L7 4.39L9 6.2Z",
        fill: "currentColor",
        fillOpacity: "0.6",
        fillRule: "evenodd",
        clipRule: "evenodd"
    }],
    ["path", {
        d: "M4 11.5C4.55228 11.5 5 11.1082 5 10.625V8.18L3 6.38V10.625C3 11.1082 3.44772 11.5 4 11.5Z",
        fill: "currentColor",
        fillOpacity: "0.6",
        fillRule: "evenodd",
        clipRule: "evenodd"
    }],
    ["path", {
        d: "M13 9.84L11 8.03V5.375C11 4.89175 11.4477 4.5 12 4.5C12.5523 4.5 13 4.89175 13 5.375V9.84Z",
        fill: "currentColor",
        fillOpacity: "0.6",
        fillRule: "evenodd",
        clipRule: "evenodd"
    }],
    ["path", {
        d: "M13.2184 11.496C13.6115 11.8535 13.6292 12.4746 13.2577 12.8833C12.8863 13.2919 12.2663 13.3333 11.8731 12.9759L2.71201 4.64768C2.31877 4.29019 2.30116 3.66911 2.67266 3.26045C3.04417 2.85179 3.66412 2.81031 4.05736 3.1678L13.2184 11.496Z",
        fill: "currentColor"
    }]
], "0 0 16 16");

function N0({
    title: e,
    message: t,
    show: n = !0,
    actions: r = [],
    onDismiss: i,
    type: s = "secondary"
}) {
    const a = Array.isArray(r) ? r : [r];
    return l.jsxs(dr.Notification, {
        aggro: !0,
        show: n,
        onDismiss: i,
        captureMouseEvents: !0,
        captureMouseEventsEvenWhenHidden: !0,
        opaque: !0,
        contentClassName: "relative overflow-hidden",
        positionClassName: "group",
        children: [s === "primary" && l.jsx(V.div, {
            className: "absolute inset-0 pointer-events-none",
            initial: {
                top: -32,
                right: -32
            },
            animate: {
                top: 0,
                right: 0
            },
            transition: {
                duration: 6,
                ease: "circOut"
            },
            style: {
                background: "radial-gradient(120% 185% at 21% 98%, #17181C 64%, #0029A2 67%, #00CCFC 76%, #ECF9FC 80%)",
                maxHeight: "260px"
            }
        }), l.jsx(sn, {
            enabledEvenWhenHidden: !0,
            children: l.jsxs("div", {
                className: "flex flex-col gap-4 w-full z-10 relative",
                children: [l.jsxs("div", {
                    className: "flex justify-between items-center w-full gap-4",
                    children: [l.jsxs("div", {
                        className: "flex flex-col gap-1 w-full",
                        children: [l.jsxs("div", {
                            className: "w-full justify-between flex items-center text-[#7c7e86]",
                            children: [l.jsx("span", {
                                className: "font-semibold text-xs",
                                children: e
                            }), l.jsx("div", {
                                className: "flex items-center gap-1.5 font-medium text-xs",
                                children: i && s !== "primary" && l.jsx(hr, {
                                    onClick: i,
                                    className: "size-4 cursor-pointer"
                                })
                            })]
                        }), l.jsx("div", {
                            className: Q("text-[15px] tracking-[-0.1px]"),
                            style: {
                                textShadow: s === "primary" ? "0 0 8px rgba(237, 238, 242, 0.50)" : void 0,
                                color: s === "primary" ? "#EDEEF2" : "#c5c7ce"
                            },
                            children: t
                        })]
                    }), s === "primary" && l.jsx(pr, {
                        className: "size-10 shrink-0",
                        fill: "white",
                        style: {
                            filter: "drop-shadow(0 0 10px rgba(255, 255, 255, 1))"
                        }
                    })]
                }), l.jsx("div", {
                    className: "flex w-full gap-2.5 h-10",
                    children: a.map(o => l.jsx(AM, {
                        action: o
                    }, o.label))
                })]
            })
        })]
    })
}
const AM = ({
    action: e
}) => l.jsx(X.Button, {
    onClick: e.onClick,
    className: Q("h-full w-full rounded-full text-sm tracking-[-0.24px] font-medium transition-all duration-200 transform", e.variant === "primary" ? "bg-[#072452] border border-[#196ACC] text-white hover:bg-[#0F2B57]" : e.variant === "secondary" ? "bg-[#212227] border border-[#373944] text-[#AFB3C4] hover:bg-[#28292D]" : "bg-[#2E0E0D] border border-[#7B2322] text-white hover:bg-[#371615]"),
    style: {
        boxShadow: e.variant === "primary" ? "0 29px 8px 0 rgba(15, 83, 219, 0.00), 0 18px 7px 0 rgba(15, 83, 219, 0.01), 0 10px 6px 0 rgba(15, 83, 219, 0.05), 0 5px 5px 0 rgba(15, 83, 219, 0.09), 0 1px 3px 0 rgba(15, 83, 219, 0.10)" : e.variant === "destructive" ? "0 29px 8px 0 rgba(15, 83, 219, 0.00), 0 18px 7px 0 rgba(219, 18, 15, 0.01), 0 10px 6px 0 rgba(219, 18, 15, 0.05), 0 5px 5px 0 rgba(219, 18, 15, 0.09), 0 1px 3px 0 rgba(219, 18, 15, 0.10)" : void 0
    },
    children: e.label
});

function px({
    error: e,
    onRetry: t,
    onStop: n
}) {
    const {
        title: r,
        message: i,
        actions: s
    } = sy(e), a = s.includes("retry"), o = {
        close: {
            label: "Stop Call",
            onClick: n,
            variant: "destructive"
        },
        retry: {
            label: "Retry",
            onClick: t,
            variant: "secondary"
        },
        macSettings: {
            label: "Open Settings",
            onClick: () => be("mac-open-system-settings", {
                section: "privacy > microphone"
            }),
            variant: "secondary"
        }
    };
    return Vl(!0, 5e3) ? l.jsx(N0, {
        title: r,
        message: i,
        onDismiss: a ? t : n,
        actions: s.map(u => o[u])
    }) : null
}

function Mr(e) {
    const {
        vOrientation: t
    } = ts();
    return l.jsx(X.Tooltip, {
        position: t === "top" ? "bottom" : "top",
        ...e
    })
}
const wf = fr(!1),
    A0 = fr(null),
    TM = se(function() {
        gM(), xM(), yM(), vM(), _9(), ay();
        const {
            contextService: t
        } = ke(), {
            isInAudioSession: n
        } = t, {
            refetch: r
        } = ao();
        h.useEffect(() => {
            n && r()
        }, [n, r]);
        const i = Gt(A0),
            s = Si(A0),
            a = ss(),
            o = h.useCallback(f => {
                switch (f.type) {
                    case "start-call": {
                        a({
                            additionalContext: f.context,
                            eventsCallbackUrl: f.eventsCallbackUrl,
                            passthroughProperties: f.passthroughProperties
                        });
                        break
                    }
                    case "end-call":
                        t.stopAudio();
                        break;
                    case "pause-call":
                        t.isInAudioSession && t.pauseAudio();
                        break;
                    case "resume-call":
                        t.isInAudioSession && t.resumeAudio();
                        break;
                    case "set-context":
                        t.audioSession && console.log("[AudioCaptureApp] set-context command received:", f.context);
                        break
                }
            }, [t, a]);
        h.useEffect(() => {
            i && (console.log("[AudioCaptureApp] Handling call command from DeepLink:", i), o(i), s(null))
        }, [i, s, o]), Ds("call-command", f => {
            console.log("[AudioCaptureApp] Handling call command from Pusher:", f), o(f)
        });
        const u = oo() === "no-audio",
            {
                legacyCommandBar: d
            } = jt();
        return u ? null : l.jsxs(l.Fragment, {
            children: [l.jsx(ti, {
                children: l.jsx("div", {
                    className: Q(d && "ml-2"),
                    children: l.jsx(IM, {})
                })
            }), l.jsx(pM, {})]
        })
    }),
    IM = se(function() {
        const t = at(),
            {
                micAudioCaptureService: n,
                systemAudioCaptureService: r,
                contextService: i
            } = ke(),
            s = i.audioSession?.state.state,
            a = n.state.state,
            o = r.state.state,
            c = n.transcriptionService?.state.state,
            u = r.transcriptionService?.state.state,
            {
                isInAudioSessionAndAudioIsPaused: d
            } = i,
            f = ss();
        return i.audioSession?.state.state === "error" ? l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.retryAudioSession(),
            error: i.audioSession.state.error
        }) : a === "error" ? l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.retryAudioSession(),
            error: n.state.error
        }) : o === "error" ? l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.retryAudioSession(),
            error: r.state.error
        }) : n.transcriptionService?.state.state === "error" ? l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.retryAudioSession(),
            error: n.transcriptionService.state.error
        }) : r.transcriptionService?.state.state === "error" ? l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.retryAudioSession(),
            error: r.transcriptionService.state.error
        }) : s === "creating" ? l.jsx(Mo, {
            isLoading: !0,
            onClick: () => i.stopAudio()
        }) : a === "loading" || o === "loading" ? l.jsx(Mo, {
            isLoading: !0,
            onClick: () => i.stopAudio()
        }) : c === "loading" || u === "loading" ? l.jsx(Mo, {
            isLoading: !0,
            onClick: () => i.stopAudio()
        }) : a === "running" && o === "running" ? l.jsx(jM, {
            isPaused: d,
            onPause: () => {
                i.pauseAudio(), t.capture(ge.PAUSE_RECORDING_CLICKED)
            },
            onResume: () => {
                i.resumeAudio(), t.capture(ge.RESUME_RECORDING_CLICKED)
            },
            onStop: () => {
                t.capture(ge.STOP_RECORDING_CLICKED, {
                    audioContext: i.fullContext.audioContextAsText
                }), i.stopAudio()
            }
        }) : a === "not-running" && o === "not-running" ? l.jsx(Mo, {
            isLoading: !1,
            onClick: () => {
                f({}), t.capture(ge.START_RECORDING_CLICKED)
            }
        }) : l.jsx(ms, {
            onStop: () => i.stopAudio(),
            onRetry: () => i.resumeAudio(),
            error: new eg("An unknown error occurred while capturing audio.")
        })
    }),
    jM = se(function({
        isPaused: t,
        onPause: n,
        onResume: r,
        onStop: i
    }) {
        const {
            aiResponsesService: s
        } = ke(), a = s.isAudioSessionWindowOpen ? "Hide" : "Show";
        return l.jsxs("div", {
            className: "flex items-center justify-between h-full",
            children: [l.jsx(Mr, {
                tooltipContent: t ? "Resume Listening" : "Pause Listening",
                gap: 12,
                children: l.jsx(V.div, {
                    initial: {
                        scale: 0
                    },
                    animate: {
                        scale: 1
                    },
                    children: l.jsx(X.HeadlessButton, {
                        className: "overflow-hidden size-6 rounded-full bg-white/20 shadow-sm flex items-center justify-center hover:bg-white/30 active:bg-white/40 transition",
                        onClick: () => {
                            t ? r() : (n(), s.setIsAudioSessionWindowOpen(!0))
                        },
                        children: l.jsx(V.div, {
                            initial: {
                                scale: 0
                            },
                            animate: {
                                scale: 1
                            },
                            children: t ? l.jsx(oy, {
                                className: "text-white size-3"
                            }) : l.jsx(ly, {
                                className: "text-white size-3"
                            })
                        }, t ? "play" : "pause")
                    })
                })
            }), l.jsxs("div", {
                className: "relative w-[48px] h-full flex items-center",
                children: [l.jsx(Mr, {
                    tooltipContent: t ? void 0 : `${a} Live Insights`,
                    gap: 12,
                    children: l.jsxs(X.HeadlessButton, {
                        className: "ml-3 overflow-hidden h-6 flex items-center gap-1 transition",
                        onClick: () => {
                            t || s.setIsAudioSessionWindowOpen(!s.isAudioSessionWindowOpen)
                        },
                        children: [l.jsx(fx, {
                            isStatic: !1
                        }), l.jsx(cy, {
                            className: Q("text-white/60 size-2.5 transition", s.isAudioSessionWindowOpen && "scale-y-[-1]")
                        })]
                    })
                }), l.jsx(Ke, {
                    children: t && l.jsx(V.div, {
                        className: "absolute top-0 left-1",
                        initial: {
                            opacity: 0,
                            scale: .8
                        },
                        animate: {
                            opacity: 1,
                            scale: 1
                        },
                        exit: {
                            opacity: 0,
                            scale: .8
                        },
                        transition: {
                            duration: .1
                        },
                        children: l.jsx(MM, {
                            onStop: i
                        })
                    })
                })]
            })]
        })
    });

function MM({
    onStop: e
}) {
    return l.jsx(Mr, {
        tooltipContent: "Close Summary and Follow-Ups",
        gap: 12,
        children: l.jsxs(X.HeadlessButton, {
            className: "h-6 px-2 rounded-full bg-red-500/90 shadow-sm flex items-center justify-center hover:bg-red-600/90 active:bg-red-700/90 transition",
            onClick: e,
            children: [l.jsx("p", {
                className: "text-white text-[10px]",
                children: "Done"
            }), l.jsx(uy, {
                className: "text-white size-2.5 ml-1"
            })]
        })
    })
}

function ms({
    error: e,
    onRetry: t,
    onStop: n
}) {
    return l.jsxs(l.Fragment, {
        children: [l.jsx(V.div, {
            initial: {
                scale: 0
            },
            animate: {
                scale: 1
            },
            children: l.jsx(X.HeadlessButton, {
                className: "relative overflow-hidden size-6 rounded-full bg-red-500 shadow-sm flex items-center justify-center hover:bg-red-600 active:bg-red-700 transition",
                onClick: t,
                children: l.jsx(dy, {
                    className: "text-white size-4"
                })
            })
        }), l.jsx(px, {
            error: e,
            onRetry: t,
            onStop: n
        })]
    })
}

function RM(e) {
    return Yt({
        attr: {
            viewBox: "0 0 16 16",
            fill: "currentColor"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M 5.398 10.807 C 5.574 10.931 5.785 10.998 6 10.997 C 6.216 10.998 6.427 10.93 6.602 10.804 C 6.78 10.674 6.915 10.494 6.989 10.286 L 7.436 8.913 C 7.551 8.569 7.744 8.256 8 7.999 C 8.257 7.743 8.569 7.549 8.913 7.434 L 10.304 6.983 C 10.456 6.929 10.594 6.84 10.706 6.724 C 10.817 6.608 10.901 6.467 10.949 6.313 C 10.998 6.159 11.01 5.996 10.985 5.837 C 10.96 5.677 10.898 5.526 10.804 5.394 C 10.67 5.208 10.479 5.071 10.26 5.003 L 8.885 4.556 C 8.541 4.442 8.228 4.249 7.971 3.993 C 7.714 3.736 7.52 3.424 7.405 3.079 L 6.953 1.691 C 6.881 1.489 6.748 1.314 6.571 1.191 C 6.439 1.098 6.286 1.036 6.125 1.012 C 5.965 0.987 5.801 1.001 5.646 1.051 C 5.492 1.101 5.351 1.187 5.236 1.301 C 5.12 1.415 5.033 1.555 4.98 1.708 L 4.523 3.108 C 4.409 3.443 4.22 3.748 3.97 3.999 C 3.721 4.25 3.418 4.441 3.083 4.557 L 1.692 5.005 C 1.541 5.06 1.404 5.149 1.292 5.265 C 1.18 5.381 1.097 5.521 1.048 5.675 C 1 5.829 0.988 5.992 1.013 6.151 C 1.038 6.31 1.099 6.462 1.192 6.593 C 1.32 6.773 1.501 6.908 1.709 6.979 L 3.083 7.424 C 3.524 7.571 3.91 7.845 4.193 8.212 C 4.356 8.423 4.481 8.66 4.564 8.912 L 5.016 10.303 C 5.088 10.507 5.222 10.683 5.398 10.807 Z M 11.535 14.849 C 11.671 14.946 11.834 14.997 12 14.997 C 12.165 14.997 12.326 14.946 12.461 14.851 C 12.601 14.753 12.706 14.613 12.761 14.451 L 13.009 13.689 C 13.063 13.531 13.152 13.387 13.269 13.268 C 13.387 13.15 13.531 13.061 13.689 13.009 L 14.461 12.757 C 14.619 12.703 14.756 12.6 14.852 12.464 C 14.926 12.361 14.974 12.242 14.992 12.117 C 15.011 11.992 14.999 11.865 14.959 11.745 C 14.918 11.625 14.85 11.516 14.76 11.428 C 14.669 11.34 14.559 11.274 14.438 11.236 L 13.674 10.987 C 13.516 10.935 13.372 10.846 13.254 10.729 C 13.136 10.611 13.047 10.467 12.994 10.309 L 12.742 9.536 C 12.689 9.379 12.586 9.242 12.449 9.146 C 12.347 9.073 12.23 9.025 12.106 9.006 C 11.982 8.987 11.855 8.998 11.736 9.037 C 11.616 9.076 11.508 9.142 11.419 9.231 C 11.33 9.319 11.264 9.427 11.224 9.546 L 10.977 10.308 C 10.925 10.466 10.838 10.61 10.721 10.728 C 10.607 10.845 10.467 10.934 10.312 10.987 L 9.539 11.239 C 9.38 11.293 9.242 11.396 9.145 11.533 C 9.047 11.669 8.995 11.833 8.996 12.001 C 8.997 12.169 9.051 12.333 9.15 12.468 C 9.249 12.604 9.388 12.705 9.547 12.757 L 10.31 13.004 C 10.469 13.058 10.614 13.147 10.732 13.265 C 10.851 13.384 10.939 13.528 10.99 13.687 L 11.243 14.461 C 11.298 14.618 11.4 14.753 11.535 14.849 Z"
            },
            child: []
        }]
    })(e)
}

function Sf({
    location: e,
    className: t
}) {
    return e ? l.jsxs("div", {
        className: Q("flex gap-1.5 items-center text-muted-foreground", t),
        children: [l.jsx(tg, {
            className: "size-2.5"
        }), l.jsx("div", {
            className: "text-[13px] tracking-[0.2px] whitespace-nowrap",
            children: e
        })]
    }) : null
}

function Qs(e, t) {
    return ei({
        queryKey: ["v2.meetingContexts.ai_participant_details.get", e, t],
        queryFn: () => dn(Bt().v2.meetingContexts({
            externalEventId: e
        }).ai_participant_details.get({
            query: {
                participantEmail: t
            }
        }))
    })
}

function Cf(e) {
    const t = Ui(e),
        [n, r] = h.useState(null);
    return h.useEffect(() => {
        r(null);
        let i = !1;
        return (async () => {
            if (await new Promise(o => setTimeout(o, 0)), i) return;
            const a = await t();
            for await (const o of a) {
                if (i) return;
                r(c => (c ?? "") + o)
            }
        })().catch(a => {
            i || console.error("Error in streaming query", a)
        }), () => {
            i = !0
        }
    }, [t]), n
}

function OM(e, t) {
    return Cf(() => dn(Bt().v2.meetingContexts({
        externalEventId: e
    }).ai_participant_summary.get({
        query: {
            participantEmail: t
        }
    })))
}

function PM(e, t) {
    return Cf(() => dn(Bt().v2.meetingContexts({
        externalEventId: e
    }).ai_participant_bio.get({
        query: {
            participantEmail: t
        }
    })))
}

function LM(e, t) {
    return Cf(() => dn(Bt().v2.meetingContexts({
        externalEventId: e
    }).ai_participant_meeting_history.get({
        query: {
            participantEmail: t
        }
    })))
}

function DM(e) {
    return ei({
        queryKey: ["desktop.calendar.upcoming_meeting_events.attendees_people_search.post", e],
        queryFn: () => dn(Bt().desktop.calendar.upcoming_meeting_events({
            eventId: e
        }).attendees_people_search.post()),
        retry: !1
    })
}
const mx = typeof document < "u" ? Ue.useLayoutEffect : () => {};
var fu;
const _M = (fu = Ue.useInsertionEffect) !== null && fu !== void 0 ? fu : mx;

function FM(e) {
    const t = h.useRef(null);
    return _M(() => {
        t.current = e
    }, [e]), h.useCallback((...n) => {
        const r = t.current;
        return r?.(...n)
    }, [])
}
const Ni = e => {
        var t;
        return (t = e?.ownerDocument) !== null && t !== void 0 ? t : document
    },
    Di = e => e && "window" in e && e.window === e ? e : Ni(e).defaultView || window;

function zM(e) {
    return e !== null && typeof e == "object" && "nodeType" in e && typeof e.nodeType == "number"
}

function BM(e) {
    return zM(e) && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE && "host" in e
}
let $M = !1;

function kf() {
    return $M
}

function gx(e, t) {
    if (!kf()) return t && e ? e.contains(t) : !1;
    if (!e || !t) return !1;
    let n = t;
    for (; n !== null;) {
        if (n === e) return !0;
        n.tagName === "SLOT" && n.assignedSlot ? n = n.assignedSlot.parentNode : BM(n) ? n = n.host : n = n.parentNode
    }
    return !1
}
const T0 = (e = document) => {
    var t;
    if (!kf()) return e.activeElement;
    let n = e.activeElement;
    for (; n && "shadowRoot" in n && (!((t = n.shadowRoot) === null || t === void 0) && t.activeElement);) n = n.shadowRoot.activeElement;
    return n
};

function xx(e) {
    return kf() && e.target.shadowRoot && e.composedPath ? e.composedPath()[0] : e.target
}

function vx(e) {
    var t, n, r = "";
    if (typeof e == "string" || typeof e == "number") r += e;
    else if (typeof e == "object")
        if (Array.isArray(e)) {
            var i = e.length;
            for (t = 0; t < i; t++) e[t] && (n = vx(e[t])) && (r && (r += " "), r += n)
        } else
            for (n in e) e[n] && (r && (r += " "), r += n);
    return r
}

function bn() {
    for (var e, t, n = 0, r = "", i = arguments.length; n < i; n++)(e = arguments[n]) && (t = vx(e)) && (r && (r += " "), r += t);
    return r
}

function HM(e) {
    var t;
    if (typeof window > "u" || window.navigator == null) return !1;
    let n = (t = window.navigator.userAgentData) === null || t === void 0 ? void 0 : t.brands;
    return Array.isArray(n) && n.some(r => e.test(r.brand)) || e.test(window.navigator.userAgent)
}

function UM(e) {
    var t;
    return typeof window < "u" && window.navigator != null ? e.test(((t = window.navigator.userAgentData) === null || t === void 0 ? void 0 : t.platform) || window.navigator.platform) : !1
}

function bx(e) {
    let t = null;
    return () => (t == null && (t = e()), t)
}
const VM = bx(function() {
        return UM(/^Mac/i)
    }),
    WM = bx(function() {
        return HM(/Android/i)
    });

function yx() {
    let e = h.useRef(new Map),
        t = h.useCallback((i, s, a, o) => {
            let c = o?.once ? (...u) => {
                e.current.delete(a), a(...u)
            } : a;
            e.current.set(a, {
                type: s,
                eventTarget: i,
                fn: c,
                options: o
            }), i.addEventListener(s, c, o)
        }, []),
        n = h.useCallback((i, s, a, o) => {
            var c;
            let u = ((c = e.current.get(a)) === null || c === void 0 ? void 0 : c.fn) || a;
            i.removeEventListener(s, u, o), e.current.delete(a)
        }, []),
        r = h.useCallback(() => {
            e.current.forEach((i, s) => {
                n(i.eventTarget, i.type, s, i.options)
            })
        }, [n]);
    return h.useEffect(() => r, [r]), {
        addGlobalListener: t,
        removeGlobalListener: n,
        removeAllGlobalListeners: r
    }
}

function qM(e) {
    return e.mozInputSource === 0 && e.isTrusted ? !0 : WM() && e.pointerType ? e.type === "click" && e.buttons === 1 : e.detail === 0 && !e.pointerType
}

function wx(e) {
    let t = e;
    return t.nativeEvent = e, t.isDefaultPrevented = () => t.defaultPrevented, t.isPropagationStopped = () => t.cancelBubble, t.persist = () => {}, t
}

function GM(e, t) {
    Object.defineProperty(e, "target", {
        value: t
    }), Object.defineProperty(e, "currentTarget", {
        value: t
    })
}

function Sx(e) {
    let t = h.useRef({
        isFocused: !1,
        observer: null
    });
    mx(() => {
        const r = t.current;
        return () => {
            r.observer && (r.observer.disconnect(), r.observer = null)
        }
    }, []);
    let n = FM(r => {
        e?.(r)
    });
    return h.useCallback(r => {
        if (r.target instanceof HTMLButtonElement || r.target instanceof HTMLInputElement || r.target instanceof HTMLTextAreaElement || r.target instanceof HTMLSelectElement) {
            t.current.isFocused = !0;
            let i = r.target,
                s = a => {
                    if (t.current.isFocused = !1, i.disabled) {
                        let o = wx(a);
                        n(o)
                    }
                    t.current.observer && (t.current.observer.disconnect(), t.current.observer = null)
                };
            i.addEventListener("focusout", s, {
                once: !0
            }), t.current.observer = new MutationObserver(() => {
                if (t.current.isFocused && i.disabled) {
                    var a;
                    (a = t.current.observer) === null || a === void 0 || a.disconnect();
                    let o = i === document.activeElement ? null : document.activeElement;
                    i.dispatchEvent(new FocusEvent("blur", {
                        relatedTarget: o
                    })), i.dispatchEvent(new FocusEvent("focusout", {
                        bubbles: !0,
                        relatedTarget: o
                    }))
                }
            }), t.current.observer.observe(i, {
                attributes: !0,
                attributeFilter: ["disabled"]
            })
        }
    }, [n])
}
let YM = !1,
    lo = null,
    I0 = new Set,
    Na = new Map,
    Wi = !1,
    j0 = !1;
const KM = {
    Tab: !0,
    Escape: !0
};

function Ef(e, t) {
    for (let n of I0) n(e, t)
}

function XM(e) {
    return !(e.metaKey || !VM() && e.altKey || e.ctrlKey || e.key === "Control" || e.key === "Shift" || e.key === "Meta")
}

function wl(e) {
    Wi = !0, XM(e) && (lo = "keyboard", Ef("keyboard", e))
}

function js(e) {
    lo = "pointer", (e.type === "mousedown" || e.type === "pointerdown") && (Wi = !0, Ef("pointer", e))
}

function Cx(e) {
    qM(e) && (Wi = !0, lo = "virtual")
}

function kx(e) {
    e.target === window || e.target === document || YM || !e.isTrusted || (!Wi && !j0 && (lo = "virtual", Ef("virtual", e)), Wi = !1, j0 = !1)
}

function Ex() {
    Wi = !1, j0 = !0
}

function M0(e) {
    if (typeof window > "u" || typeof document > "u" || Na.get(Di(e))) return;
    const t = Di(e),
        n = Ni(e);
    let r = t.HTMLElement.prototype.focus;
    t.HTMLElement.prototype.focus = function() {
        Wi = !0, r.apply(this, arguments)
    }, n.addEventListener("keydown", wl, !0), n.addEventListener("keyup", wl, !0), n.addEventListener("click", Cx, !0), t.addEventListener("focus", kx, !0), t.addEventListener("blur", Ex, !1), typeof PointerEvent < "u" && (n.addEventListener("pointerdown", js, !0), n.addEventListener("pointermove", js, !0), n.addEventListener("pointerup", js, !0)), t.addEventListener("beforeunload", () => {
        Nx(e)
    }, {
        once: !0
    }), Na.set(t, {
        focus: r
    })
}
const Nx = (e, t) => {
    const n = Di(e),
        r = Ni(e);
    t && r.removeEventListener("DOMContentLoaded", t), Na.has(n) && (n.HTMLElement.prototype.focus = Na.get(n).focus, r.removeEventListener("keydown", wl, !0), r.removeEventListener("keyup", wl, !0), r.removeEventListener("click", Cx, !0), n.removeEventListener("focus", kx, !0), n.removeEventListener("blur", Ex, !1), typeof PointerEvent < "u" && (r.removeEventListener("pointerdown", js, !0), r.removeEventListener("pointermove", js, !0), r.removeEventListener("pointerup", js, !0)), Na.delete(n))
};

function ZM(e) {
    const t = Ni(e);
    let n;
    return t.readyState !== "loading" ? M0(e) : (n = () => {
        M0(e)
    }, t.addEventListener("DOMContentLoaded", n)), () => Nx(e, n)
}
typeof document < "u" && ZM();

function Ax() {
    return lo !== "pointer"
}
const QM = new Set(["checkbox", "radio", "range", "color", "file", "image", "button", "submit", "reset"]);

function JM(e, t, n) {
    let r = Ni(n?.target);
    const i = typeof window < "u" ? Di(n?.target).HTMLInputElement : HTMLInputElement,
        s = typeof window < "u" ? Di(n?.target).HTMLTextAreaElement : HTMLTextAreaElement,
        a = typeof window < "u" ? Di(n?.target).HTMLElement : HTMLElement,
        o = typeof window < "u" ? Di(n?.target).KeyboardEvent : KeyboardEvent;
    return e = e || r.activeElement instanceof i && !QM.has(r.activeElement.type) || r.activeElement instanceof s || r.activeElement instanceof a && r.activeElement.isContentEditable, !(e && t === "keyboard" && n instanceof o && !KM[n.key])
}

function eR(e, t, n) {
    M0(), h.useEffect(() => {
        let r = (i, s) => {
            JM(!!n?.isTextInput, i, s) && e(Ax())
        };
        return I0.add(r), () => {
            I0.delete(r)
        }
    }, t)
}

function tR(e) {
    let {
        isDisabled: t,
        onFocus: n,
        onBlur: r,
        onFocusChange: i
    } = e;
    const s = h.useCallback(c => {
            if (c.target === c.currentTarget) return r && r(c), i && i(!1), !0
        }, [r, i]),
        a = Sx(s),
        o = h.useCallback(c => {
            const u = Ni(c.target),
                d = u ? T0(u) : T0();
            c.target === c.currentTarget && d === xx(c.nativeEvent) && (n && n(c), i && i(!0), a(c))
        }, [i, n, a]);
    return {
        focusProps: {
            onFocus: !t && (n || i || r) ? o : void 0,
            onBlur: !t && (r || i) ? s : void 0
        }
    }
}

function nR(e) {
    let {
        isDisabled: t,
        onBlurWithin: n,
        onFocusWithin: r,
        onFocusWithinChange: i
    } = e, s = h.useRef({
        isFocusWithin: !1
    }), {
        addGlobalListener: a,
        removeAllGlobalListeners: o
    } = yx(), c = h.useCallback(f => {
        f.currentTarget.contains(f.target) && s.current.isFocusWithin && !f.currentTarget.contains(f.relatedTarget) && (s.current.isFocusWithin = !1, o(), n && n(f), i && i(!1))
    }, [n, i, s, o]), u = Sx(c), d = h.useCallback(f => {
        if (!f.currentTarget.contains(f.target)) return;
        const m = Ni(f.target),
            p = T0(m);
        if (!s.current.isFocusWithin && p === xx(f.nativeEvent)) {
            r && r(f), i && i(!0), s.current.isFocusWithin = !0, u(f);
            let g = f.currentTarget;
            a(m, "focus", x => {
                if (s.current.isFocusWithin && !gx(g, x.target)) {
                    let y = new m.defaultView.FocusEvent("blur", {
                        relatedTarget: x.target
                    });
                    GM(y, g);
                    let b = wx(y);
                    c(b)
                }
            }, {
                capture: !0
            })
        }
    }, [r, i, u, a, c]);
    return t ? {
        focusWithinProps: {
            onFocus: void 0,
            onBlur: void 0
        }
    } : {
        focusWithinProps: {
            onFocus: d,
            onBlur: c
        }
    }
}
let R0 = !1,
    Ro = 0;

function rR() {
    R0 = !0, setTimeout(() => {
        R0 = !1
    }, 50)
}

function Dp(e) {
    e.pointerType === "touch" && rR()
}

function iR() {
    if (!(typeof document > "u")) return Ro === 0 && typeof PointerEvent < "u" && document.addEventListener("pointerup", Dp), Ro++, () => {
        Ro--, !(Ro > 0) && typeof PointerEvent < "u" && document.removeEventListener("pointerup", Dp)
    }
}

function Nf(e) {
    let {
        onHoverStart: t,
        onHoverChange: n,
        onHoverEnd: r,
        isDisabled: i
    } = e, [s, a] = h.useState(!1), o = h.useRef({
        isHovered: !1,
        ignoreEmulatedMouseEvents: !1,
        pointerType: "",
        target: null
    }).current;
    h.useEffect(iR, []);
    let {
        addGlobalListener: c,
        removeAllGlobalListeners: u
    } = yx(), {
        hoverProps: d,
        triggerHoverEnd: f
    } = h.useMemo(() => {
        let m = (x, y) => {
                if (o.pointerType = y, i || y === "touch" || o.isHovered || !x.currentTarget.contains(x.target)) return;
                o.isHovered = !0;
                let b = x.currentTarget;
                o.target = b, c(Ni(x.target), "pointerover", w => {
                    o.isHovered && o.target && !gx(o.target, w.target) && p(w, w.pointerType)
                }, {
                    capture: !0
                }), t && t({
                    type: "hoverstart",
                    target: b,
                    pointerType: y
                }), n && n(!0), a(!0)
            },
            p = (x, y) => {
                let b = o.target;
                o.pointerType = "", o.target = null, !(y === "touch" || !o.isHovered || !b) && (o.isHovered = !1, u(), r && r({
                    type: "hoverend",
                    target: b,
                    pointerType: y
                }), n && n(!1), a(!1))
            },
            g = {};
        return typeof PointerEvent < "u" && (g.onPointerEnter = x => {
            R0 && x.pointerType === "mouse" || m(x, x.pointerType)
        }, g.onPointerLeave = x => {
            !i && x.currentTarget.contains(x.target) && p(x, x.pointerType)
        }), {
            hoverProps: g,
            triggerHoverEnd: p
        }
    }, [t, n, r, i, o, c, u]);
    return h.useEffect(() => {
        i && f({
            currentTarget: o.target
        }, o.pointerType)
    }, [i]), {
        hoverProps: d,
        isHovered: s
    }
}

function cc(e = {}) {
    let {
        autoFocus: t = !1,
        isTextInput: n,
        within: r
    } = e, i = h.useRef({
        isFocused: !1,
        isFocusVisible: t || Ax()
    }), [s, a] = h.useState(!1), [o, c] = h.useState(() => i.current.isFocused && i.current.isFocusVisible), u = h.useCallback(() => c(i.current.isFocused && i.current.isFocusVisible), []), d = h.useCallback(p => {
        i.current.isFocused = p, a(p), u()
    }, [u]);
    eR(p => {
        i.current.isFocusVisible = p, u()
    }, [], {
        isTextInput: n
    });
    let {
        focusProps: f
    } = tR({
        isDisabled: r,
        onFocusChange: d
    }), {
        focusWithinProps: m
    } = nR({
        isDisabled: !r,
        onFocusWithinChange: d
    });
    return {
        isFocused: s,
        isFocusVisible: o,
        focusProps: r ? m : f
    }
}
var sR = Object.defineProperty,
    aR = (e, t, n) => t in e ? sR(e, t, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: n
    }) : e[t] = n,
    hu = (e, t, n) => (aR(e, typeof t != "symbol" ? t + "" : t, n), n);
let oR = class {
        constructor() {
            hu(this, "current", this.detect()), hu(this, "handoffState", "pending"), hu(this, "currentId", 0)
        }
        set(t) {
            this.current !== t && (this.handoffState = "pending", this.currentId = 0, this.current = t)
        }
        reset() {
            this.set(this.detect())
        }
        nextId() {
            return ++this.currentId
        }
        get isServer() {
            return this.current === "server"
        }
        get isClient() {
            return this.current === "client"
        }
        detect() {
            return typeof window > "u" || typeof document > "u" ? "server" : "client"
        }
        handoff() {
            this.handoffState === "pending" && (this.handoffState = "complete")
        }
        get isHandoffComplete() {
            return this.handoffState === "complete"
        }
    },
    jr = new oR;

function as(e) {
    var t, n;
    return jr.isServer ? null : e ? "ownerDocument" in e ? e.ownerDocument : "current" in e ? (n = (t = e.current) == null ? void 0 : t.ownerDocument) != null ? n : document : null : document
}

function Af(e) {
    typeof queueMicrotask == "function" ? queueMicrotask(e) : Promise.resolve().then(e).catch(t => setTimeout(() => {
        throw t
    }))
}

function er() {
    let e = [],
        t = {
            addEventListener(n, r, i, s) {
                return n.addEventListener(r, i, s), t.add(() => n.removeEventListener(r, i, s))
            },
            requestAnimationFrame(...n) {
                let r = requestAnimationFrame(...n);
                return t.add(() => cancelAnimationFrame(r))
            },
            nextFrame(...n) {
                return t.requestAnimationFrame(() => t.requestAnimationFrame(...n))
            },
            setTimeout(...n) {
                let r = setTimeout(...n);
                return t.add(() => clearTimeout(r))
            },
            microTask(...n) {
                let r = {
                    current: !0
                };
                return Af(() => {
                    r.current && n[0]()
                }), t.add(() => {
                    r.current = !1
                })
            },
            style(n, r, i) {
                let s = n.style.getPropertyValue(r);
                return Object.assign(n.style, {
                    [r]: i
                }), this.add(() => {
                    Object.assign(n.style, {
                        [r]: s
                    })
                })
            },
            group(n) {
                let r = er();
                return n(r), this.add(() => r.dispose())
            },
            add(n) {
                return e.includes(n) || e.push(n), () => {
                    let r = e.indexOf(n);
                    if (r >= 0)
                        for (let i of e.splice(r, 1)) i()
                }
            },
            dispose() {
                for (let n of e.splice(0)) n()
            }
        };
    return t
}

function uc() {
    let [e] = h.useState(er);
    return h.useEffect(() => () => e.dispose(), [e]), e
}
let vt = (e, t) => {
    jr.isServer ? h.useEffect(e, t) : h.useLayoutEffect(e, t)
};

function Gr(e) {
    let t = h.useRef(e);
    return vt(() => {
        t.current = e
    }, [e]), t
}
let Ge = function(e) {
    let t = Gr(e);
    return Ue.useCallback((...n) => t.current(...n), [t])
};

function lR(e) {
    let t = e.width / 2,
        n = e.height / 2;
    return {
        top: e.clientY - n,
        right: e.clientX + t,
        bottom: e.clientY + n,
        left: e.clientX - t
    }
}

function cR(e, t) {
    return !(!e || !t || e.right < t.left || e.left > t.right || e.bottom < t.top || e.top > t.bottom)
}

function Tf({
    disabled: e = !1
} = {}) {
    let t = h.useRef(null),
        [n, r] = h.useState(!1),
        i = uc(),
        s = Ge(() => {
            t.current = null, r(!1), i.dispose()
        }),
        a = Ge(o => {
            if (i.dispose(), t.current === null) {
                t.current = o.currentTarget, r(!0);
                {
                    let c = as(o.currentTarget);
                    i.addEventListener(c, "pointerup", s, !1), i.addEventListener(c, "pointermove", u => {
                        if (t.current) {
                            let d = lR(u);
                            r(cR(d, t.current.getBoundingClientRect()))
                        }
                    }, !1), i.addEventListener(c, "pointercancel", s, !1)
                }
            }
        });
    return {
        pressed: n,
        pressProps: e ? {} : {
            onPointerDown: a,
            onPointerUp: s,
            onClick: s
        }
    }
}
let uR = h.createContext(void 0);

function If() {
    return h.useContext(uR)
}

function _p(...e) {
    return Array.from(new Set(e.flatMap(t => typeof t == "string" ? t.split(" ") : []))).filter(Boolean).join(" ")
}

function cr(e, t, ...n) {
    if (e in t) {
        let i = t[e];
        return typeof i == "function" ? i(...n) : i
    }
    let r = new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);
    throw Error.captureStackTrace && Error.captureStackTrace(r, cr), r
}
var $a = (e => (e[e.None = 0] = "None", e[e.RenderStrategy = 1] = "RenderStrategy", e[e.Static = 2] = "Static", e))($a || {}),
    dR = (e => (e[e.Unmount = 0] = "Unmount", e[e.Hidden = 1] = "Hidden", e))(dR || {});

function Kt() {
    let e = hR();
    return h.useCallback(t => fR({
        mergeRefs: e,
        ...t
    }), [e])
}

function fR({
    ourProps: e,
    theirProps: t,
    slot: n,
    defaultTag: r,
    features: i,
    visible: s = !0,
    name: a,
    mergeRefs: o
}) {
    o = o ?? pR;
    let c = Tx(t, e);
    if (s) return Oo(c, n, r, a, o);
    let u = i ?? 0;
    if (u & 2) {
        let {
            static: d = !1,
            ...f
        } = c;
        if (d) return Oo(f, n, r, a, o)
    }
    if (u & 1) {
        let {
            unmount: d = !0,
            ...f
        } = c;
        return cr(d ? 0 : 1, {
            0() {
                return null
            },
            1() {
                return Oo({
                    ...f,
                    hidden: !0,
                    style: {
                        display: "none"
                    }
                }, n, r, a, o)
            }
        })
    }
    return Oo(c, n, r, a, o)
}

function Oo(e, t = {}, n, r, i) {
    let {
        as: s = n,
        children: a,
        refName: o = "ref",
        ...c
    } = pu(e, ["unmount", "static"]), u = e.ref !== void 0 ? {
        [o]: e.ref
    } : {}, d = typeof a == "function" ? a(t) : a;
    "className" in c && c.className && typeof c.className == "function" && (c.className = c.className(t)), c["aria-labelledby"] && c["aria-labelledby"] === c.id && (c["aria-labelledby"] = void 0);
    let f = {};
    if (t) {
        let m = !1,
            p = [];
        for (let [g, x] of Object.entries(t)) typeof x == "boolean" && (m = !0), x === !0 && p.push(g.replace(/([A-Z])/g, y => `-${y.toLowerCase()}`));
        if (m) {
            f["data-headlessui-state"] = p.join(" ");
            for (let g of p) f[`data-${g}`] = ""
        }
    }
    if (s === h.Fragment && (Object.keys(gs(c)).length > 0 || Object.keys(gs(f)).length > 0))
        if (!h.isValidElement(d) || Array.isArray(d) && d.length > 1) {
            if (Object.keys(gs(c)).length > 0) throw new Error(['Passing props on "Fragment"!', "", `The current component <${r} /> is rendering a "Fragment".`, "However we need to passthrough the following props:", Object.keys(gs(c)).concat(Object.keys(gs(f))).map(m => `  - ${m}`).join(`
`), "", "You can apply a few solutions:", ['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".', "Render a single element as the child so that we can forward the props onto that element."].map(m => `  - ${m}`).join(`
`)].join(`
`))
        } else {
            let m = d.props,
                p = m?.className,
                g = typeof p == "function" ? (...b) => _p(p(...b), c.className) : _p(p, c.className),
                x = g ? {
                    className: g
                } : {},
                y = Tx(d.props, gs(pu(c, ["ref"])));
            for (let b in f) b in y && delete f[b];
            return h.cloneElement(d, Object.assign({}, y, f, u, {
                ref: i(mR(d), u.ref)
            }, x))
        } return h.createElement(s, Object.assign({}, pu(c, ["ref"]), s !== h.Fragment && u, s !== h.Fragment && f), d)
}

function hR() {
    let e = h.useRef([]),
        t = h.useCallback(n => {
            for (let r of e.current) r != null && (typeof r == "function" ? r(n) : r.current = n)
        }, []);
    return (...n) => {
        if (!n.every(r => r == null)) return e.current = n, t
    }
}

function pR(...e) {
    return e.every(t => t == null) ? void 0 : t => {
        for (let n of e) n != null && (typeof n == "function" ? n(t) : n.current = t)
    }
}

function Tx(...e) {
    if (e.length === 0) return {};
    if (e.length === 1) return e[0];
    let t = {},
        n = {};
    for (let r of e)
        for (let i in r) i.startsWith("on") && typeof r[i] == "function" ? (n[i] != null || (n[i] = []), n[i].push(r[i])) : t[i] = r[i];
    if (t.disabled || t["aria-disabled"])
        for (let r in n) /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r) && (n[r] = [i => {
            var s;
            return (s = i?.preventDefault) == null ? void 0 : s.call(i)
        }]);
    for (let r in n) Object.assign(t, {
        [r](i, ...s) {
            let a = n[r];
            for (let o of a) {
                if ((i instanceof Event || i?.nativeEvent instanceof Event) && i.defaultPrevented) return;
                o(i, ...s)
            }
        }
    });
    return t
}

function co(...e) {
    if (e.length === 0) return {};
    if (e.length === 1) return e[0];
    let t = {},
        n = {};
    for (let r of e)
        for (let i in r) i.startsWith("on") && typeof r[i] == "function" ? (n[i] != null || (n[i] = []), n[i].push(r[i])) : t[i] = r[i];
    for (let r in n) Object.assign(t, {
        [r](...i) {
            let s = n[r];
            for (let a of s) a?.(...i)
        }
    });
    return t
}

function Xt(e) {
    var t;
    return Object.assign(h.forwardRef(e), {
        displayName: (t = e.displayName) != null ? t : e.name
    })
}

function gs(e) {
    let t = Object.assign({}, e);
    for (let n in t) t[n] === void 0 && delete t[n];
    return t
}

function pu(e, t = []) {
    let n = Object.assign({}, e);
    for (let r of t) r in n && delete n[r];
    return n
}

function mR(e) {
    return Ue.version.split(".")[0] >= "19" ? e.props.ref : e.ref
}
let gR = "button";

function xR(e, t) {
    var n;
    let r = If(),
        {
            disabled: i = r || !1,
            autoFocus: s = !1,
            ...a
        } = e,
        {
            isFocusVisible: o,
            focusProps: c
        } = cc({
            autoFocus: s
        }),
        {
            isHovered: u,
            hoverProps: d
        } = Nf({
            isDisabled: i
        }),
        {
            pressed: f,
            pressProps: m
        } = Tf({
            disabled: i
        }),
        p = co({
            ref: t,
            type: (n = a.type) != null ? n : "button",
            disabled: i || void 0,
            autoFocus: s
        }, c, d, m),
        g = h.useMemo(() => ({
            disabled: i,
            hover: u,
            focus: o,
            active: f,
            autofocus: s
        }), [i, u, o, f, s]);
    return Kt()({
        ourProps: p,
        theirProps: a,
        slot: g,
        defaultTag: gR,
        name: "Button"
    })
}
let Ix = Xt(xR),
    vR = "span";
var jx = (e => (e[e.None = 1] = "None", e[e.Focusable = 2] = "Focusable", e[e.Hidden = 4] = "Hidden", e))(jx || {});

function bR(e, t) {
    var n;
    let {
        features: r = 1,
        ...i
    } = e, s = {
        ref: t,
        "aria-hidden": (r & 2) === 2 ? !0 : (n = i["aria-hidden"]) != null ? n : void 0,
        hidden: (r & 4) === 4 ? !0 : void 0,
        style: {
            position: "fixed",
            top: 1,
            left: 1,
            width: 1,
            height: 0,
            padding: 0,
            margin: -1,
            overflow: "hidden",
            clip: "rect(0, 0, 0, 0)",
            whiteSpace: "nowrap",
            borderWidth: "0",
            ...(r & 4) === 4 && (r & 2) !== 2 && {
                display: "none"
            }
        }
    };
    return Kt()({
        ourProps: s,
        theirProps: i,
        slot: {},
        defaultTag: vR,
        name: "Hidden"
    })
}
let Mx = Xt(bR),
    yR = h.createContext(void 0);

function wR() {
    return h.useContext(yR)
}

function jf(e) {
    return typeof e != "object" || e === null ? !1 : "nodeType" in e
}

function dc(e) {
    return jf(e) && "tagName" in e
}

function ii(e) {
    return dc(e) && "accessKey" in e
}

function _i(e) {
    return dc(e) && "tabIndex" in e
}

function SR(e) {
    return dc(e) && "style" in e
}

function CR(e) {
    return ii(e) && e.nodeName === "IFRAME"
}

function Rx(e) {
    return ii(e) && e.nodeName === "INPUT"
}

function Fp(e) {
    return ii(e) && e.nodeName === "LABEL"
}

function kR(e) {
    return ii(e) && e.nodeName === "FIELDSET"
}

function Ox(e) {
    return ii(e) && e.nodeName === "LEGEND"
}

function ER(e) {
    return dc(e) ? e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]') : !1
}

function NR(e) {
    let t = e.parentElement,
        n = null;
    for (; t && !kR(t);) Ox(t) && (n = t), t = t.parentElement;
    let r = t?.getAttribute("disabled") === "";
    return r && AR(n) ? !1 : r
}

function AR(e) {
    if (!e) return !1;
    let t = e.previousElementSibling;
    for (; t !== null;) {
        if (Ox(t)) return !1;
        t = t.previousElementSibling
    }
    return !0
}
let Px = Symbol();

function TR(e, t = !0) {
    return Object.assign(e, {
        [Px]: t
    })
}

function jn(...e) {
    let t = h.useRef(e);
    h.useEffect(() => {
        t.current = e
    }, [e]);
    let n = Ge(r => {
        for (let i of t.current) i != null && (typeof i == "function" ? i(r) : i.current = r)
    });
    return e.every(r => r == null || r?.[Px]) ? void 0 : n
}
let Mf = h.createContext(null);
Mf.displayName = "DescriptionContext";

function Lx() {
    let e = h.useContext(Mf);
    if (e === null) {
        let t = new Error("You used a <Description /> component, but it is not inside a relevant parent.");
        throw Error.captureStackTrace && Error.captureStackTrace(t, Lx), t
    }
    return e
}

function IR() {
    let [e, t] = h.useState([]);
    return [e.length > 0 ? e.join(" ") : void 0, h.useMemo(() => function(n) {
        let r = Ge(s => (t(a => [...a, s]), () => t(a => {
                let o = a.slice(),
                    c = o.indexOf(s);
                return c !== -1 && o.splice(c, 1), o
            }))),
            i = h.useMemo(() => ({
                register: r,
                slot: n.slot,
                name: n.name,
                props: n.props,
                value: n.value
            }), [r, n.slot, n.name, n.props, n.value]);
        return Ue.createElement(Mf.Provider, {
            value: i
        }, n.children)
    }, [t])]
}
let jR = "p";

function MR(e, t) {
    let n = h.useId(),
        r = If(),
        {
            id: i = `headlessui-description-${n}`,
            ...s
        } = e,
        a = Lx(),
        o = jn(t);
    vt(() => a.register(i), [i, a.register]);
    let c = r || !1,
        u = h.useMemo(() => ({
            ...a.slot,
            disabled: c
        }), [a.slot, c]),
        d = {
            ref: o,
            ...a.props,
            id: i
        };
    return Kt()({
        ourProps: d,
        theirProps: s,
        slot: u,
        defaultTag: jR,
        name: a.name || "Description"
    })
}
let RR = Xt(MR);
Object.assign(RR, {});
var ut = (e => (e.Space = " ", e.Enter = "Enter", e.Escape = "Escape", e.Backspace = "Backspace", e.Delete = "Delete", e.ArrowLeft = "ArrowLeft", e.ArrowUp = "ArrowUp", e.ArrowRight = "ArrowRight", e.ArrowDown = "ArrowDown", e.Home = "Home", e.End = "End", e.PageUp = "PageUp", e.PageDown = "PageDown", e.Tab = "Tab", e))(ut || {});
let fc = h.createContext(null);
fc.displayName = "LabelContext";

function Rf() {
    let e = h.useContext(fc);
    if (e === null) {
        let t = new Error("You used a <Label /> component, but it is not inside a relevant parent.");
        throw Error.captureStackTrace && Error.captureStackTrace(t, Rf), t
    }
    return e
}

function OR(e) {
    var t, n, r;
    let i = (n = (t = h.useContext(fc)) == null ? void 0 : t.value) != null ? n : void 0;
    return ((r = void 0) != null ? r : 0) > 0 ? [i, ...e].filter(Boolean).join(" ") : i
}

function Dx({
    inherit: e = !1
} = {}) {
    let t = OR(),
        [n, r] = h.useState([]),
        i = e ? [t, ...n].filter(Boolean) : n;
    return [i.length > 0 ? i.join(" ") : void 0, h.useMemo(() => function(s) {
        let a = Ge(c => (r(u => [...u, c]), () => r(u => {
                let d = u.slice(),
                    f = d.indexOf(c);
                return f !== -1 && d.splice(f, 1), d
            }))),
            o = h.useMemo(() => ({
                register: a,
                slot: s.slot,
                name: s.name,
                props: s.props,
                value: s.value
            }), [a, s.slot, s.name, s.props, s.value]);
        return Ue.createElement(fc.Provider, {
            value: o
        }, s.children)
    }, [r])]
}
let PR = "label";

function LR(e, t) {
    var n;
    let r = h.useId(),
        i = Rf(),
        s = wR(),
        a = If(),
        {
            id: o = `headlessui-label-${r}`,
            htmlFor: c = s ?? ((n = i.props) == null ? void 0 : n.htmlFor),
            passive: u = !1,
            ...d
        } = e,
        f = jn(t);
    vt(() => i.register(o), [o, i.register]);
    let m = Ge(y => {
            let b = y.currentTarget;
            if (!(y.target !== y.currentTarget && ER(y.target)) && (Fp(b) && y.preventDefault(), i.props && "onClick" in i.props && typeof i.props.onClick == "function" && i.props.onClick(y), Fp(b))) {
                let w = document.getElementById(b.htmlFor);
                if (w) {
                    let C = w.getAttribute("disabled");
                    if (C === "true" || C === "") return;
                    let E = w.getAttribute("aria-disabled");
                    if (E === "true" || E === "") return;
                    (Rx(w) && (w.type === "file" || w.type === "radio" || w.type === "checkbox") || w.role === "radio" || w.role === "checkbox" || w.role === "switch") && w.click(), w.focus({
                        preventScroll: !0
                    })
                }
            }
        }),
        p = a || !1,
        g = h.useMemo(() => ({
            ...i.slot,
            disabled: p
        }), [i.slot, p]),
        x = {
            ref: f,
            ...i.props,
            id: o,
            htmlFor: c,
            onClick: m
        };
    return u && ("onClick" in x && (delete x.htmlFor, delete x.onClick), "onClick" in d && delete d.onClick), Kt()({
        ourProps: x,
        theirProps: d,
        slot: g,
        defaultTag: c ? PR : "div",
        name: i.name || "Label"
    })
}
let DR = Xt(LR);
Object.assign(DR, {});

function _R(e) {
    if (e === null) return {
        width: 0,
        height: 0
    };
    let {
        width: t,
        height: n
    } = e.getBoundingClientRect();
    return {
        width: t,
        height: n
    }
}

function FR(e, t = !1) {
    let [n, r] = h.useReducer(() => ({}), {}), i = h.useMemo(() => _R(e), [e, n]);
    return vt(() => {
        if (!e) return;
        let s = new ResizeObserver(r);
        return s.observe(e), () => {
            s.disconnect()
        }
    }, [e]), t ? {
        width: `${i.width}px`,
        height: `${i.height}px`
    } : i
}
let _x = class extends Map {
    constructor(t) {
        super(), this.factory = t
    }
    get(t) {
        let n = super.get(t);
        return n === void 0 && (n = this.factory(t), this.set(t, n)), n
    }
};
var zR = Object.defineProperty,
    BR = (e, t, n) => t in e ? zR(e, t, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: n
    }) : e[t] = n,
    $R = (e, t, n) => (BR(e, t + "", n), n),
    Fx = (e, t, n) => {
        if (!t.has(e)) throw TypeError("Cannot " + n)
    },
    Hn = (e, t, n) => (Fx(e, t, "read from private field"), n ? n.call(e) : t.get(e)),
    mu = (e, t, n) => {
        if (t.has(e)) throw TypeError("Cannot add the same private member more than once");
        t instanceof WeakSet ? t.add(e) : t.set(e, n)
    },
    zp = (e, t, n, r) => (Fx(e, t, "write to private field"), t.set(e, n), n),
    xr, xa, va;
let zx = class {
    constructor(t) {
        mu(this, xr, {}), mu(this, xa, new _x(() => new Set)), mu(this, va, new Set), $R(this, "disposables", er()), zp(this, xr, t), jr.isServer && this.disposables.microTask(() => {
            this.dispose()
        })
    }
    dispose() {
        this.disposables.dispose()
    }
    get state() {
        return Hn(this, xr)
    }
    subscribe(t, n) {
        if (jr.isServer) return () => {};
        let r = {
            selector: t,
            callback: n,
            current: t(Hn(this, xr))
        };
        return Hn(this, va).add(r), this.disposables.add(() => {
            Hn(this, va).delete(r)
        })
    }
    on(t, n) {
        return jr.isServer ? () => {} : (Hn(this, xa).get(t).add(n), this.disposables.add(() => {
            Hn(this, xa).get(t).delete(n)
        }))
    }
    send(t) {
        let n = this.reduce(Hn(this, xr), t);
        if (n !== Hn(this, xr)) {
            zp(this, xr, n);
            for (let r of Hn(this, va)) {
                let i = r.selector(Hn(this, xr));
                Bx(r.current, i) || (r.current = i, r.callback(i))
            }
            for (let r of Hn(this, xa).get(t.type)) r(Hn(this, xr), t)
        }
    }
};
xr = new WeakMap, xa = new WeakMap, va = new WeakMap;

function Bx(e, t) {
    return Object.is(e, t) ? !0 : typeof e != "object" || e === null || typeof t != "object" || t === null ? !1 : Array.isArray(e) && Array.isArray(t) ? e.length !== t.length ? !1 : gu(e[Symbol.iterator](), t[Symbol.iterator]()) : e instanceof Map && t instanceof Map || e instanceof Set && t instanceof Set ? e.size !== t.size ? !1 : gu(e.entries(), t.entries()) : Bp(e) && Bp(t) ? gu(Object.entries(e)[Symbol.iterator](), Object.entries(t)[Symbol.iterator]()) : !1
}

function gu(e, t) {
    do {
        let n = e.next(),
            r = t.next();
        if (n.done && r.done) return !0;
        if (n.done || r.done || !Object.is(n.value, r.value)) return !1
    } while (!0)
}

function Bp(e) {
    if (Object.prototype.toString.call(e) !== "[object Object]") return !1;
    let t = Object.getPrototypeOf(e);
    return t === null || Object.getPrototypeOf(t) === null
}

function $p(e) {
    let [t, n] = e(), r = er();
    return (...i) => {
        t(...i), r.dispose(), r.microTask(n)
    }
}
var HR = Object.defineProperty,
    UR = (e, t, n) => t in e ? HR(e, t, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: n
    }) : e[t] = n,
    Hp = (e, t, n) => (UR(e, typeof t != "symbol" ? t + "" : t, n), n),
    $x = (e => (e[e.Push = 0] = "Push", e[e.Pop = 1] = "Pop", e))($x || {});
let VR = {
        0(e, t) {
            let n = t.id,
                r = e.stack,
                i = e.stack.indexOf(n);
            if (i !== -1) {
                let s = e.stack.slice();
                return s.splice(i, 1), s.push(n), r = s, {
                    ...e,
                    stack: r
                }
            }
            return {
                ...e,
                stack: [...e.stack, n]
            }
        },
        1(e, t) {
            let n = t.id,
                r = e.stack.indexOf(n);
            if (r === -1) return e;
            let i = e.stack.slice();
            return i.splice(r, 1), {
                ...e,
                stack: i
            }
        }
    },
    WR = class Hx extends zx {
        constructor() {
            super(...arguments), Hp(this, "actions", {
                push: t => this.send({
                    type: 0,
                    id: t
                }),
                pop: t => this.send({
                    type: 1,
                    id: t
                })
            }), Hp(this, "selectors", {
                isTop: (t, n) => t.stack[t.stack.length - 1] === n,
                inStack: (t, n) => t.stack.includes(n)
            })
        }
        static new() {
            return new Hx({
                stack: []
            })
        }
        reduce(t, n) {
            return cr(n.type, VR, t, n)
        }
    };
const Of = new _x(() => WR.new());
var xu = {
        exports: {}
    },
    vu = {};
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Up;

function qR() {
    if (Up) return vu;
    Up = 1;
    var e = zb();

    function t(c, u) {
        return c === u && (c !== 0 || 1 / c === 1 / u) || c !== c && u !== u
    }
    var n = typeof Object.is == "function" ? Object.is : t,
        r = e.useSyncExternalStore,
        i = e.useRef,
        s = e.useEffect,
        a = e.useMemo,
        o = e.useDebugValue;
    return vu.useSyncExternalStoreWithSelector = function(c, u, d, f, m) {
        var p = i(null);
        if (p.current === null) {
            var g = {
                hasValue: !1,
                value: null
            };
            p.current = g
        } else g = p.current;
        p = a(function() {
            function y(A) {
                if (!b) {
                    if (b = !0, w = A, A = f(A), m !== void 0 && g.hasValue) {
                        var N = g.value;
                        if (m(N, A)) return C = N
                    }
                    return C = A
                }
                if (N = C, n(w, A)) return N;
                var j = f(A);
                return m !== void 0 && m(N, j) ? (w = A, N) : (w = A, C = j)
            }
            var b = !1,
                w, C, E = d === void 0 ? null : d;
            return [function() {
                return y(u())
            }, E === null ? void 0 : function() {
                return y(E())
            }]
        }, [u, d, f, m]);
        var x = r(c, p[0], p[1]);
        return s(function() {
            g.hasValue = !0, g.value = x
        }, [x]), o(x), x
    }, vu
}
var Vp;

function GR() {
    return Vp || (Vp = 1, xu.exports = qR()), xu.exports
}
var YR = GR();

function Er(e, t, n = Bx) {
    return YR.useSyncExternalStoreWithSelector(Ge(r => e.subscribe(KR, r)), Ge(() => e.state), Ge(() => e.state), Ge(t), n)
}

function KR(e) {
    return e
}

function Ux(e, t) {
    let n = h.useId(),
        r = Of.get(t),
        [i, s] = Er(r, h.useCallback(a => [r.selectors.isTop(a, n), r.selectors.inStack(a, n)], [r, n]));
    return vt(() => {
        if (e) return r.actions.push(n), () => r.actions.pop(n)
    }, [r, e, n]), e ? s ? i : !0 : !1
}
let O0 = new Map,
    Aa = new Map;

function Wp(e) {
    var t;
    let n = (t = Aa.get(e)) != null ? t : 0;
    return Aa.set(e, n + 1), n !== 0 ? () => qp(e) : (O0.set(e, {
        "aria-hidden": e.getAttribute("aria-hidden"),
        inert: e.inert
    }), e.setAttribute("aria-hidden", "true"), e.inert = !0, () => qp(e))
}

function qp(e) {
    var t;
    let n = (t = Aa.get(e)) != null ? t : 1;
    if (n === 1 ? Aa.delete(e) : Aa.set(e, n - 1), n !== 1) return;
    let r = O0.get(e);
    r && (r["aria-hidden"] === null ? e.removeAttribute("aria-hidden") : e.setAttribute("aria-hidden", r["aria-hidden"]), e.inert = r.inert, O0.delete(e))
}

function XR(e, {
    allowed: t,
    disallowed: n
} = {}) {
    let r = Ux(e, "inert-others");
    vt(() => {
        var i, s;
        if (!r) return;
        let a = er();
        for (let c of (i = n?.()) != null ? i : []) c && a.add(Wp(c));
        let o = (s = t?.()) != null ? s : [];
        for (let c of o) {
            if (!c) continue;
            let u = as(c);
            if (!u) continue;
            let d = c.parentElement;
            for (; d && d !== u.body;) {
                for (let f of d.children) o.some(m => f.contains(m)) || a.add(Wp(f));
                d = d.parentElement
            }
        }
        return a.dispose
    }, [r, t, n])
}

function ZR(e, t, n) {
    let r = Gr(i => {
        let s = i.getBoundingClientRect();
        s.x === 0 && s.y === 0 && s.width === 0 && s.height === 0 && n()
    });
    h.useEffect(() => {
        if (!e) return;
        let i = t === null ? null : ii(t) ? t : t.current;
        if (!i) return;
        let s = er();
        if (typeof ResizeObserver < "u") {
            let a = new ResizeObserver(() => r.current(i));
            a.observe(i), s.add(() => a.disconnect())
        }
        if (typeof IntersectionObserver < "u") {
            let a = new IntersectionObserver(() => r.current(i));
            a.observe(i), s.add(() => a.disconnect())
        }
        return () => s.dispose()
    }, [t, r, e])
}
let P0 = ["[contentEditable=true]", "[tabindex]", "a[href]", "area[href]", "button:not([disabled])", "iframe", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].map(e => `${e}:not([tabindex='-1'])`).join(","),
    QR = ["[data-autofocus]"].map(e => `${e}:not([tabindex='-1'])`).join(",");
var On = (e => (e[e.First = 1] = "First", e[e.Previous = 2] = "Previous", e[e.Next = 4] = "Next", e[e.Last = 8] = "Last", e[e.WrapAround = 16] = "WrapAround", e[e.NoScroll = 32] = "NoScroll", e[e.AutoFocus = 64] = "AutoFocus", e))(On || {}),
    ba = (e => (e[e.Error = 0] = "Error", e[e.Overflow = 1] = "Overflow", e[e.Success = 2] = "Success", e[e.Underflow = 3] = "Underflow", e))(ba || {}),
    JR = (e => (e[e.Previous = -1] = "Previous", e[e.Next = 1] = "Next", e))(JR || {});

function Vx(e = document.body) {
    return e == null ? [] : Array.from(e.querySelectorAll(P0)).sort((t, n) => Math.sign((t.tabIndex || Number.MAX_SAFE_INTEGER) - (n.tabIndex || Number.MAX_SAFE_INTEGER)))
}

function eO(e = document.body) {
    return e == null ? [] : Array.from(e.querySelectorAll(QR)).sort((t, n) => Math.sign((t.tabIndex || Number.MAX_SAFE_INTEGER) - (n.tabIndex || Number.MAX_SAFE_INTEGER)))
}
var Pf = (e => (e[e.Strict = 0] = "Strict", e[e.Loose = 1] = "Loose", e))(Pf || {});

function Lf(e, t = 0) {
    var n;
    return e === ((n = as(e)) == null ? void 0 : n.body) ? !1 : cr(t, {
        0() {
            return e.matches(P0)
        },
        1() {
            let r = e;
            for (; r !== null;) {
                if (r.matches(P0)) return !0;
                r = r.parentElement
            }
            return !1
        }
    })
}

function Wx(e) {
    let t = as(e);
    er().nextFrame(() => {
        t && _i(t.activeElement) && !Lf(t.activeElement, 0) && nO(e)
    })
}
var tO = (e => (e[e.Keyboard = 0] = "Keyboard", e[e.Mouse = 1] = "Mouse", e))(tO || {});
typeof window < "u" && typeof document < "u" && (document.addEventListener("keydown", e => {
    e.metaKey || e.altKey || e.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = "")
}, !0), document.addEventListener("click", e => {
    e.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = "")
}, !0));

function nO(e) {
    e?.focus({
        preventScroll: !0
    })
}
let rO = ["textarea", "input"].join(",");

function iO(e) {
    var t, n;
    return (n = (t = e?.matches) == null ? void 0 : t.call(e, rO)) != null ? n : !1
}

function Fi(e, t = n => n) {
    return e.slice().sort((n, r) => {
        let i = t(n),
            s = t(r);
        if (i === null || s === null) return 0;
        let a = i.compareDocumentPosition(s);
        return a & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : a & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0
    })
}

function sO(e, t) {
    return Oi(Vx(), t, {
        relativeTo: e
    })
}

function Oi(e, t, {
    sorted: n = !0,
    relativeTo: r = null,
    skipElements: i = []
} = {}) {
    let s = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument,
        a = Array.isArray(e) ? n ? Fi(e) : e : t & 64 ? eO(e) : Vx(e);
    i.length > 0 && a.length > 1 && (a = a.filter(p => !i.some(g => g != null && "current" in g ? g?.current === p : g === p))), r = r ?? s.activeElement;
    let o = (() => {
            if (t & 5) return 1;
            if (t & 10) return -1;
            throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")
        })(),
        c = (() => {
            if (t & 1) return 0;
            if (t & 2) return Math.max(0, a.indexOf(r)) - 1;
            if (t & 4) return Math.max(0, a.indexOf(r)) + 1;
            if (t & 8) return a.length - 1;
            throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")
        })(),
        u = t & 32 ? {
            preventScroll: !0
        } : {},
        d = 0,
        f = a.length,
        m;
    do {
        if (d >= f || d + f <= 0) return 0;
        let p = c + d;
        if (t & 16) p = (p + f) % f;
        else {
            if (p < 0) return 3;
            if (p >= f) return 1
        }
        m = a[p], m?.focus(u), d += o
    } while (m !== s.activeElement);
    return t & 6 && iO(m) && m.select(), 2
}

function qx() {
    return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0
}

function aO() {
    return /Android/gi.test(window.navigator.userAgent)
}

function Gp() {
    return qx() || aO()
}

function ks(e, t, n, r) {
    let i = Gr(n);
    h.useEffect(() => {
        if (!e) return;

        function s(a) {
            i.current(a)
        }
        return document.addEventListener(t, s, r), () => document.removeEventListener(t, s, r)
    }, [e, t, r])
}

function oO(e, t, n, r) {
    let i = Gr(n);
    h.useEffect(() => {
        if (!e) return;

        function s(a) {
            i.current(a)
        }
        return window.addEventListener(t, s, r), () => window.removeEventListener(t, s, r)
    }, [e, t, r])
}
const Yp = 30;

function lO(e, t, n) {
    let r = Gr(n),
        i = h.useCallback(function(o, c) {
            if (o.defaultPrevented) return;
            let u = c(o);
            if (u === null || !u.getRootNode().contains(u) || !u.isConnected) return;
            let d = function f(m) {
                return typeof m == "function" ? f(m()) : Array.isArray(m) || m instanceof Set ? m : [m]
            }(t);
            for (let f of d)
                if (f !== null && (f.contains(u) || o.composed && o.composedPath().includes(f))) return;
            return !Lf(u, Pf.Loose) && u.tabIndex !== -1 && o.preventDefault(), r.current(o, u)
        }, [r, t]),
        s = h.useRef(null);
    ks(e, "pointerdown", o => {
        var c, u;
        Gp() || (s.current = ((u = (c = o.composedPath) == null ? void 0 : c.call(o)) == null ? void 0 : u[0]) || o.target)
    }, !0), ks(e, "pointerup", o => {
        if (Gp() || !s.current) return;
        let c = s.current;
        return s.current = null, i(o, () => c)
    }, !0);
    let a = h.useRef({
        x: 0,
        y: 0
    });
    ks(e, "touchstart", o => {
        a.current.x = o.touches[0].clientX, a.current.y = o.touches[0].clientY
    }, !0), ks(e, "touchend", o => {
        let c = {
            x: o.changedTouches[0].clientX,
            y: o.changedTouches[0].clientY
        };
        if (!(Math.abs(c.x - a.current.x) >= Yp || Math.abs(c.y - a.current.y) >= Yp)) return i(o, () => _i(o.target) ? o.target : null)
    }, !0), oO(e, "blur", o => i(o, () => CR(window.document.activeElement) ? window.document.activeElement : null), !0)
}

function L0(...e) {
    return h.useMemo(() => as(...e), [...e])
}
var cO = (e => (e[e.Ignore = 0] = "Ignore", e[e.Select = 1] = "Select", e[e.Close = 2] = "Close", e))(cO || {});
const Po = {
        Ignore: {
            kind: 0
        },
        Select: e => ({
            kind: 1,
            target: e
        }),
        Close: {
            kind: 2
        }
    },
    uO = 200,
    Kp = 5;

function dO(e, {
    trigger: t,
    action: n,
    close: r,
    select: i
}) {
    let s = h.useRef(null),
        a = h.useRef(null),
        o = h.useRef(null);
    ks(e && t !== null, "pointerdown", c => {
        jf(c?.target) && t != null && t.contains(c.target) && (a.current = c.x, o.current = c.y, s.current = c.timeStamp)
    }), ks(e && t !== null, "pointerup", c => {
        var u, d;
        let f = s.current;
        if (f === null || (s.current = null, !_i(c.target)) || Math.abs(c.x - ((u = a.current) != null ? u : c.x)) < Kp && Math.abs(c.y - ((d = o.current) != null ? d : c.y)) < Kp) return;
        let m = n(c);
        switch (m.kind) {
            case 0:
                return;
            case 1: {
                c.timeStamp - f > uO && (i(m.target), r());
                break
            }
            case 2: {
                r();
                break
            }
        }
    }, {
        capture: !0
    })
}

function Gx(e, t) {
    return h.useMemo(() => {
        var n;
        if (e.type) return e.type;
        let r = (n = e.as) != null ? n : "button";
        if (typeof r == "string" && r.toLowerCase() === "button" || t?.tagName === "BUTTON" && !t.hasAttribute("type")) return "button"
    }, [e.type, e.as, t])
}

function fO(e) {
    return h.useSyncExternalStore(e.subscribe, e.getSnapshot, e.getSnapshot)
}

function hO(e, t) {
    let n = e(),
        r = new Set;
    return {
        getSnapshot() {
            return n
        },
        subscribe(i) {
            return r.add(i), () => r.delete(i)
        },
        dispatch(i, ...s) {
            let a = t[i].call(n, ...s);
            a && (n = a, r.forEach(o => o()))
        }
    }
}

function pO() {
    let e;
    return {
        before({
            doc: t
        }) {
            var n;
            let r = t.documentElement,
                i = (n = t.defaultView) != null ? n : window;
            e = Math.max(0, i.innerWidth - r.clientWidth)
        },
        after({
            doc: t,
            d: n
        }) {
            let r = t.documentElement,
                i = Math.max(0, r.clientWidth - r.offsetWidth),
                s = Math.max(0, e - i);
            n.style(r, "paddingRight", `${s}px`)
        }
    }
}

function mO() {
    return qx() ? {
        before({
            doc: e,
            d: t,
            meta: n
        }) {
            function r(i) {
                return n.containers.flatMap(s => s()).some(s => s.contains(i))
            }
            t.microTask(() => {
                var i;
                if (window.getComputedStyle(e.documentElement).scrollBehavior !== "auto") {
                    let o = er();
                    o.style(e.documentElement, "scrollBehavior", "auto"), t.add(() => t.microTask(() => o.dispose()))
                }
                let s = (i = window.scrollY) != null ? i : window.pageYOffset,
                    a = null;
                t.addEventListener(e, "click", o => {
                    if (_i(o.target)) try {
                        let c = o.target.closest("a");
                        if (!c) return;
                        let {
                            hash: u
                        } = new URL(c.href), d = e.querySelector(u);
                        _i(d) && !r(d) && (a = d)
                    } catch {}
                }, !0), t.addEventListener(e, "touchstart", o => {
                    if (_i(o.target) && SR(o.target))
                        if (r(o.target)) {
                            let c = o.target;
                            for (; c.parentElement && r(c.parentElement);) c = c.parentElement;
                            t.style(c, "overscrollBehavior", "contain")
                        } else t.style(o.target, "touchAction", "none")
                }), t.addEventListener(e, "touchmove", o => {
                    if (_i(o.target)) {
                        if (Rx(o.target)) return;
                        if (r(o.target)) {
                            let c = o.target;
                            for (; c.parentElement && c.dataset.headlessuiPortal !== "" && !(c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth);) c = c.parentElement;
                            c.dataset.headlessuiPortal === "" && o.preventDefault()
                        } else o.preventDefault()
                    }
                }, {
                    passive: !1
                }), t.add(() => {
                    var o;
                    let c = (o = window.scrollY) != null ? o : window.pageYOffset;
                    s !== c && window.scrollTo(0, s), a && a.isConnected && (a.scrollIntoView({
                        block: "nearest"
                    }), a = null)
                })
            })
        }
    } : {}
}

function gO() {
    return {
        before({
            doc: e,
            d: t
        }) {
            t.style(e.documentElement, "overflow", "hidden")
        }
    }
}

function xO(e) {
    let t = {};
    for (let n of e) Object.assign(t, n(t));
    return t
}
let zi = hO(() => new Map, {
    PUSH(e, t) {
        var n;
        let r = (n = this.get(e)) != null ? n : {
            doc: e,
            count: 0,
            d: er(),
            meta: new Set
        };
        return r.count++, r.meta.add(t), this.set(e, r), this
    },
    POP(e, t) {
        let n = this.get(e);
        return n && (n.count--, n.meta.delete(t)), this
    },
    SCROLL_PREVENT({
        doc: e,
        d: t,
        meta: n
    }) {
        let r = {
                doc: e,
                d: t,
                meta: xO(n)
            },
            i = [mO(), pO(), gO()];
        i.forEach(({
            before: s
        }) => s?.(r)), i.forEach(({
            after: s
        }) => s?.(r))
    },
    SCROLL_ALLOW({
        d: e
    }) {
        e.dispose()
    },
    TEARDOWN({
        doc: e
    }) {
        this.delete(e)
    }
});
zi.subscribe(() => {
    let e = zi.getSnapshot(),
        t = new Map;
    for (let [n] of e) t.set(n, n.documentElement.style.overflow);
    for (let n of e.values()) {
        let r = t.get(n.doc) === "hidden",
            i = n.count !== 0;
        (i && !r || !i && r) && zi.dispatch(n.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", n), n.count === 0 && zi.dispatch("TEARDOWN", n)
    }
});

function vO(e, t, n = () => ({
    containers: []
})) {
    let r = fO(zi),
        i = t ? r.get(t) : void 0,
        s = i ? i.count > 0 : !1;
    return vt(() => {
        if (!(!t || !e)) return zi.dispatch("PUSH", t, n), () => zi.dispatch("POP", t, n)
    }, [e, t]), s
}

function bO(e, t, n = () => [document.body]) {
    let r = Ux(e, "scroll-lock");
    vO(r, t, i => {
        var s;
        return {
            containers: [...(s = i.containers) != null ? s : [], n]
        }
    })
}

function Xp(e) {
    return [e.screenX, e.screenY]
}

function yO() {
    let e = h.useRef([-1, -1]);
    return {
        wasMoved(t) {
            let n = Xp(t);
            return e.current[0] === n[0] && e.current[1] === n[1] ? !1 : (e.current = n, !0)
        },
        update(t) {
            e.current = Xp(t)
        }
    }
}

function wO(e = 0) {
    let [t, n] = h.useState(e), r = h.useCallback(c => n(c), [t]), i = h.useCallback(c => n(u => u | c), [t]), s = h.useCallback(c => (t & c) === c, [t]), a = h.useCallback(c => n(u => u & ~c), [n]), o = h.useCallback(c => n(u => u ^ c), [n]);
    return {
        flags: t,
        setFlag: r,
        addFlag: i,
        hasFlag: s,
        removeFlag: a,
        toggleFlag: o
    }
}
var SO = {},
    Zp, Qp;
typeof process < "u" && typeof globalThis < "u" && typeof Element < "u" && ((Zp = process == null ? void 0 : SO) == null ? void 0 : Zp.NODE_ENV) === "test" && typeof((Qp = Element?.prototype) == null ? void 0 : Qp.getAnimations) > "u" && (Element.prototype.getAnimations = function() {
    return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.", "Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.", "", "Example usage:", "```js", "import { mockAnimationsApi } from 'jsdom-testing-mocks'", "mockAnimationsApi()", "```"].join(`
`)), []
});
var CO = (e => (e[e.None = 0] = "None", e[e.Closed = 1] = "Closed", e[e.Enter = 2] = "Enter", e[e.Leave = 4] = "Leave", e))(CO || {});

function kO(e) {
    let t = {};
    for (let n in e) e[n] === !0 && (t[`data-${n}`] = "");
    return t
}

function EO(e, t, n, r) {
    let [i, s] = h.useState(n), {
        hasFlag: a,
        addFlag: o,
        removeFlag: c
    } = wO(e && i ? 3 : 0), u = h.useRef(!1), d = h.useRef(!1), f = uc();
    return vt(() => {
        var m;
        if (e) {
            if (n && s(!0), !t) {
                n && o(3);
                return
            }
            return (m = void 0) == null || m.call(r, n), NO(t, {
                inFlight: u,
                prepare() {
                    d.current ? d.current = !1 : d.current = u.current, u.current = !0, !d.current && (n ? (o(3), c(4)) : (o(4), c(2)))
                },
                run() {
                    d.current ? n ? (c(3), o(4)) : (c(4), o(3)) : n ? c(1) : o(1)
                },
                done() {
                    var p;
                    d.current && typeof t.getAnimations == "function" && t.getAnimations().length > 0 || (u.current = !1, c(7), n || s(!1), (p = void 0) == null || p.call(r, n))
                }
            })
        }
    }, [e, n, t, f]), e ? [i, {
        closed: a(1),
        enter: a(2),
        leave: a(4),
        transition: a(2) || a(4)
    }] : [n, {
        closed: void 0,
        enter: void 0,
        leave: void 0,
        transition: void 0
    }]
}

function NO(e, {
    prepare: t,
    run: n,
    done: r,
    inFlight: i
}) {
    let s = er();
    return TO(e, {
        prepare: t,
        inFlight: i
    }), s.nextFrame(() => {
        n(), s.requestAnimationFrame(() => {
            s.add(AO(e, r))
        })
    }), s.dispose
}

function AO(e, t) {
    var n, r;
    let i = er();
    if (!e) return i.dispose;
    let s = !1;
    i.add(() => {
        s = !0
    });
    let a = (r = (n = e.getAnimations) == null ? void 0 : n.call(e).filter(o => o instanceof CSSTransition)) != null ? r : [];
    return a.length === 0 ? (t(), i.dispose) : (Promise.allSettled(a.map(o => o.finished)).then(() => {
        s || t()
    }), i.dispose)
}

function TO(e, {
    inFlight: t,
    prepare: n
}) {
    if (t != null && t.current) {
        n();
        return
    }
    let r = e.style.transition;
    e.style.transition = "none", n(), e.offsetHeight, e.style.transition = r
}

function IO(e, {
    container: t,
    accept: n,
    walk: r
}) {
    let i = h.useRef(n),
        s = h.useRef(r);
    h.useEffect(() => {
        i.current = n, s.current = r
    }, [n, r]), vt(() => {
        if (!t || !e) return;
        let a = as(t);
        if (!a) return;
        let o = i.current,
            c = s.current,
            u = Object.assign(f => o(f), {
                acceptNode: o
            }),
            d = a.createTreeWalker(t, NodeFilter.SHOW_ELEMENT, u, !1);
        for (; d.nextNode();) c(d.currentNode)
    }, [t, e, i, s])
}

function hc() {
    return typeof window < "u"
}

function Mn(e) {
    return Df(e) ? (e.nodeName || "").toLowerCase() : "#document"
}

function nt(e) {
    var t;
    return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window
}

function lt(e) {
    var t;
    return (t = (Df(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement
}

function Df(e) {
    return hc() ? e instanceof Node || e instanceof nt(e).Node : !1
}

function Re(e) {
    return hc() ? e instanceof Element || e instanceof nt(e).Element : !1
}

function Qe(e) {
    return hc() ? e instanceof HTMLElement || e instanceof nt(e).HTMLElement : !1
}

function D0(e) {
    return !hc() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof nt(e).ShadowRoot
}
const jO = new Set(["inline", "contents"]);

function mr(e) {
    const {
        overflow: t,
        overflowX: n,
        overflowY: r,
        display: i
    } = st(e);
    return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && !jO.has(i)
}
const MO = new Set(["table", "td", "th"]);

function _f(e) {
    return MO.has(Mn(e))
}
const RO = [":popover-open", ":modal"];

function zr(e) {
    return RO.some(t => {
        try {
            return e.matches(t)
        } catch {
            return !1
        }
    })
}
const OO = ["transform", "translate", "scale", "rotate", "perspective"],
    PO = ["transform", "translate", "scale", "rotate", "perspective", "filter"],
    LO = ["paint", "layout", "strict", "content"];

function os(e) {
    const t = Ai(),
        n = Re(e) ? st(e) : e;
    return OO.some(r => n[r] ? n[r] !== "none" : !1) || (n.containerType ? n.containerType !== "normal" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== "none" : !1) || !t && (n.filter ? n.filter !== "none" : !1) || PO.some(r => (n.willChange || "").includes(r)) || LO.some(r => (n.contain || "").includes(r))
}

function Ff(e) {
    let t = Wt(e);
    for (; Qe(t) && !rn(t);) {
        if (os(t)) return t;
        if (zr(t)) return null;
        t = Wt(t)
    }
    return null
}

function Ai() {
    return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none")
}
const DO = new Set(["html", "body", "#document"]);

function rn(e) {
    return DO.has(Mn(e))
}

function st(e) {
    return nt(e).getComputedStyle(e)
}

function tr(e) {
    return Re(e) ? {
        scrollLeft: e.scrollLeft,
        scrollTop: e.scrollTop
    } : {
        scrollLeft: e.scrollX,
        scrollTop: e.scrollY
    }
}

function Wt(e) {
    if (Mn(e) === "html") return e;
    const t = e.assignedSlot || e.parentNode || D0(e) && e.host || lt(e);
    return D0(t) ? t.host : t
}

function Yx(e) {
    const t = Wt(e);
    return rn(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : Qe(t) && mr(t) ? t : Yx(t)
}

function En(e, t, n) {
    var r;
    t === void 0 && (t = []), n === void 0 && (n = !0);
    const i = Yx(e),
        s = i === ((r = e.ownerDocument) == null ? void 0 : r.body),
        a = nt(i);
    if (s) {
        const o = qi(a);
        return t.concat(a, a.visualViewport || [], mr(i) ? i : [], o && n ? En(o) : [])
    }
    return t.concat(i, En(i, [], n))
}

function qi(e) {
    return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null
}

function _O() {
    const e = navigator.userAgentData;
    return e && Array.isArray(e.brands) ? e.brands.map(t => {
        let {
            brand: n,
            version: r
        } = t;
        return n + "/" + r
    }).join(" ") : navigator.userAgent
}
const Kx = ["top", "right", "bottom", "left"],
    qt = Math.min,
    Ve = Math.max,
    _n = Math.round,
    Gn = Math.floor,
    it = e => ({
        x: e,
        y: e
    }),
    FO = {
        left: "right",
        right: "left",
        bottom: "top",
        top: "bottom"
    },
    zO = {
        start: "end",
        end: "start"
    };

function yi(e, t, n) {
    return Ve(e, qt(t, n))
}

function wt(e, t) {
    return typeof e == "function" ? e(t) : e
}

function mt(e) {
    return e.split("-")[0]
}

function wn(e) {
    return e.split("-")[1]
}

function Js(e) {
    return e === "x" ? "y" : "x"
}

function ea(e) {
    return e === "y" ? "height" : "width"
}
const BO = new Set(["top", "bottom"]);

function ot(e) {
    return BO.has(mt(e)) ? "y" : "x"
}

function ta(e) {
    return Js(ot(e))
}

function zf(e, t, n) {
    n === void 0 && (n = !1);
    const r = wn(e),
        i = ta(e),
        s = ea(i);
    let a = i === "x" ? r === (n ? "end" : "start") ? "right" : "left" : r === "start" ? "bottom" : "top";
    return t.reference[s] > t.floating[s] && (a = zs(a)), [a, zs(a)]
}

function Bf(e) {
    const t = zs(e);
    return [_0(e), t, _0(t)]
}

function _0(e) {
    return e.replace(/start|end/g, t => zO[t])
}
const Jp = ["left", "right"],
    em = ["right", "left"],
    $O = ["top", "bottom"],
    HO = ["bottom", "top"];

function UO(e, t, n) {
    switch (e) {
        case "top":
        case "bottom":
            return n ? t ? em : Jp : t ? Jp : em;
        case "left":
        case "right":
            return t ? $O : HO;
        default:
            return []
    }
}

function $f(e, t, n, r) {
    const i = wn(e);
    let s = UO(mt(e), n === "start", r);
    return i && (s = s.map(a => a + "-" + i), t && (s = s.concat(s.map(_0)))), s
}

function zs(e) {
    return e.replace(/left|right|bottom|top/g, t => FO[t])
}

function VO(e) {
    return {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...e
    }
}

function uo(e) {
    return typeof e != "number" ? VO(e) : {
        top: e,
        right: e,
        bottom: e,
        left: e
    }
}

function Jn(e) {
    const {
        x: t,
        y: n,
        width: r,
        height: i
    } = e;
    return {
        width: r,
        height: i,
        top: n,
        left: t,
        right: t + r,
        bottom: n + i,
        x: t,
        y: n
    }
}
/*!
 * tabbable 6.2.0
 * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
 */
var WO = ["input:not([inert])", "select:not([inert])", "textarea:not([inert])", "a[href]:not([inert])", "button:not([inert])", "[tabindex]:not(slot):not([inert])", "audio[controls]:not([inert])", "video[controls]:not([inert])", '[contenteditable]:not([contenteditable="false"]):not([inert])', "details>summary:first-of-type:not([inert])", "details:not([inert])"],
    Sl = WO.join(","),
    Xx = typeof Element > "u",
    Bs = Xx ? function() {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector,
    Cl = !Xx && Element.prototype.getRootNode ? function(e) {
        var t;
        return e == null || (t = e.getRootNode) === null || t === void 0 ? void 0 : t.call(e)
    } : function(e) {
        return e?.ownerDocument
    },
    kl = function e(t, n) {
        var r;
        n === void 0 && (n = !0);
        var i = t == null || (r = t.getAttribute) === null || r === void 0 ? void 0 : r.call(t, "inert"),
            s = i === "" || i === "true",
            a = s || n && t && e(t.parentNode);
        return a
    },
    qO = function(t) {
        var n, r = t == null || (n = t.getAttribute) === null || n === void 0 ? void 0 : n.call(t, "contenteditable");
        return r === "" || r === "true"
    },
    Zx = function(t, n, r) {
        if (kl(t)) return [];
        var i = Array.prototype.slice.apply(t.querySelectorAll(Sl));
        return n && Bs.call(t, Sl) && i.unshift(t), i = i.filter(r), i
    },
    Qx = function e(t, n, r) {
        for (var i = [], s = Array.from(t); s.length;) {
            var a = s.shift();
            if (!kl(a, !1))
                if (a.tagName === "SLOT") {
                    var o = a.assignedElements(),
                        c = o.length ? o : a.children,
                        u = e(c, !0, r);
                    r.flatten ? i.push.apply(i, u) : i.push({
                        scopeParent: a,
                        candidates: u
                    })
                } else {
                    var d = Bs.call(a, Sl);
                    d && r.filter(a) && (n || !t.includes(a)) && i.push(a);
                    var f = a.shadowRoot || typeof r.getShadowRoot == "function" && r.getShadowRoot(a),
                        m = !kl(f, !1) && (!r.shadowRootFilter || r.shadowRootFilter(a));
                    if (f && m) {
                        var p = e(f === !0 ? a.children : f.children, !0, r);
                        r.flatten ? i.push.apply(i, p) : i.push({
                            scopeParent: a,
                            candidates: p
                        })
                    } else s.unshift.apply(s, a.children)
                }
        }
        return i
    },
    Jx = function(t) {
        return !isNaN(parseInt(t.getAttribute("tabindex"), 10))
    },
    e6 = function(t) {
        if (!t) throw new Error("No node provided");
        return t.tabIndex < 0 && (/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName) || qO(t)) && !Jx(t) ? 0 : t.tabIndex
    },
    GO = function(t, n) {
        var r = e6(t);
        return r < 0 && n && !Jx(t) ? 0 : r
    },
    YO = function(t, n) {
        return t.tabIndex === n.tabIndex ? t.documentOrder - n.documentOrder : t.tabIndex - n.tabIndex
    },
    t6 = function(t) {
        return t.tagName === "INPUT"
    },
    KO = function(t) {
        return t6(t) && t.type === "hidden"
    },
    XO = function(t) {
        var n = t.tagName === "DETAILS" && Array.prototype.slice.apply(t.children).some(function(r) {
            return r.tagName === "SUMMARY"
        });
        return n
    },
    ZO = function(t, n) {
        for (var r = 0; r < t.length; r++)
            if (t[r].checked && t[r].form === n) return t[r]
    },
    QO = function(t) {
        if (!t.name) return !0;
        var n = t.form || Cl(t),
            r = function(o) {
                return n.querySelectorAll('input[type="radio"][name="' + o + '"]')
            },
            i;
        if (typeof window < "u" && typeof window.CSS < "u" && typeof window.CSS.escape == "function") i = r(window.CSS.escape(t.name));
        else try {
            i = r(t.name)
        } catch (a) {
            return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s", a.message), !1
        }
        var s = ZO(i, t.form);
        return !s || s === t
    },
    JO = function(t) {
        return t6(t) && t.type === "radio"
    },
    eP = function(t) {
        return JO(t) && !QO(t)
    },
    tP = function(t) {
        var n, r = t && Cl(t),
            i = (n = r) === null || n === void 0 ? void 0 : n.host,
            s = !1;
        if (r && r !== t) {
            var a, o, c;
            for (s = !!((a = i) !== null && a !== void 0 && (o = a.ownerDocument) !== null && o !== void 0 && o.contains(i) || t != null && (c = t.ownerDocument) !== null && c !== void 0 && c.contains(t)); !s && i;) {
                var u, d, f;
                r = Cl(i), i = (u = r) === null || u === void 0 ? void 0 : u.host, s = !!((d = i) !== null && d !== void 0 && (f = d.ownerDocument) !== null && f !== void 0 && f.contains(i))
            }
        }
        return s
    },
    tm = function(t) {
        var n = t.getBoundingClientRect(),
            r = n.width,
            i = n.height;
        return r === 0 && i === 0
    },
    nP = function(t, n) {
        var r = n.displayCheck,
            i = n.getShadowRoot;
        if (getComputedStyle(t).visibility === "hidden") return !0;
        var s = Bs.call(t, "details>summary:first-of-type"),
            a = s ? t.parentElement : t;
        if (Bs.call(a, "details:not([open]) *")) return !0;
        if (!r || r === "full" || r === "legacy-full") {
            if (typeof i == "function") {
                for (var o = t; t;) {
                    var c = t.parentElement,
                        u = Cl(t);
                    if (c && !c.shadowRoot && i(c) === !0) return tm(t);
                    t.assignedSlot ? t = t.assignedSlot : !c && u !== t.ownerDocument ? t = u.host : t = c
                }
                t = o
            }
            if (tP(t)) return !t.getClientRects().length;
            if (r !== "legacy-full") return !0
        } else if (r === "non-zero-area") return tm(t);
        return !1
    },
    rP = function(t) {
        if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))
            for (var n = t.parentElement; n;) {
                if (n.tagName === "FIELDSET" && n.disabled) {
                    for (var r = 0; r < n.children.length; r++) {
                        var i = n.children.item(r);
                        if (i.tagName === "LEGEND") return Bs.call(n, "fieldset[disabled] *") ? !0 : !i.contains(t)
                    }
                    return !0
                }
                n = n.parentElement
            }
        return !1
    },
    F0 = function(t, n) {
        return !(n.disabled || kl(n) || KO(n) || nP(n, t) || XO(n) || rP(n))
    },
    z0 = function(t, n) {
        return !(eP(n) || e6(n) < 0 || !F0(t, n))
    },
    iP = function(t) {
        var n = parseInt(t.getAttribute("tabindex"), 10);
        return !!(isNaN(n) || n >= 0)
    },
    sP = function e(t) {
        var n = [],
            r = [];
        return t.forEach(function(i, s) {
            var a = !!i.scopeParent,
                o = a ? i.scopeParent : i,
                c = GO(o, a),
                u = a ? e(i.candidates) : o;
            c === 0 ? a ? n.push.apply(n, u) : n.push(o) : r.push({
                documentOrder: s,
                tabIndex: c,
                item: i,
                isScope: a,
                content: u
            })
        }), r.sort(YO).reduce(function(i, s) {
            return s.isScope ? i.push.apply(i, s.content) : i.push(s.content), i
        }, []).concat(n)
    },
    pc = function(t, n) {
        n = n || {};
        var r;
        return n.getShadowRoot ? r = Qx([t], n.includeContainer, {
            filter: z0.bind(null, n),
            flatten: !1,
            getShadowRoot: n.getShadowRoot,
            shadowRootFilter: iP
        }) : r = Zx(t, n.includeContainer, z0.bind(null, n)), sP(r)
    },
    aP = function(t, n) {
        n = n || {};
        var r;
        return n.getShadowRoot ? r = Qx([t], n.includeContainer, {
            filter: F0.bind(null, n),
            flatten: !0,
            getShadowRoot: n.getShadowRoot
        }) : r = Zx(t, n.includeContainer, F0.bind(null, n)), r
    },
    n6 = function(t, n) {
        if (n = n || {}, !t) throw new Error("No node provided");
        return Bs.call(t, Sl) === !1 ? !1 : z0(n, t)
    };

function nm(e, t, n) {
    let {
        reference: r,
        floating: i
    } = e;
    const s = ot(t),
        a = ta(t),
        o = ea(a),
        c = mt(t),
        u = s === "y",
        d = r.x + r.width / 2 - i.width / 2,
        f = r.y + r.height / 2 - i.height / 2,
        m = r[o] / 2 - i[o] / 2;
    let p;
    switch (c) {
        case "top":
            p = {
                x: d,
                y: r.y - i.height
            };
            break;
        case "bottom":
            p = {
                x: d,
                y: r.y + r.height
            };
            break;
        case "right":
            p = {
                x: r.x + r.width,
                y: f
            };
            break;
        case "left":
            p = {
                x: r.x - i.width,
                y: f
            };
            break;
        default:
            p = {
                x: r.x,
                y: r.y
            }
    }
    switch (wn(t)) {
        case "start":
            p[a] -= m * (n && u ? -1 : 1);
            break;
        case "end":
            p[a] += m * (n && u ? -1 : 1);
            break
    }
    return p
}
const oP = async (e, t, n) => {
    const {
        placement: r = "bottom",
        strategy: i = "absolute",
        middleware: s = [],
        platform: a
    } = n, o = s.filter(Boolean), c = await (a.isRTL == null ? void 0 : a.isRTL(t));
    let u = await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }),
        {
            x: d,
            y: f
        } = nm(u, r, c),
        m = r,
        p = {},
        g = 0;
    for (let x = 0; x < o.length; x++) {
        const {
            name: y,
            fn: b
        } = o[x], {
            x: w,
            y: C,
            data: E,
            reset: A
        } = await b({
            x: d,
            y: f,
            initialPlacement: r,
            placement: m,
            strategy: i,
            middlewareData: p,
            rects: u,
            platform: a,
            elements: {
                reference: e,
                floating: t
            }
        });
        d = w ?? d, f = C ?? f, p = {
            ...p,
            [y]: {
                ...p[y],
                ...E
            }
        }, A && g <= 50 && (g++, typeof A == "object" && (A.placement && (m = A.placement), A.rects && (u = A.rects === !0 ? await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }) : A.rects), {
            x: d,
            y: f
        } = nm(u, m, c)), x = -1)
    }
    return {
        x: d,
        y: f,
        placement: m,
        strategy: i,
        middlewareData: p
    }
};
async function mc(e, t) {
    var n;
    t === void 0 && (t = {});
    const {
        x: r,
        y: i,
        platform: s,
        rects: a,
        elements: o,
        strategy: c
    } = e, {
        boundary: u = "clippingAncestors",
        rootBoundary: d = "viewport",
        elementContext: f = "floating",
        altBoundary: m = !1,
        padding: p = 0
    } = wt(t, e), g = uo(p), y = o[m ? f === "floating" ? "reference" : "floating" : f], b = Jn(await s.getClippingRect({
        element: (n = await (s.isElement == null ? void 0 : s.isElement(y))) == null || n ? y : y.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(o.floating)),
        boundary: u,
        rootBoundary: d,
        strategy: c
    })), w = f === "floating" ? {
        x: r,
        y: i,
        width: a.floating.width,
        height: a.floating.height
    } : a.reference, C = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(o.floating)), E = await (s.isElement == null ? void 0 : s.isElement(C)) ? await (s.getScale == null ? void 0 : s.getScale(C)) || {
        x: 1,
        y: 1
    } : {
        x: 1,
        y: 1
    }, A = Jn(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({
        elements: o,
        rect: w,
        offsetParent: C,
        strategy: c
    }) : w);
    return {
        top: (b.top - A.top + g.top) / E.y,
        bottom: (A.bottom - b.bottom + g.bottom) / E.y,
        left: (b.left - A.left + g.left) / E.x,
        right: (A.right - b.right + g.right) / E.x
    }
}
const lP = function(e) {
        return e === void 0 && (e = {}), {
            name: "flip",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    placement: i,
                    middlewareData: s,
                    rects: a,
                    initialPlacement: o,
                    platform: c,
                    elements: u
                } = t, {
                    mainAxis: d = !0,
                    crossAxis: f = !0,
                    fallbackPlacements: m,
                    fallbackStrategy: p = "bestFit",
                    fallbackAxisSideDirection: g = "none",
                    flipAlignment: x = !0,
                    ...y
                } = wt(e, t);
                if ((n = s.arrow) != null && n.alignmentOffset) return {};
                const b = mt(i),
                    w = ot(o),
                    C = mt(o) === o,
                    E = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)),
                    A = m || (C || !x ? [zs(o)] : Bf(o)),
                    N = g !== "none";
                !m && N && A.push(...$f(o, x, g, E));
                const j = [o, ...A],
                    z = await mc(t, y),
                    H = [];
                let R = ((r = s.flip) == null ? void 0 : r.overflows) || [];
                if (d && H.push(z[b]), f) {
                    const F = zf(i, a, E);
                    H.push(z[F[0]], z[F[1]])
                }
                if (R = [...R, {
                        placement: i,
                        overflows: H
                    }], !H.every(F => F <= 0)) {
                    var D, _;
                    const F = (((D = s.flip) == null ? void 0 : D.index) || 0) + 1,
                        G = j[F];
                    if (G && (!(f === "alignment" ? w !== ot(G) : !1) || R.every(B => B.overflows[0] > 0 && ot(B.placement) === w))) return {
                        data: {
                            index: F,
                            overflows: R
                        },
                        reset: {
                            placement: G
                        }
                    };
                    let Y = (_ = R.filter(W => W.overflows[0] <= 0).sort((W, B) => W.overflows[1] - B.overflows[1])[0]) == null ? void 0 : _.placement;
                    if (!Y) switch (p) {
                        case "bestFit": {
                            var O;
                            const W = (O = R.filter(B => {
                                if (N) {
                                    const U = ot(B.placement);
                                    return U === w || U === "y"
                                }
                                return !0
                            }).map(B => [B.placement, B.overflows.filter(U => U > 0).reduce((U, I) => U + I, 0)]).sort((B, U) => B[1] - U[1])[0]) == null ? void 0 : O[0];
                            W && (Y = W);
                            break
                        }
                        case "initialPlacement":
                            Y = o;
                            break
                    }
                    if (i !== Y) return {
                        reset: {
                            placement: Y
                        }
                    }
                }
                return {}
            }
        }
    },
    cP = new Set(["left", "top"]);
async function uP(e, t) {
    const {
        placement: n,
        platform: r,
        elements: i
    } = e, s = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), a = mt(n), o = wn(n), c = ot(n) === "y", u = cP.has(a) ? -1 : 1, d = s && c ? -1 : 1, f = wt(t, e);
    let {
        mainAxis: m,
        crossAxis: p,
        alignmentAxis: g
    } = typeof f == "number" ? {
        mainAxis: f,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: f.mainAxis || 0,
        crossAxis: f.crossAxis || 0,
        alignmentAxis: f.alignmentAxis
    };
    return o && typeof g == "number" && (p = o === "end" ? g * -1 : g), c ? {
        x: p * d,
        y: m * u
    } : {
        x: m * u,
        y: p * d
    }
}
const dP = function(e) {
        return e === void 0 && (e = 0), {
            name: "offset",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    x: i,
                    y: s,
                    placement: a,
                    middlewareData: o
                } = t, c = await uP(t, e);
                return a === ((n = o.offset) == null ? void 0 : n.placement) && (r = o.arrow) != null && r.alignmentOffset ? {} : {
                    x: i + c.x,
                    y: s + c.y,
                    data: {
                        ...c,
                        placement: a
                    }
                }
            }
        }
    },
    fP = function(e) {
        return e === void 0 && (e = {}), {
            name: "shift",
            options: e,
            async fn(t) {
                const {
                    x: n,
                    y: r,
                    placement: i
                } = t, {
                    mainAxis: s = !0,
                    crossAxis: a = !1,
                    limiter: o = {
                        fn: y => {
                            let {
                                x: b,
                                y: w
                            } = y;
                            return {
                                x: b,
                                y: w
                            }
                        }
                    },
                    ...c
                } = wt(e, t), u = {
                    x: n,
                    y: r
                }, d = await mc(t, c), f = ot(mt(i)), m = Js(f);
                let p = u[m],
                    g = u[f];
                if (s) {
                    const y = m === "y" ? "top" : "left",
                        b = m === "y" ? "bottom" : "right",
                        w = p + d[y],
                        C = p - d[b];
                    p = yi(w, p, C)
                }
                if (a) {
                    const y = f === "y" ? "top" : "left",
                        b = f === "y" ? "bottom" : "right",
                        w = g + d[y],
                        C = g - d[b];
                    g = yi(w, g, C)
                }
                const x = o.fn({
                    ...t,
                    [m]: p,
                    [f]: g
                });
                return {
                    ...x,
                    data: {
                        x: x.x - n,
                        y: x.y - r,
                        enabled: {
                            [m]: s,
                            [f]: a
                        }
                    }
                }
            }
        }
    },
    hP = function(e) {
        return e === void 0 && (e = {}), {
            name: "size",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    placement: i,
                    rects: s,
                    platform: a,
                    elements: o
                } = t, {
                    apply: c = () => {},
                    ...u
                } = wt(e, t), d = await mc(t, u), f = mt(i), m = wn(i), p = ot(i) === "y", {
                    width: g,
                    height: x
                } = s.floating;
                let y, b;
                f === "top" || f === "bottom" ? (y = f, b = m === (await (a.isRTL == null ? void 0 : a.isRTL(o.floating)) ? "start" : "end") ? "left" : "right") : (b = f, y = m === "end" ? "top" : "bottom");
                const w = x - d.top - d.bottom,
                    C = g - d.left - d.right,
                    E = qt(x - d[y], w),
                    A = qt(g - d[b], C),
                    N = !t.middlewareData.shift;
                let j = E,
                    z = A;
                if ((n = t.middlewareData.shift) != null && n.enabled.x && (z = C), (r = t.middlewareData.shift) != null && r.enabled.y && (j = w), N && !m) {
                    const R = Ve(d.left, 0),
                        D = Ve(d.right, 0),
                        _ = Ve(d.top, 0),
                        O = Ve(d.bottom, 0);
                    p ? z = g - 2 * (R !== 0 || D !== 0 ? R + D : Ve(d.left, d.right)) : j = x - 2 * (_ !== 0 || O !== 0 ? _ + O : Ve(d.top, d.bottom))
                }
                await c({
                    ...t,
                    availableWidth: z,
                    availableHeight: j
                });
                const H = await a.getDimensions(o.floating);
                return g !== H.width || x !== H.height ? {
                    reset: {
                        rects: !0
                    }
                } : {}
            }
        }
    };

function r6(e) {
    const t = st(e);
    let n = parseFloat(t.width) || 0,
        r = parseFloat(t.height) || 0;
    const i = Qe(e),
        s = i ? e.offsetWidth : n,
        a = i ? e.offsetHeight : r,
        o = _n(n) !== s || _n(r) !== a;
    return o && (n = s, r = a), {
        width: n,
        height: r,
        $: o
    }
}

function Hf(e) {
    return Re(e) ? e : e.contextElement
}

function Ms(e) {
    const t = Hf(e);
    if (!Qe(t)) return it(1);
    const n = t.getBoundingClientRect(),
        {
            width: r,
            height: i,
            $: s
        } = r6(t);
    let a = (s ? _n(n.width) : n.width) / r,
        o = (s ? _n(n.height) : n.height) / i;
    return (!a || !Number.isFinite(a)) && (a = 1), (!o || !Number.isFinite(o)) && (o = 1), {
        x: a,
        y: o
    }
}
const pP = it(0);

function i6(e) {
    const t = nt(e);
    return !Ai() || !t.visualViewport ? pP : {
        x: t.visualViewport.offsetLeft,
        y: t.visualViewport.offsetTop
    }
}

function mP(e, t, n) {
    return t === void 0 && (t = !1), !n || t && n !== nt(e) ? !1 : t
}

function Gi(e, t, n, r) {
    t === void 0 && (t = !1), n === void 0 && (n = !1);
    const i = e.getBoundingClientRect(),
        s = Hf(e);
    let a = it(1);
    t && (r ? Re(r) && (a = Ms(r)) : a = Ms(e));
    const o = mP(s, n, r) ? i6(s) : it(0);
    let c = (i.left + o.x) / a.x,
        u = (i.top + o.y) / a.y,
        d = i.width / a.x,
        f = i.height / a.y;
    if (s) {
        const m = nt(s),
            p = r && Re(r) ? nt(r) : r;
        let g = m,
            x = qi(g);
        for (; x && r && p !== g;) {
            const y = Ms(x),
                b = x.getBoundingClientRect(),
                w = st(x),
                C = b.left + (x.clientLeft + parseFloat(w.paddingLeft)) * y.x,
                E = b.top + (x.clientTop + parseFloat(w.paddingTop)) * y.y;
            c *= y.x, u *= y.y, d *= y.x, f *= y.y, c += C, u += E, g = nt(x), x = qi(g)
        }
    }
    return Jn({
        width: d,
        height: f,
        x: c,
        y: u
    })
}

function Uf(e, t) {
    const n = tr(e).scrollLeft;
    return t ? t.left + n : Gi(lt(e)).left + n
}

function s6(e, t, n) {
    n === void 0 && (n = !1);
    const r = e.getBoundingClientRect(),
        i = r.left + t.scrollLeft - (n ? 0 : Uf(e, r)),
        s = r.top + t.scrollTop;
    return {
        x: i,
        y: s
    }
}

function gP(e) {
    let {
        elements: t,
        rect: n,
        offsetParent: r,
        strategy: i
    } = e;
    const s = i === "fixed",
        a = lt(r),
        o = t ? zr(t.floating) : !1;
    if (r === a || o && s) return n;
    let c = {
            scrollLeft: 0,
            scrollTop: 0
        },
        u = it(1);
    const d = it(0),
        f = Qe(r);
    if ((f || !f && !s) && ((Mn(r) !== "body" || mr(a)) && (c = tr(r)), Qe(r))) {
        const p = Gi(r);
        u = Ms(r), d.x = p.x + r.clientLeft, d.y = p.y + r.clientTop
    }
    const m = a && !f && !s ? s6(a, c, !0) : it(0);
    return {
        width: n.width * u.x,
        height: n.height * u.y,
        x: n.x * u.x - c.scrollLeft * u.x + d.x + m.x,
        y: n.y * u.y - c.scrollTop * u.y + d.y + m.y
    }
}

function xP(e) {
    return Array.from(e.getClientRects())
}

function vP(e) {
    const t = lt(e),
        n = tr(e),
        r = e.ownerDocument.body,
        i = Ve(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth),
        s = Ve(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);
    let a = -n.scrollLeft + Uf(e);
    const o = -n.scrollTop;
    return st(r).direction === "rtl" && (a += Ve(t.clientWidth, r.clientWidth) - i), {
        width: i,
        height: s,
        x: a,
        y: o
    }
}

function bP(e, t) {
    const n = nt(e),
        r = lt(e),
        i = n.visualViewport;
    let s = r.clientWidth,
        a = r.clientHeight,
        o = 0,
        c = 0;
    if (i) {
        s = i.width, a = i.height;
        const u = Ai();
        (!u || u && t === "fixed") && (o = i.offsetLeft, c = i.offsetTop)
    }
    return {
        width: s,
        height: a,
        x: o,
        y: c
    }
}
const yP = new Set(["absolute", "fixed"]);

function wP(e, t) {
    const n = Gi(e, !0, t === "fixed"),
        r = n.top + e.clientTop,
        i = n.left + e.clientLeft,
        s = Qe(e) ? Ms(e) : it(1),
        a = e.clientWidth * s.x,
        o = e.clientHeight * s.y,
        c = i * s.x,
        u = r * s.y;
    return {
        width: a,
        height: o,
        x: c,
        y: u
    }
}

function rm(e, t, n) {
    let r;
    if (t === "viewport") r = bP(e, n);
    else if (t === "document") r = vP(lt(e));
    else if (Re(t)) r = wP(t, n);
    else {
        const i = i6(e);
        r = {
            x: t.x - i.x,
            y: t.y - i.y,
            width: t.width,
            height: t.height
        }
    }
    return Jn(r)
}

function a6(e, t) {
    const n = Wt(e);
    return n === t || !Re(n) || rn(n) ? !1 : st(n).position === "fixed" || a6(n, t)
}

function SP(e, t) {
    const n = t.get(e);
    if (n) return n;
    let r = En(e, [], !1).filter(o => Re(o) && Mn(o) !== "body"),
        i = null;
    const s = st(e).position === "fixed";
    let a = s ? Wt(e) : e;
    for (; Re(a) && !rn(a);) {
        const o = st(a),
            c = os(a);
        !c && o.position === "fixed" && (i = null), (s ? !c && !i : !c && o.position === "static" && !!i && yP.has(i.position) || mr(a) && !c && a6(e, a)) ? r = r.filter(d => d !== a) : i = o, a = Wt(a)
    }
    return t.set(e, r), r
}

function CP(e) {
    let {
        element: t,
        boundary: n,
        rootBoundary: r,
        strategy: i
    } = e;
    const a = [...n === "clippingAncestors" ? zr(t) ? [] : SP(t, this._c) : [].concat(n), r],
        o = a[0],
        c = a.reduce((u, d) => {
            const f = rm(t, d, i);
            return u.top = Ve(f.top, u.top), u.right = qt(f.right, u.right), u.bottom = qt(f.bottom, u.bottom), u.left = Ve(f.left, u.left), u
        }, rm(t, o, i));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}

function kP(e) {
    const {
        width: t,
        height: n
    } = r6(e);
    return {
        width: t,
        height: n
    }
}

function EP(e, t, n) {
    const r = Qe(t),
        i = lt(t),
        s = n === "fixed",
        a = Gi(e, !0, s, t);
    let o = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = it(0);

    function u() {
        c.x = Uf(i)
    }
    if (r || !r && !s)
        if ((Mn(t) !== "body" || mr(i)) && (o = tr(t)), r) {
            const p = Gi(t, !0, s, t);
            c.x = p.x + t.clientLeft, c.y = p.y + t.clientTop
        } else i && u();
    s && !r && i && u();
    const d = i && !r && !s ? s6(i, o) : it(0),
        f = a.left + o.scrollLeft - c.x - d.x,
        m = a.top + o.scrollTop - c.y - d.y;
    return {
        x: f,
        y: m,
        width: a.width,
        height: a.height
    }
}

function bu(e) {
    return st(e).position === "static"
}

function im(e, t) {
    if (!Qe(e) || st(e).position === "fixed") return null;
    if (t) return t(e);
    let n = e.offsetParent;
    return lt(e) === n && (n = n.ownerDocument.body), n
}

function o6(e, t) {
    const n = nt(e);
    if (zr(e)) return n;
    if (!Qe(e)) {
        let i = Wt(e);
        for (; i && !rn(i);) {
            if (Re(i) && !bu(i)) return i;
            i = Wt(i)
        }
        return n
    }
    let r = im(e, t);
    for (; r && _f(r) && bu(r);) r = im(r, t);
    return r && rn(r) && bu(r) && !os(r) ? n : r || Ff(e) || n
}
const NP = async function(e) {
    const t = this.getOffsetParent || o6,
        n = this.getDimensions,
        r = await n(e.floating);
    return {
        reference: EP(e.reference, await t(e.floating), e.strategy),
        floating: {
            x: 0,
            y: 0,
            width: r.width,
            height: r.height
        }
    }
};

function AP(e) {
    return st(e).direction === "rtl"
}
const TP = {
    convertOffsetParentRelativeRectToViewportRelativeRect: gP,
    getDocumentElement: lt,
    getClippingRect: CP,
    getOffsetParent: o6,
    getElementRects: NP,
    getClientRects: xP,
    getDimensions: kP,
    getScale: Ms,
    isElement: Re,
    isRTL: AP
};

function l6(e, t) {
    return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height
}

function IP(e, t) {
    let n = null,
        r;
    const i = lt(e);

    function s() {
        var o;
        clearTimeout(r), (o = n) == null || o.disconnect(), n = null
    }

    function a(o, c) {
        o === void 0 && (o = !1), c === void 0 && (c = 1), s();
        const u = e.getBoundingClientRect(),
            {
                left: d,
                top: f,
                width: m,
                height: p
            } = u;
        if (o || t(), !m || !p) return;
        const g = Gn(f),
            x = Gn(i.clientWidth - (d + m)),
            y = Gn(i.clientHeight - (f + p)),
            b = Gn(d),
            C = {
                rootMargin: -g + "px " + -x + "px " + -y + "px " + -b + "px",
                threshold: Ve(0, qt(1, c)) || 1
            };
        let E = !0;

        function A(N) {
            const j = N[0].intersectionRatio;
            if (j !== c) {
                if (!E) return a();
                j ? a(!1, j) : r = setTimeout(() => {
                    a(!1, 1e-7)
                }, 1e3)
            }
            j === 1 && !l6(u, e.getBoundingClientRect()) && a(), E = !1
        }
        try {
            n = new IntersectionObserver(A, {
                ...C,
                root: i.ownerDocument
            })
        } catch {
            n = new IntersectionObserver(A, C)
        }
        n.observe(e)
    }
    return a(!0), s
}

function jP(e, t, n, r) {
    r === void 0 && (r = {});
    const {
        ancestorScroll: i = !0,
        ancestorResize: s = !0,
        elementResize: a = typeof ResizeObserver == "function",
        layoutShift: o = typeof IntersectionObserver == "function",
        animationFrame: c = !1
    } = r, u = Hf(e), d = i || s ? [...u ? En(u) : [], ...En(t)] : [];
    d.forEach(b => {
        i && b.addEventListener("scroll", n, {
            passive: !0
        }), s && b.addEventListener("resize", n)
    });
    const f = u && o ? IP(u, n) : null;
    let m = -1,
        p = null;
    a && (p = new ResizeObserver(b => {
        let [w] = b;
        w && w.target === u && p && (p.unobserve(t), cancelAnimationFrame(m), m = requestAnimationFrame(() => {
            var C;
            (C = p) == null || C.observe(t)
        })), n()
    }), u && !c && p.observe(u), p.observe(t));
    let g, x = c ? Gi(e) : null;
    c && y();

    function y() {
        const b = Gi(e);
        x && !l6(x, b) && n(), x = b, g = requestAnimationFrame(y)
    }
    return n(), () => {
        var b;
        d.forEach(w => {
            i && w.removeEventListener("scroll", n), s && w.removeEventListener("resize", n)
        }), f?.(), (b = p) == null || b.disconnect(), p = null, c && cancelAnimationFrame(g)
    }
}
const yu = mc,
    MP = dP,
    RP = fP,
    OP = lP,
    PP = hP,
    LP = (e, t, n) => {
        const r = new Map,
            i = {
                platform: TP,
                ...n
            },
            s = {
                ...i.platform,
                _c: r
            };
        return oP(e, t, {
            ...i,
            platform: s
        })
    };
var DP = typeof document < "u",
    _P = function() {},
    Ko = DP ? h.useLayoutEffect : _P;

function El(e, t) {
    if (e === t) return !0;
    if (typeof e != typeof t) return !1;
    if (typeof e == "function" && e.toString() === t.toString()) return !0;
    let n, r, i;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (n = e.length, n !== t.length) return !1;
            for (r = n; r-- !== 0;)
                if (!El(e[r], t[r])) return !1;
            return !0
        }
        if (i = Object.keys(e), n = i.length, n !== Object.keys(t).length) return !1;
        for (r = n; r-- !== 0;)
            if (!{}.hasOwnProperty.call(t, i[r])) return !1;
        for (r = n; r-- !== 0;) {
            const s = i[r];
            if (!(s === "_owner" && e.$$typeof) && !El(e[s], t[s])) return !1
        }
        return !0
    }
    return e !== e && t !== t
}

function c6(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1
}

function sm(e, t) {
    const n = c6(e);
    return Math.round(t * n) / n
}

function wu(e) {
    const t = h.useRef(e);
    return Ko(() => {
        t.current = e
    }), t
}

function FP(e) {
    e === void 0 && (e = {});
    const {
        placement: t = "bottom",
        strategy: n = "absolute",
        middleware: r = [],
        platform: i,
        elements: {
            reference: s,
            floating: a
        } = {},
        transform: o = !0,
        whileElementsMounted: c,
        open: u
    } = e, [d, f] = h.useState({
        x: 0,
        y: 0,
        strategy: n,
        placement: t,
        middlewareData: {},
        isPositioned: !1
    }), [m, p] = h.useState(r);
    El(m, r) || p(r);
    const [g, x] = h.useState(null), [y, b] = h.useState(null), w = h.useCallback(B => {
        B !== N.current && (N.current = B, x(B))
    }, []), C = h.useCallback(B => {
        B !== j.current && (j.current = B, b(B))
    }, []), E = s || g, A = a || y, N = h.useRef(null), j = h.useRef(null), z = h.useRef(d), H = c != null, R = wu(c), D = wu(i), _ = wu(u), O = h.useCallback(() => {
        if (!N.current || !j.current) return;
        const B = {
            placement: t,
            strategy: n,
            middleware: m
        };
        D.current && (B.platform = D.current), LP(N.current, j.current, B).then(U => {
            const I = {
                ...U,
                isPositioned: _.current !== !1
            };
            F.current && !El(z.current, I) && (z.current = I, an.flushSync(() => {
                f(I)
            }))
        })
    }, [m, t, n, D, _]);
    Ko(() => {
        u === !1 && z.current.isPositioned && (z.current.isPositioned = !1, f(B => ({
            ...B,
            isPositioned: !1
        })))
    }, [u]);
    const F = h.useRef(!1);
    Ko(() => (F.current = !0, () => {
        F.current = !1
    }), []), Ko(() => {
        if (E && (N.current = E), A && (j.current = A), E && A) {
            if (R.current) return R.current(E, A, O);
            O()
        }
    }, [E, A, O, R, H]);
    const G = h.useMemo(() => ({
            reference: N,
            floating: j,
            setReference: w,
            setFloating: C
        }), [w, C]),
        Y = h.useMemo(() => ({
            reference: E,
            floating: A
        }), [E, A]),
        W = h.useMemo(() => {
            const B = {
                position: n,
                left: 0,
                top: 0
            };
            if (!Y.floating) return B;
            const U = sm(Y.floating, d.x),
                I = sm(Y.floating, d.y);
            return o ? {
                ...B,
                transform: "translate(" + U + "px, " + I + "px)",
                ...c6(Y.floating) >= 1.5 && {
                    willChange: "transform"
                }
            } : {
                position: n,
                left: U,
                top: I
            }
        }, [n, o, Y.floating, d.x, d.y]);
    return h.useMemo(() => ({
        ...d,
        update: O,
        refs: G,
        elements: Y,
        floatingStyles: W
    }), [d, O, G, Y, W])
}
const u6 = (e, t) => ({
        ...MP(e),
        options: [e, t]
    }),
    zP = (e, t) => ({
        ...RP(e),
        options: [e, t]
    }),
    BP = (e, t) => ({
        ...OP(e),
        options: [e, t]
    }),
    $P = (e, t) => ({
        ...PP(e),
        options: [e, t]
    }),
    d6 = {
        ...$i
    },
    HP = d6.useInsertionEffect,
    UP = HP || (e => e());

function f6(e) {
    const t = h.useRef(() => {});
    return UP(() => {
        t.current = e
    }), h.useCallback(function() {
        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
        return t.current == null ? void 0 : t.current(...r)
    }, [])
}
var B0 = typeof document < "u" ? h.useLayoutEffect : h.useEffect;
let am = !1,
    VP = 0;
const om = () => "floating-ui-" + Math.random().toString(36).slice(2, 6) + VP++;

function WP() {
    const [e, t] = h.useState(() => am ? om() : void 0);
    return B0(() => {
        e == null && t(om())
    }, []), h.useEffect(() => {
        am = !0
    }, []), e
}
const qP = d6.useId,
    GP = qP || WP;

function YP() {
    const e = new Map;
    return {
        emit(t, n) {
            var r;
            (r = e.get(t)) == null || r.forEach(i => i(n))
        },
        on(t, n) {
            e.set(t, [...e.get(t) || [], n])
        },
        off(t, n) {
            var r;
            e.set(t, ((r = e.get(t)) == null ? void 0 : r.filter(i => i !== n)) || [])
        }
    }
}
const KP = h.createContext(null),
    XP = h.createContext(null),
    ZP = () => {
        var e;
        return ((e = h.useContext(KP)) == null ? void 0 : e.id) || null
    },
    QP = () => h.useContext(XP),
    JP = "data-floating-ui-focusable";

function eL(e) {
    const {
        open: t = !1,
        onOpenChange: n,
        elements: r
    } = e, i = GP(), s = h.useRef({}), [a] = h.useState(() => YP()), o = ZP() != null, [c, u] = h.useState(r.reference), d = f6((p, g, x) => {
        s.current.openEvent = p ? g : void 0, a.emit("openchange", {
            open: p,
            event: g,
            reason: x,
            nested: o
        }), n?.(p, g, x)
    }), f = h.useMemo(() => ({
        setPositionReference: u
    }), []), m = h.useMemo(() => ({
        reference: c || r.reference || null,
        floating: r.floating || null,
        domReference: r.reference
    }), [c, r.reference, r.floating]);
    return h.useMemo(() => ({
        dataRef: s,
        open: t,
        onOpenChange: d,
        elements: m,
        events: a,
        floatingId: i,
        refs: f
    }), [t, d, m, a, i, f])
}

function tL(e) {
    e === void 0 && (e = {});
    const {
        nodeId: t
    } = e, n = eL({
        ...e,
        elements: {
            reference: null,
            floating: null,
            ...e.elements
        }
    }), r = e.rootContext || n, i = r.elements, [s, a] = h.useState(null), [o, c] = h.useState(null), d = i?.domReference || s, f = h.useRef(null), m = QP();
    B0(() => {
        d && (f.current = d)
    }, [d]);
    const p = FP({
            ...e,
            elements: {
                ...i,
                ...o && {
                    reference: o
                }
            }
        }),
        g = h.useCallback(C => {
            const E = Re(C) ? {
                getBoundingClientRect: () => C.getBoundingClientRect(),
                contextElement: C
            } : C;
            c(E), p.refs.setReference(E)
        }, [p.refs]),
        x = h.useCallback(C => {
            (Re(C) || C === null) && (f.current = C, a(C)), (Re(p.refs.reference.current) || p.refs.reference.current === null || C !== null && !Re(C)) && p.refs.setReference(C)
        }, [p.refs]),
        y = h.useMemo(() => ({
            ...p.refs,
            setReference: x,
            setPositionReference: g,
            domReference: f
        }), [p.refs, x, g]),
        b = h.useMemo(() => ({
            ...p.elements,
            domReference: d
        }), [p.elements, d]),
        w = h.useMemo(() => ({
            ...p,
            ...r,
            refs: y,
            elements: b,
            nodeId: t
        }), [p, y, b, t, r]);
    return B0(() => {
        r.dataRef.current.floatingContext = w;
        const C = m?.nodesRef.current.find(E => E.id === t);
        C && (C.context = w)
    }), h.useMemo(() => ({
        ...p,
        context: w,
        refs: y,
        elements: b
    }), [p, y, b, w])
}
const lm = "active",
    cm = "selected";

function Su(e, t, n) {
    const r = new Map,
        i = n === "item";
    let s = e;
    if (i && e) {
        const {
            [lm]: a, [cm]: o, ...c
        } = e;
        s = c
    }
    return {
        ...n === "floating" && {
            tabIndex: -1,
            [JP]: ""
        },
        ...s,
        ...t.map(a => {
            const o = a ? a[n] : null;
            return typeof o == "function" ? e ? o(e) : null : o
        }).concat(e).reduce((a, o) => (o && Object.entries(o).forEach(c => {
            let [u, d] = c;
            if (!(i && [lm, cm].includes(u)))
                if (u.indexOf("on") === 0) {
                    if (r.has(u) || r.set(u, []), typeof d == "function") {
                        var f;
                        (f = r.get(u)) == null || f.push(d), a[u] = function() {
                            for (var m, p = arguments.length, g = new Array(p), x = 0; x < p; x++) g[x] = arguments[x];
                            return (m = r.get(u)) == null ? void 0 : m.map(y => y(...g)).find(y => y !== void 0)
                        }
                    }
                } else a[u] = d
        }), a), {})
    }
}

function nL(e) {
    e === void 0 && (e = []);
    const t = e.map(o => o?.reference),
        n = e.map(o => o?.floating),
        r = e.map(o => o?.item),
        i = h.useCallback(o => Su(o, e, "reference"), t),
        s = h.useCallback(o => Su(o, e, "floating"), n),
        a = h.useCallback(o => Su(o, e, "item"), r);
    return h.useMemo(() => ({
        getReferenceProps: i,
        getFloatingProps: s,
        getItemProps: a
    }), [i, s, a])
}

function um(e, t) {
    return {
        ...e,
        rects: {
            ...e.rects,
            floating: {
                ...e.rects.floating,
                height: t
            }
        }
    }
}
const rL = e => ({
    name: "inner",
    options: e,
    async fn(t) {
        const {
            listRef: n,
            overflowRef: r,
            onFallbackChange: i,
            offset: s = 0,
            index: a = 0,
            minItemsVisible: o = 4,
            referenceOverflowThreshold: c = 0,
            scrollRef: u,
            ...d
        } = wt(e, t), {
            rects: f,
            elements: {
                floating: m
            }
        } = t, p = n.current[a], g = u?.current || m, x = m.clientTop || g.clientTop, y = m.clientTop !== 0, b = g.clientTop !== 0, w = m === g;
        if (!p) return {};
        const C = {
                ...t,
                ...await u6(-p.offsetTop - m.clientTop - f.reference.height / 2 - p.offsetHeight / 2 - s).fn(t)
            },
            E = await yu(um(C, g.scrollHeight + x + m.clientTop), d),
            A = await yu(C, {
                ...d,
                elementContext: "reference"
            }),
            N = Ve(0, E.top),
            j = C.y + N,
            R = (g.scrollHeight > g.clientHeight ? D => D : _n)(Ve(0, g.scrollHeight + (y && w || b ? x * 2 : 0) - N - Ve(0, E.bottom)));
        if (g.style.maxHeight = R + "px", g.scrollTop = N, i) {
            const D = g.offsetHeight < p.offsetHeight * qt(o, n.current.length) - 1 || A.top >= -c || A.bottom >= -c;
            an.flushSync(() => i(D))
        }
        return r && (r.current = await yu(um({
            ...C,
            y: j
        }, g.offsetHeight + x + m.clientTop), d)), {
            y: j
        }
    }
});

function iL(e, t) {
    const {
        open: n,
        elements: r
    } = e, {
        enabled: i = !0,
        overflowRef: s,
        scrollRef: a,
        onChange: o
    } = t, c = f6(o), u = h.useRef(!1), d = h.useRef(null), f = h.useRef(null);
    h.useEffect(() => {
        if (!i) return;

        function p(x) {
            if (x.ctrlKey || !g || s.current == null) return;
            const y = x.deltaY,
                b = s.current.top >= -.5,
                w = s.current.bottom >= -.5,
                C = g.scrollHeight - g.clientHeight,
                E = y < 0 ? -1 : 1,
                A = y < 0 ? "max" : "min";
            g.scrollHeight <= g.clientHeight || (!b && y > 0 || !w && y < 0 ? (x.preventDefault(), an.flushSync(() => {
                c(N => N + Math[A](y, C * E))
            })) : /firefox/i.test(_O()) && (g.scrollTop += y))
        }
        const g = a?.current || r.floating;
        if (n && g) return g.addEventListener("wheel", p), requestAnimationFrame(() => {
            d.current = g.scrollTop, s.current != null && (f.current = {
                ...s.current
            })
        }), () => {
            d.current = null, f.current = null, g.removeEventListener("wheel", p)
        }
    }, [i, n, r.floating, s, a, c]);
    const m = h.useMemo(() => ({
        onKeyDown() {
            u.current = !0
        },
        onWheel() {
            u.current = !1
        },
        onPointerMove() {
            u.current = !1
        },
        onScroll() {
            const p = a?.current || r.floating;
            if (!(!s.current || !p || !u.current)) {
                if (d.current !== null) {
                    const g = p.scrollTop - d.current;
                    (s.current.bottom < -.5 && g < -1 || s.current.top < -.5 && g > 1) && an.flushSync(() => c(x => x + g))
                }
                requestAnimationFrame(() => {
                    d.current = p.scrollTop
                })
            }
        }
    }), [r.floating, c, s, a]);
    return h.useMemo(() => i ? {
        floating: m
    } : {}, [i, m])
}
let na = h.createContext({
    styles: void 0,
    setReference: () => {},
    setFloating: () => {},
    getReferenceProps: () => ({}),
    getFloatingProps: () => ({}),
    slot: {}
});
na.displayName = "FloatingContext";
let Vf = h.createContext(null);
Vf.displayName = "PlacementContext";

function sL(e) {
    return h.useMemo(() => e ? typeof e == "string" ? {
        to: e
    } : e : null, [e])
}

function aL() {
    return h.useContext(na).setReference
}

function oL() {
    return h.useContext(na).getReferenceProps
}

function lL() {
    let {
        getFloatingProps: e,
        slot: t
    } = h.useContext(na);
    return h.useCallback((...n) => Object.assign({}, e(...n), {
        "data-anchor": t.anchor
    }), [e, t])
}

function cL(e = null) {
    e === !1 && (e = null), typeof e == "string" && (e = {
        to: e
    });
    let t = h.useContext(Vf),
        n = h.useMemo(() => e, [JSON.stringify(e, (i, s) => {
            var a;
            return (a = s?.outerHTML) != null ? a : s
        })]);
    vt(() => {
        t?.(n ?? null)
    }, [t, n]);
    let r = h.useContext(na);
    return h.useMemo(() => [r.setFloating, e ? r.styles : {}], [r.setFloating, e, r.styles])
}
let dm = 4;

function uL({
    children: e,
    enabled: t = !0
}) {
    let [n, r] = h.useState(null), [i, s] = h.useState(0), a = h.useRef(null), [o, c] = h.useState(null);
    dL(o);
    let u = t && n !== null && o !== null,
        {
            to: d = "bottom",
            gap: f = 0,
            offset: m = 0,
            padding: p = 0,
            inner: g
        } = fL(n, o),
        [x, y = "center"] = d.split(" ");
    vt(() => {
        u && s(0)
    }, [u]);
    let {
        refs: b,
        floatingStyles: w,
        context: C
    } = tL({
        open: u,
        placement: x === "selection" ? y === "center" ? "bottom" : `bottom-${y}` : y === "center" ? `${x}` : `${x}-${y}`,
        strategy: "absolute",
        transform: !1,
        middleware: [u6({
            mainAxis: x === "selection" ? 0 : f,
            crossAxis: m
        }), zP({
            padding: p
        }), x !== "selection" && BP({
            padding: p
        }), x === "selection" && g ? rL({
            ...g,
            padding: p,
            overflowRef: a,
            offset: i,
            minItemsVisible: dm,
            referenceOverflowThreshold: p,
            onFallbackChange(D) {
                var _, O;
                if (!D) return;
                let F = C.elements.floating;
                if (!F) return;
                let G = parseFloat(getComputedStyle(F).scrollPaddingBottom) || 0,
                    Y = Math.min(dm, F.childElementCount),
                    W = 0,
                    B = 0;
                for (let U of (O = (_ = C.elements.floating) == null ? void 0 : _.childNodes) != null ? O : [])
                    if (ii(U)) {
                        let I = U.offsetTop,
                            fe = I + U.clientHeight + G,
                            re = F.scrollTop,
                            M = re + F.clientHeight;
                        if (I >= re && fe <= M) Y--;
                        else {
                            B = Math.max(0, Math.min(fe, M) - Math.max(I, re)), W = U.clientHeight;
                            break
                        }
                    } Y >= 1 && s(U => {
                    let I = W * Y - B + G;
                    return U >= I ? U : I
                })
            }
        }) : null, $P({
            padding: p,
            apply({
                availableWidth: D,
                availableHeight: _,
                elements: O
            }) {
                Object.assign(O.floating.style, {
                    overflow: "auto",
                    maxWidth: `${D}px`,
                    maxHeight: `min(var(--anchor-max-height, 100vh), ${_}px)`
                })
            }
        })].filter(Boolean),
        whileElementsMounted: jP
    }), [E = x, A = y] = C.placement.split("-");
    x === "selection" && (E = "selection");
    let N = h.useMemo(() => ({
            anchor: [E, A].filter(Boolean).join(" ")
        }), [E, A]),
        j = iL(C, {
            overflowRef: a,
            onChange: s
        }),
        {
            getReferenceProps: z,
            getFloatingProps: H
        } = nL([j]),
        R = Ge(D => {
            c(D), b.setFloating(D)
        });
    return h.createElement(Vf.Provider, {
        value: r
    }, h.createElement(na.Provider, {
        value: {
            setFloating: R,
            setReference: b.setReference,
            styles: w,
            getReferenceProps: z,
            getFloatingProps: H,
            slot: N
        }
    }, e))
}

function dL(e) {
    vt(() => {
        if (!e) return;
        let t = new MutationObserver(() => {
            let n = window.getComputedStyle(e).maxHeight,
                r = parseFloat(n);
            if (isNaN(r)) return;
            let i = parseInt(n);
            isNaN(i) || r !== i && (e.style.maxHeight = `${Math.ceil(r)}px`)
        });
        return t.observe(e, {
            attributes: !0,
            attributeFilter: ["style"]
        }), () => {
            t.disconnect()
        }
    }, [e])
}

function fL(e, t) {
    var n, r, i;
    let s = Cu((n = e?.gap) != null ? n : "var(--anchor-gap, 0)", t),
        a = Cu((r = e?.offset) != null ? r : "var(--anchor-offset, 0)", t),
        o = Cu((i = e?.padding) != null ? i : "var(--anchor-padding, 0)", t);
    return {
        ...e,
        gap: s,
        offset: a,
        padding: o
    }
}

function Cu(e, t, n = void 0) {
    let r = uc(),
        i = Ge((c, u) => {
            if (c == null) return [n, null];
            if (typeof c == "number") return [c, null];
            if (typeof c == "string") {
                if (!u) return [n, null];
                let d = fm(c, u);
                return [d, f => {
                    let m = h6(c);
                    {
                        let p = m.map(g => window.getComputedStyle(u).getPropertyValue(g));
                        r.requestAnimationFrame(function g() {
                            r.nextFrame(g);
                            let x = !1;
                            for (let [b, w] of m.entries()) {
                                let C = window.getComputedStyle(u).getPropertyValue(w);
                                if (p[b] !== C) {
                                    p[b] = C, x = !0;
                                    break
                                }
                            }
                            if (!x) return;
                            let y = fm(c, u);
                            d !== y && (f(y), d = y)
                        })
                    }
                    return r.dispose
                }]
            }
            return [n, null]
        }),
        s = h.useMemo(() => i(e, t)[0], [e, t]),
        [a = s, o] = h.useState();
    return vt(() => {
        let [c, u] = i(e, t);
        if (o(c), !!u) return u(o)
    }, [e, t]), a
}

function h6(e) {
    let t = /var\((.*)\)/.exec(e);
    if (t) {
        let n = t[1].indexOf(",");
        if (n === -1) return [t[1]];
        let r = t[1].slice(0, n).trim(),
            i = t[1].slice(n + 1).trim();
        return i ? [r, ...h6(i)] : [r]
    }
    return []
}

function fm(e, t) {
    let n = document.createElement("div");
    t.appendChild(n), n.style.setProperty("margin-top", "0px", "important"), n.style.setProperty("margin-top", e, "important");
    let r = parseFloat(window.getComputedStyle(n).marginTop) || 0;
    return t.removeChild(n), r
}
let Wf = h.createContext(null);
Wf.displayName = "OpenClosedContext";
var Ha = (e => (e[e.Open = 1] = "Open", e[e.Closed = 2] = "Closed", e[e.Closing = 4] = "Closing", e[e.Opening = 8] = "Opening", e))(Ha || {});

function hL() {
    return h.useContext(Wf)
}

function pL({
    value: e,
    children: t
}) {
    return Ue.createElement(Wf.Provider, {
        value: e
    }, t)
}

function mL(e) {
    throw new Error("Unexpected object: " + e)
}
var zt = (e => (e[e.First = 0] = "First", e[e.Previous = 1] = "Previous", e[e.Next = 2] = "Next", e[e.Last = 3] = "Last", e[e.Specific = 4] = "Specific", e[e.Nothing = 5] = "Nothing", e))(zt || {});

function Lo(e, t) {
    let n = t.resolveItems();
    if (n.length <= 0) return null;
    let r = t.resolveActiveIndex(),
        i = r ?? -1;
    switch (e.focus) {
        case 0: {
            for (let s = 0; s < n.length; ++s)
                if (!t.resolveDisabled(n[s], s, n)) return s;
            return r
        }
        case 1: {
            i === -1 && (i = n.length);
            for (let s = i - 1; s >= 0; --s)
                if (!t.resolveDisabled(n[s], s, n)) return s;
            return r
        }
        case 2: {
            for (let s = i + 1; s < n.length; ++s)
                if (!t.resolveDisabled(n[s], s, n)) return s;
            return r
        }
        case 3: {
            for (let s = n.length - 1; s >= 0; --s)
                if (!t.resolveDisabled(n[s], s, n)) return s;
            return r
        }
        case 4: {
            for (let s = 0; s < n.length; ++s)
                if (t.resolveId(n[s], s, n) === e.id) return s;
            return r
        }
        case 5:
            return null;
        default:
            mL(e)
    }
}
var p6 = (e => (e[e.Left = 0] = "Left", e[e.Right = 2] = "Right", e))(p6 || {});

function m6(e) {
    let t = Ge(e),
        n = h.useRef(!1);
    h.useEffect(() => (n.current = !1, () => {
        n.current = !0, Af(() => {
            n.current && t()
        })
    }), [t])
}

function gL() {
    let e = typeof document > "u";
    return "useSyncExternalStore" in $i ? (t => t.useSyncExternalStore)($i)(() => () => {}, () => !1, () => !e) : !1
}

function xL() {
    let e = gL(),
        [t, n] = h.useState(jr.isHandoffComplete);
    return t && jr.isHandoffComplete === !1 && n(!1), h.useEffect(() => {
        t !== !0 && n(!0)
    }, [t]), h.useEffect(() => jr.handoff(), []), e ? !1 : t
}
let vL = h.createContext(!1);

function bL() {
    return h.useContext(vL)
}

function yL(e) {
    let t = bL(),
        n = h.useContext(x6),
        [r, i] = h.useState(() => {
            var s;
            if (!t && n !== null) return (s = n.current) != null ? s : null;
            if (jr.isServer) return null;
            let a = e?.getElementById("headlessui-portal-root");
            if (a) return a;
            if (e === null) return null;
            let o = e.createElement("div");
            return o.setAttribute("id", "headlessui-portal-root"), e.body.appendChild(o)
        });
    return h.useEffect(() => {
        r !== null && (e != null && e.body.contains(r) || e == null || e.body.appendChild(r))
    }, [r, e]), h.useEffect(() => {
        t || n !== null && i(n.current)
    }, [n, i, t]), r
}
let g6 = h.Fragment,
    wL = Xt(function(e, t) {
        let {
            ownerDocument: n = null,
            ...r
        } = e, i = h.useRef(null), s = jn(TR(p => {
            i.current = p
        }), t), a = L0(i), o = n ?? a, c = yL(o), [u] = h.useState(() => {
            var p;
            return jr.isServer ? null : (p = o?.createElement("div")) != null ? p : null
        }), d = h.useContext(EL), f = xL();
        vt(() => {
            !c || !u || c.contains(u) || (u.setAttribute("data-headlessui-portal", ""), c.appendChild(u))
        }, [c, u]), vt(() => {
            if (u && d) return d.register(u)
        }, [d, u]), m6(() => {
            var p;
            !c || !u || (jf(u) && c.contains(u) && c.removeChild(u), c.childNodes.length <= 0 && ((p = c.parentElement) == null || p.removeChild(c)))
        });
        let m = Kt();
        return f ? !c || !u ? null : an.createPortal(m({
            ourProps: {
                ref: s
            },
            theirProps: r,
            slot: {},
            defaultTag: g6,
            name: "Portal"
        }), u) : null
    });

function SL(e, t) {
    let n = jn(t),
        {
            enabled: r = !0,
            ownerDocument: i,
            ...s
        } = e,
        a = Kt();
    return r ? Ue.createElement(wL, {
        ...s,
        ownerDocument: i,
        ref: n
    }) : a({
        ourProps: {
            ref: n
        },
        theirProps: s,
        slot: {},
        defaultTag: g6,
        name: "Portal"
    })
}
let CL = h.Fragment,
    x6 = h.createContext(null);

function kL(e, t) {
    let {
        target: n,
        ...r
    } = e, i = {
        ref: jn(t)
    }, s = Kt();
    return Ue.createElement(x6.Provider, {
        value: n
    }, s({
        ourProps: i,
        theirProps: r,
        defaultTag: CL,
        name: "Popover.Group"
    }))
}
let EL = h.createContext(null),
    NL = Xt(SL),
    AL = Xt(kL),
    TL = Object.assign(NL, {
        Group: AL
    });

function IL() {
    let e = h.useRef(!1);
    return vt(() => (e.current = !0, () => {
        e.current = !1
    }), []), e
}

function jL(e, t) {
    let n = h.useRef({
        left: 0,
        top: 0
    });
    if (vt(() => {
            if (!t) return;
            let i = t.getBoundingClientRect();
            i && (n.current = i)
        }, [e, t]), t == null || !e || t === document.activeElement) return !1;
    let r = t.getBoundingClientRect();
    return r.top !== n.current.top || r.left !== n.current.left
}
let hm = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;

function pm(e) {
    var t, n;
    let r = (t = e.innerText) != null ? t : "",
        i = e.cloneNode(!0);
    if (!ii(i)) return r;
    let s = !1;
    for (let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]')) o.remove(), s = !0;
    let a = s ? (n = i.innerText) != null ? n : "" : r;
    return hm.test(a) && (a = a.replace(hm, "")), a
}

function ML(e) {
    let t = e.getAttribute("aria-label");
    if (typeof t == "string") return t.trim();
    let n = e.getAttribute("aria-labelledby");
    if (n) {
        let r = n.split(" ").map(i => {
            let s = document.getElementById(i);
            if (s) {
                let a = s.getAttribute("aria-label");
                return typeof a == "string" ? a.trim() : pm(s).trim()
            }
            return null
        }).filter(Boolean);
        if (r.length > 0) return r.join(", ")
    }
    return pm(e).trim()
}

function RL(e) {
    let t = h.useRef(""),
        n = h.useRef("");
    return Ge(() => {
        let r = e.current;
        if (!r) return "";
        let i = r.innerText;
        if (t.current === i) return n.current;
        let s = ML(r).trim().toLowerCase();
        return t.current = i, n.current = s, s
    })
}
var OL = Object.defineProperty,
    PL = (e, t, n) => t in e ? OL(e, t, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: n
    }) : e[t] = n,
    mm = (e, t, n) => (PL(e, typeof t != "symbol" ? t + "" : t, n), n),
    nn = (e => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(nn || {}),
    Nl = (e => (e[e.Pointer = 0] = "Pointer", e[e.Other = 1] = "Other", e))(Nl || {}),
    ct = (e => (e[e.OpenMenu = 0] = "OpenMenu", e[e.CloseMenu = 1] = "CloseMenu", e[e.GoToItem = 2] = "GoToItem", e[e.Search = 3] = "Search", e[e.ClearSearch = 4] = "ClearSearch", e[e.RegisterItems = 5] = "RegisterItems", e[e.UnregisterItems = 6] = "UnregisterItems", e[e.SetButtonElement = 7] = "SetButtonElement", e[e.SetItemsElement = 8] = "SetItemsElement", e[e.SortItems = 9] = "SortItems", e))(ct || {});

function gm(e, t = n => n) {
    let n = e.activeItemIndex !== null ? e.items[e.activeItemIndex] : null,
        r = Fi(t(e.items.slice()), s => s.dataRef.current.domRef.current),
        i = n ? r.indexOf(n) : null;
    return i === -1 && (i = null), {
        items: r,
        activeItemIndex: i
    }
}
let LL = {
    1(e) {
        return e.menuState === 1 ? e : {
            ...e,
            activeItemIndex: null,
            pendingFocus: {
                focus: zt.Nothing
            },
            menuState: 1
        }
    },
    0(e, t) {
        return e.menuState === 0 ? e : {
            ...e,
            __demoMode: !1,
            pendingFocus: t.focus,
            menuState: 0
        }
    },
    2: (e, t) => {
        var n, r, i, s, a;
        if (e.menuState === 1) return e;
        let o = {
            ...e,
            searchQuery: "",
            activationTrigger: (n = t.trigger) != null ? n : 1,
            __demoMode: !1
        };
        if (t.focus === zt.Nothing) return {
            ...o,
            activeItemIndex: null
        };
        if (t.focus === zt.Specific) return {
            ...o,
            activeItemIndex: e.items.findIndex(d => d.id === t.id)
        };
        if (t.focus === zt.Previous) {
            let d = e.activeItemIndex;
            if (d !== null) {
                let f = e.items[d].dataRef.current.domRef,
                    m = Lo(t, {
                        resolveItems: () => e.items,
                        resolveActiveIndex: () => e.activeItemIndex,
                        resolveId: p => p.id,
                        resolveDisabled: p => p.dataRef.current.disabled
                    });
                if (m !== null) {
                    let p = e.items[m].dataRef.current.domRef;
                    if (((r = f.current) == null ? void 0 : r.previousElementSibling) === p.current || ((i = p.current) == null ? void 0 : i.previousElementSibling) === null) return {
                        ...o,
                        activeItemIndex: m
                    }
                }
            }
        } else if (t.focus === zt.Next) {
            let d = e.activeItemIndex;
            if (d !== null) {
                let f = e.items[d].dataRef.current.domRef,
                    m = Lo(t, {
                        resolveItems: () => e.items,
                        resolveActiveIndex: () => e.activeItemIndex,
                        resolveId: p => p.id,
                        resolveDisabled: p => p.dataRef.current.disabled
                    });
                if (m !== null) {
                    let p = e.items[m].dataRef.current.domRef;
                    if (((s = f.current) == null ? void 0 : s.nextElementSibling) === p.current || ((a = p.current) == null ? void 0 : a.nextElementSibling) === null) return {
                        ...o,
                        activeItemIndex: m
                    }
                }
            }
        }
        let c = gm(e),
            u = Lo(t, {
                resolveItems: () => c.items,
                resolveActiveIndex: () => c.activeItemIndex,
                resolveId: d => d.id,
                resolveDisabled: d => d.dataRef.current.disabled
            });
        return {
            ...o,
            ...c,
            activeItemIndex: u
        }
    },
    3: (e, t) => {
        let n = e.searchQuery !== "" ? 0 : 1,
            r = e.searchQuery + t.value.toLowerCase(),
            i = (e.activeItemIndex !== null ? e.items.slice(e.activeItemIndex + n).concat(e.items.slice(0, e.activeItemIndex + n)) : e.items).find(a => {
                var o;
                return ((o = a.dataRef.current.textValue) == null ? void 0 : o.startsWith(r)) && !a.dataRef.current.disabled
            }),
            s = i ? e.items.indexOf(i) : -1;
        return s === -1 || s === e.activeItemIndex ? {
            ...e,
            searchQuery: r
        } : {
            ...e,
            searchQuery: r,
            activeItemIndex: s,
            activationTrigger: 1
        }
    },
    4(e) {
        return e.searchQuery === "" ? e : {
            ...e,
            searchQuery: "",
            searchActiveItemIndex: null
        }
    },
    5: (e, t) => {
        let n = e.items.concat(t.items.map(i => i)),
            r = e.activeItemIndex;
        return e.pendingFocus.focus !== zt.Nothing && (r = Lo(e.pendingFocus, {
            resolveItems: () => n,
            resolveActiveIndex: () => e.activeItemIndex,
            resolveId: i => i.id,
            resolveDisabled: i => i.dataRef.current.disabled
        })), {
            ...e,
            items: n,
            activeItemIndex: r,
            pendingFocus: {
                focus: zt.Nothing
            },
            pendingShouldSort: !0
        }
    },
    6: (e, t) => {
        let n = e.items,
            r = [],
            i = new Set(t.items);
        for (let [s, a] of n.entries())
            if (i.has(a.id) && (r.push(s), i.delete(a.id), i.size === 0)) break;
        if (r.length > 0) {
            n = n.slice();
            for (let s of r.reverse()) n.splice(s, 1)
        }
        return {
            ...e,
            items: n,
            activationTrigger: 1
        }
    },
    7: (e, t) => e.buttonElement === t.element ? e : {
        ...e,
        buttonElement: t.element
    },
    8: (e, t) => e.itemsElement === t.element ? e : {
        ...e,
        itemsElement: t.element
    },
    9: e => e.pendingShouldSort ? {
        ...e,
        ...gm(e),
        pendingShouldSort: !1
    } : e
};
class qf extends zx {
    constructor(t) {
        super(t), mm(this, "actions", {
            registerItem: $p(() => {
                let n = [],
                    r = new Set;
                return [(i, s) => {
                    r.has(s) || (r.add(s), n.push({
                        id: i,
                        dataRef: s
                    }))
                }, () => (r.clear(), this.send({
                    type: 5,
                    items: n.splice(0)
                }))]
            }),
            unregisterItem: $p(() => {
                let n = [];
                return [r => n.push(r), () => this.send({
                    type: 6,
                    items: n.splice(0)
                })]
            })
        }), mm(this, "selectors", {
            activeDescendantId(n) {
                var r;
                let i = n.activeItemIndex,
                    s = n.items;
                return i === null || (r = s[i]) == null ? void 0 : r.id
            },
            isActive(n, r) {
                var i;
                let s = n.activeItemIndex,
                    a = n.items;
                return s !== null ? ((i = a[s]) == null ? void 0 : i.id) === r : !1
            },
            shouldScrollIntoView(n, r) {
                return n.__demoMode || n.menuState !== 0 || n.activationTrigger === 0 ? !1 : this.isActive(n, r)
            }
        }), this.on(5, () => {
            this.disposables.requestAnimationFrame(() => {
                this.send({
                    type: 9
                })
            })
        });
        {
            let n = this.state.id,
                r = Of.get(null);
            this.disposables.add(r.on($x.Push, i => {
                !r.selectors.isTop(i, n) && this.state.menuState === 0 && this.send({
                    type: 1
                })
            })), this.on(0, () => r.actions.push(n)), this.on(1, () => r.actions.pop(n))
        }
    }
    static new({
        id: t,
        __demoMode: n = !1
    }) {
        return new qf({
            id: t,
            __demoMode: n,
            menuState: n ? 0 : 1,
            buttonElement: null,
            itemsElement: null,
            items: [],
            searchQuery: "",
            activeItemIndex: null,
            activationTrigger: 1,
            pendingShouldSort: !1,
            pendingFocus: {
                focus: zt.Nothing
            }
        })
    }
    reduce(t, n) {
        return cr(n.type, LL, t, n)
    }
}
const v6 = h.createContext(null);

function Gf(e) {
    let t = h.useContext(v6);
    if (t === null) {
        let n = new Error(`<${e} /> is missing a parent <Menu /> component.`);
        throw Error.captureStackTrace && Error.captureStackTrace(n, b6), n
    }
    return t
}

function b6({
    id: e,
    __demoMode: t = !1
}) {
    let n = h.useMemo(() => qf.new({
        id: e,
        __demoMode: t
    }), []);
    return m6(() => n.dispose()), n
}
let DL = h.Fragment;

function _L(e, t) {
    let n = h.useId(),
        {
            __demoMode: r = !1,
            ...i
        } = e,
        s = b6({
            id: n,
            __demoMode: r
        }),
        [a, o, c] = Er(s, y => [y.menuState, y.itemsElement, y.buttonElement]),
        u = jn(t),
        d = Of.get(null),
        f = Er(d, h.useCallback(y => d.selectors.isTop(y, n), [d, n]));
    lO(f, [c, o], (y, b) => {
        var w;
        s.send({
            type: ct.CloseMenu
        }), Lf(b, Pf.Loose) || (y.preventDefault(), (w = s.state.buttonElement) == null || w.focus())
    });
    let m = Ge(() => {
            s.send({
                type: ct.CloseMenu
            })
        }),
        p = h.useMemo(() => ({
            open: a === nn.Open,
            close: m
        }), [a, m]),
        g = {
            ref: u
        },
        x = Kt();
    return Ue.createElement(uL, null, Ue.createElement(v6.Provider, {
        value: s
    }, Ue.createElement(pL, {
        value: cr(a, {
            [nn.Open]: Ha.Open,
            [nn.Closed]: Ha.Closed
        })
    }, x({
        ourProps: g,
        theirProps: i,
        slot: p,
        defaultTag: DL,
        name: "Menu"
    }))))
}
let FL = "button";

function zL(e, t) {
    let n = Gf("Menu.Button"),
        r = h.useId(),
        {
            id: i = `headlessui-menu-button-${r}`,
            disabled: s = !1,
            autoFocus: a = !1,
            ...o
        } = e,
        c = h.useRef(null),
        u = oL(),
        d = jn(t, c, aL(), Ge(O => n.send({
            type: ct.SetButtonElement,
            element: O
        }))),
        f = Ge(O => {
            switch (O.key) {
                case ut.Space:
                case ut.Enter:
                case ut.ArrowDown:
                    O.preventDefault(), O.stopPropagation(), n.send({
                        type: ct.OpenMenu,
                        focus: {
                            focus: zt.First
                        }
                    });
                    break;
                case ut.ArrowUp:
                    O.preventDefault(), O.stopPropagation(), n.send({
                        type: ct.OpenMenu,
                        focus: {
                            focus: zt.Last
                        }
                    });
                    break
            }
        }),
        m = Ge(O => {
            switch (O.key) {
                case ut.Space:
                    O.preventDefault();
                    break
            }
        }),
        [p, g, x] = Er(n, O => [O.menuState, O.buttonElement, O.itemsElement]),
        y = p === nn.Open;
    dO(y, {
        trigger: g,
        action: h.useCallback(O => {
            if (g != null && g.contains(O.target)) return Po.Ignore;
            let F = O.target.closest('[role="menuitem"]:not([data-disabled])');
            return ii(F) ? Po.Select(F) : x != null && x.contains(O.target) ? Po.Ignore : Po.Close
        }, [g, x]),
        close: h.useCallback(() => n.send({
            type: ct.CloseMenu
        }), []),
        select: h.useCallback(O => O.click(), [])
    });
    let b = Ge(O => {
            var F;
            if (O.button === p6.Left) {
                if (NR(O.currentTarget)) return O.preventDefault();
                s || (p === nn.Open ? (an.flushSync(() => n.send({
                    type: ct.CloseMenu
                })), (F = c.current) == null || F.focus({
                    preventScroll: !0
                })) : (O.preventDefault(), n.send({
                    type: ct.OpenMenu,
                    focus: {
                        focus: zt.Nothing
                    },
                    trigger: Nl.Pointer
                })))
            }
        }),
        w = h.useRef(null),
        C = Ge(O => {
            w.current = O.pointerType, O.pointerType === "mouse" && b(O)
        }),
        E = Ge(O => {
            w.current !== "mouse" && b(O)
        }),
        {
            isFocusVisible: A,
            focusProps: N
        } = cc({
            autoFocus: a
        }),
        {
            isHovered: j,
            hoverProps: z
        } = Nf({
            isDisabled: s
        }),
        {
            pressed: H,
            pressProps: R
        } = Tf({
            disabled: s
        }),
        D = h.useMemo(() => ({
            open: p === nn.Open,
            active: H || p === nn.Open,
            disabled: s,
            hover: j,
            focus: A,
            autofocus: a
        }), [p, j, A, H, s, a]),
        _ = co(u(), {
            ref: d,
            id: i,
            type: Gx(e, c.current),
            "aria-haspopup": "menu",
            "aria-controls": x?.id,
            "aria-expanded": p === nn.Open,
            disabled: s || void 0,
            autoFocus: a,
            onKeyDown: f,
            onKeyUp: m,
            onPointerDown: C,
            onClick: E
        }, N, z, R);
    return Kt()({
        ourProps: _,
        theirProps: o,
        slot: D,
        defaultTag: FL,
        name: "Menu.Button"
    })
}
let BL = "div",
    $L = $a.RenderStrategy | $a.Static;

function HL(e, t) {
    let n = h.useId(),
        {
            id: r = `headlessui-menu-items-${n}`,
            anchor: i,
            portal: s = !1,
            modal: a = !0,
            transition: o = !1,
            ...c
        } = e,
        u = sL(i),
        d = Gf("Menu.Items"),
        [f, m] = cL(u),
        p = lL(),
        [g, x] = h.useState(null),
        y = jn(t, u ? f : null, Ge(U => d.send({
            type: ct.SetItemsElement,
            element: U
        })), x),
        [b, w] = Er(d, U => [U.menuState, U.buttonElement]),
        C = L0(w),
        E = L0(g);
    u && (s = !0);
    let A = hL(),
        [N, j] = EO(o, g, A !== null ? (A & Ha.Open) === Ha.Open : b === nn.Open);
    ZR(N, w, () => {
        d.send({
            type: ct.CloseMenu
        })
    });
    let z = Er(d, U => U.__demoMode),
        H = z ? !1 : a && b === nn.Open;
    bO(H, E);
    let R = z ? !1 : a && b === nn.Open;
    XR(R, {
        allowed: h.useCallback(() => [w, g], [w, g])
    });
    let D = b !== nn.Open,
        _ = jL(D, w) ? !1 : N;
    h.useEffect(() => {
        let U = g;
        U && b === nn.Open && U !== E?.activeElement && U.focus({
            preventScroll: !0
        })
    }, [b, g, E]), IO(b === nn.Open, {
        container: g,
        accept(U) {
            return U.getAttribute("role") === "menuitem" ? NodeFilter.FILTER_REJECT : U.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT
        },
        walk(U) {
            U.setAttribute("role", "none")
        }
    });
    let O = uc(),
        F = Ge(U => {
            var I, fe, re;
            switch (O.dispose(), U.key) {
                case ut.Space:
                    if (d.state.searchQuery !== "") return U.preventDefault(), U.stopPropagation(), d.send({
                        type: ct.Search,
                        value: U.key
                    });
                case ut.Enter:
                    if (U.preventDefault(), U.stopPropagation(), d.state.activeItemIndex !== null) {
                        let {
                            dataRef: M
                        } = d.state.items[d.state.activeItemIndex];
                        (fe = (I = M.current) == null ? void 0 : I.domRef.current) == null || fe.click()
                    }
                    d.send({
                        type: ct.CloseMenu
                    }), Wx(d.state.buttonElement);
                    break;
                case ut.ArrowDown:
                    return U.preventDefault(), U.stopPropagation(), d.send({
                        type: ct.GoToItem,
                        focus: zt.Next
                    });
                case ut.ArrowUp:
                    return U.preventDefault(), U.stopPropagation(), d.send({
                        type: ct.GoToItem,
                        focus: zt.Previous
                    });
                case ut.Home:
                case ut.PageUp:
                    return U.preventDefault(), U.stopPropagation(), d.send({
                        type: ct.GoToItem,
                        focus: zt.First
                    });
                case ut.End:
                case ut.PageDown:
                    return U.preventDefault(), U.stopPropagation(), d.send({
                        type: ct.GoToItem,
                        focus: zt.Last
                    });
                case ut.Escape:
                    U.preventDefault(), U.stopPropagation(), an.flushSync(() => d.send({
                        type: ct.CloseMenu
                    })), (re = d.state.buttonElement) == null || re.focus({
                        preventScroll: !0
                    });
                    break;
                case ut.Tab:
                    U.preventDefault(), U.stopPropagation(), an.flushSync(() => d.send({
                        type: ct.CloseMenu
                    })), sO(d.state.buttonElement, U.shiftKey ? On.Previous : On.Next);
                    break;
                default:
                    U.key.length === 1 && (d.send({
                        type: ct.Search,
                        value: U.key
                    }), O.setTimeout(() => d.send({
                        type: ct.ClearSearch
                    }), 350));
                    break
            }
        }),
        G = Ge(U => {
            switch (U.key) {
                case ut.Space:
                    U.preventDefault();
                    break
            }
        }),
        Y = h.useMemo(() => ({
            open: b === nn.Open
        }), [b]),
        W = co(u ? p() : {}, {
            "aria-activedescendant": Er(d, d.selectors.activeDescendantId),
            "aria-labelledby": Er(d, U => {
                var I;
                return (I = U.buttonElement) == null ? void 0 : I.id
            }),
            id: r,
            onKeyDown: F,
            onKeyUp: G,
            role: "menu",
            tabIndex: b === nn.Open ? 0 : void 0,
            ref: y,
            style: {
                ...c.style,
                ...m,
                "--button-width": FR(w, !0).width
            },
            ...kO(j)
        }),
        B = Kt();
    return Ue.createElement(TL, {
        enabled: s ? e.static || N : !1,
        ownerDocument: C
    }, B({
        ourProps: W,
        theirProps: c,
        slot: Y,
        defaultTag: BL,
        features: $L,
        visible: _,
        name: "Menu.Items"
    }))
}
let UL = h.Fragment;

function VL(e, t) {
    let n = h.useId(),
        {
            id: r = `headlessui-menu-item-${n}`,
            disabled: i = !1,
            ...s
        } = e,
        a = Gf("Menu.Item"),
        o = Er(a, D => a.selectors.isActive(D, r)),
        c = h.useRef(null),
        u = jn(t, c),
        d = Er(a, D => a.selectors.shouldScrollIntoView(D, r));
    vt(() => {
        if (d) return er().requestAnimationFrame(() => {
            var D, _;
            (_ = (D = c.current) == null ? void 0 : D.scrollIntoView) == null || _.call(D, {
                block: "nearest"
            })
        })
    }, [d, c]);
    let f = RL(c),
        m = h.useRef({
            disabled: i,
            domRef: c,
            get textValue() {
                return f()
            }
        });
    vt(() => {
        m.current.disabled = i
    }, [m, i]), vt(() => (a.actions.registerItem(r, m), () => a.actions.unregisterItem(r)), [m, r]);
    let p = Ge(() => {
            a.send({
                type: ct.CloseMenu
            })
        }),
        g = Ge(D => {
            if (i) return D.preventDefault();
            a.send({
                type: ct.CloseMenu
            }), Wx(a.state.buttonElement)
        }),
        x = Ge(() => {
            if (i) return a.send({
                type: ct.GoToItem,
                focus: zt.Nothing
            });
            a.send({
                type: ct.GoToItem,
                focus: zt.Specific,
                id: r
            })
        }),
        y = yO(),
        b = Ge(D => y.update(D)),
        w = Ge(D => {
            y.wasMoved(D) && (i || o || a.send({
                type: ct.GoToItem,
                focus: zt.Specific,
                id: r,
                trigger: Nl.Pointer
            }))
        }),
        C = Ge(D => {
            y.wasMoved(D) && (i || o && a.state.activationTrigger === Nl.Pointer && a.send({
                type: ct.GoToItem,
                focus: zt.Nothing
            }))
        }),
        [E, A] = Dx(),
        [N, j] = IR(),
        z = h.useMemo(() => ({
            active: o,
            focus: o,
            disabled: i,
            close: p
        }), [o, i, p]),
        H = {
            id: r,
            ref: u,
            role: "menuitem",
            tabIndex: i === !0 ? void 0 : -1,
            "aria-disabled": i === !0 ? !0 : void 0,
            "aria-labelledby": E,
            "aria-describedby": N,
            disabled: void 0,
            onClick: g,
            onFocus: x,
            onPointerEnter: b,
            onMouseEnter: b,
            onPointerMove: w,
            onMouseMove: w,
            onPointerLeave: C,
            onMouseLeave: C
        },
        R = Kt();
    return Ue.createElement(A, null, Ue.createElement(j, null, R({
        ourProps: H,
        theirProps: s,
        slot: z,
        defaultTag: UL,
        name: "Menu.Item"
    })))
}
let WL = "div";

function qL(e, t) {
    let [n, r] = Dx(), i = e, s = {
        ref: t,
        "aria-labelledby": n,
        role: "group"
    }, a = Kt();
    return Ue.createElement(r, null, a({
        ourProps: s,
        theirProps: i,
        slot: {},
        defaultTag: WL,
        name: "Menu.Section"
    }))
}
let GL = "header";

function YL(e, t) {
    let n = h.useId(),
        {
            id: r = `headlessui-menu-heading-${n}`,
            ...i
        } = e,
        s = Rf();
    vt(() => s.register(r), [r, s.register]);
    let a = {
        id: r,
        ref: t,
        role: "presentation",
        ...s.props
    };
    return Kt()({
        ourProps: a,
        theirProps: i,
        slot: {},
        defaultTag: GL,
        name: "Menu.Heading"
    })
}
let KL = "div";

function XL(e, t) {
    let n = e,
        r = {
            ref: t,
            role: "separator"
        };
    return Kt()({
        ourProps: r,
        theirProps: n,
        slot: {},
        defaultTag: KL,
        name: "Menu.Separator"
    })
}
let ZL = Xt(_L),
    y6 = Xt(zL),
    w6 = Xt(HL),
    S6 = Xt(VL),
    QL = Xt(qL),
    JL = Xt(YL),
    eD = Xt(XL),
    tD = Object.assign(ZL, {
        Button: y6,
        Items: w6,
        Item: S6,
        Section: QL,
        Heading: JL,
        Separator: eD
    });

function nD({
    onFocus: e
}) {
    let [t, n] = h.useState(!0), r = IL();
    return t ? Ue.createElement(Mx, {
        as: "button",
        type: "button",
        features: jx.Focusable,
        onFocus: i => {
            i.preventDefault();
            let s, a = 50;

            function o() {
                if (a-- <= 0) {
                    s && cancelAnimationFrame(s);
                    return
                }
                if (e()) {
                    if (cancelAnimationFrame(s), !r.current) return;
                    n(!1);
                    return
                }
                s = requestAnimationFrame(o)
            }
            s = requestAnimationFrame(o)
        }
    }) : null
}
const C6 = h.createContext(null);

function rD() {
    return {
        groups: new Map,
        get(e, t) {
            var n;
            let r = this.groups.get(e);
            r || (r = new Map, this.groups.set(e, r));
            let i = (n = r.get(t)) != null ? n : 0;
            r.set(t, i + 1);
            let s = Array.from(r.keys()).indexOf(t);

            function a() {
                let o = r.get(t);
                o > 1 ? r.set(t, o - 1) : r.delete(t)
            }
            return [s, a]
        }
    }
}

function iD({
    children: e
}) {
    let t = h.useRef(rD());
    return h.createElement(C6.Provider, {
        value: t
    }, e)
}

function k6(e) {
    let t = h.useContext(C6);
    if (!t) throw new Error("You must wrap your component in a <StableCollection>");
    let n = h.useId(),
        [r, i] = t.current.get(e, n);
    return h.useEffect(() => i, []), r
}
var sD = (e => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(sD || {}),
    aD = (e => (e[e.Less = -1] = "Less", e[e.Equal = 0] = "Equal", e[e.Greater = 1] = "Greater", e))(aD || {}),
    oD = (e => (e[e.SetSelectedIndex = 0] = "SetSelectedIndex", e[e.RegisterTab = 1] = "RegisterTab", e[e.UnregisterTab = 2] = "UnregisterTab", e[e.RegisterPanel = 3] = "RegisterPanel", e[e.UnregisterPanel = 4] = "UnregisterPanel", e))(oD || {});
let lD = {
        0(e, t) {
            var n;
            let r = Fi(e.tabs, d => d.current),
                i = Fi(e.panels, d => d.current),
                s = r.filter(d => {
                    var f;
                    return !((f = d.current) != null && f.hasAttribute("disabled"))
                }),
                a = {
                    ...e,
                    tabs: r,
                    panels: i
                };
            if (t.index < 0 || t.index > r.length - 1) {
                let d = cr(Math.sign(t.index - e.selectedIndex), {
                    [-1]: () => 1,
                    0: () => cr(Math.sign(t.index), {
                        [-1]: () => 0,
                        0: () => 0,
                        1: () => 1
                    }),
                    1: () => 0
                });
                if (s.length === 0) return a;
                let f = cr(d, {
                    0: () => r.indexOf(s[0]),
                    1: () => r.indexOf(s[s.length - 1])
                });
                return {
                    ...a,
                    selectedIndex: f === -1 ? e.selectedIndex : f
                }
            }
            let o = r.slice(0, t.index),
                c = [...r.slice(t.index), ...o].find(d => s.includes(d));
            if (!c) return a;
            let u = (n = r.indexOf(c)) != null ? n : e.selectedIndex;
            return u === -1 && (u = e.selectedIndex), {
                ...a,
                selectedIndex: u
            }
        },
        1(e, t) {
            if (e.tabs.includes(t.tab)) return e;
            let n = e.tabs[e.selectedIndex],
                r = Fi([...e.tabs, t.tab], s => s.current),
                i = e.selectedIndex;
            return e.info.current.isControlled || (i = r.indexOf(n), i === -1 && (i = e.selectedIndex)), {
                ...e,
                tabs: r,
                selectedIndex: i
            }
        },
        2(e, t) {
            return {
                ...e,
                tabs: e.tabs.filter(n => n !== t.tab)
            }
        },
        3(e, t) {
            return e.panels.includes(t.panel) ? e : {
                ...e,
                panels: Fi([...e.panels, t.panel], n => n.current)
            }
        },
        4(e, t) {
            return {
                ...e,
                panels: e.panels.filter(n => n !== t.panel)
            }
        }
    },
    Yf = h.createContext(null);
Yf.displayName = "TabsDataContext";

function $s(e) {
    let t = h.useContext(Yf);
    if (t === null) {
        let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
        throw Error.captureStackTrace && Error.captureStackTrace(n, $s), n
    }
    return t
}
let Kf = h.createContext(null);
Kf.displayName = "TabsActionsContext";

function Xf(e) {
    let t = h.useContext(Kf);
    if (t === null) {
        let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
        throw Error.captureStackTrace && Error.captureStackTrace(n, Xf), n
    }
    return t
}

function cD(e, t) {
    return cr(t.type, lD, e, t)
}
let uD = "div";

function dD(e, t) {
    let {
        defaultIndex: n = 0,
        vertical: r = !1,
        manual: i = !1,
        onChange: s,
        selectedIndex: a = null,
        ...o
    } = e;
    const c = r ? "vertical" : "horizontal",
        u = i ? "manual" : "auto";
    let d = a !== null,
        f = Gr({
            isControlled: d
        }),
        m = jn(t),
        [p, g] = h.useReducer(cD, {
            info: f,
            selectedIndex: a ?? n,
            tabs: [],
            panels: []
        }),
        x = h.useMemo(() => ({
            selectedIndex: p.selectedIndex
        }), [p.selectedIndex]),
        y = Gr(s || (() => {})),
        b = Gr(p.tabs),
        w = h.useMemo(() => ({
            orientation: c,
            activation: u,
            ...p
        }), [c, u, p]),
        C = Ge(R => (g({
            type: 1,
            tab: R
        }), () => g({
            type: 2,
            tab: R
        }))),
        E = Ge(R => (g({
            type: 3,
            panel: R
        }), () => g({
            type: 4,
            panel: R
        }))),
        A = Ge(R => {
            N.current !== R && y.current(R), d || g({
                type: 0,
                index: R
            })
        }),
        N = Gr(d ? e.selectedIndex : p.selectedIndex),
        j = h.useMemo(() => ({
            registerTab: C,
            registerPanel: E,
            change: A
        }), []);
    vt(() => {
        g({
            type: 0,
            index: a ?? n
        })
    }, [a]), vt(() => {
        if (N.current === void 0 || p.tabs.length <= 0) return;
        let R = Fi(p.tabs, D => D.current);
        R.some((D, _) => p.tabs[_] !== D) && A(R.indexOf(p.tabs[N.current]))
    });
    let z = {
            ref: m
        },
        H = Kt();
    return Ue.createElement(iD, null, Ue.createElement(Kf.Provider, {
        value: j
    }, Ue.createElement(Yf.Provider, {
        value: w
    }, w.tabs.length <= 0 && Ue.createElement(nD, {
        onFocus: () => {
            var R, D;
            for (let _ of b.current)
                if (((R = _.current) == null ? void 0 : R.tabIndex) === 0) return (D = _.current) == null || D.focus(), !0;
            return !1
        }
    }), H({
        ourProps: z,
        theirProps: o,
        slot: x,
        defaultTag: uD,
        name: "Tabs"
    }))))
}
let fD = "div";

function hD(e, t) {
    let {
        orientation: n,
        selectedIndex: r
    } = $s("Tab.List"), i = jn(t), s = h.useMemo(() => ({
        selectedIndex: r
    }), [r]), a = e, o = {
        ref: i,
        role: "tablist",
        "aria-orientation": n
    };
    return Kt()({
        ourProps: o,
        theirProps: a,
        slot: s,
        defaultTag: fD,
        name: "Tabs.List"
    })
}
let pD = "button";

function mD(e, t) {
    var n, r;
    let i = h.useId(),
        {
            id: s = `headlessui-tabs-tab-${i}`,
            disabled: a = !1,
            autoFocus: o = !1,
            ...c
        } = e,
        {
            orientation: u,
            activation: d,
            selectedIndex: f,
            tabs: m,
            panels: p
        } = $s("Tab"),
        g = Xf("Tab"),
        x = $s("Tab"),
        [y, b] = h.useState(null),
        w = h.useRef(null),
        C = jn(w, t, b);
    vt(() => g.registerTab(w), [g, w]);
    let E = k6("tabs"),
        A = m.indexOf(w);
    A === -1 && (A = E);
    let N = A === f,
        j = Ge(I => {
            var fe;
            let re = I();
            if (re === ba.Success && d === "auto") {
                let M = (fe = as(w)) == null ? void 0 : fe.activeElement,
                    ye = x.tabs.findIndex(Oe => Oe.current === M);
                ye !== -1 && g.change(ye)
            }
            return re
        }),
        z = Ge(I => {
            let fe = m.map(re => re.current).filter(Boolean);
            if (I.key === ut.Space || I.key === ut.Enter) {
                I.preventDefault(), I.stopPropagation(), g.change(A);
                return
            }
            switch (I.key) {
                case ut.Home:
                case ut.PageUp:
                    return I.preventDefault(), I.stopPropagation(), j(() => Oi(fe, On.First));
                case ut.End:
                case ut.PageDown:
                    return I.preventDefault(), I.stopPropagation(), j(() => Oi(fe, On.Last))
            }
            if (j(() => cr(u, {
                    vertical() {
                        return I.key === ut.ArrowUp ? Oi(fe, On.Previous | On.WrapAround) : I.key === ut.ArrowDown ? Oi(fe, On.Next | On.WrapAround) : ba.Error
                    },
                    horizontal() {
                        return I.key === ut.ArrowLeft ? Oi(fe, On.Previous | On.WrapAround) : I.key === ut.ArrowRight ? Oi(fe, On.Next | On.WrapAround) : ba.Error
                    }
                })) === ba.Success) return I.preventDefault()
        }),
        H = h.useRef(!1),
        R = Ge(() => {
            var I;
            H.current || (H.current = !0, (I = w.current) == null || I.focus({
                preventScroll: !0
            }), g.change(A), Af(() => {
                H.current = !1
            }))
        }),
        D = Ge(I => {
            I.preventDefault()
        }),
        {
            isFocusVisible: _,
            focusProps: O
        } = cc({
            autoFocus: o
        }),
        {
            isHovered: F,
            hoverProps: G
        } = Nf({
            isDisabled: a
        }),
        {
            pressed: Y,
            pressProps: W
        } = Tf({
            disabled: a
        }),
        B = h.useMemo(() => ({
            selected: N,
            hover: F,
            active: Y,
            focus: _,
            autofocus: o,
            disabled: a
        }), [N, F, _, Y, o, a]),
        U = co({
            ref: C,
            onKeyDown: z,
            onMouseDown: D,
            onClick: R,
            id: s,
            role: "tab",
            type: Gx(e, y),
            "aria-controls": (r = (n = p[A]) == null ? void 0 : n.current) == null ? void 0 : r.id,
            "aria-selected": N,
            tabIndex: N ? 0 : -1,
            disabled: a || void 0,
            autoFocus: o
        }, O, G, W);
    return Kt()({
        ourProps: U,
        theirProps: c,
        slot: B,
        defaultTag: pD,
        name: "Tabs.Tab"
    })
}
let gD = "div";

function xD(e, t) {
    let {
        selectedIndex: n
    } = $s("Tab.Panels"), r = jn(t), i = h.useMemo(() => ({
        selectedIndex: n
    }), [n]), s = e, a = {
        ref: r
    };
    return Kt()({
        ourProps: a,
        theirProps: s,
        slot: i,
        defaultTag: gD,
        name: "Tabs.Panels"
    })
}
let vD = "div",
    bD = $a.RenderStrategy | $a.Static;

function yD(e, t) {
    var n, r, i, s;
    let a = h.useId(),
        {
            id: o = `headlessui-tabs-panel-${a}`,
            tabIndex: c = 0,
            ...u
        } = e,
        {
            selectedIndex: d,
            tabs: f,
            panels: m
        } = $s("Tab.Panel"),
        p = Xf("Tab.Panel"),
        g = h.useRef(null),
        x = jn(g, t);
    vt(() => p.registerPanel(g), [p, g]);
    let y = k6("panels"),
        b = m.indexOf(g);
    b === -1 && (b = y);
    let w = b === d,
        {
            isFocusVisible: C,
            focusProps: E
        } = cc(),
        A = h.useMemo(() => ({
            selected: w,
            focus: C
        }), [w, C]),
        N = co({
            ref: x,
            id: o,
            role: "tabpanel",
            "aria-labelledby": (r = (n = f[b]) == null ? void 0 : n.current) == null ? void 0 : r.id,
            tabIndex: w ? c : -1
        }, E),
        j = Kt();
    return !w && ((i = u.unmount) == null || i) && !((s = u.static) != null && s) ? Ue.createElement(Mx, {
        "aria-hidden": "true",
        ...N
    }) : j({
        ourProps: N,
        theirProps: u,
        slot: A,
        defaultTag: vD,
        features: bD,
        visible: w,
        name: "Tabs.Panel"
    })
}
let wD = Xt(mD),
    E6 = Xt(dD),
    N6 = Xt(hD),
    A6 = Xt(xD),
    T6 = Xt(yD),
    SD = Object.assign(wD, {
        Group: E6,
        List: N6,
        Panels: A6,
        Panel: T6
    });

function Zf(e) {
    return l.jsx(E6, {
        className: "flex flex-col gap-3",
        ...e
    })
}
const gc = h.forwardRef(({
    className: e,
    as: t,
    ...n
}, r) => l.jsx(N6, {
    as: t,
    ref: r,
    ...n,
    className: bn("flex flex-row gap-0.5 items-center h-fit w-full", e)
}));
gc.displayName = "TabList";

function Qf({
    className: e,
    as: t,
    ...n
}) {
    return l.jsx(SD, {
        as: t,
        ...n,
        className: bn("relative text-muted-foreground text-[13px] group data-selected:text-primary-foreground cursor-pointer data-selected:secondary-button data-hover:text-primary-foreground rounded-lg px-2 py-1 focus:!outline-none", "transition-all duration-100 ease-out", e)
    })
}

function Jf({
    className: e,
    as: t,
    ...n
}) {
    return l.jsx(A6, {
        as: t,
        ...n,
        className: bn("", e)
    })
}

function e1({
    className: e,
    as: t,
    ...n
}) {
    return l.jsx(T6, {
        as: t,
        ...n,
        className: bn("", e)
    })
}

function CD({
    containerRef: e,
    className: t,
    durationSeconds: n = .25
}) {
    const [r, i] = h.useState(!1), [s, a] = h.useState(!1), [o, c] = h.useState(!1);
    h.useEffect(() => {
        const d = e.current;
        if (!d) return;
        const f = () => {
            const g = d.scrollWidth,
                x = d.clientWidth,
                y = Math.max(0, g - x),
                b = d.scrollLeft;
            i(g > x + 1), a(b > 0), c(b < y - 1)
        };
        f();
        const m = () => f();
        d.addEventListener("scroll", m, {
            passive: !0
        });
        const p = new ResizeObserver(() => f());
        return p.observe(d), () => {
            d.removeEventListener("scroll", m), p.disconnect()
        }
    }, [e]);
    const u = d => {
        const f = e.current;
        if (!f) return;
        const m = f.clientWidth,
            p = Math.max(0, f.scrollWidth - f.clientWidth),
            g = f.scrollLeft,
            x = d === 1 ? Math.min(g + m, p) : Math.max(g - m, 0);
        Math.abs(x - g) < 1 || Se(g, x, {
            duration: n,
            ease: "circInOut",
            onUpdate: y => {
                const b = e.current;
                b && (b.scrollLeft = y)
            }
        })
    };
    return r ? l.jsxs("div", {
        className: Q("pointer-events-none flex items-center gap-1", t),
        "aria-hidden": !0,
        children: [l.jsx(fg, {
            className: Q("size-4 pointer-events-auto transition-all", s ? "text-white cursor-pointer" : "text-white/20"),
            onClick: () => u(-1)
        }), l.jsx(Qa, {
            className: Q("size-4 pointer-events-auto transition-all", o ? "text-white cursor-pointer" : "text-white/20"),
            onClick: () => u(1)
        })]
    }) : null
}
const kD = 20;

function I6({
    show: e,
    source: t,
    title: n,
    subtitle: r,
    onDismiss: i,
    actions: s = [],
    children: a
}) {
    const o = r ?? (t === "calendar" ? "Meeting in 2 minutes" : "Meeting detected"),
        c = h.useRef(null),
        [u, d] = Vs();
    return h.useEffect(() => (e && t === "mic" && (c.current = setTimeout(() => {
        i()
    }, kD * 1e3)), () => {
        c.current && (clearTimeout(c.current), c.current = null)
    }), [e, i, t]), l.jsx(fy, {
        children: l.jsx(Ke, {
            children: e && l.jsx(sn, {
                className: "absolute top-0 right-0 z-50",
                children: l.jsxs(V.div, {
                    initial: {
                        x: 500
                    },
                    animate: {
                        x: 0
                    },
                    exit: {
                        opacity: 0
                    },
                    transition: {
                        type: "spring",
                        stiffness: 400,
                        damping: 35
                    },
                    className: "relative w-[400px] p-4 rounded-xl overflow-hidden",
                    style: {
                        background: "radial-gradient(187.42% 161.62% at 20.13% 5.15%, rgb(16 16 18) 0%, rgb(29, 31, 35) 100%)",
                        boxShadow: "0 0 0 1px rgba(117, 129, 148, 0.24), 0 0 8px 0 rgba(117, 142, 196, 0.2), 0 65px 18px 0 rgba(0, 0, 0, 0.00), 0 42px 17px 0 rgba(0, 0, 0, 0.03), 0 23px 14px 0 rgba(0, 0, 0, 0.11), 0 10px 10px 0 rgba(0, 0, 0, 0.19), 0 3px 6px 0 rgba(0, 0, 0, 0.22)"
                    },
                    drag: "x",
                    dragConstraints: {
                        left: 0,
                        right: 0
                    },
                    dragElastic: {
                        left: .01,
                        right: 1
                    },
                    ref: u,
                    onDragEnd: async (f, m) => {
                        m.offset.x * m.velocity.x > 1e3 && m.offset.x > 0 && (await d(u.current, {
                            x: 500
                        }, {
                            velocity: Math.min(Math.max(m.velocity.x, 1e3), 5e3),
                            type: "inertia"
                        }), i())
                    },
                    children: [l.jsx(V.div, {
                        className: "absolute inset-0",
                        initial: {
                            top: -32,
                            right: -32
                        },
                        animate: {
                            top: 0,
                            right: 0
                        },
                        transition: {
                            duration: 6,
                            ease: "circOut"
                        },
                        style: {
                            background: "radial-gradient(120% 185% at 21% 98%, #17181C 64%, #0029A2 67%, #00CCFC 76%, #ECF9FC 80%)",
                            maxHeight: "260px"
                        }
                    }), l.jsx(sn, {
                        enabledEvenWhenHidden: !0,
                        children: l.jsxs("div", {
                            className: "relative flex flex-col gap-6",
                            children: [l.jsxs("div", {
                                className: "w-full flex justify-between items-center",
                                children: [l.jsxs("div", {
                                    className: "flex flex-col gap-0.5 max-w-[300px]",
                                    children: [l.jsx("h3", {
                                        className: "font-medium text-sm text-[#7c7e86]",
                                        children: o
                                    }), l.jsx("h2", {
                                        className: "font-medium text-[15px] text-[#EDEEF2] leading-snug line-clamp-2",
                                        style: {
                                            textShadow: "0 0 8px rgba(237, 238, 242, 0.50)"
                                        },
                                        children: n
                                    })]
                                }), l.jsx(pr, {
                                    className: "size-10 shrink-0",
                                    fill: "white",
                                    style: {
                                        filter: "drop-shadow(0 0 10px rgba(255, 255, 255, 1))"
                                    }
                                })]
                            }), a, l.jsx("div", {
                                className: "flex w-full gap-2.5 h-10",
                                children: s.map((f, m) => l.jsx(X.HeadlessButton, {
                                    onClick: f.onClick,
                                    className: Q("h-full w-full rounded-full text-sm tracking-[-0.24px] font-medium transition-all duration-200 transform", f.variant === "primary" ? "bg-[#072452] border border-[#196ACC] text-white hover:bg-[#0F2B57] active:bg-[#061834]" : "bg-[#212227] border border-[#373944] text-[#AFB3C4] hover:bg-[#28292D] active:bg-[#16171A]"),
                                    style: {
                                        boxShadow: f.variant === "primary" ? "0 29px 8px 0 rgba(15, 83, 219, 0.00), 0 18px 7px 0 rgba(15, 83, 219, 0.01), 0 10px 6px 0 rgba(15, 83, 219, 0.05), 0 5px 5px 0 rgba(15, 83, 219, 0.09), 0 1px 3px 0 rgba(15, 83, 219, 0.10)" : void 0
                                    },
                                    children: f.label
                                }, `${f.label}-${m}`))
                            })]
                        })
                    })]
                })
            })
        })
    })
}
const ED = {
    springy: {
        type: "spring",
        damping: 20,
        stiffness: 300
    },
    stiff: {
        type: "spring",
        damping: 35,
        stiffness: 600
    },
    extraStiff: {
        type: "spring",
        damping: 60,
        stiffness: 1e3
    }
};

function ND({
    children: e,
    className: t,
    initialHeight: n,
    transition: r,
    preset: i,
    enabled: s = !0,
    onAnimationEnd: a
}) {
    const [o, c] = Vs(), u = h.useRef(null), d = h.useRef(null);
    return h.useEffect(() => {
        if (u.current) return d.current = new ResizeObserver(f => {
            for (const m of f) s ? c(o.current, {
                height: m.contentRect.height
            }, {
                ...ED[i ?? "springy"],
                ...r
            }).then(() => {
                a?.()
            }) : (o.current.style.height = `${m.contentRect.height}px`, a?.())
        }), d.current.observe(u.current), () => {
            d.current?.disconnect()
        }
    }, [c, o, r, i, s, a]), l.jsx(V.div, {
        ref: o,
        className: t,
        initial: {
            height: n ?? 0
        },
        style: {
            overflow: "hidden",
            width: "100%"
        },
        children: l.jsx("div", {
            ref: u,
            className: "h-fit w-full",
            children: e
        })
    })
}

function AD(e) {
    return e !== null
}
const TD = 3,
    ID = se(function({
        meeting: t,
        dismissMeetingNotification: n
    }) {
        const r = at(),
            i = Gt(Rr).session?.user,
            s = h.useRef(null),
            a = t.attendees.map(b => b.email).filter(AD).filter(b => b !== i?.email),
            o = DM(t.id),
            {
                current: c
            } = h.useRef(new Date(t.start) > new Date),
            [u, d] = h.useState(!0),
            [f, m] = h.useState(0),
            p = ss();
        if (c && o.isLoading) return null;
        const x = (() => {
                const b = new Date(t.start).getTime() - Date.now();
                return b < 0 ? 0 : Math.ceil(b / (60 * 1e3))
            })(),
            y = x <= 0 ? "Meeting starting now" : `Meeting in ${x} minute${x===1?"":"s"}`;
        return l.jsx(I6, {
            show: !0,
            title: t.summary,
            subtitle: y,
            source: "calendar",
            onDismiss: () => {
                r.capture(ge.NOTIFICATIONS_JOIN_SCHEDULED_DISMISSED), n({
                    meetingId: t.id,
                    permanent: !1
                })
            },
            actions: [{
                label: "Dismiss",
                onClick: () => {
                    r.capture(ge.NOTIFICATIONS_JOIN_SCHEDULED_DISMISSED), n({
                        meetingId: t.id,
                        permanent: !1
                    })
                }
            }, {
                label: "Join and Start Listening",
                onClick: () => {
                    r.capture(ge.NOTIFICATIONS_JOIN_SCHEDULED_CLICKED), p({
                        meetingId: t.id,
                        properNouns: o.data?.properNouns,
                        peopleSearchEmails: a
                    }), window.open(t.meetingLink, "_blank"), n({
                        meetingId: t.id,
                        permanent: !0
                    })
                },
                variant: "primary"
            }],
            children: l.jsx(ND, {
                preset: "stiff",
                children: l.jsxs("div", {
                    className: "ml-1 pl-2 border-l border-l-border",
                    children: [l.jsxs("div", {
                        className: "flex flex-row items-center justify-between",
                        children: [l.jsxs(V.div, {
                            className: "flex gap-1 text-primary-foreground font-medium text-xs tracking-tight items-center",
                            variants: {
                                loading: {
                                    opacity: [1, .8, 1],
                                    transition: {
                                        repeat: 1 / 0,
                                        duration: 1.4,
                                        ease: "easeInOut"
                                    }
                                },
                                loaded: {
                                    opacity: 1,
                                    transition: {
                                        duration: .16,
                                        ease: "easeOut"
                                    }
                                }
                            },
                            animate: u ? "loading" : "loaded",
                            children: [l.jsx(RM, {
                                className: "size-3",
                                style: {
                                    filter: "drop-shadow(0 0 4px rgba(255, 255, 255, 0.6))"
                                }
                            }), u ? "Loading your meeting brief" : `${a.length} Participants`]
                        }), l.jsx(CD, {
                            containerRef: s
                        })]
                    }), l.jsx(V.div, {
                        className: u ? "h-0" : "mt-3",
                        initial: {
                            opacity: 0
                        },
                        animate: u ? {
                            opacity: 0
                        } : {
                            opacity: 1
                        },
                        transition: {
                            duration: .16,
                            ease: "easeOut"
                        },
                        children: l.jsxs(Zf, {
                            selectedIndex: f,
                            onChange: m,
                            className: "flex flex-col gap-2",
                            children: [l.jsx(gc, {
                                children: l.jsx("div", {
                                    className: "flex flex-row gap-0.5 w-fit overflow-x-auto no-scrollbar p-0.5",
                                    ref: s,
                                    children: a.map((b, w) => u && w >= TD ? null : l.jsx(jD, {
                                        meeting: t,
                                        email: b,
                                        setIsLoading: d
                                    }, b))
                                })
                            }), l.jsx(Jf, {
                                className: "relative",
                                children: l.jsx(Ke, {
                                    initial: !1,
                                    mode: "popLayout",
                                    children: !u && a.map((b, w) => {
                                        const C = w === f;
                                        return l.jsx(V.div, {
                                            className: Q(!C && "absolute inset-0 pointer-events-none"),
                                            initial: {
                                                opacity: 0,
                                                scale: .97
                                            },
                                            animate: C ? {
                                                opacity: 1,
                                                scale: 1
                                            } : {
                                                opacity: 0,
                                                scale: .97
                                            },
                                            transition: {
                                                type: "spring",
                                                stiffness: 400,
                                                damping: 25
                                            },
                                            children: l.jsx(MD, {
                                                meeting: t,
                                                email: b
                                            })
                                        }, b)
                                    })
                                })
                            })]
                        })
                    })]
                })
            })
        })
    });

function jD({
    meeting: e,
    email: t,
    setIsLoading: n
}) {
    const {
        data: r
    } = Qs(e.id, t);
    return h.useEffect(() => {
        r && n(!1)
    }, [r, n]), r ? l.jsx(V.div, {
        initial: {
            opacity: 0
        },
        animate: {
            opacity: 1
        },
        transition: {
            duration: .3,
            ease: "easeOut"
        },
        children: l.jsx(Qf, {
            children: Ar(r.firstName)
        })
    }) : null
}

function MD({
    meeting: e,
    email: t
}) {
    return l.jsx(e1, {
        static: !0,
        children: l.jsxs("div", {
            className: "flex flex-col gap-2",
            children: [l.jsx(RD, {
                meeting: e,
                email: t
            }), l.jsx(OD, {
                meeting: e,
                email: t
            })]
        })
    })
}

function RD({
    meeting: e,
    email: t
}) {
    const {
        data: n
    } = Qs(e.id, t);
    return n?.location ? l.jsx("div", {
        className: "flex flex-row gap-3 items-center",
        children: l.jsx(Sf, {
            location: n.location
        })
    }) : null
}

function OD({
    meeting: e,
    email: t
}) {
    const {
        data: n
    } = Qs(e.id, t), r = OM(e.id, t), [i, s] = h.useState(!1);
    if (n?.noPersonSearchData) return l.jsxs("div", {
        className: "flex flex-row gap-1 text-sm text-muted-foreground",
        children: [l.jsx(dd, {
            className: "size-3 my-1"
        }), l.jsxs("span", {
            children: ["We couldn't find any information about ", Ar(n.firstName)]
        })]
    });
    if (!r) return l.jsxs("div", {
        className: "space-y-2",
        children: [l.jsx("div", {
            className: "w-4/5 h-4 bg-border rounded animate-pulse"
        }), l.jsx("div", {
            className: "w-3/4 h-4 bg-border rounded animate-pulse"
        })]
    });
    const a = r.length > 100 && !i,
        o = a ? `${r.slice(0,100)}...` : r;
    return l.jsxs("p", {
        className: Q("text-sm text-foreground", a && "cursor-pointer"),
        onClick: () => s(!0),
        children: [l.jsx("span", {
            children: o
        }), " ", a && l.jsx("span", {
            className: "text-muted-foreground hover:text-primary-foreground text-xs font-medium",
            children: "See more"
        })]
    })
}
const PD = se(function({
    detectedApp: t,
    dismissDetectedApp: n
}) {
    const {
        contextService: r
    } = ke(), {
        isInAudioSession: i
    } = r, s = ss();
    return l.jsx(I6, {
        show: t !== null && !i,
        source: "mic",
        title: `Start ${Be} for ${t}`,
        onDismiss: () => {
            vn.capture(ge.NOTIFICATIONS_JOIN_DETECTED_DISMISSED), n()
        },
        actions: [{
            label: "Dismiss",
            onClick: () => {
                vn.capture(ge.NOTIFICATIONS_JOIN_DETECTED_DISMISSED), n()
            },
            variant: "secondary"
        }, {
            label: "Start Listening",
            variant: "primary",
            onClick: () => {
                vn.capture(ge.NOTIFICATIONS_JOIN_DETECTED_CLICKED), s({})
            }
        }]
    })
});

function LD() {
    const {
        contextService: e
    } = ke(), {
        isInAudioSession: t
    } = e, n = Si(J2);
    h.useEffect(() => {
        t || n(null)
    }, [t, n]), h.useEffect(() => {
        n(null)
    }, [n])
}

function DD({
    handleMicUsed: e,
    handleMicOff: t
}) {
    const n = cn(en.MIC_MONITOR_RECALL_AI),
        r = hy(en.MIC_MONITOR_RECALL_AI),
        i = n && r === "recall_ai" ? "v3" : "v2";
    console.log("Using mic monitor version: ", i), h.useEffect(() => {
        Ra && be("mac-set-mic-monitor-enabled", {
            enabled: !0,
            version: i
        })
    }, [i]), gt("mic-used", e), gt("mic-off", t)
}
const _D = 120 * 1e3;

function FD({
    suppressMicDetection: e
}) {
    const {
        contextService: t
    } = ke(), {
        isInAudioSession: n
    } = t, [r, i] = h.useState(null);
    DD({
        handleMicUsed: ({
            app: a
        }) => {
            if (e) return;
            const o = Date.now();
            n || i({
                app: a,
                detectedAtMs: o
            }), n && r == null && i({
                app: a,
                detectedAtMs: o
            })
        },
        handleMicOff: ({
            app: a
        }) => {
            a === r?.app && (i(null), Date.now() - r.detectedAtMs > _D && t.stopAudio())
        }
    }), h.useEffect(() => {
        (!n || e) && i(null)
    }, [n, e]);
    const s = h.useCallback(() => {
        i(null)
    }, []);
    return {
        detectedApp: r?.app ?? null,
        dismissDetectedApp: s
    }
}
const j6 = ["desktop.calendar.upcoming_meeting_events.get"];

function zD() {
    const e = Gt(Rr).session?.user;
    return ei({
        queryKey: j6,
        queryFn: () => dn(Bt().desktop.calendar.upcoming_meeting_events.get()),
        enabled: !!e?.hasCalendarIntegration
    })
}

function xm() {
    fd.invalidateQueries({
        queryKey: j6
    })
}
const BD = 120 * 1e3,
    $D = 60 * 1e3,
    HD = 120 * 1e3,
    UD = 300 * 1e3;

function VD() {
    const {
        data: e
    } = zD(), t = e?.events, [n, r] = h.useState([]), [i, s] = h.useState({}), [a, o] = h.useState(0);
    h.useEffect(() => {
        const f = [];
        let m = 1 / 0;
        if (t?.forEach(p => {
                const g = i[p.id];
                WD(p, g).forEach(x => {
                    x === 0 ? f.push(p) : m = Math.min(m, x)
                })
            }), r(f), console.log("[useScheduledMeetingNotifications] recompute", {
                meetings: t,
                dueMeetings: f,
                meetingsDismissedUntil: i,
                nearestTimeUntilDue: m
            }), m !== 1 / 0) {
            const p = setTimeout(() => {
                o(a + 1)
            }, m + 1e3);
            return () => clearTimeout(p)
        }
    }, [t, i, a]);
    const c = h.useCallback(({
        meetingId: f,
        permanent: m
    }) => {
        s(p => ({
            ...p,
            [f]: m ? 1 / 0 : Date.now() + $D
        }))
    }, []);
    h.useEffect(() => {
        const f = setInterval(() => {
            xm()
        }, UD);
        return () => clearInterval(f)
    }, []), Ds("upcoming-meeting-events-update", () => {
        xm()
    });
    const {
        contextService: u
    } = ke(), d = u.audioSession?.newSessionOptions?.meetingId;
    return h.useEffect(() => {
        d && c({
            meetingId: d,
            permanent: !0
        })
    }, [d, c]), qD(n, c), {
        meetingsToNotify: n,
        dismissMeetingNotification: c
    }
}

function WD(e, t) {
    const n = Date.now(),
        r = new Date(e.start).getTime();
    if (r + HD < n) return [];
    const i = [],
        s = a => {
            if (t && a < t) return;
            const o = Math.max(a - n, 0);
            i.includes(o) || i.push(o)
        };
    return s(r - BD), s(r), i
}

function qD(e, t) {
    h.useEffect(() => {
        const [n, ...r] = e;
        r.forEach(i => {
            t({
                meetingId: i.id,
                permanent: !0
            })
        })
    }, [e, t])
}
const GD = se(function() {
    LD();
    const {
        meetingsToNotify: t,
        dismissMeetingNotification: n
    } = VD(), r = t.length > 0, {
        detectedApp: i,
        dismissDetectedApp: s
    } = FD({
        suppressMicDetection: r
    });
    return l.jsxs(l.Fragment, {
        children: [t.map(a => l.jsx(ID, {
            meeting: a,
            dismissMeetingNotification: n
        }, a.id)), l.jsx(PD, {
            detectedApp: i,
            dismissDetectedApp: s
        })]
    })
});

function M6(e, t) {
    return py(e, t, void 0, {
        getOnInit: !0
    })
}
const YD = M6("windowsAutoFocusWindow", !0);

function fo() {
    const {
        metadata: {
            isOnboardingComplete: e
        },
        metadataHasLoaded: t
    } = Or();
    return Ul() && t && !e
}
const Hs = {
        APP_X: "unifiedInsightsAppX",
        APP_Y: "unifiedInsightsAppY",
        APP_HEIGHT: "unifiedInsightsAppHeight"
    },
    R6 = 100;

function KD(e) {
    ZD();
    const {
        contextService: t
    } = Ws(), n = fo(), r = Ei(), i = hd();
    h.useEffect(() => {
        e ? be("set-dashboard-state", {
            state: {
                page: i ? "logging-in" : "login"
            }
        }) : be("set-dashboard-state", {
            state: {
                page: "view",
                modal: null
            }
        })
    }, [e, i]);
    const s = e || !t?.isInAudioSession && !n;
    h.useEffect(() => {
        s && r(!0)
    }, [s, r])
}

function XD() {
    const {
        contextService: e
    } = Ws(), t = Gl(), {
        insightsV3: n
    } = jt(), {
        metadata: r
    } = Or();
    return n && r.insightsRequireAudio && !e?.isInAudioSession && !t
}

function ZD() {
    const e = bM(),
        t = XD();
    h.useEffect(() => {
        if (e && t) {
            const n = setTimeout(() => {
                ql(null)
            }, R6);
            return () => clearTimeout(n)
        }
    }, [e, t])
}

function QD() {
    const {
        legacyCommandBar: e
    } = jt(), {
        contextService: t
    } = Ws(), n = Ei(), r = fo();
    gt("app-focus", () => {
        e || r ? Wl(null) : n(!0)
    });
    const i = Si(my),
        {
            setMetadataIfLoaded: s
        } = Or();
    gt("broadcast-to-all-windows", d => {
        switch (d.command) {
            case "log-out":
                Oa();
                break;
            case "show-tutorial":
                s(f => ({
                    ...f,
                    isOnboardingComplete: !1
                }));
                break;
            case "set-keybinds-is-recording":
                i(d.isRecording);
                break
        }
    }), gt("close-dashboard", () => {
        n(!1)
    }), gt("trigger-logout", () => {
        Oa()
    }), Ds("session-state-change", ({
        sessionId: d,
        state: f,
        hasAudio: m
    }) => {
        be("broadcast-to-all-windows", {
            command: "session-state-change",
            sessionId: d,
            state: f,
            hasAudio: m
        })
    });
    const a = ng(),
        o = rg();
    gt("set-keybind-accelerator", ({
        name: d,
        accelerator: f
    }) => {
        D1(d) && a(d, f ?? void 0)
    }), gt("set-keybind-disabled", ({
        name: d,
        disabled: f
    }) => {
        D1(d) && o(d, f)
    });
    const c = gy();
    gt("refresh-metadata", () => {
        c()
    });
    const u = !!t?.isInAudioSession;
    h.useEffect(() => {
        u ? be("broadcast-to-all-windows", {
            command: "dashboard-hide-listen-button"
        }) : be("broadcast-to-all-windows", {
            command: "dashboard-show-listen-button"
        })
    }, [u])
}

function $0({
    className: e
}) {
    return l.jsx("svg", {
        width: "79",
        height: "79",
        viewBox: "0 0 79 79",
        xmlns: "http://www.w3.org/2000/svg",
        className: e,
        "data-logo": "Cluely Logo",
        children: l.jsx("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M67.4307 11.5693C52.005 -3.85643 26.995 -3.85643 11.5693 11.5693C-3.85643 26.995 -3.85643 52.005 11.5693 67.4307C26.995 82.8564 52.005 82.8564 67.4307 67.4307C82.8564 52.005 82.8564 26.995 67.4307 11.5693ZM17.9332 17.9332C29.8442 6.02225 49.1558 6.02225 61.0668 17.9332C72.9777 29.8442 72.9777 49.1558 61.0668 61.0668C59.7316 62.4019 58.3035 63.5874 56.8032 64.6232L56.8241 64.6023C46.8657 54.6439 46.8657 38.4982 56.8241 28.5398L58.2383 27.1256L51.8744 20.7617L50.4602 22.1759C40.5018 32.1343 24.3561 32.1343 14.3977 22.1759L14.3768 22.1968C15.4126 20.6965 16.5981 19.2684 17.9332 17.9332ZM34.0282 38.6078C25.6372 38.9948 17.1318 36.3344 10.3131 30.6265C7.56889 39.6809 9.12599 49.76 14.9844 57.6517L34.0282 38.6078ZM21.3483 64.0156C29.24 69.874 39.3191 71.4311 48.3735 68.6869C42.6656 61.8682 40.0052 53.3628 40.3922 44.9718L21.3483 64.0156Z"
        })
    })
}
const O6 = se(function({
        preLoggedIn: t = !1
    }) {
        QD(), KD(t);
        const {
            legacyCommandBar: n
        } = jt();
        return n ? null : l.jsx(ti, {
            children: l.jsx("div", {
                className: "flex items-center justify-center size-9.5 pointer-events-none",
                children: Yl ? l.jsx("div", {
                    className: "pointer-events-auto",
                    children: l.jsx(Mr, {
                        tooltipContent: "Dev build",
                        children: l.jsx($0, {
                            className: "size-5.5 fill-green-300/90"
                        })
                    })
                }) : l.jsx($0, {
                    className: "size-5.5 fill-white/90"
                })
            })
        })
    }),
    JD = se(function() {
        const {
            contextService: t,
            micAudioCaptureService: n,
            systemAudioCaptureService: r
        } = ke();
        return l.jsxs(Xs, {
            maxHeight: 800,
            scrollUpAccelerator: "CommandOrControl+[",
            scrollDownAccelerator: "CommandOrControl+]",
            enableSnapToBottom: !0,
            className: "space-y-2",
            children: [l.jsx(P6, {
                children: "Audio Context:"
            }), l.jsx(L6, {
                children: t.fullContext.audioContextAsText
            }), l.jsx(vm, {
                label: "Mic Audio Buffers",
                audioCaptureService: n
            }), l.jsx(vm, {
                label: "System Audio Buffers",
                audioCaptureService: r
            })]
        })
    }),
    vm = se(function({
        label: t,
        audioCaptureService: n
    }) {
        const {
            transcriptionService: r
        } = n;
        return !(r instanceof xy) || r.state.state !== "running" ? null : l.jsxs(l.Fragment, {
            children: [l.jsx(P6, {
                children: t
            }), l.jsx(L6, {
                children: JSON.stringify(Object.fromEntries(r.state.audioBuffers), null, 2)
            })]
        })
    });

function P6({
    children: e
}) {
    return l.jsx(X.WindowMessage, {
        className: "font-semibold px-0",
        children: e
    })
}

function L6({
    children: e
}) {
    return l.jsx(X.WindowMessage, {
        className: "px-0",
        children: l.jsx("pre", {
            className: "text-[10px] leading-tight text-wrap",
            children: e
        })
    })
}
const e_ = se(function() {
        const {
            aiResponsesService: t
        } = ke(), {
            currentConversation: n
        } = t;
        if (!n) return l.jsx(X.WindowMessage, {
            children: "No conversation active"
        });
        const {
            latestResponse: r
        } = n;
        let i = r.input.messages;
        return r.state.state === "finished" && (i = [...i, ...r.state.responseMessages]), l.jsx(Xs, {
            maxHeight: 800,
            scrollUpAccelerator: "CommandOrControl+[",
            scrollDownAccelerator: "CommandOrControl+]",
            enableSnapToBottom: !0,
            children: l.jsxs("div", {
                className: "space-y-2",
                children: [l.jsx(X.WindowMessage, {
                    className: "font-semibold px-0",
                    children: "Metadata"
                }), l.jsx(X.WindowMessage, {
                    className: "font-semibold px-0",
                    children: "Role: system"
                }), l.jsx(X.WindowMessage, {
                    className: "px-0",
                    children: l.jsxs("pre", {
                        className: "text-[10px] leading-tight text-wrap",
                        children: ["[[ Filled in by the server (variant: ", r.input.systemPromptVariant, ") ]]"]
                    })
                }), i.map((s, a) => {
                    const o = Array.isArray(s.content) ? s.content.map(u => u.type === "text" ? u.text : "").join("") : s.content,
                        c = vy([s]);
                    return l.jsxs(h.Fragment, {
                        children: [l.jsxs(X.WindowMessage, {
                            className: "font-semibold px-0",
                            children: ["Role: ", s.role]
                        }), c > 0 && l.jsx(X.WindowMessage, {
                            className: "px-0",
                            children: l.jsxs("pre", {
                                className: "text-[10px] leading-tight text-wrap",
                                children: [l.jsx("b", {
                                    children: "ATTACHMENTS"
                                }), ": ", c]
                            })
                        }), l.jsx(X.WindowMessage, {
                            className: "px-0",
                            children: l.jsx("pre", {
                                className: "text-[10px] leading-tight text-wrap",
                                children: o
                            })
                        })]
                    }, a)
                })]
            })
        })
    }),
    t_ = se(function() {
        const t = cn(en.DEV_INSPECT_APP);
        h.useEffect(() => {
            t && be("enable-dev-shortcuts", null)
        }, [t]);
        const [n, r] = h.useState(!1), [i, s] = h.useState("inspect-conversation");
        xt("CommandOrControl+Shift+D", () => {
            r(!n)
        }, {
            enable: t ? "onlyWhenVisible" : !1
        });
        const a = l.jsxs(dr.Notification, {
            show: n,
            width: 400,
            captureMouseEvents: !0,
            children: [l.jsx(X.WindowTitle, {
                shortcuts: l.jsx(X.Shortcut, {
                    label: "Scroll Up/Down",
                    accelerator: "CommandOrControl+[+]"
                }),
                children: "Dev Inspect Context"
            }), i === "inspect-conversation" && l.jsx(e_, {}), i === "inspect-context" && l.jsx(JD, {}), l.jsx(X.WindowFooter, {
                shortcuts: l.jsxs(l.Fragment, {
                    children: [i !== "inspect-conversation" && l.jsx(X.Shortcut, {
                        label: "Inspect Conversation",
                        accelerator: "CommandOrControl+Shift+C",
                        onTrigger: () => s("inspect-conversation")
                    }), i !== "inspect-context" && l.jsx(X.Shortcut, {
                        label: "Inspect Context",
                        accelerator: "CommandOrControl+Shift+C",
                        onTrigger: () => s("inspect-context")
                    })]
                })
            })]
        });
        return l.jsxs(l.Fragment, {
            children: [l.jsx(ti, {
                children: l.jsx("div", {
                    className: Q("mx-4", !t && "hidden"),
                    children: l.jsx(X.Shortcut, {
                        label: "Dev Inspect",
                        accelerator: "CommandOrControl+Shift+D",
                        onTrigger: () => {
                            t && r(o => !o)
                        }
                    })
                })
            }), a]
        })
    });
async function Ua(e) {
    const {
        state: t
    } = await Xn("get-login-protocol-state", null), n = `/_/session?uuid=${t}`, r = by.Buffer.from(n).toString("base64");
    switch (e) {
        case "google-oauth":
            window.open(`${Es}/api/oauth/google?continue=${r}`, "_blank");
            break;
        case "email-signup":
            window.open(`${Es}/signup?continue=${r}`, "_blank");
            break;
        default:
            window.open(`${Es}/_/session?uuid=${t}`, "_blank");
            break
    }
    console.log("Opened browser to log in, with state:", t)
}
const n_ = se(function() {
        const {
            legacyCommandBar: t
        } = jt();
        return t ? l.jsx(ti, {
            children: l.jsx("div", {
                children: l.jsx(r_, {})
            })
        }) : null
    }),
    r_ = se(function() {
        return hd() ? l.jsx(X.CommandBarStatus, {
            label: "Logging In",
            className: "ml-3.5",
            icon: l.jsx(ur, {
                color: "white",
                className: "opacity-90",
                size: 4
            })
        }) : l.jsx(X.Shortcut, {
            label: "Open Browser to Log In",
            accelerator: "CommandOrControl+Enter",
            className: "ml-3.5 -mr-1",
            onTrigger: () => {
                Ua()
            }
        })
    });

function i_() {
    return l.jsxs(l.Fragment, {
        children: [Be, " version: ", Hi, " ", Yl && "(dev)"]
    })
}

function D6({
    className: e
}) {
    return l.jsx("svg", {
        height: "24",
        viewBox: "0 0 24 24",
        width: "24",
        xmlns: "http://www.w3.org/2000/svg",
        className: e,
        children: l.jsx("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "m17.06 13c-1.86 0-3.42 1.33-3.82 3.1-.95-.41-1.82-.3-2.48-.01-.41-1.78-1.97-3.09-3.82-3.09-2.17 0-3.94 1.79-3.94 4s1.77 4 3.94 4c2.06 0 3.74-1.62 3.9-3.68.34-.24 1.23-.69 2.32.02.18 2.05 1.84 3.66 3.9 3.66 2.17 0 3.94-1.79 3.94-4s-1.77-4-3.94-4m-10.12 6.86c-1.56 0-2.81-1.28-2.81-2.86s1.26-2.86 2.81-2.86c1.56 0 2.81 1.28 2.81 2.86s-1.25 2.86-2.81 2.86m10.12 0c-1.56 0-2.81-1.28-2.81-2.86s1.25-2.86 2.81-2.86 2.82 1.28 2.82 2.86-1.27 2.86-2.82 2.86m4.94-9.36h-20v1.5h20zm-6.47-7.87c-.22-.49-.78-.75-1.31-.58l-2.22.74-2.23-.74-.05-.01c-.53-.15-1.09.13-1.29.64l-2.43 6.32h12l-2.44-6.32z"
        })
    })
}

function s_(e, t) {
    const n = e.split(".").map(Number),
        r = t.split(".").map(Number);
    for (let i = 0; i < Math.max(n.length, r.length); i++) {
        const s = n[i] || 0,
            a = r[i] || 0;
        if (s > a) return 1;
        if (s < a) return -1
    }
    return 0
}
const Ta = fr("none"),
    ku = rl();
ud("updater-state", e => {
    if (_6(e)) return;
    const t = ku.get(Ta);
    e.state === "downloaded" ? ku.set(Ta, "downloaded") : e.state === "available" && t !== "downloaded" && ku.set(Ta, "available")
});
be("get-updater-state", null);

function _6(e) {
    return e.state === "none" || s_(Hi, e.version) >= 0
}

function a_() {
    const e = at(),
        t = Gt(Ta);
    return t === "downloaded" ? l.jsx(X.Button, {
        className: "w-full",
        onClick: () => {
            be("install-update", null), e.capture(ge.UPDATE_CLICKED)
        },
        children: "Update and Restart"
    }) : t === "available" ? l.jsx(X.Button, {
        className: "w-full",
        disabled: !0,
        children: "Downloading Update..."
    }) : null
}
const o_ = 3600 * 1e3,
    l_ = 1e3 * 5,
    c_ = 1e3 * 60,
    Al = new Set;

function t1() {
    for (const e of Al) e();
    Al.clear()
}

function F6(e) {
    const [t, n] = Pr(Rr), r = t.session;
    h.useEffect(() => {
        if (!r) return;
        const i = new AbortController;
        return (async () => {
            r.user ? await u_() : await new Promise(d => setTimeout(d, 0));
            let {
                accessToken: a,
                refreshToken: o
            } = r, c = l_;
            async function u() {
                if (!i.signal.aborted) try {
                    const d = await Bt().desktop.user_session.refresh.post({
                        refreshToken: o
                    });
                    if (d.error) {
                        if (d.error.status === 401) {
                            console.warn("Logging out due to invalid refresh token", d.error), Oa();
                            return
                        }
                        throw d.error
                    }
                    a = d.data.accessToken, o = d.data.refreshToken, await Xn("set-platform-access-token", {
                        accessToken: a
                    });
                    const f = await Bt({
                        accessToken: a
                    }).user.get({
                        headers: {
                            "X-Desktop-Is-Onboarding": e ? "true" : "false"
                        }
                    });
                    if (f.error) {
                        if (f.error.status === 401) {
                            console.warn("Logging out due to authentication error when fetching user", f.error), Oa();
                            return
                        }
                        throw f.error
                    }
                    if (i.signal.aborted) return;
                    const m = f.data;
                    n({
                        session: {
                            user: m,
                            accessToken: a,
                            refreshToken: o
                        }
                    })
                } catch (d) {
                    if (i.signal.aborted) return;
                    console.error("Error refreshing session, retrying...", d), await new Promise(f => setTimeout(f, c)), c = Math.min(c * 2, c_), u()
                }
            }
            u()
        })(), () => i.abort()
    }, [e, r, n]), h.useEffect(() => {
        r || Xn("set-platform-access-token", {
            accessToken: null
        })
    }, [r])
}
async function u_() {
    await new Promise(e => {
        Al.add(e), setTimeout(() => {
            Al.delete(e), e()
        }, o_)
    })
}
const z6 = ["user.get"];

function B6(e) {
    return ei({
        queryKey: z6,
        queryFn: () => dn(Bt().user.get()),
        ...e
    })
}

function d_() {
    fd.invalidateQueries({
        queryKey: z6
    })
}
const f_ = [{
        value: "ar-SA",
        label: "Arabic ()"
    }, {
        value: "bn-BD",
        label: "Bengali ()"
    }, {
        value: "yue-Hant-HK",
        label: "Cantonese ()"
    }, {
        value: "de-DE",
        label: "German (Deutsch)"
    }, {
        value: "en-US",
        label: "English"
    }, {
        value: "fa-IR",
        label: "Farsi ()"
    }, {
        value: "fr-FR",
        label: "French (Franais)"
    }, {
        value: "hi-IN",
        label: "Hindi ()"
    }, {
        value: "it-IT",
        label: "Italian (Italiano)"
    }, {
        value: "ja-JP",
        label: "Japanese ()"
    }, {
        value: "ko-KR",
        label: "Korean ()"
    }, {
        value: "zh-CN",
        label: "Mandarin ()"
    }, {
        value: "nl-NL",
        label: "Dutch (Nederlands)"
    }, {
        value: "pl-PL",
        label: "Polish (Polski)"
    }, {
        value: "pt-PT",
        label: "Portuguese (Portugus)"
    }, {
        value: "ru-RU",
        label: "Russian ()"
    }, {
        value: "es-ES",
        label: "Spanish (Espaol)"
    }, {
        value: "ta-IN",
        label: "Tamil ()"
    }, {
        value: "th-TH",
        label: "Thai ()"
    }, {
        value: "tr-TR",
        label: "Turkish (Trke)"
    }, {
        value: "ur-PK",
        label: "Urdu ()"
    }, {
        value: "vi-VN",
        label: "Vietnamese (Ting Vit)"
    }],
    h_ = [{
        value: "zh-HK",
        label: "Chinese (Cantonese) ()"
    }, {
        value: "zh-CN",
        label: "Chinese (Mandarin) ()"
    }, {
        value: "en-US",
        label: "English (recommended)"
    }, {
        value: "fr-FR",
        label: "French (Franais)"
    }, {
        value: "de-DE",
        label: "German (Deutsch)"
    }, {
        value: "hi-IN",
        label: "Hindi ()"
    }, {
        value: "it-IT",
        label: "Italian (Italiano)"
    }, {
        value: "ja-JP",
        label: "Japanese ()"
    }, {
        value: "pt-PT",
        label: "Portuguese (Portugus)"
    }, {
        value: "ru-RU",
        label: "Russian ()"
    }, {
        value: "es-ES",
        label: "Spanish (Espaol)"
    }, {
        value: "multi",
        label: "Auto-detect language"
    }];

function bm({
    status: e,
    error: t
}) {
    return l.jsxs(l.Fragment, {
        children: [e === "idle" && l.jsx("p", {
            className: "text-xs",
            children: ""
        }), e === "saving" && l.jsx("p", {
            className: "text-xs text-stone-500",
            children: "Saving"
        }), e === "saved" && l.jsx("p", {
            className: "text-xs text-green-700",
            children: "Saved"
        }), e === "error" && l.jsx("p", {
            className: "text-xs text-red-600",
            children: t
        })]
    })
}
const p_ = se(function() {
        const t = at(),
            {
                data: n
            } = B6(),
            {
                contextService: r
            } = Ws(),
            i = n?.displayLanguage ?? "en-US",
            s = n?.defaultAudioLanguage ?? "en-US",
            [a, o] = h.useState(i),
            [c, u] = h.useState(s),
            [d, f] = h.useState("idle"),
            [m, p] = h.useState(null),
            [g, x] = h.useState("idle"),
            [y, b] = h.useState(null);
        h.useEffect(() => {
            o(i)
        }, [i]), h.useEffect(() => {
            u(s)
        }, [s]);
        async function w(A, N) {
            const {
                error: j
            } = await Bt().user.settings.put({
                displayLanguage: A,
                defaultAudioLanguage: N
            });
            if (j) {
                console.error(j), f("error"), p("An error occurred while saving your language settings.");
                return
            }
            d_(), t1(), t.capture(ge.SETTINGS_LANGUAGE_CHANGED, {
                displayLanguage: A,
                defaultAudioLanguage: N
            })
        }
        const C = async A => {
            o(A), f("saving"), p(null);
            try {
                await w(A, c), f("saved"), setTimeout(() => f("idle"), 2e3)
            } catch (N) {
                f("error");
                const j = N instanceof Error ? N.message : "Failed to save";
                p(j)
            }
        }, E = async A => {
            u(A), x("saving"), b(null);
            try {
                await w(a, A), x("saved"), setTimeout(() => x("idle"), 2e3)
            } catch (N) {
                x("error");
                const j = N instanceof Error ? N.message : "Failed to save";
                b(j)
            }
        };
        return l.jsxs("div", {
            children: [l.jsxs(X.Tooltip, {
                tooltipContent: "Choose your preferred language for summaries, actionables, and AI responses.",
                position: "top",
                children: [l.jsxs("label", {
                    className: "block",
                    children: [l.jsx("span", {
                        className: "text-xs text-white",
                        children: "Output Language"
                    }), l.jsx("select", {
                        className: "w-full border border-stone-300 px-2.5 py-0.5 text-left text-xs outline-none rounded bg-white/20 active:bg-white/30 border-l-0 border-r-0 border-t border-b border-t-white/10 border-b-white/5 text-white",
                        value: a,
                        "data-testid": "audio-language-select",
                        onChange: A => void C(A.target.value),
                        children: f_.map(A => l.jsx("option", {
                            value: A.value,
                            children: A.label
                        }, A.value))
                    })]
                }), d !== "idle" && l.jsx(bm, {
                    status: d,
                    error: m
                })]
            }), l.jsx(X.Tooltip, {
                tooltipContent: "Choose the language you speak in meetings. You cannot change this setting while in a meeting.",
                position: "top",
                children: l.jsxs("label", {
                    className: "block",
                    children: [l.jsx("span", {
                        className: "text-xs text-white",
                        children: "Meeting Audio Language"
                    }), l.jsx("select", {
                        className: "w-full border border-stone-300 px-2.5 py-0.5 text-left text-xs outline-none rounded bg-white/20 active:bg-white/30 border-l-0 border-r-0 border-t border-b border-t-white/10 border-b-white/5 text-white",
                        value: c,
                        "data-testid": "audio-language-select",
                        disabled: r?.isInAudioSession,
                        onChange: A => void E(A.target.value),
                        children: h_.map(A => l.jsx("option", {
                            value: A.value,
                            children: A.label
                        }, A.value))
                    }), g !== "idle" && l.jsx(bm, {
                        status: g,
                        error: y
                    })]
                })
            })]
        })
    }),
    m_ = M6("autoLaunchAtLogin", !0);

function g_() {
    const [e, t] = Pr(m_);
    h.useEffect(() => {
        be("set-auto-launch-enabled", {
            enabled: e
        })
    }, [e]);
    const n = h.useCallback(() => {
        t(r => !r)
    }, [t]);
    return {
        autoLaunchEnabled: e,
        toggleAutoLaunch: n
    }
}
const $6 = fr(!1),
    H6 = fr(!1),
    n1 = "CommandOrControl+Shift+Enter",
    x_ = se(function() {
        const t = at(),
            {
                aiResponsesService: n
            } = ke(),
            {
                legacyCommandBar: r
            } = jt(),
            s = oo() !== "no-screenshots",
            a = Si($6),
            o = fn();
        return r ? l.jsxs("div", {
            className: "flex items-center gap-6 ml-3.5",
            children: [l.jsx(X.Shortcut, {
                dataTestId: "test-open-menu",
                label: Nr.short.specify,
                commandBarHideShortcut: !0,
                accelerator: n1,
                onTrigger: () => {
                    n.isManualInputActive ? (n.setIsManualInputActive(!1), t.capture(ge.CHAT_PRESSED, {
                        wasManualInputActive: !0
                    })) : (n.setIsManualInputActive(!0), t.capture(ge.CHAT_PRESSED, {
                        wasManualInputActive: !1
                    }))
                },
                enable: !0
            }), l.jsx(X.Shortcut, {
                label: Nr.short.generate,
                commandBarHideShortcut: !0,
                accelerator: o.trigger_ai,
                onTrigger: () => {
                    n.triggerAi({
                        shouldCaptureScreenshot: s
                    })
                }
            }), l.jsx(Mr, {
                tooltipContent: l.jsxs("span", {
                    children: ["Press", l.jsx(X.Shortcut, {
                        accelerator: o.hide,
                        className: "inline-block mx-1.5"
                    }), "again to show"]
                }),
                gap: 12,
                children: l.jsx(X.Shortcut, {
                    label: l.jsxs("div", {
                        className: "flex items-center gap-1.5",
                        children: [l.jsx(gg, {
                            className: "opacity-60",
                            size: 14
                        }), "Hide"]
                    }),
                    accelerator: o.hide,
                    commandBarHideShortcut: !0,
                    onTrigger: ({
                        fromClick: c
                    }) => {
                        c && ql("click")
                    }
                })
            })]
        }) : l.jsx("div", {
            className: "flex items-center gap-6 ml-2.5",
            children: l.jsx(Mr, {
                tooltipContent: l.jsxs("span", {
                    children: ["Ask about anything on your screen", l.jsx(X.Shortcut, {
                        accelerator: o.trigger_ai,
                        className: "inline-block mx-1.5"
                    })]
                }),
                gap: 12,
                children: l.jsx(X.Shortcut, {
                    dataTestId: "test-open-menu",
                    label: l.jsxs("div", {
                        className: "flex items-center gap-1.5",
                        children: [l.jsx(m9, {
                            className: "opacity-60",
                            size: 13
                        }), Nr.short.ask]
                    }),
                    commandBarHideShortcut: !0,
                    accelerator: o.trigger_ai,
                    onTrigger: c => {
                        if (n.isManualInputActive) {
                            if (!c.fromClick) return;
                            n.setIsManualInputActive(!1), t.capture(ge.CHAT_PRESSED, {
                                wasManualInputActive: !0
                            })
                        } else n.setIsManualInputActive(!0), t.capture(ge.CHAT_PRESSED, {
                            wasManualInputActive: !1
                        }), c.fromClick && a(!0)
                    }
                })
            })
        })
    });
class v_ {
    displays = [];
    listeners = new Set;
    isInitialized = !1;
    constructor() {
        this.initialize()
    }
    initialize() {
        if (this.isInitialized) return;
        this.isInitialized = !0, ud("available-displays", n => {
            this.displays = n.displays;
            for (const r of this.listeners) r(this.displays)
        }), be("get-available-displays", null)
    }
    getDisplays() {
        return this.displays
    }
    getDisplayCount() {
        return this.displays.length
    }
    subscribe(t) {
        return this.listeners.add(t), this.displays.length > 0 && t(this.displays), () => {
            this.listeners.delete(t)
        }
    }
    refresh() {
        be("get-available-displays", null)
    }
}
const gi = new v_;

function b_() {
    const [e, t] = h.useState(() => gi.getDisplayCount() || 1);
    return h.useEffect(() => gi.subscribe(n => {
        t(n.length)
    }), []), e
}
const y_ = ({
        loading: e,
        showSuccess: t
    }) => {
        const n = e ? "loading" : t ? "success" : null;
        return l.jsxs("div", {
            className: "relative",
            children: [l.jsx(Xa, {
                className: Q("size-3 text-green-500 transition-opacity", n === "success" ? "opacity-100" : "opacity-0")
            }), l.jsx("div", {
                className: Q("top-0 right-0 bottom-0 absolute transition-opacity flex items-center", n === "loading" ? "opacity-90" : "opacity-0", 0),
                children: l.jsx(ur, {
                    size: 2,
                    className: "transition-opacity",
                    color: "white"
                })
            })]
        })
    },
    Do = () => l.jsx("div", {
        className: "h-px bg-white/15 my-3 mx-3"
    }),
    w_ = se(function({
        onOpenDisplaySelector: t
    }) {
        const n = at(),
            r = cn(en.VIM_MODE_KEY_BINDINGS),
            i = cn(en.DEV_INSPECT_APP),
            {
                legacyCommandBar: s
            } = jt(),
            {
                contextService: a
            } = Ws(),
            o = Ul(),
            c = $l(),
            u = Us(),
            {
                moveLeft: d,
                moveRight: f
            } = ts(),
            m = b_(),
            p = Gl(),
            {
                setMetadataIfLoaded: g
            } = Or(),
            {
                autoLaunchEnabled: x,
                toggleAutoLaunch: y
            } = g_(),
            b = c && u,
            {
                userInstructionsQuery: {
                    data: w,
                    isLoading: C,
                    error: E
                },
                setDefaultMutation: A,
                showSetDefaultSuccess: N
            } = Zs(u),
            j = fn();
        return l.jsx(dr.Inline, {
            opaque: !0,
            captureMouseEvents: !0,
            children: l.jsxs("div", {
                className: "w-48",
                children: [l.jsx(X.WindowTitle, {
                    children: l.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [l.jsx("span", {
                            children: Be
                        }), l.jsxs("div", {
                            className: "flex items-center gap-3",
                            children: [p && l.jsx(X.Tooltip, {
                                tooltipContent: `${Be} is currently invisible to screen capture.`,
                                position: "top",
                                children: l.jsx(gg, {
                                    className: "size-3.5 stroke-white"
                                })
                            }), a?.isIncognito && l.jsx(X.Tooltip, {
                                tooltipContent: `${Be} is currently in incognito mode, which means it won't save usage data.`,
                                position: "top",
                                children: l.jsx(D6, {
                                    className: "size-4 fill-white"
                                })
                            })]
                        })]
                    })
                }), o && u && l.jsxs(l.Fragment, {
                    children: [l.jsx(Do, {}), l.jsxs("div", {
                        className: "w-40 mx-auto py-1 flex flex-col items-stretch gap-1.5",
                        children: [l.jsxs("div", {
                            className: "flex items-center justify-between",
                            children: [l.jsx("div", {
                                className: "text-[11px] font-medium text-white",
                                children: "Prompt"
                            }), l.jsx(y_, {
                                loading: A.isPending,
                                showSuccess: N
                            })]
                        }), C ? l.jsx(ur, {
                            size: 4.5,
                            color: "white",
                            className: "opacity-90 my-1"
                        }) : E || !w?.instructions.length ? l.jsx("div", {
                            className: "text-red-400 text-[11px]",
                            children: "Unable to fetch prompts."
                        }) : l.jsx("select", {
                            className: "rounded w-full border border-white/30 p-0.5 outline-none text-white font-inherit text-[11px] disabled:opacity-50",
                            value: w.activeInstructionId,
                            disabled: A.isPending,
                            onChange: z => A.mutate(z.target.value),
                            children: w.instructions.map(z => l.jsx("option", {
                                className: "bg-neutral-800 text-white",
                                value: z.id,
                                children: z.displayName
                            }, z.id))
                        }), l.jsx("div", {
                            className: "flex gap-1.5",
                            children: l.jsx(X.Button, {
                                className: "cursor-pointer w-full",
                                onClick: () => {
                                    window.open(`${Es}/personalize`, "_blank")
                                },
                                children: "Personalize"
                            })
                        })]
                    })]
                }), l.jsx(Do, {}), l.jsxs("div", {
                    className: "w-40 mx-auto mt-1 space-y-2",
                    children: [l.jsx(S_, {}), s && l.jsxs(l.Fragment, {
                        children: [l.jsx(X.Shortcut, {
                            fullWidth: !0,
                            label: Nr.long.generate,
                            accelerator: j.trigger_ai
                        }), l.jsx(X.Shortcut, {
                            fullWidth: !0,
                            label: Nr.long.specify,
                            accelerator: n1
                        })]
                    }), l.jsx(X.Shortcut, {
                        fullWidth: !0,
                        label: "Scroll Response",
                        accelerator: r ? "CommandOrControl+JK" : "CommandOrControl+"
                    }), l.jsx(X.Shortcut, {
                        fullWidth: !0,
                        label: "Clear Response",
                        accelerator: j.start_over
                    })]
                }), l.jsx(Do, {}), l.jsxs("div", {
                    className: "w-40 mx-auto space-y-1.5 mt-3 pb-3",
                    children: [m > 1 && l.jsx("div", {
                        className: "flex gap-1.5",
                        children: l.jsxs(X.Button, {
                            className: "cursor-pointer w-full flex items-center justify-center gap-1.5",
                            onClick: t,
                            children: [l.jsx(pd, {
                                size: 14
                            }), l.jsx("span", {
                                children: "Change Display"
                            })]
                        })
                    }), l.jsx(p_, {}), l.jsx(Do, {}), l.jsxs("div", {
                        className: "flex gap-1.5 w-full",
                        children: [l.jsx("div", {
                            className: "flex-1",
                            children: l.jsxs(X.Button, {
                                className: "cursor-pointer w-full flex items-center justify-center group relative overflow-hidden",
                                onClick: d,
                                children: [l.jsxs("div", {
                                    className: "flex items-center gap-1.5 transition-opacity duration-300 group-hover:opacity-0",
                                    children: [l.jsx(yy, {}), l.jsx("span", {
                                        children: "Move"
                                    })]
                                }), l.jsx("div", {
                                    className: "absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-300 group-hover:opacity-100",
                                    children: l.jsx(X.InlineShortcut, {
                                        accelerator: r ? "CommandOrControl+K" : j.move_window_left ?? il.move_window_left
                                    })
                                })]
                            })
                        }), l.jsx("div", {
                            className: "flex-1",
                            children: l.jsxs(X.Button, {
                                className: "cursor-pointer w-full flex items-center justify-center group relative overflow-hidden",
                                onClick: f,
                                children: [l.jsxs("div", {
                                    className: "flex items-center gap-1.5 transition-opacity duration-300 group-hover:opacity-0",
                                    children: [l.jsx("span", {
                                        children: "Move"
                                    }), l.jsx(wy, {})]
                                }), l.jsx("div", {
                                    className: "absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-300 group-hover:opacity-100",
                                    children: l.jsx(X.InlineShortcut, {
                                        accelerator: r ? "CommandOrControl+L" : j.move_window_right ?? il.move_window_right
                                    })
                                })]
                            })
                        })]
                    }), l.jsx(X.Tooltip, {
                        tooltipContent: p ? `${Be} is currently invisible to screen capture. Click to make it visible again. ${or?"This will also restart the app.":""}` : `Make ${Be} invisible to screen capture and recording software. Click to enable. ${or?"This will also restart the app.":""}`,
                        position: "top",
                        children: l.jsx("div", {
                            className: "flex gap-1.5",
                            children: l.jsx(X.Button, {
                                className: "cursor-pointer w-full",
                                onClick: () => be("toggle-invisible", null),
                                children: p ? "Disable Invisibility" : "Enable Invisibility"
                            })
                        })
                    }), !Yl && l.jsx(X.Tooltip, {
                        tooltipContent: x ? `${Be} will automatically start when you log in to your computer. Click to disable.` : `${Be} will not start automatically. Click to enable auto-launch at login.`,
                        position: "top",
                        children: l.jsx("div", {
                            className: "flex gap-1.5",
                            children: l.jsx(X.Button, {
                                className: "cursor-pointer w-full",
                                onClick: y,
                                children: x ? "Disable Auto Launch" : "Enable Auto Launch"
                            })
                        })
                    }), i && l.jsx("div", {
                        className: "flex gap-1.5",
                        children: l.jsx(X.Button, {
                            className: "cursor-pointer w-full",
                            onClick: async () => {
                                await g({}), localStorage.clear(), be("reset-onboarding", null)
                            },
                            children: "Reset Onboarding"
                        })
                    }), b && l.jsx("div", {
                        className: "flex gap-1.5",
                        children: l.jsx(X.Button, {
                            className: "cursor-pointer w-full",
                            onClick: () => a?.toggleIncognito(),
                            children: a?.isIncognito ? "Disable Incognito" : "Enable Incognito"
                        })
                    }), l.jsxs("div", {
                        className: "flex gap-1.5",
                        children: [o && l.jsx(X.Button, {
                            className: "cursor-pointer flex-1",
                            onClick: () => {
                                Oa(), n.capture(ge.LOG_OUT_CLICKED)
                            },
                            children: "Log Out"
                        }), l.jsx(X.Button, {
                            className: "cursor-pointer flex-1",
                            onClick: () => {
                                be("quit-app", null), n.capture(ge.QUIT_CLICKED)
                            },
                            children: "Quit"
                        })]
                    }), l.jsx(a_, {})]
                })]
            })
        })
    }),
    S_ = se(function() {
        const t = Gt(Rr).session?.user?.email,
            [n, r] = h.useState(!1);
        return l.jsx("div", {
            onClick: i => {
                i.altKey && r(!n)
            },
            children: l.jsx("p", {
                className: "truncate text-white/90 text-[11px]",
                children: n ? l.jsx(i_, {}) : t ? `Account: ${t}` : "Not logged in"
            })
        })
    });

function C_({
    onClose: e
}) {
    const [t, n] = h.useState([]), [r, i] = h.useState(null), s = es(), {
        setX: a,
        setY: o
    } = ts();
    h.useEffect(() => {
        gi.refresh();
        const m = gi.subscribe(p => {
            n(p)
        });
        return n(gi.getDisplays()), m
    }, []), h.useEffect(() => (be("show-display-overlays", null), () => {
        be("hide-display-overlays", null)
    }), []), h.useEffect(() => {
        s && e()
    }, [s, e]), gt("display-changed", m => {
        m?.preservePosition || (a(0, !0), o(0, !0)), e()
    });
    const c = m => {
            be("move-window-to-display", {
                displayId: m,
                preservePosition: !1
            }), be("hide-display-overlays", null)
        },
        u = m => {
            i(m), m !== null && be("highlight-display", {
                displayId: m
            })
        },
        d = m => {
            r === m && i(null), be("unhighlight-display", {
                displayId: m
            })
        },
        f = () => {
            console.log("[DisplaySelector] Back button clicked, hiding overlays"), be("hide-display-overlays", null), e()
        };
    return l.jsx(dr.Inline, {
        opaque: !0,
        captureMouseEvents: !0,
        children: l.jsxs("div", {
            className: "w-48 flex flex-col items-left",
            children: [l.jsx(X.WindowTitle, {
                children: "Change Display"
            }), l.jsxs("div", {
                className: "w-44 mx-auto mt-1 flex flex-col items-center",
                children: [l.jsx("p", {
                    className: "text-white/70 text-xs mb-3 text-left px-2",
                    children: "Select a display or click on any overlay."
                }), l.jsx("div", {
                    className: "space-y-1.5 pt-1 h-fit max-h-96 overflow-y-auto w-full px-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/50",
                    children: t.map(m => l.jsx(k_, {
                        display: m,
                        isHovered: r === m.id,
                        onClick: () => c(m.id),
                        onMouseEnter: () => u(m.id),
                        onMouseLeave: () => d(m.id)
                    }, m.id))
                }), t.length === 0 && l.jsxs("div", {
                    className: "text-white/50 text-center py-6",
                    children: [l.jsx(pd, {
                        className: "mx-auto mb-2",
                        size: 20
                    }), l.jsx("p", {
                        className: "text-xs",
                        children: "Detecting displays..."
                    })]
                })]
            }), l.jsx("div", {
                className: "mt-3 pb-3",
                children: l.jsx(X.WindowFooter, {
                    shortcuts: l.jsx(X.Shortcut, {
                        label: "Close",
                        accelerator: "Escape",
                        onTrigger: f
                    })
                })
            })]
        })
    })
}

function k_({
    display: e,
    isHovered: t,
    onClick: n,
    onMouseEnter: r,
    onMouseLeave: i
}) {
    return l.jsxs(V.div, {
        className: Q("w-full flex items-center gap-2 p-2 rounded-md cursor-pointer transition-all duration-200", "bg-white/5 border border-white/10", e.current && "opacity-75", !e.current && t && "hover:bg-white/10 border-sky-400/30"),
        onClick: n,
        onMouseEnter: r,
        onMouseLeave: i,
        whileHover: {
            scale: e.current ? 1 : 1.01
        },
        whileTap: {
            scale: e.current ? 1 : .98
        },
        children: [l.jsx("div", {
            className: "flex-shrink-0",
            children: l.jsx(pd, {
                className: "text-white/70",
                size: 16
            })
        }), l.jsxs("div", {
            className: "flex-grow min-w-0",
            children: [l.jsx("div", {
                className: "flex items-center gap-1.5",
                children: l.jsx("h3", {
                    className: "text-white font-medium text-xs truncate",
                    children: e.label
                })
            }), l.jsxs("p", {
                className: "text-white/50 text-[10px]",
                children: [e.bounds.width, "  ", e.bounds.height, e.scaleFactor !== 1 && ` @${e.scaleFactor}x`]
            }), e.primary && l.jsx("span", {
                className: "text-[10px] px-1.5 py-0.5 mr-1 bg-sky-500/20 text-sky-300 rounded border border-sky-400/30",
                children: "Primary"
            }), e.current && l.jsx("span", {
                className: "text-[10px] px-1.5 py-0.5 bg-green-500/20 text-green-300 rounded border border-green-400/30",
                children: "Current"
            })]
        })]
    })
}
const U6 = se(function() {
        const t = at(),
            {
                vOrientation: n
            } = ts(),
            [r, i] = h.useState(!1),
            [s, a] = h.useState(!1),
            [o, c] = h.useState(!1),
            [u, d] = h.useState(!1),
            f = h.useRef(null),
            {
                legacyCommandBar: m
            } = jt();
        h.useEffect(() => {
            if (s && !u) f.current && clearTimeout(f.current), i(!0), t.capture(ge.MORE_HOVERED);
            else if (!s) {
                const x = setTimeout(() => {
                    i(!1)
                }, 500);
                return f.current = x, () => clearTimeout(x)
            }
        }, [s, u, t]);
        const p = () => {
                i(!r), d(r), f.current && (clearTimeout(f.current), f.current = null)
            },
            g = () => {
                a(!1), d(!1)
            };
        return m ? l.jsx(ti, {
            children: l.jsxs("div", {
                className: "relative",
                onMouseLeave: g,
                onMouseEnter: () => a(!0),
                children: [l.jsx("div", {
                    className: "relative p-2 mr-1",
                    onClick: p,
                    children: l.jsx(Sy, {
                        size: 14,
                        className: "text-white/90"
                    })
                }), l.jsxs(Ke, {
                    children: [r && !o && l.jsx("div", {
                        className: Q("absolute right-0", n === "top" ? "top-full pt-[21px]" : "bottom-full pb-[21px]"),
                        onMouseEnter: () => a(!0),
                        onMouseLeave: () => a(!1),
                        children: l.jsx(V.div, {
                            initial: {
                                opacity: 0,
                                y: 10
                            },
                            animate: {
                                opacity: 1,
                                y: 0
                            },
                            exit: {
                                opacity: 0,
                                y: 10
                            },
                            transition: {
                                duration: .1,
                                ease: "easeOut"
                            },
                            children: l.jsx(w_, {
                                onOpenDisplaySelector: () => c(!0)
                            })
                        })
                    }), o && l.jsx("div", {
                        className: Q("absolute -right-4", n === "top" ? "top-full pt-[21px]" : "bottom-full pb-[21px]"),
                        children: l.jsx(V.div, {
                            initial: {
                                opacity: 0,
                                y: 10
                            },
                            animate: {
                                opacity: 1,
                                y: 0
                            },
                            exit: {
                                opacity: 0,
                                y: 10
                            },
                            transition: {
                                duration: .1,
                                ease: "easeOut"
                            },
                            children: l.jsx(C_, {
                                onClose: () => {
                                    a(!1), c(!1)
                                }
                            })
                        })
                    })]
                })]
            })
        }) : null
    }),
    V6 = fr(""),
    E_ = fr(600);

function W6() {
    const e = cn(en.VIM_MODE_KEY_BINDINGS),
        t = fn();
    return e ? "CommandOrControl+Shift+J" : t.scroll_response_down
}

function q6() {
    const e = cn(en.VIM_MODE_KEY_BINDINGS),
        t = fn();
    return e ? "CommandOrControl+Shift+K" : t.scroll_response_up
}
const N_ = se(function({
        event: t
    }) {
        return l.jsx("div", {
            className: "bg-black/60 border border-black/20 rounded-md shadow-md px-3.5 py-2.5",
            children: l.jsx(Tr, {
                children: t.markdown
            })
        })
    }),
    A_ = se(function({
        event: t,
        response: n
    }) {
        return n.events.some(i => i.event === "hide-loading-card" && i.key === t.key) ? null : l.jsxs("div", {
            className: "bg-black/60 border border-black/20 rounded-md shadow-md p-3",
            children: [l.jsxs("div", {
                className: "flex items-center gap-2",
                children: [l.jsx(C9, {
                    color: "white",
                    size: 16
                }), l.jsx("p", {
                    className: "text-white text-sm text-medium",
                    children: t.title
                })]
            }), l.jsx("div", {
                className: "bg-white/70 mt-3 w-[70%] h-3.5 rounded animate-pulse"
            }), l.jsx("div", {
                className: "bg-white/70 mt-2 w-[50%] h-3.5 rounded animate-pulse"
            })]
        })
    }),
    T_ = se(function({
        response: t
    }) {
        const n = t.events.filter(c => c.event === "people-search-card"),
            [r, i] = h.useState(0);
        if (t.events.find(c => c.event === "show-loading-card" && c.key === "people-search") && !t.events.find(c => c.event === "hide-loading-card" && c.key === "people-search")) return null;
        const a = n.toSorted((c, u) => c.firstName.toLowerCase().localeCompare(u.firstName.toLowerCase())),
            o = a[r];
        return l.jsxs("div", {
            className: "flex flex-col gap-2",
            children: [l.jsx("div", {
                className: "flex gap-2",
                children: a.map((c, u) => l.jsxs("div", {
                    className: Q("py-2 px-3 rounded cursor-pointer text-white text-sm bg-black/40", u === r && "bg-white text-black"),
                    onClick: () => i(u),
                    children: [c.firstName, c.lastName ? n.length > 3 ? ` ${c.lastName.slice(0,1)}.` : ` ${c.lastName}` : null]
                }, c.id))
            }), n.map(c => c.email !== o?.email ? null : l.jsx("div", {
                className: "bg-black/40 border border-black/20 rounded-md shadow-md p-3",
                children: l.jsx(Tr, {
                    children: c.markdown
                })
            }, c.id))]
        })
    });

function G6(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M11.412 8.586c.379.38.588.882.588 1.414h2a3.977 3.977 0 0 0-1.174-2.828c-1.514-1.512-4.139-1.512-5.652 0l1.412 1.416c.76-.758 2.07-.756 2.826-.002z"
            },
            child: []
        }]
    })(e)
}

function r1(e) {
    return Yt({
        attr: {
            viewBox: "0 0 256 256",
            fill: "currentColor"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M152,80a12,12,0,0,1,12-12h80a12,12,0,0,1,0,24H164A12,12,0,0,1,152,80Zm92,36H164a12,12,0,0,0,0,24h80a12,12,0,0,0,0-24Zm0,48H188a12,12,0,0,0,0,24h56a12,12,0,0,0,0-24Zm-88.38,25a12,12,0,1,1-23.24,6c-5.72-22.23-28.24-39-52.38-39s-46.66,16.76-52.38,39a12,12,0,1,1-23.24-6c5.38-20.9,20.09-38.16,39.11-48a52,52,0,1,1,73,0C135.53,150.85,150.24,168.11,155.62,189ZM80,132a28,28,0,1,0-28-28A28,28,0,0,0,80,132Z"
            },
            child: []
        }]
    })(e)
}
const I_ = se(function({
        response: t
    }) {
        const {
            contextService: n
        } = ke(), r = n.audioSession?.newSessionOptions?.peopleSearchEmails, i = t.events.filter(a => a.event === "precall-card");
        return t.events.find(a => a.event === "show-loading-card" && a.key === "precall") && !t.events.find(a => a.event === "hide-loading-card" && a.key === "precall") ? l.jsxs("div", {
            className: "flex gap-1 items-center text-foreground text-sm",
            children: [l.jsx(G6, {
                className: "size-3.5"
            }), l.jsx("span", {
                children: r ? `Searching for ${r.length} participants` : "Searching for participants"
            })]
        }) : l.jsx("div", {
            className: "flex flex-col gap-2 p-2 mt-4 max-w-[80%]",
            children: l.jsxs(Zf, {
                children: [l.jsx(gc, {
                    className: "flex gap-2",
                    children: i.map(a => l.jsx(Qf, {
                        className: "text-foreground",
                        children: j_(a.firstName, a.lastName, "short")
                    }, a.id))
                }), l.jsx(Jf, {
                    children: i.map(a => l.jsxs(e1, {
                        className: "flex flex-col gap-2.5",
                        children: [a.about ? l.jsxs("div", {
                            className: "flex flex-col gap-1",
                            children: [l.jsx("span", {
                                className: "text-[13px] tracking-tight font-medium text-foreground",
                                children: "About"
                            }), l.jsx("p", {
                                className: "text-sm text-primary-foreground",
                                children: a.about
                            })]
                        }) : l.jsxs("div", {
                            className: "flex flex-row gap-1 text-sm text-foreground",
                            children: [l.jsx(dd, {
                                className: "size-3 my-1"
                            }), l.jsxs("span", {
                                children: ["We couldn't find any information about ", Ar(a.firstName)]
                            })]
                        }), l.jsxs("div", {
                            className: "flex flex-row gap-3 items-center text-foreground",
                            children: [l.jsx(Sf, {
                                location: a.location,
                                className: "text-foreground"
                            }), a.pastMeetings && a.pastMeetings.count > 0 && l.jsx("div", {
                                className: "h-px w-full bg-border rounded-full"
                            })]
                        }), a.pastMeetings && a.pastMeetings.count > 0 && l.jsxs("div", {
                            className: "flex flex-col gap-2",
                            children: [l.jsxs("div", {
                                className: "text-[13px] tracking-tight text-muted-foreground flex gap-1.5 items-center",
                                children: [l.jsx(r1, {
                                    className: "size-4"
                                }), l.jsxs("span", {
                                    children: [a.pastMeetings.count, " past meetings with", " ", Ar(a.firstName)]
                                })]
                            }), l.jsx("p", {
                                className: "text-sm text-foreground",
                                children: a.pastMeetings.summary
                            })]
                        })]
                    }, a.id))
                })]
            })
        })
    }),
    j_ = (e, t, n = "short") => n === "short" ? `${Ar(e)} ${t?`${t.slice(0,1).toUpperCase()}.`:""}` : `${Ar(e)} ${Ar(t??"")}`,
    ym = se(function({
        response: t
    }) {
        return l.jsx(l.Fragment, {
            children: t.events.map(n => l.jsx(M_, {
                event: n,
                response: t
            }, n.id))
        })
    }),
    M_ = se(function({
        event: t,
        response: n
    }) {
        switch (t.event) {
            case "people-search-start":
                return l.jsx(T_, {
                    event: t,
                    response: n
                });
            case "generic-markdown-card":
                return l.jsx(N_, {
                    event: t
                });
            case "precall-start":
                return l.jsx(I_, {
                    event: t,
                    response: n
                });
            case "show-loading-card":
                return t.key === "precall" ? void 0 : l.jsx(A_, {
                    event: t,
                    response: n
                });
            default:
                return null
        }
    }),
    R_ = se(function({
        expanded: t,
        refocusInput: n
    }) {
        const {
            aiResponsesService: r
        } = ke(), {
            useSmartMode: i
        } = r;
        return l.jsx("div", {
            className: "flex items-center gap-2",
            children: l.jsx(X.Tooltip, {
                tooltipContent: "Good for coding, reasoning, and web searches",
                children: l.jsxs(P_, {
                    selected: i,
                    onClick: () => {
                        r.setUseSmartMode(!i), n()
                    },
                    children: [l.jsx(yg, {
                        size: 14
                    }), l.jsx(O_, {
                        expanded: t,
                        children: "Smart"
                    })]
                })
            })
        })
    });

function O_({
    expanded: e,
    children: t
}) {
    return l.jsx(V.span, {
        animate: {
            width: e ? "auto" : 0,
            opacity: e ? 1 : 0
        },
        children: l.jsx("span", {
            className: "pl-1",
            children: t
        })
    })
}

function P_({
    selected: e,
    onClick: t,
    children: n
}) {
    return l.jsx(X.HeadlessButton, {
        className: Q("flex items-center rounded-full overflow-hidden px-2 py-0.5 text-[11px] border transition pointer-events-auto", "text-white/50 bg-white/0 border-white/20", "hover:text-white/70 hover:bg-white/10 hover:border-white/40", e && "text-yellow-200/90 bg-yellow-300/20 border-yellow-200/60", e && "hover:text-yellow-200 hover:bg-yellow-300/30 hover:border-yellow-200/80"),
        onClick: t,
        children: n
    })
}

function L_(e) {
    const {
        insightsV3: t
    } = jt(), [n, r] = Pr(YD), [i, s] = h.useState(or && !n);
    h.useEffect(() => {
        or && (n ? s(!1) : e.current?.value === "" && s(!0))
    }, [n, e]), h.useEffect(() => {
        if (t) return;
        if (Wl(null), or && i) {
            be("unfocus-window", null);
            return
        }
        be("focus-window", null);
        const o = setTimeout(() => {
            e.current?.focus()
        }, 0);
        return () => clearTimeout(o)
    }, [t, e, i]), xt("Tab", () => {
        s(!1)
    }, {
        enable: i
    });
    const a = h.useCallback(() => {
        s(!1)
    }, []);
    return {
        isWaitingForTab: i,
        windowsAutoFocusWindow: n,
        setWindowsAutoFocusWindow: r,
        handleClick: a
    }
}

function D_() {
    const e = es(),
        {
            aiResponsesService: t
        } = ke(),
        {
            isManualInputActive: n
        } = t;
    h.useEffect(() => {
        e && t.setIsManualInputActive(!1)
    }, [e, t]), h.useEffect(() => {
        n || be("unfocus-window", null)
    }, [n])
}

function __({
    show: e,
    checked: t,
    onChange: n
}) {
    const r = l.jsx(X.Tooltip, {
        tooltipContent: "Uncheck to keep current window focused",
        children: l.jsxs("div", {
            className: "flex items-center gap-1.5",
            children: [l.jsx("span", {
                className: "text-white/30 text-[11px]",
                children: "Auto focus"
            }), l.jsxs("label", {
                className: "relative flex items-center",
                children: [l.jsx("input", {
                    type: "checkbox",
                    className: "appearance-none w-3.5 h-3.5 rounded border-1 border-white/30 hover:border-white/50 checked:border-white/30 transition pointer-events-auto focus:outline-none",
                    checked: t,
                    onChange: i => n(i.target.checked)
                }), t && l.jsxs("svg", {
                    className: "absolute left-0 top-0 w-3.5 h-3.5 text-white/50",
                    viewBox: "0 0 14 14",
                    children: [l.jsx("title", {
                        children: "Checked"
                    }), l.jsx("path", {
                        d: "M4 7.5l2 2 4-4",
                        strokeWidth: "1.5",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        stroke: "currentColor",
                        fill: "none"
                    })]
                })]
            })]
        })
    });
    return l.jsx(Ke, {
        children: e && l.jsx(V.div, {
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            exit: {
                opacity: 0
            },
            transition: {
                duration: .1
            },
            children: r
        })
    })
}
const Y6 = se(function({
    className: t
}) {
    const r = oo() !== "no-screenshots",
        [i, s] = Pr(V6),
        {
            aiResponsesService: a,
            contextService: o
        } = ke(),
        c = h.useRef(null),
        {
            isWaitingForTab: u,
            windowsAutoFocusWindow: d,
            setWindowsAutoFocusWindow: f,
            handleClick: m
        } = L_(c),
        p = h.useCallback(() => {
            a.setIsManualInputActive(!1)
        }, [a]),
        g = () => {
            a.triggerAi({
                shouldCaptureScreenshot: r,
                manualInput: i,
                displayInput: i,
                metadata: {
                    doSmartMode: a.useSmartMode
                }
            }), s("")
        },
        x = fn();
    xt(x.trigger_ai, g), xt("Escape", p);
    const y = u ? "Press Tab to focus, or Enter to submit silently" : o.isTranscribing ? "Ask about your screen or audio" : "Ask about your screen";
    return h.useEffect(() => {
        if (c.current) {
            const b = c.current;
            if (b.setSelectionRange) {
                const w = b.value.length;
                b.setSelectionRange(w, w)
            }
        }
    }, []), l.jsx(sn, {
        children: l.jsxs("div", {
            className: "relative",
            children: [l.jsx(X.Input, {
                ref: c,
                className: Q("pr-44", t),
                placeholder: y,
                multiLine: !0,
                value: i,
                onChange: s,
                onClick: m,
                onBlur: b => {
                    b.relatedTarget?.tagName !== "BUTTON" && b.relatedTarget?.tagName !== "INPUT" && p()
                }
            }), l.jsxs("div", {
                className: "absolute right-3.5 bottom-2.5 flex items-center gap-4 pointer-events-none",
                children: [or && l.jsx(__, {
                    show: !i,
                    checked: d,
                    onChange: f
                }), l.jsx(R_, {
                    expanded: !i,
                    refocusInput: () => c.current?.focus()
                }), l.jsx("div", {
                    className: "pointer-events-auto",
                    children: l.jsx(X.Shortcut, {
                        dataTestId: "submit-manual-input",
                        accelerator: "Enter",
                        label: "Submit",
                        onTrigger: g
                    })
                })]
            })]
        })
    })
});

function K6() {
    const {
        data: e
    } = md();
    if (e?.type !== "free") return null;
    const t = Math.max(e.messagesLimit - e.messagesCount, 0);
    return l.jsxs("div", {
        children: [l.jsxs("p", {
            className: "text-white/90 text-xs mb-0.5",
            children: ["You have ", t, " free responses left."]
        }), l.jsxs("p", {
            className: "text-white/60 text-[11px] leading-tight",
            children: ["The free plan is limited to ", e.messagesLimit, l.jsx("br", {}), "full responses per day."]
        })]
    })
}

function xc() {
    return Gt(Rr).session?.user?.isPro ?? !1
}

function i1() {
    const {
        legacyCommandBar: e
    } = jt(), t = Ei(), {
        aiResponsesService: n
    } = Ws(), r = Si(wf);
    return Ui(async () => {
        t1(), n?.clearCurrentConversation(), e ? (window.open(`${Es}/settings/billing`, "_blank"), r(!0)) : (be("broadcast-to-all-windows", {
            command: "open-dashboard-page",
            page: "/settings/billing"
        }), t(!0))
    })
}
const F_ = se(function({
        title: t,
        titleKey: n,
        showPulseAnimation: r = !1,
        children: i
    }) {
        return l.jsx(X.WindowTitle, {
            children: l.jsxs("div", {
                className: "flex flex-1 items-center w-full",
                children: [l.jsx("div", {
                    className: "flex justify-between items-center gap-2 flex-1",
                    children: l.jsxs("div", {
                        className: Q("flex flex-1 items-center", r && "animate-[pulse_1.5s_ease-in-out_infinite]"),
                        children: [l.jsx($0, {
                            className: "size-3.5 fill-white mr-2 -mt-[1px]"
                        }), _1 && l.jsx("img", {
                            src: _1,
                            className: "h-4.5 mr-3 select-none pointer-events-none"
                        }), l.jsx(Ke, {
                            mode: "popLayout",
                            children: l.jsx(V.p, {
                                className: "min-w-fit",
                                initial: {
                                    opacity: 0,
                                    x: 20
                                },
                                animate: {
                                    opacity: 1,
                                    x: 0
                                },
                                exit: {
                                    opacity: 0,
                                    x: -20
                                },
                                children: t
                            }, n)
                        })]
                    })
                }), l.jsx("div", {
                    className: "flex items-center gap-2",
                    children: i
                })]
            })
        })
    }),
    z_ = se(function({
        currentConversation: t
    }) {
        const {
            aiResponsesService: n
        } = ke(), r = s1(t);
        return n.isManualInputActive ? l.jsx(Y6, {
            className: "mt-2 border-t-1 border-white/30"
        }) : l.jsxs(l.Fragment, {
            children: [t?.state.state === "error" ? l.jsx(H_, {}) : r ? l.jsx($_, {}) : null, l.jsx(X.WindowFooter, {})]
        })
    });

function B_(e, t) {
    const {
        aiResponsesService: n
    } = ke();
    if (n.isCapturingScreenshot) return {
        content: "Analyzing screen...",
        key: "analyzing"
    };
    if (n.isCommittingTranscriptions) return {
        content: "Transcribing...",
        key: "transcribing"
    };
    if (e?.state.state === "error") return {
        content: "Error",
        key: "error"
    };
    let r = "Thinking...",
        i = Nr.aiResponse;
    return t?.events.forEach(s => {
        s.event === "set-response-title" && (r = s.streamingTitle ?? r, i = s.finishedTitle ?? i)
    }), e?.state.state === "streaming" ? {
        content: r,
        key: "streaming",
        pulse: !0
    } : {
        content: i,
        key: "finished"
    }
}

function s1(e) {
    const {
        data: t
    } = md(), r = !xc() && t?.type === "free" && t.messagesCount > t.messagesLimit, i = e?.state.state === "finished", [s, a] = h.useState(!1);
    return h.useEffect(() => {
        r && i && a(!0)
    }, [r, i]), h.useEffect(() => {
        !r && s && (a(!1), e?.retryLatestResponse())
    }, [r, s, e]), s
}
const $_ = se(function() {
        const t = at(),
            n = i1();
        return l.jsxs(V.div, {
            className: "px-4 pt-2 mt-2 flex flex-col items-center gap-1.5 border-t-1 border-white/30",
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            transition: {
                delay: .15
            },
            children: [l.jsx("p", {
                className: "text-sm text-white",
                children: " Upgrade to pro to see the full response "
            }), l.jsx(Mr, {
                tooltipContent: l.jsx(K6, {}),
                children: l.jsx(sn, {
                    children: l.jsx(X.Button, {
                        size: "lg",
                        level: "accent",
                        onClick: () => {
                            n(), t.capture(ge.RESPONSE_UPGRADE_TO_PRO_CLICKED)
                        },
                        children: "Upgrade to Pro"
                    })
                })
            })]
        })
    }),
    H_ = se(function() {
        const {
            aiResponsesService: t
        } = ke();
        return l.jsx(V.div, {
            className: "px-4 pt-2 mt-2 flex justify-center border-t-1 border-white/30",
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            transition: {
                delay: .15
            },
            children: l.jsx(X.Button, {
                size: "lg",
                level: "accent",
                onClick: () => {
                    t.currentConversation?.retryLatestResponse()
                },
                children: "Try Again"
            })
        })
    }),
    U_ = se(function({
        currentConversation: t
    }) {
        const {
            aiResponsesService: n
        } = ke();
        return t || n.isCapturingScreenshot || n.isCommittingTranscriptions ? l.jsx(V_, {
            currentConversation: t
        }) : n.isManualInputActive ? l.jsx(Y6, {}) : null
    }),
    V_ = se(function({
        currentConversation: t
    }) {
        const n = B_(t, t?.latestResponse ?? null),
            r = s1(t),
            i = t ? [...t.prevResponses, t.latestResponse] : [],
            {
                aiResponsesService: s
            } = ke(),
            a = at(),
            o = W6(),
            c = q6(),
            u = !!t && t.state.state !== "streaming";
        return l.jsxs(l.Fragment, {
            children: [l.jsx(Hl, {}), l.jsx(F_, {
                title: n.content,
                titleKey: n.key,
                showPulseAnimation: n.pulse
            }), l.jsxs(Xs, {
                maxHeight: 400,
                enableSnapToBottom: !0,
                showBottomActions: u,
                snapToBottomKey: i.length,
                scrollDownAccelerator: o,
                scrollUpAccelerator: c,
                className: "px-5 space-y-2 -mt-6",
                bottomActions: t && l.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [l.jsx(bf, {
                        onClick: () => {
                            a.capture(ge.TELL_ME_MORE_CLICKED), s.triggerAi({
                                shouldCaptureScreenshot: !1,
                                displayInput: "Tell me more",
                                manualInput: t.latestResponse.input.manualInput ? `Tell me more about this: ${t.latestResponse.input.manualInput}` : void 0,
                                metadata: {
                                    doSmartMode: !0
                                }
                            })
                        },
                        children: "Tell me more"
                    }), l.jsx(q_, {
                        response: t.latestResponse
                    })]
                }),
                children: [t && i.map(d => l.jsxs(h.Fragment, {
                    children: [l.jsx(wm, {
                        displayInput: d.input.displayInput
                    }), l.jsx(W_, {
                        response: d,
                        showUpgradeToPro: r
                    })]
                }, d.id)), s.triggerAiState && l.jsxs(l.Fragment, {
                    children: [l.jsx(wm, {
                        displayInput: s.triggerAiState.displayInput
                    }), l.jsx(ur, {
                        size: 6,
                        color: "white",
                        className: "opacity-90"
                    })]
                }), u && l.jsx("div", {
                    className: "h-10"
                })]
            }), l.jsx(z_, {
                currentConversation: t
            })]
        })
    }),
    wm = se(function({
        displayInput: t
    }) {
        return sx(), l.jsx(V.div, {
            className: "w-fit max-w-96 ml-auto px-3 py-1 rounded-2xl bg-sky-400/60 text-white text-[13px] whitespace-pre-wrap break-words",
            initial: {
                scale: 0
            },
            animate: {
                scale: 1
            },
            children: t || " Give me assistance"
        })
    }),
    W_ = se(function({
        response: t,
        showUpgradeToPro: n
    }) {
        const {
            state: r
        } = t;
        return sx(), r.state === "error" ? r.reason === "network" ? l.jsx(Tr, {
            children: "Connection failed. If the problem persists, please check your internet connection or VPN."
        }) : l.jsx(Tr, {
            children: "Response generation failed. Please try again momentarily. If the problem persists, please contact support."
        }) : r.state === "streaming" && !r.text ? l.jsxs(l.Fragment, {
            children: [l.jsx(ym, {
                response: t
            }), l.jsx(ur, {
                size: 6,
                color: "white",
                className: "opacity-90"
            })]
        }) : l.jsxs(l.Fragment, {
            children: [l.jsx(ym, {
                response: t
            }), l.jsx("div", {
                style: {
                    maskImage: n ? "linear-gradient(to bottom, black calc(100% - 50px), transparent 100%)" : void 0
                },
                children: l.jsx(Tr, {
                    className: "select-text",
                    children: r.text
                })
            })]
        })
    }),
    q_ = se(function({
        response: t
    }) {
        const [n, r] = h.useState(!1);
        if (h.useEffect(() => {
                if (n) {
                    const s = setTimeout(() => {
                        r(!1)
                    }, 2e3);
                    return () => clearTimeout(s)
                }
            }, [n]), t.state.state === "error") return null;
        const i = t.state.text;
        return l.jsx(X.Tooltip, {
            tooltipContent: "Copy Conversation",
            position: "right",
            children: l.jsx(bf, {
                onClick: () => {
                    navigator.clipboard.writeText(i), r(!0)
                },
                children: n ? l.jsx(Xa, {
                    size: 14
                }) : l.jsx(vd, {
                    size: 14
                })
            })
        })
    }),
    G_ = se(function() {
        const t = at(),
            {
                aiResponsesService: n,
                contextService: r
            } = ke(),
            {
                currentConversation: i
            } = n,
            [s, a] = Pr(V6),
            o = fn();
        D_(), xt(o.start_over, () => {
            n.clearCurrentConversation({
                onlyClearVisually: r.isInAudioSession
            }), s.length > 0 ? a("") : n.setIsManualInputActive(!1), t.capture(ge.START_OVER_PRESSED)
        });
        const c = Si(H6),
            u = () => {
                n.setIsManualInputActive(!1), n.clearCurrentConversation({
                    onlyClearVisually: r.isInAudioSession
                }), c(!0)
            };
        return l.jsxs(dr.Resizable, {
            show: n.showMainAppAiContent,
            contentClassName: "relative group",
            widthAtom: E_,
            minWidth: 400,
            children: [l.jsx(sn, {
                className: "absolute -top-2 -right-2 z-9999",
                children: l.jsx(X.HeadlessButton, {
                    className: Q("size-6 flex items-center justify-center rounded-full border border-[#71726f] hover:bg-[#71726f] transition duration-300 bg-[#616260] opacity-0 group-hover:opacity-100"),
                    onClick: u,
                    children: l.jsx(hr, {
                        className: "size-3 text-gray-300"
                    })
                })
            }), l.jsx(U_, {
                currentConversation: i
            })]
        })
    });

function Y_() {
    const {
        contextService: e
    } = ke(), t = ss();
    return {
        toggleSession: h.useCallback(() => {
            e.isInAudioSession ? (e.stopAudio(), vn.capture(ge.STOP_RECORDING_CLICKED)) : (t({}), vn.capture(ge.START_RECORDING_CLICKED))
        }, [e, t]),
        isInSession: e.isInAudioSession
    }
}
const K_ = se(function() {
        const {
            insightsV3: t
        } = jt(), {
            toggleSession: n
        } = Y_(), r = fn();
        return xt(r.toggle_session, n, {
            enable: !0
        }), t ? null : l.jsxs(l.Fragment, {
            children: [l.jsx(ti, {
                children: l.jsx(x_, {})
            }), l.jsx(G_, {})]
        })
    }),
    Sm = 7,
    X_ = 8,
    Z_ = 80;

function X6({
    allowVDrag: e = !1,
    className: t,
    children: n
}) {
    const {
        getX: r,
        getY: i,
        moveDrag: s,
        onVDragStart: a,
        onVDragEnd: o
    } = ts(), c = h.useRef({
        state: "idle"
    }), u = h.useRef(null), d = h.useRef(null), f = h.useRef(null), m = h.useRef(null), p = h.useRef(null), g = h.useRef(null), x = h.useRef(!1), y = h.useRef(!1), b = h.useRef(null), w = Cy(), C = h.useCallback(j => {
        if (!u.current) return;
        const H = u.current.getBoundingClientRect();
        if (j.clientX > H.left && j.clientX < H.right && j.clientY > H.top && j.clientY < H.bottom) {
            const D = gi.getDisplays().find(_ => j.screenX >= _.bounds.x && j.screenX < _.bounds.x + _.bounds.width && j.screenY >= _.bounds.y && j.screenY < _.bounds.y + _.bounds.height);
            d.current = D?.id ?? null, c.current = {
                state: "dragging-in-dead-zone",
                startClientX: j.clientX,
                startClientY: j.clientY
            }, e && a()
        }
    }, [a, e]), E = h.useCallback(() => {
        m.current = null;
        const j = p.current;
        if (!j) return;
        const z = j;
        if (c.current.state !== "dragging") return;
        const R = gi.getDisplays().find(B => z.screenX >= B.bounds.x && z.screenX < B.bounds.x + B.bounds.width && z.screenY >= B.bounds.y && z.screenY < B.bounds.y + B.bounds.height);
        R && R.id !== d.current && (document.body.style.opacity = "0", b.current = setTimeout(() => {
            document.body.style.opacity = "1", b.current = null
        }, 50), f.current = {
            screenX: z.screenX,
            screenY: z.screenY
        }, d.current = R.id, x.current = !0, e && !y.current && (o(), y.current = !0), be("move-window-to-display", {
            displayId: R.id,
            preservePosition: !0,
            cursorScreenX: z.screenX,
            cursorScreenY: z.screenY
        })), f.current && (f.current = {
            screenX: z.screenX,
            screenY: z.screenY
        });
        const D = z.clientY - c.current.startClientY;
        let _ = c.current.startY + D,
            O;
        if (u.current) {
            const B = u.current.getBoundingClientRect(),
                U = c.current.pointerOffsetX ?? B.width / 2,
                fe = z.clientX - U - B.left;
            O = r() + fe
        } else O = r();
        x.current && (O = r(), _ = i());
        let F = O;
        Math.abs(O) < X_ ? (g.current == null && (g.current = performance.now()), performance.now() - g.current >= Z_ && (F = 0)) : g.current = null;
        const G = x.current ? O : F;
        let Y = G,
            W = _;
        try {
            const B = u.current;
            if (B) {
                const U = B.getBoundingClientRect(),
                    I = r(),
                    fe = i(),
                    re = G - I,
                    M = _ - fe,
                    ye = 0,
                    Oe = 12,
                    K = 24,
                    J = 12;
                let pe = re,
                    de = M;
                const ce = U.left + re,
                    ae = U.right + re,
                    ue = U.top + M,
                    Ce = U.bottom + M,
                    je = J,
                    Te = window.innerWidth - Oe,
                    ve = ye,
                    Pe = window.innerHeight - K;
                ce < je && (pe += je - ce), ae > Te && (pe -= ae - Te), ue < ve && (de += ve - ue), Ce > Pe && (de -= Ce - Pe), Y = I + pe, W = fe + de
            }
        } catch {}
        s(Y, W)
    }, [r, i, s, e, o]), A = h.useCallback(j => {
        if (c.current.state === "dragging-in-dead-zone") {
            const z = Math.abs(j.clientX - c.current.startClientX),
                H = Math.abs(j.clientY - c.current.startClientY);
            if (e ? Math.hypot(z, H) > Sm : z > Sm) {
                let D, _;
                try {
                    if (u.current) {
                        const O = u.current.getBoundingClientRect();
                        D = j.clientX - O.left, _ = j.clientY - O.top
                    }
                } catch {}
                c.current = {
                    state: "dragging",
                    startClientX: j.clientX,
                    startClientY: j.clientY,
                    startX: r(),
                    startY: i(),
                    pointerOffsetX: D,
                    pointerOffsetY: _
                }, w(!0), g.current = null
            }
        }
        c.current.state === "dragging" && (p.current = {
            clientX: j.clientX,
            clientY: j.clientY,
            screenX: j.screenX,
            screenY: j.screenY
        }, m.current == null && (m.current = requestAnimationFrame(E)))
    }, [r, i, e, E, w]);
    gt("display-changed", j => {
        const z = f.current;
        if (!z) {
            x.current = !1, e && y.current && (a(), y.current = !1);
            return
        }
        f.current = null;
        try {
            const H = gi.getDisplays(),
                R = (_, O, F) => _ >= F.x && _ < F.x + F.width && O >= F.y && O < F.y + F.height;
            if (H.some(_ => R(z.screenX, z.screenY, _.bounds)) && u.current) {
                const _ = u.current.getBoundingClientRect(),
                    O = H.find(ye => R(z.screenX, z.screenY, ye.bounds)),
                    F = O ? z.screenX - O.bounds.x : z.screenX - window.screenX,
                    G = O ? z.screenY - O.bounds.y : z.screenY - window.screenY,
                    Y = c.current.state === "dragging" ? c.current.pointerOffsetX ?? _.width / 2 : _.width / 2,
                    W = c.current.state === "dragging" ? c.current.pointerOffsetY ?? 0 : 0,
                    B = F - Y,
                    U = G - W,
                    I = B - _.left,
                    fe = U - _.top,
                    re = r() + I,
                    M = i() + fe;
                s(re, M), c.current.state === "dragging" && (c.current = {
                    ...c.current,
                    startClientX: F,
                    startClientY: G,
                    startX: re,
                    startY: M
                })
            }
        } catch {}
        x.current = !1, e && y.current && (a(), y.current = !1)
    });
    const N = h.useCallback(j => {
        c.current.state !== "idle" && (c.current = {
            state: "idle"
        }, o(), w(!1))
    }, [o, w]);
    return h.useEffect(() => {
        if (!u.current) return;
        const j = u.current;
        return j.addEventListener("mousedown", C), window.addEventListener("mousemove", A), window.addEventListener("pointermove", A, {
            capture: !0
        }), window.addEventListener("click", N, {
            capture: !0
        }), () => {
            j.removeEventListener("mousedown", C), window.removeEventListener("mousemove", A), window.removeEventListener("pointermove", A, !0), window.removeEventListener("click", N, {
                capture: !0
            }), m.current != null && (cancelAnimationFrame(m.current), m.current = null)
        }
    }, [C, A, N]), l.jsx("div", {
        ref: u,
        className: t,
        children: n
    })
}
const Q_ = se(function() {
        const {
            legacyCommandBar: t
        } = jt();
        return t ? null : l.jsx(ti, {
            children: l.jsxs(X6, {
                allowVDrag: !0,
                className: "flex items-center justify-center gap-1.5 h-[calc(100%-1px)] rounded-r-full mr-0.5 ml-1 hover:bg-white/15 transition duration-100",
                children: [l.jsx("div", {
                    className: "w-[1px] h-full bg-white/30"
                }), l.jsx(F8, {
                    className: "text-white/90 h-5 w-5 mr-1.5"
                })]
            })
        })
    }),
    J_ = se(function() {
        const t = es(),
            {
                metadata: {
                    dontShowHideNotificationAgain: n
                },
                setMetadataIfLoaded: r
            } = Or(),
            [i, s] = h.useState(!1),
            a = ky();
        h.useEffect(() => {
            s(t && !n && a)
        }, [t, n, a]);
        const o = fn();
        return l.jsx(dr.Notification, {
            aggro: !0,
            show: i,
            onDismiss: () => s(!1),
            captureMouseEvents: !0,
            captureMouseEventsEvenWhenHidden: !0,
            opaque: !0,
            positionClassName: "group",
            children: l.jsxs("div", {
                className: "flex flex-col gap-1.5 w-full",
                children: [l.jsxs("div", {
                    className: "w-full justify-between flex items-center text-[#7c7e86]",
                    children: [l.jsx("span", {
                        className: "font-semibold text-xs",
                        children: "Shortcuts"
                    }), l.jsxs("div", {
                        className: "flex items-center gap-1.5 font-medium text-xs",
                        children: [l.jsxs(X.HeadlessButton, {
                            onClick: () => r(c => ({
                                ...c,
                                dontShowHideNotificationAgain: !0
                            })),
                            className: "opacity-0 cursor-pointer group-hover:opacity-100 transition-opacity hover:transition-colors duration-150 ease-out flex items-center gap-1.5 hover:text-[#c5c7ce]",
                            children: ["Don't show again", l.jsx("div", {
                                "classtransition-colorsName": "w-px h-2.5 bg-current"
                            })]
                        }), l.jsx(hr, {
                            onClick: () => s(!1),
                            className: "size-4 cursor-pointer hover:transition-colors duration-150 ease-out hover:text-[#c5c7ce]"
                        })]
                    })]
                }), l.jsxs("div", {
                    className: "text-[#c5c7ce] text-[15px] tracking-[-0.1px]",
                    children: ["Press ", l.jsx(X.Shortcut, {
                        accelerator: o.hide,
                        className: "inline-block mx-1"
                    }), " ", "to bring ", Be, " back at any time."]
                })]
            })
        })
    }),
    eF = se(function() {
        const [t, n] = Pr($6), {
            metadata: {
                dontShowAskAiNotificationAgain: r
            },
            setMetadataIfLoaded: i
        } = Or(), [s, a] = h.useState(!1);
        h.useEffect(() => {
            t && (n(!1), r || a(!0)), r && a(!1)
        }, [t, n, r]);
        const o = fn();
        return l.jsx(dr.Notification, {
            aggro: !0,
            show: s,
            onDismiss: () => a(!1),
            captureMouseEvents: !0,
            captureMouseEventsEvenWhenHidden: !0,
            opaque: !0,
            positionClassName: "group",
            children: l.jsxs("div", {
                className: "flex flex-col gap-1.5 w-full",
                children: [l.jsxs("div", {
                    className: "w-full justify-between flex items-center text-[#7c7e86]",
                    children: [l.jsx("span", {
                        className: "font-semibold text-xs",
                        children: "Shortcuts"
                    }), l.jsxs("div", {
                        className: "flex items-center gap-1.5 font-medium text-xs",
                        children: [l.jsxs(X.HeadlessButton, {
                            onClick: () => i(c => ({
                                ...c,
                                dontShowAskAiNotificationAgain: !0
                            })),
                            className: "opacity-0 cursor-pointer group-hover:opacity-100 transition-opacity hover:transition-colors duration-150 ease-out flex items-center gap-1.5 hover:text-[#c5c7ce]",
                            children: ["Don't show again", l.jsx("div", {
                                className: "w-px h-2.5 bg-current"
                            })]
                        }), l.jsx(hr, {
                            onClick: () => a(!1),
                            className: "size-4 cursor-pointer hover:transition-colors duration-150 ease-out hover:text-[#c5c7ce]"
                        })]
                    })]
                }), l.jsxs("div", {
                    className: "text-[#c5c7ce] text-[15px] tracking-[-0.1px]",
                    children: ["Press", " ", l.jsx(X.Shortcut, {
                        accelerator: o.trigger_ai,
                        className: "inline-block mx-1"
                    }), " ", "to ask about anything on your screen."]
                })]
            })
        })
    }),
    tF = se(function() {
        const [t, n] = Pr(H6), {
            metadata: {
                dontShowCmdRNotificationAgain: r
            },
            setMetadataIfLoaded: i
        } = Or(), [s, a] = h.useState(!1);
        h.useEffect(() => {
            t && (n(!1), r || a(!0)), r && a(!1)
        }, [t, n, r]);
        const o = fn();
        return l.jsx(dr.Notification, {
            aggro: !0,
            show: s,
            onDismiss: () => a(!1),
            captureMouseEvents: !0,
            captureMouseEventsEvenWhenHidden: !0,
            opaque: !0,
            positionClassName: "group",
            children: l.jsxs("div", {
                className: "flex flex-col gap-1.5 w-full",
                children: [l.jsxs("div", {
                    className: "w-full justify-between flex items-center text-[#7c7e86]",
                    children: [l.jsx("span", {
                        className: "font-semibold text-xs",
                        children: "Shortcuts"
                    }), l.jsxs("div", {
                        className: "flex items-center gap-1.5 font-medium text-xs",
                        children: [l.jsxs(X.HeadlessButton, {
                            onClick: () => i(c => ({
                                ...c,
                                dontShowCmdRNotificationAgain: !0
                            })),
                            className: "opacity-0 cursor-pointer group-hover:opacity-100 transition-opacity hover:transition-colors duration-150 ease-out flex items-center gap-1.5 hover:text-[#c5c7ce]",
                            children: ["Don't show again", l.jsx("div", {
                                className: "w-px h-2.5 bg-current"
                            })]
                        }), l.jsx(hr, {
                            onClick: () => a(!1),
                            className: "size-4 cursor-pointer hover:transition-colors duration-150 ease-out hover:text-[#c5c7ce]"
                        })]
                    })]
                }), l.jsxs("div", {
                    className: "text-[#c5c7ce] text-[15px] tracking-[-0.1px]",
                    children: ["Press", " ", l.jsx(X.Shortcut, {
                        accelerator: o.start_over,
                        className: "inline-block mx-1"
                    }), " ", "to clear the current conversation."]
                })]
            })
        })
    }),
    nF = se(function() {
        return l.jsxs(l.Fragment, {
            children: [l.jsx(eF, {}), l.jsx(J_, {}), l.jsx(tF, {})]
        })
    }),
    Z6 = se(function() {
        Ey();
        const t = fn();
        return l.jsx(Ny, {
            children: l.jsx(Mr, {
                position: "right",
                tooltipContent: l.jsxs("span", {
                    children: ["Hide ", Be, ". Press", l.jsx(X.Shortcut, {
                        accelerator: t.hide,
                        className: "inline-block mx-1.5"
                    }), "again to show."]
                }),
                children: l.jsx(X.Shortcut, {
                    label: l.jsx("div", {
                        className: "flex items-center justify-center h-6 w-6",
                        children: l.jsx(hr, {
                            className: "text-white/90 h-4 w-4"
                        })
                    }),
                    accelerator: t.hide,
                    commandBarHideShortcut: !0,
                    flushButton: !0,
                    onTrigger: ({
                        fromClick: n
                    }) => {
                        n && ql("click")
                    }
                })
            })
        })
    }),
    rF = se(function() {
        const {
            legacyCommandBar: t
        } = jt(), n = Gl();
        if (t) return null;
        const r = `Currently ${n?"invisible":"visible"}. Click to make ${n?"visible":"invisible"}.`;
        return l.jsx(ti, {
            children: l.jsx(Mr, {
                tooltipContent: r,
                gap: 12,
                children: l.jsx(X.Shortcut, {
                    className: "ml-2",
                    label: n ? l.jsx(D6, {
                        className: "size-5.5 fill-white/90"
                    }) : l.jsx(bd, {
                        className: "size-5.5 text-white/90"
                    }),
                    onTrigger: () => be("toggle-invisible", null)
                })
            })
        })
    });
var a1 = ({
        children: e,
        size: t = 24,
        ariaLabel: n,
        color: r,
        ariaHidden: i = !0,
        style: s,
        ...a
    }) => Ue.createElement("svg", {
        ...a,
        "aria-hidden": i,
        role: i ? void 0 : "img",
        width: typeof t == "number" ? `${t}px` : t,
        height: typeof t == "number" ? `${t}px` : t,
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        style: {
            color: r,
            ...s
        }
    }, n && !i && Ue.createElement("title", null, n), e),
    iF = e => Ue.createElement(a1, {
        ...e,
        ariaLabel: "home-open, house"
    }, Ue.createElement("path", {
        d: "M13.8153 2.34689C12.7771 1.4345 11.2229 1.4345 10.1847 2.34689L3.93468 7.83932C3.34056 8.36143 3 9.11408 3 9.90502V18.2501C3 19.7689 4.23122 21.0001 5.75 21.0001H8.16057C9.12707 21.0001 9.91057 20.2166 9.91057 19.2501V17.0001C9.91057 15.8955 10.806 15.0001 11.9106 15.0001H12C13.1046 15.0001 14 15.8955 14 17.0001V19.2501C14 20.2166 14.7835 21.0001 15.75 21.0001H18.25C19.7688 21.0001 21 19.7689 21 18.2501V9.90502C21 9.11408 20.6594 8.36143 20.0653 7.83932L13.8153 2.34689Z",
        fill: "currentColor"
    })),
    sF = e => Ue.createElement(a1, {
        ...e,
        ariaLabel: "images-3, photos, pictures, shot"
    }, Ue.createElement("path", {
        d: "M14.25 6.75C13.0074 6.75 12 7.75736 12 9C12 10.2426 13.0074 11.25 14.25 11.25C15.4926 11.25 16.5 10.2426 16.5 9C16.5 7.75736 15.4926 6.75 14.25 6.75Z",
        fill: "currentColor"
    }), Ue.createElement("path", {
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M3 5.75C3 4.23122 4.23122 3 5.75 3H18.25C19.7688 3 21 4.23122 21 5.75V18.25C21 19.7688 19.7688 21 18.25 21H5.75C4.23122 21 3 19.7688 3 18.25V5.75ZM19.4876 18.4267L14.8839 13.823C14.3957 13.3348 13.6043 13.3348 13.1161 13.823L12.1768 14.7623C12.0791 14.8599 11.9209 14.8599 11.8232 14.7623L8.87333 11.8124C8.3956 11.3347 7.62472 11.323 7.13274 11.786L4.5 14.2639V5.75C4.5 5.05964 5.05964 4.5 5.75 4.5H18.25C18.9404 4.5 19.5 5.05964 19.5 5.75V18.25C19.5 18.31 19.4958 18.369 19.4876 18.4267Z",
        fill: "currentColor"
    })),
    aF = e => Ue.createElement(a1, {
        ...e,
        ariaLabel: "thinking-bubble"
    }, Ue.createElement("path", {
        d: "M9.84063 3.66332C10.5326 2.66088 11.6886 2 13 2C14.3114 2 15.4674 2.66088 16.1594 3.66332C16.3457 3.93323 16.6618 4.09154 16.928 4.08087C16.9934 4.07824 17.0591 4.07692 17.125 4.07692C19.8223 4.07692 22 6.27739 22 8.98077C22 10.8084 21.0053 12.4037 19.5308 13.2467C19.437 13.3003 19.3591 13.3788 19.3064 13.4722C18.471 14.9553 16.8852 15.9615 15.0625 15.9615C14.5264 15.9615 14.0092 15.8742 13.5249 15.7124C13.229 15.6135 12.7981 15.7097 12.5181 15.9706C11.8336 16.6084 10.9149 17 9.90625 17C7.77849 17 6.0625 15.2645 6.0625 13.1346C6.0625 13.0351 6.01607 12.9538 5.96146 12.9128C4.77128 12.0192 4 10.5897 4 8.98077C4 6.27739 6.17769 4.07692 8.875 4.07692C8.94094 4.07692 9.00662 4.07824 9.07201 4.08087C9.33815 4.09153 9.65433 3.93323 9.84063 3.66332Z",
        fill: "currentColor"
    }), Ue.createElement("path", {
        d: "M2 19C2 17.3431 3.34315 16 5 16C6.65685 16 8 17.3431 8 19C8 20.6569 6.65685 22 5 22C3.34315 22 2 20.6569 2 19Z",
        fill: "currentColor"
    }));
const Cm = {};

function ra(e, t) {
    const n = h.useRef(Cm);
    return n.current === Cm && (n.current = e(t)), n
}
const oF = [];

function Q6(e) {
    h.useEffect(e, oF)
}
const ha = 0;
class Yi {
    static create() {
        return new Yi
    }
    currentId = ha;
    start(t, n) {
        this.clear(), this.currentId = setTimeout(() => {
            this.currentId = ha, n()
        }, t)
    }
    isStarted() {
        return this.currentId !== ha
    }
    clear = () => {
        this.currentId !== ha && (clearTimeout(this.currentId), this.currentId = ha)
    };
    disposeEffect = () => this.clear
}

function wi() {
    const e = ra(Yi.create).current;
    return Q6(e.disposeEffect), e
}

function lF({
    controlled: e,
    default: t,
    name: n,
    state: r = "value"
}) {
    const {
        current: i
    } = h.useRef(e !== void 0), [s, a] = h.useState(t), o = i ? e : s, c = h.useCallback(u => {
        i || a(u)
    }, []);
    return [o, c]
}
const Eu = $i[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0, -3)],
    cF = Eu && Eu !== h.useLayoutEffect ? Eu : e => e();

function tt(e) {
    const t = ra(uF).current;
    return t.next = e, cF(t.effect), t.trampoline
}

function uF() {
    const e = {
        next: void 0,
        callback: dF,
        trampoline: (...t) => e.callback?.(...t),
        effect: () => {
            e.callback = e.next
        }
    };
    return e
}

function dF() {}
const fF = () => {},
    It = typeof document < "u" ? h.useLayoutEffect : fF;

function Yn(e) {
    const t = ra(hF, e).current;
    return t.next = e, It(t.effect), t
}

function hF(e) {
    const t = {
        current: e,
        next: e,
        effect: () => {
            t.current = t.next
        }
    };
    return t
}
const ia = typeof navigator < "u",
    Nu = xF(),
    J6 = bF(),
    ev = vF(),
    tv = typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter:none"),
    pF = Nu.platform === "MacIntel" && Nu.maxTouchPoints > 1 ? !0 : /iP(hone|ad|od)|iOS/.test(Nu.platform),
    mF = ia && /apple/i.test(navigator.vendor),
    H0 = ia && /android/i.test(J6) || /android/i.test(ev);
ia && J6.toLowerCase().startsWith("mac") && navigator.maxTouchPoints;
const gF = ev.includes("jsdom/");

function xF() {
    if (!ia) return {
        platform: "",
        maxTouchPoints: -1
    };
    const e = navigator.userAgentData;
    return e?.platform ? {
        platform: e.platform,
        maxTouchPoints: navigator.maxTouchPoints
    } : {
        platform: navigator.platform ?? "",
        maxTouchPoints: navigator.maxTouchPoints ?? -1
    }
}

function vF() {
    if (!ia) return "";
    const e = navigator.userAgentData;
    return e && Array.isArray(e.brands) ? e.brands.map(({
        brand: t,
        version: n
    }) => `${t}/${n}`).join(" ") : navigator.userAgent
}

function bF() {
    if (!ia) return "";
    const e = navigator.userAgentData;
    return e?.platform ? e.platform : navigator.platform ?? ""
}
const U0 = "data-base-ui-focusable",
    nv = "active",
    rv = "selected",
    yF = "input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";

function Ss(e) {
    let t = e.activeElement;
    for (; t?.shadowRoot?.activeElement != null;) t = t.shadowRoot.activeElement;
    return t
}

function Zt(e, t) {
    if (!e || !t) return !1;
    const n = t.getRootNode?.();
    if (e.contains(t)) return !0;
    if (n && D0(n)) {
        let r = t;
        for (; r;) {
            if (e === r) return !0;
            r = r.parentNode || r.host
        }
    }
    return !1
}

function yr(e) {
    return "composedPath" in e ? e.composedPath()[0] : e.target
}

function Ur(e, t) {
    if (t == null) return !1;
    if ("composedPath" in e) return e.composedPath().includes(t);
    const n = e;
    return n.target != null && t.contains(n.target)
}

function wF(e) {
    return e.matches("html,body")
}

function Jt(e) {
    return e?.ownerDocument || document
}

function iv(e) {
    return Qe(e) && e.matches(yF)
}

function km(e) {
    return e ? e.getAttribute("role") === "combobox" && iv(e) : !1
}

function V0(e) {
    return e ? e.hasAttribute(U0) ? e : e.querySelector(`[${U0}]`) || e : null
}

function Bi(e, t, n = !0) {
    return e.filter(i => i.parentId === t && (!n || i.context?.open)).flatMap(i => [i, ...Bi(e, i.id, n)])
}

function Em(e, t) {
    let n = [],
        r = e.find(i => i.id === t)?.parentId;
    for (; r;) {
        const i = e.find(s => s.id === r);
        r = i?.parentId, i && (n = n.concat(i))
    }
    return n
}

function SF(e) {
    e.preventDefault(), e.stopPropagation()
}

function CF(e) {
    return "nativeEvent" in e
}

function kF(e) {
    return e.mozInputSource === 0 && e.isTrusted ? !0 : H0 && e.pointerType ? e.type === "click" && e.buttons === 1 : e.detail === 0 && !e.pointerType
}

function EF(e) {
    return gF ? !1 : !H0 && e.width === 0 && e.height === 0 || H0 && e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === "mouse" || e.width < 1 && e.height < 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === "touch"
}

function Va(e, t) {
    const n = ["mouse", "pen"];
    return t || n.push("", void 0), n.includes(e)
}
const ho = () => ({
    getShadowRoot: !0,
    displayCheck: typeof ResizeObserver == "function" && ResizeObserver.toString().includes("[native code]") ? "full" : "none"
});

function sv(e, t) {
    const n = pc(e, ho()),
        r = n.length;
    if (r === 0) return;
    const i = Ss(Jt(e)),
        s = n.indexOf(i),
        a = s === -1 ? t === 1 ? 0 : r - 1 : s + t;
    return n[a]
}

function av(e) {
    return sv(Jt(e).body, 1) || e
}

function ov(e) {
    return sv(Jt(e).body, -1) || e
}

function Ia(e, t) {
    const n = t || e.currentTarget,
        r = e.relatedTarget;
    return !r || !Zt(n, r)
}

function NF(e) {
    pc(e, ho()).forEach(n => {
        n.dataset.tabindex = n.getAttribute("tabindex") || "", n.setAttribute("tabindex", "-1")
    })
}

function Nm(e) {
    e.querySelectorAll("[data-tabindex]").forEach(n => {
        const r = n.dataset.tabindex;
        delete n.dataset.tabindex, r ? n.setAttribute("tabindex", r) : n.removeAttribute("tabindex")
    })
}
const AF = {
    ...$i
};
let Am = 0;

function TF(e, t = "mui") {
    const [n, r] = h.useState(e), i = e || n;
    return h.useEffect(() => {
        n == null && (Am += 1, r(`${t}-${Am}`))
    }, [n, t]), i
}
const Tm = AF.useId;

function vc(e, t) {
    return Tm !== void 0 ? Tm() : TF(e, t)
}

function lv() {
    const e = new Map;
    return {
        emit(t, n) {
            e.get(t)?.forEach(r => r(n))
        },
        on(t, n) {
            e.has(t) || e.set(t, new Set), e.get(t).add(n)
        },
        off(t, n) {
            e.get(t)?.delete(n)
        }
    }
}
const cv = h.createContext(null),
    uv = h.createContext(null),
    sa = () => h.useContext(cv)?.id || null,
    po = () => h.useContext(uv);

function IF(e) {
    const t = vc(),
        n = po(),
        i = sa();
    return It(() => {
        if (!t) return;
        const s = {
            id: t,
            parentId: i
        };
        return n?.addNode(s), () => {
            n?.removeNode(s)
        }
    }, [n, t, i]), t
}

function jF(e) {
    const {
        children: t,
        id: n
    } = e, r = sa();
    return l.jsx(cv.Provider, {
        value: h.useMemo(() => ({
            id: n,
            parentId: r
        }), [n, r]),
        children: t
    })
}

function MF(e) {
    const {
        children: t
    } = e, n = h.useRef([]), r = h.useCallback(a => {
        n.current = [...n.current, a]
    }, []), i = h.useCallback(a => {
        n.current = n.current.filter(o => o !== a)
    }, []), [s] = h.useState(() => lv());
    return l.jsx(uv.Provider, {
        value: h.useMemo(() => ({
            nodesRef: n,
            addNode: r,
            removeNode: i,
            events: s
        }), [r, i, s]),
        children: t
    })
}

function RF() {}
const qr = Object.freeze({}),
    OF = 500,
    PF = {
        style: {
            transition: "none"
        }
    },
    dv = "data-base-ui-click-trigger",
    LF = {
        fallbackAxisSide: "end"
    };

function ln(e, t, n) {
    let r = !1,
        i = !1;
    const s = qr;
    return {
        reason: e,
        event: t ?? new Event("base-ui"),
        cancel() {
            r = !0
        },
        allowPropagation() {
            i = !0
        },
        get isCanceled() {
            return r
        },
        get isPropagationAllowed() {
            return i
        },
        ...s
    }
}

function Wa(e) {
    return `data-base-ui-${e}`
}
const Im = Wa("safe-polygon");

function Au(e, t, n) {
    if (n && !Va(n)) return 0;
    if (typeof e == "number") return e;
    if (typeof e == "function") {
        const r = e();
        return typeof r == "number" ? r : r?.[t]
    }
    return e?.[t]
}

function Tu(e) {
    return typeof e == "function" ? e() : e
}

function DF(e, t = {}) {
    const {
        open: n,
        onOpenChange: r,
        dataRef: i,
        events: s,
        elements: a
    } = e, {
        enabled: o = !0,
        delay: c = 0,
        handleClose: u = null,
        mouseOnly: d = !1,
        restMs: f = 0,
        move: m = !0
    } = t, p = po(), g = sa(), x = Yn(u), y = Yn(c), b = Yn(n), w = Yn(f), C = h.useRef(void 0), E = wi(), A = h.useRef(void 0), N = wi(), j = h.useRef(!0), z = h.useRef(!1), H = h.useRef(() => {}), R = h.useRef(!1), D = tt(() => {
        const W = i.current.openEvent?.type;
        return W?.includes("mouse") && W !== "mousedown"
    });
    h.useEffect(() => {
        if (!o) return;

        function W(B) {
            B.open || (E.clear(), N.clear(), j.current = !0, R.current = !1)
        }
        return s.on("openchange", W), () => {
            s.off("openchange", W)
        }
    }, [o, s, E, N]), h.useEffect(() => {
        if (!o || !x.current || !n) return;

        function W(U) {
            D() && r(!1, ln("trigger-hover", U))
        }
        const B = Jt(a.floating).documentElement;
        return B.addEventListener("mouseleave", W), () => {
            B.removeEventListener("mouseleave", W)
        }
    }, [a.floating, n, r, o, x, D]);
    const _ = h.useCallback((W, B = !0) => {
            const U = Au(y.current, "close", C.current);
            U && !A.current ? E.start(U, () => r(!1, ln("trigger-hover", W))) : B && (E.clear(), r(!1, ln("trigger-hover", W)))
        }, [y, r, E]),
        O = tt(() => {
            H.current(), A.current = void 0
        }),
        F = tt(() => {
            if (z.current) {
                const W = Jt(a.floating).body;
                W.style.pointerEvents = "", W.removeAttribute(Im), z.current = !1
            }
        }),
        G = tt(() => i.current.openEvent ? ["click", "mousedown"].includes(i.current.openEvent.type) : !1);
    h.useEffect(() => {
        if (!o) return;

        function W(re) {
            if (E.clear(), j.current = !1, d && !Va(C.current) || Tu(w.current) > 0 && !Au(y.current, "open")) return;
            const M = Au(y.current, "open", C.current);
            M ? E.start(M, () => {
                b.current || r(!0, ln("trigger-hover", re))
            }) : n || r(!0, ln("trigger-hover", re))
        }

        function B(re) {
            if (G()) {
                F();
                return
            }
            H.current();
            const M = Jt(a.floating);
            if (N.clear(), R.current = !1, x.current && i.current.floatingContext) {
                n || E.clear(), A.current = x.current({
                    ...i.current.floatingContext,
                    tree: p,
                    x: re.clientX,
                    y: re.clientY,
                    onClose() {
                        F(), O(), G() || _(re, !0)
                    }
                });
                const Oe = A.current;
                M.addEventListener("mousemove", Oe), H.current = () => {
                    M.removeEventListener("mousemove", Oe)
                };
                return
            }(C.current === "touch" ? !Zt(a.floating, re.relatedTarget) : !0) && _(re)
        }

        function U(re) {
            G() || i.current.floatingContext && x.current?.({
                ...i.current.floatingContext,
                tree: p,
                x: re.clientX,
                y: re.clientY,
                onClose() {
                    F(), O(), G() || _(re)
                }
            })(re)
        }

        function I() {
            E.clear()
        }

        function fe(re) {
            G() || _(re, !1)
        }
        if (Re(a.domReference)) {
            const re = a.domReference,
                M = a.floating;
            return n && re.addEventListener("mouseleave", U), m && re.addEventListener("mousemove", W, {
                once: !0
            }), re.addEventListener("mouseenter", W), re.addEventListener("mouseleave", B), M && (M.addEventListener("mouseleave", U), M.addEventListener("mouseenter", I), M.addEventListener("mouseleave", fe)), () => {
                n && re.removeEventListener("mouseleave", U), m && re.removeEventListener("mousemove", W), re.removeEventListener("mouseenter", W), re.removeEventListener("mouseleave", B), M && (M.removeEventListener("mouseleave", U), M.removeEventListener("mouseenter", I), M.removeEventListener("mouseleave", fe))
            }
        }
    }, [a, o, e, d, m, _, O, F, r, n, b, p, y, x, i, G, w, E, N]), It(() => {
        if (o && n && x.current?.__options?.blockPointerEvents && D()) {
            z.current = !0;
            const W = a.floating;
            if (Re(a.domReference) && W) {
                const B = Jt(a.floating).body;
                B.setAttribute(Im, "");
                const U = a.domReference,
                    I = p?.nodesRef.current.find(fe => fe.id === g)?.context?.elements.floating;
                return I && (I.style.pointerEvents = ""), B.style.pointerEvents = "none", U.style.pointerEvents = "auto", W.style.pointerEvents = "auto", () => {
                    B.style.pointerEvents = "", U.style.pointerEvents = "", W.style.pointerEvents = ""
                }
            }
        }
    }, [o, n, g, a, p, x, D]), It(() => {
        n || (C.current = void 0, R.current = !1, O(), F())
    }, [n, O, F]), h.useEffect(() => () => {
        O(), E.clear(), N.clear()
    }, [o, a.domReference, O, E, N]), h.useEffect(() => F, [F]);
    const Y = h.useMemo(() => {
        function W(B) {
            C.current = B.pointerType
        }
        return {
            onPointerDown: W,
            onPointerEnter: W,
            onMouseMove(B) {
                const {
                    nativeEvent: U
                } = B;

                function I() {
                    !j.current && !b.current && r(!0, ln("trigger-hover", U))
                }
                d && !Va(C.current) || n || Tu(w.current) === 0 || R.current && B.movementX ** 2 + B.movementY ** 2 < 2 || (N.clear(), C.current === "touch" ? I() : (R.current = !0, N.start(Tu(w.current), I)))
            }
        }
    }, [d, r, n, b, w, N]);
    return h.useMemo(() => o ? {
        reference: Y
    } : {}, [o, Y])
}

function Tl(e, t, n, r) {
    const i = ra(fv).current;
    return FF(i, e, t, n, r) && hv(i, [e, t, n, r]), i.callback
}

function _F(e) {
    const t = ra(fv).current;
    return zF(t, e) && hv(t, e), t.callback
}

function fv() {
    return {
        callback: null,
        cleanup: null,
        refs: []
    }
}

function FF(e, t, n, r, i) {
    return e.refs[0] !== t || e.refs[1] !== n || e.refs[2] !== r || e.refs[3] !== i
}

function zF(e, t) {
    return e.refs.length !== t.length || e.refs.some((n, r) => n !== t[r])
}

function hv(e, t) {
    if (e.refs = t, t.every(n => n == null)) {
        e.callback = null;
        return
    }
    e.callback = n => {
        if (e.cleanup && (e.cleanup(), e.cleanup = null), n != null) {
            const r = Array(t.length).fill(null);
            for (let i = 0; i < t.length; i += 1) {
                const s = t[i];
                if (s != null) switch (typeof s) {
                    case "function": {
                        const a = s(n);
                        typeof a == "function" && (r[i] = a);
                        break
                    }
                    case "object": {
                        s.current = n;
                        break
                    }
                }
            }
            e.cleanup = () => {
                for (let i = 0; i < t.length; i += 1) {
                    const s = t[i];
                    if (s != null) switch (typeof s) {
                        case "function": {
                            const a = r[i];
                            typeof a == "function" ? a() : s(null);
                            break
                        }
                        case "object": {
                            s.current = null;
                            break
                        }
                    }
                }
            }
        }
    }
}
const o1 = {
        clip: "rect(0 0 0 0)",
        overflow: "hidden",
        whiteSpace: "nowrap",
        position: "fixed",
        top: 0,
        left: 0,
        border: 0,
        padding: 0,
        width: 1,
        height: 1,
        margin: -1
    },
    _o = null;
class BF {
    callbacks = [];
    callbacksCount = 0;
    nextId = 1;
    startId = 1;
    isScheduled = !1;
    tick = t => {
        this.isScheduled = !1;
        const n = this.callbacks,
            r = this.callbacksCount;
        if (this.callbacks = [], this.callbacksCount = 0, this.startId = this.nextId, r > 0)
            for (let i = 0; i < n.length; i += 1) n[i]?.(t)
    };
    request(t) {
        const n = this.nextId;
        return this.nextId += 1, this.callbacks.push(t), this.callbacksCount += 1, (!this.isScheduled || !1) && (requestAnimationFrame(this.tick), this.isScheduled = !0), n
    }
    cancel(t) {
        const n = t - this.startId;
        n < 0 || n >= this.callbacks.length || (this.callbacks[n] = null, this.callbacksCount -= 1)
    }
}
const Fo = new BF;
class wr {
    static create() {
        return new wr
    }
    static request(t) {
        return Fo.request(t)
    }
    static cancel(t) {
        return Fo.cancel(t)
    }
    currentId = _o;
    request(t) {
        this.cancel(), this.currentId = Fo.request(() => {
            this.currentId = _o, t()
        })
    }
    cancel = () => {
        this.currentId !== _o && (Fo.cancel(this.currentId), this.currentId = _o)
    };
    disposeEffect = () => this.cancel
}

function l1() {
    const e = ra(wr.create).current;
    return Q6(e.disposeEffect), e
}

function aa(e) {
    return e?.ownerDocument || document
}
const Il = h.forwardRef(function(t, n) {
    const [r, i] = h.useState();
    It(() => {
        mF && i("button")
    }, []);
    const s = {
        tabIndex: 0,
        role: r
    };
    return l.jsx("span", {
        ...t,
        ref: n,
        style: o1,
        "aria-hidden": r ? void 0 : !0,
        ...s,
        "data-base-ui-focus-guard": ""
    })
});
let jm = 0;

function Iu(e, t = {}) {
    const {
        preventScroll: n = !1,
        cancelPrevious: r = !0,
        sync: i = !1
    } = t;
    r && cancelAnimationFrame(jm);
    const s = () => e?.focus({
        preventScroll: n
    });
    i ? s() : jm = requestAnimationFrame(s)
}
const Rs = {
    inert: new WeakMap,
    "aria-hidden": new WeakMap,
    none: new WeakMap
};

function Mm(e) {
    return e === "inert" ? Rs.inert : e === "aria-hidden" ? Rs["aria-hidden"] : Rs.none
}
let zo = new WeakSet,
    Bo = {},
    ju = 0;
const pv = e => e && (e.host || pv(e.parentNode)),
    $F = (e, t) => t.map(n => {
        if (e.contains(n)) return n;
        const r = pv(n);
        return e.contains(r) ? r : null
    }).filter(n => n != null);

function HF(e, t, n, r) {
    const i = "data-base-ui-inert",
        s = r ? "inert" : n ? "aria-hidden" : null,
        a = $F(t, e),
        o = new Set,
        c = new Set(a),
        u = [];
    Bo[i] || (Bo[i] = new WeakMap);
    const d = Bo[i];
    a.forEach(f), m(t), o.clear();

    function f(p) {
        !p || o.has(p) || (o.add(p), p.parentNode && f(p.parentNode))
    }

    function m(p) {
        !p || c.has(p) || [].forEach.call(p.children, g => {
            if (Mn(g) !== "script")
                if (o.has(g)) m(g);
                else {
                    const x = s ? g.getAttribute(s) : null,
                        y = x !== null && x !== "false",
                        b = Mm(s),
                        w = (b.get(g) || 0) + 1,
                        C = (d.get(g) || 0) + 1;
                    b.set(g, w), d.set(g, C), u.push(g), w === 1 && y && zo.add(g), C === 1 && g.setAttribute(i, ""), !y && s && g.setAttribute(s, s === "inert" ? "" : "true")
                }
        })
    }
    return ju += 1, () => {
        u.forEach(p => {
            const g = Mm(s),
                y = (g.get(p) || 0) - 1,
                b = (d.get(p) || 0) - 1;
            g.set(p, y), d.set(p, b), y || (!zo.has(p) && s && p.removeAttribute(s), zo.delete(p)), b || p.removeAttribute(i)
        }), ju -= 1, ju || (Rs.inert = new WeakMap, Rs["aria-hidden"] = new WeakMap, Rs.none = new WeakMap, zo = new WeakSet, Bo = {})
    }
}

function UF(e, t = !1, n = !1) {
    const r = Jt(e[0]).body;
    return HF(e.concat(Array.from(r.querySelectorAll("[aria-live]"))), r, t, n)
}
const mv = h.createContext(null),
    gv = () => h.useContext(mv),
    Rm = Wa("portal");

function VF(e = {}) {
    const {
        id: t,
        root: n
    } = e, r = vc(), i = gv(), [s, a] = h.useState(null), o = h.useRef(null);
    return It(() => () => {
        s?.remove(), queueMicrotask(() => {
            o.current = null
        })
    }, [s]), It(() => {
        if (!r || o.current) return;
        const c = t ? document.getElementById(t) : null;
        if (!c) return;
        const u = document.createElement("div");
        u.id = r, u.setAttribute(Rm, ""), c.appendChild(u), o.current = u, a(u)
    }, [t, r]), It(() => {
        if (n === null || !r || o.current) return;
        let c = n || i?.portalNode;
        c && !Df(c) && (c = c.current), c = c || document.body;
        let u = null;
        t && (u = document.createElement("div"), u.id = t, c.appendChild(u));
        const d = document.createElement("div");
        d.id = r, d.setAttribute(Rm, ""), c = u || c, c.appendChild(d), o.current = d, a(d)
    }, [t, n, r, i]), s
}

function WF(e) {
    const {
        children: t,
        id: n,
        root: r,
        preserveTabOrder: i = !0
    } = e, s = VF({
        id: n,
        root: r
    }), [a, o] = h.useState(null), c = h.useRef(null), u = h.useRef(null), d = h.useRef(null), f = h.useRef(null), m = a?.modal, p = a?.open, g = !!a && !a.modal && a.open && i && !!(r || s);
    return h.useEffect(() => {
        if (!s || !i || m) return;

        function x(y) {
            s && Ia(y) && (y.type === "focusin" ? Nm : NF)(s)
        }
        return s.addEventListener("focusin", x, !0), s.addEventListener("focusout", x, !0), () => {
            s.removeEventListener("focusin", x, !0), s.removeEventListener("focusout", x, !0)
        }
    }, [s, i, m]), h.useEffect(() => {
        s && (p || Nm(s))
    }, [p, s]), l.jsxs(mv.Provider, {
        value: h.useMemo(() => ({
            preserveTabOrder: i,
            beforeOutsideRef: c,
            afterOutsideRef: u,
            beforeInsideRef: d,
            afterInsideRef: f,
            portalNode: s,
            setFocusManagerState: o
        }), [i, s]),
        children: [g && s && l.jsx(Il, {
            "data-type": "outside",
            ref: c,
            onFocus: x => {
                if (Ia(x, s)) d.current?.focus();
                else {
                    const y = a ? a.domReference : null;
                    ov(y)?.focus()
                }
            }
        }), g && s && l.jsx("span", {
            "aria-owns": s.id,
            style: o1
        }), s && an.createPortal(t, s), g && s && l.jsx(Il, {
            "data-type": "outside",
            ref: u,
            onFocus: x => {
                if (Ia(x, s)) f.current?.focus();
                else {
                    const y = a ? a.domReference : null;
                    av(y)?.focus(), a?.closeOnFocusOut && a?.onOpenChange(!1, ln("focus-out", x.nativeEvent))
                }
            }
        })]
    })
}

function qF(e, t) {
    const n = nt(e.target);
    return e instanceof n.KeyboardEvent ? "keyboard" : e instanceof n.FocusEvent ? t || "keyboard" : "pointerType" in e ? e.pointerType || "keyboard" : "touches" in e ? "touch" : e instanceof n.MouseEvent ? t || (e.detail === 0 ? "keyboard" : "mouse") : ""
}
const Om = 20;
let pi = [];

function c1() {
    pi = pi.filter(e => e.isConnected)
}

function GF(e) {
    c1(), e && Mn(e) !== "body" && (pi.push(e), pi.length > Om && (pi = pi.slice(-Om)))
}

function Mu() {
    return c1(), pi[pi.length - 1]
}

function YF(e) {
    if (!e) return null;
    const t = ho();
    return n6(e, t) ? e : pc(e, t)[0] || e
}

function Pm(e, t) {
    if (!t.current.includes("floating") && !e.getAttribute("role")?.includes("dialog")) return;
    const n = ho(),
        i = aP(e, n).filter(a => {
            const o = a.getAttribute("data-tabindex") || "";
            return n6(a, n) || a.hasAttribute("data-tabindex") && !o.startsWith("-")
        }),
        s = e.getAttribute("tabindex");
    t.current.includes("floating") || i.length === 0 ? s !== "0" && e.setAttribute("tabindex", "0") : (s !== "-1" || e.hasAttribute("data-tabindex") && e.getAttribute("data-tabindex") !== "-1") && (e.setAttribute("tabindex", "-1"), e.setAttribute("data-tabindex", "-1"))
}

function KF(e) {
    const {
        context: t,
        children: n,
        disabled: r = !1,
        order: i = ["content"],
        initialFocus: s = !0,
        returnFocus: a = !0,
        restoreFocus: o = !1,
        modal: c = !0,
        closeOnFocusOut: u = !0,
        openInteractionType: d = "",
        getInsideElements: f = () => []
    } = e, {
        open: m,
        onOpenChange: p,
        events: g,
        dataRef: x,
        elements: {
            domReference: y,
            floating: b
        }
    } = t, w = tt(() => x.current.floatingContext?.nodeId), C = tt(f), E = s === !1, A = km(y) && E, N = Yn(i), j = Yn(s), z = Yn(a), H = Yn(d), R = po(), D = gv(), _ = h.useRef(null), O = h.useRef(null), F = h.useRef(!1), G = h.useRef(!1), Y = h.useRef(-1), W = h.useRef(""), B = h.useRef(""), U = wi(), I = wi(), fe = l1(), re = D != null, M = V0(b), ye = tt((ae = M) => ae ? pc(ae, ho()) : []), Oe = tt(ae => {
        const ue = ye(ae);
        return N.current.map(() => ue).filter(Boolean).flat()
    });
    h.useEffect(() => {
        if (r || !c) return;

        function ae(Ce) {
            Ce.key === "Tab" && Zt(M, Ss(Jt(M))) && ye().length === 0 && !A && SF(Ce)
        }
        const ue = Jt(M);
        return ue.addEventListener("keydown", ae), () => {
            ue.removeEventListener("keydown", ae)
        }
    }, [r, y, M, c, N, A, ye, Oe]), h.useEffect(() => {
        if (r || !b) return;

        function ae(ue) {
            const Ce = yr(ue),
                Te = ye().indexOf(Ce);
            Te !== -1 && (Y.current = Te)
        }
        return b.addEventListener("focusin", ae), () => {
            b.removeEventListener("focusin", ae)
        }
    }, [r, b, ye]), h.useEffect(() => {
        if (r || !m) return;
        const ae = Jt(M);

        function ue(je) {
            B.current = je.pointerType || "keyboard"
        }

        function Ce() {
            B.current = "keyboard"
        }
        return ae.addEventListener("pointerdown", ue, !0), ae.addEventListener("keydown", Ce, !0), () => {
            ae.removeEventListener("pointerdown", ue, !0), ae.removeEventListener("keydown", Ce, !0)
        }
    }, [r, b, y, M, m]), h.useEffect(() => {
        if (r || !u) return;

        function ae() {
            G.current = !0, I.start(0, () => {
                G.current = !1
            })
        }

        function ue(je) {
            const Te = je.relatedTarget,
                ve = je.currentTarget,
                Pe = yr(je);
            queueMicrotask(() => {
                const Ct = w(),
                    bt = !(Zt(y, Te) || Zt(b, Te) || Zt(Te, b) || Zt(D?.portalNode, Te) || Te?.hasAttribute(Wa("focus-guard")) || R && (Bi(R.nodesRef.current, Ct).find(Nt => Zt(Nt.context?.elements.floating, Te) || Zt(Nt.context?.elements.domReference, Te)) || Em(R.nodesRef.current, Ct).find(Nt => [Nt.context?.elements.floating, V0(Nt.context?.elements.floating)].includes(Te) || Nt.context?.elements.domReference === Te)));
                if (ve === y && M && Pm(M, N), o && ve !== y && !Pe?.isConnected && Ss(Jt(M)) === Jt(M).body) {
                    if (Qe(M) && (M.focus(), o === "popup")) {
                        fe.request(() => {
                            M.focus()
                        });
                        return
                    }
                    const Nt = Y.current,
                        zn = ye(),
                        Br = zn[Nt] || zn[zn.length - 1] || M;
                    Qe(Br) && Br.focus()
                }
                if (x.current.insideReactTree) {
                    x.current.insideReactTree = !1;
                    return
                }(A || !c) && Te && bt && (A || Te !== Mu()) && (F.current = !0, p(!1, ln("focus-out", je)))
            })
        }

        function Ce() {
            x.current.insideReactTree = !0, U.start(0, () => {
                x.current.insideReactTree = !1
            })
        }
        if (b && Qe(y)) return y.addEventListener("focusout", ue), y.addEventListener("pointerdown", ae), b.addEventListener("focusout", ue), D && b.addEventListener("focusout", Ce, !0), () => {
            y.removeEventListener("focusout", ue), y.removeEventListener("pointerdown", ae), b.removeEventListener("focusout", ue), D && b.removeEventListener("focusout", Ce, !0)
        }
    }, [r, y, b, M, c, R, D, p, u, o, ye, A, w, N, x, U, I, fe]);
    const K = h.useRef(null),
        J = h.useRef(null),
        pe = Tl(K, D?.beforeInsideRef),
        de = Tl(J, D?.afterInsideRef);
    h.useEffect(() => {
        if (r || !b || !m) return;
        const ae = Array.from(D?.portalNode?.querySelectorAll(`[${Wa("portal")}]`) || []),
            Ce = (R ? Em(R.nodesRef.current, w()) : []).find(ve => km(ve.context?.elements.domReference || null))?.context?.elements.domReference,
            je = [b, Ce, ...ae, ...C(), _.current, O.current, K.current, J.current, D?.beforeOutsideRef.current, D?.afterOutsideRef.current, A ? y : null].filter(ve => ve != null),
            Te = UF(je, c || A);
        return () => {
            Te()
        }
    }, [m, r, y, b, c, N, D, A, R, w, C]), It(() => {
        if (r || !Qe(M)) return;
        const ae = Jt(M),
            ue = Ss(ae);
        queueMicrotask(() => {
            const Ce = Oe(M),
                je = j.current,
                Te = typeof je == "function" ? je(H.current || "") : je;
            if (Te === void 0 || Te === !1) return;
            let ve;
            Te === !0 || Te === null ? ve = Ce[0] || M : "current" in Te ? ve = Te.current : ve = Te, ve = ve || Ce[0] || M, !Zt(M, ue) && m && Iu(ve, {
                preventScroll: ve === M
            })
        })
    }, [r, m, M, E, Oe, j, H]), It(() => {
        if (r || !M) return;
        const ae = Jt(M),
            ue = Ss(ae);
        GF(ue);

        function Ce(ve) {
            if (ve.open || (W.current = qF(ve.nativeEvent, B.current)), ve.reason === "trigger-hover" && ve.nativeEvent.type === "mouseleave" && (F.current = !0), ve.reason === "outside-press")
                if (ve.nested) F.current = !1;
                else if (kF(ve.nativeEvent) || EF(ve.nativeEvent)) F.current = !1;
            else {
                let Pe = !1;
                document.createElement("div").focus({
                    get preventScroll() {
                        return Pe = !0, !1
                    }
                }), Pe ? F.current = !1 : F.current = !0
            }
        }
        g.on("openchange", Ce);
        const je = ae.createElement("span");
        je.setAttribute("tabindex", "-1"), je.setAttribute("aria-hidden", "true"), Object.assign(je.style, o1), re && y && y.insertAdjacentElement("afterend", je);

        function Te() {
            const ve = z.current;
            let Pe = typeof ve == "function" ? ve(W.current) : ve;
            if (Pe === void 0 || Pe === !1) return null;
            if (Pe === null && (Pe = !0), typeof Pe == "boolean") {
                const bt = y || Mu();
                return bt && bt.isConnected ? bt : je
            }
            const Ct = y || Mu() || je;
            return "current" in Pe ? Pe.current || Ct : Pe || Ct
        }
        return () => {
            g.off("openchange", Ce);
            const ve = Ss(ae),
                Pe = Zt(b, ve) || R && Bi(R.nodesRef.current, w(), !1).some(bt => Zt(bt.context?.elements.floating, ve)),
                Ct = Te();
            queueMicrotask(() => {
                const bt = YF(Ct),
                    Nt = typeof z.current != "boolean";
                z.current && !F.current && Qe(bt) && (!(!Nt && bt !== ve && ve !== ae.body) || Pe) && bt.focus({
                    preventScroll: !0
                }), je.remove()
            })
        }
    }, [r, b, M, z, x, g, R, re, y, w]), h.useEffect(() => {
        queueMicrotask(() => {
            F.current = !1
        })
    }, [r]), h.useEffect(() => {
        if (r || !m) return;

        function ae(Ce) {
            yr(Ce)?.closest(`[${dv}]`) && (G.current = !0)
        }
        const ue = Jt(M);
        return ue.addEventListener("pointerdown", ae, !0), () => {
            ue.removeEventListener("pointerdown", ae, !0)
        }
    }, [r, m, M]), It(() => {
        if (!r && D) return D.setFocusManagerState({
            modal: c,
            closeOnFocusOut: u,
            open: m,
            onOpenChange: p,
            domReference: y
        }), () => {
            D.setFocusManagerState(null)
        }
    }, [r, D, c, m, p, u, y]), It(() => {
        if (!(r || !M)) return Pm(M, N), () => {
            queueMicrotask(c1)
        }
    }, [r, M, N]);
    const ce = !r && (c ? !A : !0) && (re || c);
    return l.jsxs(h.Fragment, {
        children: [ce && l.jsx(Il, {
            "data-type": "inside",
            ref: pe,
            onFocus: ae => {
                if (c) {
                    const ue = Oe();
                    Iu(ue[ue.length - 1])
                } else D?.preserveTabOrder && D.portalNode && (F.current = !1, Ia(ae, D.portalNode) ? av(y)?.focus() : D.beforeOutsideRef.current?.focus())
            }
        }), n, ce && l.jsx(Il, {
            "data-type": "inside",
            ref: de,
            onFocus: ae => {
                c ? Iu(Oe()[0]) : D?.preserveTabOrder && D.portalNode && (u && (F.current = !0), Ia(ae, D.portalNode) ? ov(y)?.focus() : D.afterOutsideRef.current?.focus())
            }
        })]
    })
}

function XF(e, t = {}) {
    const {
        open: n,
        onOpenChange: r,
        dataRef: i
    } = e, {
        enabled: s = !0,
        event: a = "click",
        toggle: o = !0,
        ignoreMouse: c = !1,
        stickIfOpen: u = !0,
        touchOpenDelay: d = 0
    } = t, f = h.useRef(void 0), m = l1(), p = wi(), g = h.useMemo(() => ({
        onPointerDown(x) {
            f.current = x.pointerType
        },
        onMouseDown(x) {
            const y = f.current,
                b = x.nativeEvent;
            if (x.button !== 0 || a === "click" || Va(y, !0) && c) return;
            const w = i.current.openEvent,
                C = w?.type,
                E = !(n && o && (!(w && u) || C === "click" || C === "mousedown"));
            if (iv(b.target)) {
                const A = ln("trigger-press", b);
                E && y === "touch" && d > 0 ? p.start(d, () => {
                    r(!0, A)
                }) : r(E, A);
                return
            }
            m.request(() => {
                const A = ln("trigger-press", b);
                E && y === "touch" && d > 0 ? p.start(d, () => {
                    r(!0, A)
                }) : r(E, A)
            })
        },
        onClick(x) {
            if (a === "mousedown-only") return;
            const y = f.current;
            if (a === "mousedown" && y) {
                f.current = void 0;
                return
            }
            if (Va(y, !0) && c) return;
            const b = i.current.openEvent,
                w = b?.type,
                C = !(n && o && (!(b && u) || w === "click" || w === "mousedown" || w === "keydown" || w === "keyup")),
                E = ln("trigger-press", x.nativeEvent);
            C && y === "touch" && d > 0 ? p.start(d, () => {
                r(!0, E)
            }) : r(C, E)
        },
        onKeyDown() {
            f.current = void 0
        }
    }), [i, a, c, r, n, u, o, m, p, d]);
    return h.useMemo(() => s ? {
        reference: g
    } : qr, [s, g])
}

function Lm(e, t, n) {
    let {
        reference: r,
        floating: i
    } = e;
    const s = ot(t),
        a = ta(t),
        o = ea(a),
        c = mt(t),
        u = s === "y",
        d = r.x + r.width / 2 - i.width / 2,
        f = r.y + r.height / 2 - i.height / 2,
        m = r[o] / 2 - i[o] / 2;
    let p;
    switch (c) {
        case "top":
            p = {
                x: d,
                y: r.y - i.height
            };
            break;
        case "bottom":
            p = {
                x: d,
                y: r.y + r.height
            };
            break;
        case "right":
            p = {
                x: r.x + r.width,
                y: f
            };
            break;
        case "left":
            p = {
                x: r.x - i.width,
                y: f
            };
            break;
        default:
            p = {
                x: r.x,
                y: r.y
            }
    }
    switch (wn(t)) {
        case "start":
            p[a] -= m * (n && u ? -1 : 1);
            break;
        case "end":
            p[a] += m * (n && u ? -1 : 1);
            break
    }
    return p
}
const ZF = async (e, t, n) => {
    const {
        placement: r = "bottom",
        strategy: i = "absolute",
        middleware: s = [],
        platform: a
    } = n, o = s.filter(Boolean), c = await (a.isRTL == null ? void 0 : a.isRTL(t));
    let u = await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }),
        {
            x: d,
            y: f
        } = Lm(u, r, c),
        m = r,
        p = {},
        g = 0;
    for (let x = 0; x < o.length; x++) {
        const {
            name: y,
            fn: b
        } = o[x], {
            x: w,
            y: C,
            data: E,
            reset: A
        } = await b({
            x: d,
            y: f,
            initialPlacement: r,
            placement: m,
            strategy: i,
            middlewareData: p,
            rects: u,
            platform: a,
            elements: {
                reference: e,
                floating: t
            }
        });
        d = w ?? d, f = C ?? f, p = {
            ...p,
            [y]: {
                ...p[y],
                ...E
            }
        }, A && g <= 50 && (g++, typeof A == "object" && (A.placement && (m = A.placement), A.rects && (u = A.rects === !0 ? await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }) : A.rects), {
            x: d,
            y: f
        } = Lm(u, m, c)), x = -1)
    }
    return {
        x: d,
        y: f,
        placement: m,
        strategy: i,
        middlewareData: p
    }
};
async function qa(e, t) {
    var n;
    t === void 0 && (t = {});
    const {
        x: r,
        y: i,
        platform: s,
        rects: a,
        elements: o,
        strategy: c
    } = e, {
        boundary: u = "clippingAncestors",
        rootBoundary: d = "viewport",
        elementContext: f = "floating",
        altBoundary: m = !1,
        padding: p = 0
    } = wt(t, e), g = uo(p), y = o[m ? f === "floating" ? "reference" : "floating" : f], b = Jn(await s.getClippingRect({
        element: (n = await (s.isElement == null ? void 0 : s.isElement(y))) == null || n ? y : y.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(o.floating)),
        boundary: u,
        rootBoundary: d,
        strategy: c
    })), w = f === "floating" ? {
        x: r,
        y: i,
        width: a.floating.width,
        height: a.floating.height
    } : a.reference, C = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(o.floating)), E = await (s.isElement == null ? void 0 : s.isElement(C)) ? await (s.getScale == null ? void 0 : s.getScale(C)) || {
        x: 1,
        y: 1
    } : {
        x: 1,
        y: 1
    }, A = Jn(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({
        elements: o,
        rect: w,
        offsetParent: C,
        strategy: c
    }) : w);
    return {
        top: (b.top - A.top + g.top) / E.y,
        bottom: (A.bottom - b.bottom + g.bottom) / E.y,
        left: (b.left - A.left + g.left) / E.x,
        right: (A.right - b.right + g.right) / E.x
    }
}
const QF = function(e) {
    return e === void 0 && (e = {}), {
        name: "flip",
        options: e,
        async fn(t) {
            var n, r;
            const {
                placement: i,
                middlewareData: s,
                rects: a,
                initialPlacement: o,
                platform: c,
                elements: u
            } = t, {
                mainAxis: d = !0,
                crossAxis: f = !0,
                fallbackPlacements: m,
                fallbackStrategy: p = "bestFit",
                fallbackAxisSideDirection: g = "none",
                flipAlignment: x = !0,
                ...y
            } = wt(e, t);
            if ((n = s.arrow) != null && n.alignmentOffset) return {};
            const b = mt(i),
                w = ot(o),
                C = mt(o) === o,
                E = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)),
                A = m || (C || !x ? [zs(o)] : Bf(o)),
                N = g !== "none";
            !m && N && A.push(...$f(o, x, g, E));
            const j = [o, ...A],
                z = await qa(t, y),
                H = [];
            let R = ((r = s.flip) == null ? void 0 : r.overflows) || [];
            if (d && H.push(z[b]), f) {
                const F = zf(i, a, E);
                H.push(z[F[0]], z[F[1]])
            }
            if (R = [...R, {
                    placement: i,
                    overflows: H
                }], !H.every(F => F <= 0)) {
                var D, _;
                const F = (((D = s.flip) == null ? void 0 : D.index) || 0) + 1,
                    G = j[F];
                if (G && (!(f === "alignment" ? w !== ot(G) : !1) || R.every(B => ot(B.placement) === w ? B.overflows[0] > 0 : !0))) return {
                    data: {
                        index: F,
                        overflows: R
                    },
                    reset: {
                        placement: G
                    }
                };
                let Y = (_ = R.filter(W => W.overflows[0] <= 0).sort((W, B) => W.overflows[1] - B.overflows[1])[0]) == null ? void 0 : _.placement;
                if (!Y) switch (p) {
                    case "bestFit": {
                        var O;
                        const W = (O = R.filter(B => {
                            if (N) {
                                const U = ot(B.placement);
                                return U === w || U === "y"
                            }
                            return !0
                        }).map(B => [B.placement, B.overflows.filter(U => U > 0).reduce((U, I) => U + I, 0)]).sort((B, U) => B[1] - U[1])[0]) == null ? void 0 : O[0];
                        W && (Y = W);
                        break
                    }
                    case "initialPlacement":
                        Y = o;
                        break
                }
                if (i !== Y) return {
                    reset: {
                        placement: Y
                    }
                }
            }
            return {}
        }
    }
};

function Dm(e, t) {
    return {
        top: e.top - t.height,
        right: e.right - t.width,
        bottom: e.bottom - t.height,
        left: e.left - t.width
    }
}

function _m(e) {
    return Kx.some(t => e[t] >= 0)
}
const JF = function(e) {
        return e === void 0 && (e = {}), {
            name: "hide",
            options: e,
            async fn(t) {
                const {
                    rects: n
                } = t, {
                    strategy: r = "referenceHidden",
                    ...i
                } = wt(e, t);
                switch (r) {
                    case "referenceHidden": {
                        const s = await qa(t, {
                                ...i,
                                elementContext: "reference"
                            }),
                            a = Dm(s, n.reference);
                        return {
                            data: {
                                referenceHiddenOffsets: a,
                                referenceHidden: _m(a)
                            }
                        }
                    }
                    case "escaped": {
                        const s = await qa(t, {
                                ...i,
                                altBoundary: !0
                            }),
                            a = Dm(s, n.floating);
                        return {
                            data: {
                                escapedOffsets: a,
                                escaped: _m(a)
                            }
                        }
                    }
                    default:
                        return {}
                }
            }
        }
    },
    xv = new Set(["left", "top"]);
async function ez(e, t) {
    const {
        placement: n,
        platform: r,
        elements: i
    } = e, s = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), a = mt(n), o = wn(n), c = ot(n) === "y", u = xv.has(a) ? -1 : 1, d = s && c ? -1 : 1, f = wt(t, e);
    let {
        mainAxis: m,
        crossAxis: p,
        alignmentAxis: g
    } = typeof f == "number" ? {
        mainAxis: f,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: f.mainAxis || 0,
        crossAxis: f.crossAxis || 0,
        alignmentAxis: f.alignmentAxis
    };
    return o && typeof g == "number" && (p = o === "end" ? g * -1 : g), c ? {
        x: p * d,
        y: m * u
    } : {
        x: m * u,
        y: p * d
    }
}
const tz = function(e) {
        return e === void 0 && (e = 0), {
            name: "offset",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    x: i,
                    y: s,
                    placement: a,
                    middlewareData: o
                } = t, c = await ez(t, e);
                return a === ((n = o.offset) == null ? void 0 : n.placement) && (r = o.arrow) != null && r.alignmentOffset ? {} : {
                    x: i + c.x,
                    y: s + c.y,
                    data: {
                        ...c,
                        placement: a
                    }
                }
            }
        }
    },
    nz = function(e) {
        return e === void 0 && (e = {}), {
            name: "shift",
            options: e,
            async fn(t) {
                const {
                    x: n,
                    y: r,
                    placement: i
                } = t, {
                    mainAxis: s = !0,
                    crossAxis: a = !1,
                    limiter: o = {
                        fn: y => {
                            let {
                                x: b,
                                y: w
                            } = y;
                            return {
                                x: b,
                                y: w
                            }
                        }
                    },
                    ...c
                } = wt(e, t), u = {
                    x: n,
                    y: r
                }, d = await qa(t, c), f = ot(mt(i)), m = Js(f);
                let p = u[m],
                    g = u[f];
                if (s) {
                    const y = m === "y" ? "top" : "left",
                        b = m === "y" ? "bottom" : "right",
                        w = p + d[y],
                        C = p - d[b];
                    p = yi(w, p, C)
                }
                if (a) {
                    const y = f === "y" ? "top" : "left",
                        b = f === "y" ? "bottom" : "right",
                        w = g + d[y],
                        C = g - d[b];
                    g = yi(w, g, C)
                }
                const x = o.fn({
                    ...t,
                    [m]: p,
                    [f]: g
                });
                return {
                    ...x,
                    data: {
                        x: x.x - n,
                        y: x.y - r,
                        enabled: {
                            [m]: s,
                            [f]: a
                        }
                    }
                }
            }
        }
    },
    rz = function(e) {
        return e === void 0 && (e = {}), {
            options: e,
            fn(t) {
                const {
                    x: n,
                    y: r,
                    placement: i,
                    rects: s,
                    middlewareData: a
                } = t, {
                    offset: o = 0,
                    mainAxis: c = !0,
                    crossAxis: u = !0
                } = wt(e, t), d = {
                    x: n,
                    y: r
                }, f = ot(i), m = Js(f);
                let p = d[m],
                    g = d[f];
                const x = wt(o, t),
                    y = typeof x == "number" ? {
                        mainAxis: x,
                        crossAxis: 0
                    } : {
                        mainAxis: 0,
                        crossAxis: 0,
                        ...x
                    };
                if (c) {
                    const C = m === "y" ? "height" : "width",
                        E = s.reference[m] - s.floating[C] + y.mainAxis,
                        A = s.reference[m] + s.reference[C] - y.mainAxis;
                    p < E ? p = E : p > A && (p = A)
                }
                if (u) {
                    var b, w;
                    const C = m === "y" ? "width" : "height",
                        E = xv.has(mt(i)),
                        A = s.reference[f] - s.floating[C] + (E && ((b = a.offset) == null ? void 0 : b[f]) || 0) + (E ? 0 : y.crossAxis),
                        N = s.reference[f] + s.reference[C] + (E ? 0 : ((w = a.offset) == null ? void 0 : w[f]) || 0) - (E ? y.crossAxis : 0);
                    g < A ? g = A : g > N && (g = N)
                }
                return {
                    [m]: p,
                    [f]: g
                }
            }
        }
    },
    iz = function(e) {
        return e === void 0 && (e = {}), {
            name: "size",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    placement: i,
                    rects: s,
                    platform: a,
                    elements: o
                } = t, {
                    apply: c = () => {},
                    ...u
                } = wt(e, t), d = await qa(t, u), f = mt(i), m = wn(i), p = ot(i) === "y", {
                    width: g,
                    height: x
                } = s.floating;
                let y, b;
                f === "top" || f === "bottom" ? (y = f, b = m === (await (a.isRTL == null ? void 0 : a.isRTL(o.floating)) ? "start" : "end") ? "left" : "right") : (b = f, y = m === "end" ? "top" : "bottom");
                const w = x - d.top - d.bottom,
                    C = g - d.left - d.right,
                    E = qt(x - d[y], w),
                    A = qt(g - d[b], C),
                    N = !t.middlewareData.shift;
                let j = E,
                    z = A;
                if ((n = t.middlewareData.shift) != null && n.enabled.x && (z = C), (r = t.middlewareData.shift) != null && r.enabled.y && (j = w), N && !m) {
                    const R = Ve(d.left, 0),
                        D = Ve(d.right, 0),
                        _ = Ve(d.top, 0),
                        O = Ve(d.bottom, 0);
                    p ? z = g - 2 * (R !== 0 || D !== 0 ? R + D : Ve(d.left, d.right)) : j = x - 2 * (_ !== 0 || O !== 0 ? _ + O : Ve(d.top, d.bottom))
                }
                await c({
                    ...t,
                    availableWidth: z,
                    availableHeight: j
                });
                const H = await a.getDimensions(o.floating);
                return g !== H.width || x !== H.height ? {
                    reset: {
                        rects: !0
                    }
                } : {}
            }
        }
    };

function vv(e) {
    const t = st(e);
    let n = parseFloat(t.width) || 0,
        r = parseFloat(t.height) || 0;
    const i = Qe(e),
        s = i ? e.offsetWidth : n,
        a = i ? e.offsetHeight : r,
        o = _n(n) !== s || _n(r) !== a;
    return o && (n = s, r = a), {
        width: n,
        height: r,
        $: o
    }
}

function u1(e) {
    return Re(e) ? e : e.contextElement
}

function Os(e) {
    const t = u1(e);
    if (!Qe(t)) return it(1);
    const n = t.getBoundingClientRect(),
        {
            width: r,
            height: i,
            $: s
        } = vv(t);
    let a = (s ? _n(n.width) : n.width) / r,
        o = (s ? _n(n.height) : n.height) / i;
    return (!a || !Number.isFinite(a)) && (a = 1), (!o || !Number.isFinite(o)) && (o = 1), {
        x: a,
        y: o
    }
}
const sz = it(0);

function bv(e) {
    const t = nt(e);
    return !Ai() || !t.visualViewport ? sz : {
        x: t.visualViewport.offsetLeft,
        y: t.visualViewport.offsetTop
    }
}

function az(e, t, n) {
    return t === void 0 && (t = !1), !n || t && n !== nt(e) ? !1 : t
}

function Ki(e, t, n, r) {
    t === void 0 && (t = !1), n === void 0 && (n = !1);
    const i = e.getBoundingClientRect(),
        s = u1(e);
    let a = it(1);
    t && (r ? Re(r) && (a = Os(r)) : a = Os(e));
    const o = az(s, n, r) ? bv(s) : it(0);
    let c = (i.left + o.x) / a.x,
        u = (i.top + o.y) / a.y,
        d = i.width / a.x,
        f = i.height / a.y;
    if (s) {
        const m = nt(s),
            p = r && Re(r) ? nt(r) : r;
        let g = m,
            x = qi(g);
        for (; x && r && p !== g;) {
            const y = Os(x),
                b = x.getBoundingClientRect(),
                w = st(x),
                C = b.left + (x.clientLeft + parseFloat(w.paddingLeft)) * y.x,
                E = b.top + (x.clientTop + parseFloat(w.paddingTop)) * y.y;
            c *= y.x, u *= y.y, d *= y.x, f *= y.y, c += C, u += E, g = nt(x), x = qi(g)
        }
    }
    return Jn({
        width: d,
        height: f,
        x: c,
        y: u
    })
}

function bc(e, t) {
    const n = tr(e).scrollLeft;
    return t ? t.left + n : Ki(lt(e)).left + n
}

function yv(e, t) {
    const n = e.getBoundingClientRect(),
        r = n.left + t.scrollLeft - bc(e, n),
        i = n.top + t.scrollTop;
    return {
        x: r,
        y: i
    }
}

function oz(e) {
    let {
        elements: t,
        rect: n,
        offsetParent: r,
        strategy: i
    } = e;
    const s = i === "fixed",
        a = lt(r),
        o = t ? zr(t.floating) : !1;
    if (r === a || o && s) return n;
    let c = {
            scrollLeft: 0,
            scrollTop: 0
        },
        u = it(1);
    const d = it(0),
        f = Qe(r);
    if ((f || !f && !s) && ((Mn(r) !== "body" || mr(a)) && (c = tr(r)), Qe(r))) {
        const p = Ki(r);
        u = Os(r), d.x = p.x + r.clientLeft, d.y = p.y + r.clientTop
    }
    const m = a && !f && !s ? yv(a, c) : it(0);
    return {
        width: n.width * u.x,
        height: n.height * u.y,
        x: n.x * u.x - c.scrollLeft * u.x + d.x + m.x,
        y: n.y * u.y - c.scrollTop * u.y + d.y + m.y
    }
}

function lz(e) {
    return Array.from(e.getClientRects())
}

function cz(e) {
    const t = lt(e),
        n = tr(e),
        r = e.ownerDocument.body,
        i = Ve(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth),
        s = Ve(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);
    let a = -n.scrollLeft + bc(e);
    const o = -n.scrollTop;
    return st(r).direction === "rtl" && (a += Ve(t.clientWidth, r.clientWidth) - i), {
        width: i,
        height: s,
        x: a,
        y: o
    }
}
const Fm = 25;

function uz(e, t) {
    const n = nt(e),
        r = lt(e),
        i = n.visualViewport;
    let s = r.clientWidth,
        a = r.clientHeight,
        o = 0,
        c = 0;
    if (i) {
        s = i.width, a = i.height;
        const d = Ai();
        (!d || d && t === "fixed") && (o = i.offsetLeft, c = i.offsetTop)
    }
    const u = bc(r);
    if (u <= 0) {
        const d = r.ownerDocument,
            f = d.body,
            m = getComputedStyle(f),
            p = d.compatMode === "CSS1Compat" && parseFloat(m.marginLeft) + parseFloat(m.marginRight) || 0,
            g = Math.abs(r.clientWidth - f.clientWidth - p);
        g <= Fm && (s -= g)
    } else u <= Fm && (s += u);
    return {
        width: s,
        height: a,
        x: o,
        y: c
    }
}
const dz = new Set(["absolute", "fixed"]);

function fz(e, t) {
    const n = Ki(e, !0, t === "fixed"),
        r = n.top + e.clientTop,
        i = n.left + e.clientLeft,
        s = Qe(e) ? Os(e) : it(1),
        a = e.clientWidth * s.x,
        o = e.clientHeight * s.y,
        c = i * s.x,
        u = r * s.y;
    return {
        width: a,
        height: o,
        x: c,
        y: u
    }
}

function zm(e, t, n) {
    let r;
    if (t === "viewport") r = uz(e, n);
    else if (t === "document") r = cz(lt(e));
    else if (Re(t)) r = fz(t, n);
    else {
        const i = bv(e);
        r = {
            x: t.x - i.x,
            y: t.y - i.y,
            width: t.width,
            height: t.height
        }
    }
    return Jn(r)
}

function wv(e, t) {
    const n = Wt(e);
    return n === t || !Re(n) || rn(n) ? !1 : st(n).position === "fixed" || wv(n, t)
}

function hz(e, t) {
    const n = t.get(e);
    if (n) return n;
    let r = En(e, [], !1).filter(o => Re(o) && Mn(o) !== "body"),
        i = null;
    const s = st(e).position === "fixed";
    let a = s ? Wt(e) : e;
    for (; Re(a) && !rn(a);) {
        const o = st(a),
            c = os(a);
        !c && o.position === "fixed" && (i = null), (s ? !c && !i : !c && o.position === "static" && !!i && dz.has(i.position) || mr(a) && !c && wv(e, a)) ? r = r.filter(d => d !== a) : i = o, a = Wt(a)
    }
    return t.set(e, r), r
}

function pz(e) {
    let {
        element: t,
        boundary: n,
        rootBoundary: r,
        strategy: i
    } = e;
    const a = [...n === "clippingAncestors" ? zr(t) ? [] : hz(t, this._c) : [].concat(n), r],
        o = a[0],
        c = a.reduce((u, d) => {
            const f = zm(t, d, i);
            return u.top = Ve(f.top, u.top), u.right = qt(f.right, u.right), u.bottom = qt(f.bottom, u.bottom), u.left = Ve(f.left, u.left), u
        }, zm(t, o, i));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}

function mz(e) {
    const {
        width: t,
        height: n
    } = vv(e);
    return {
        width: t,
        height: n
    }
}

function gz(e, t, n) {
    const r = Qe(t),
        i = lt(t),
        s = n === "fixed",
        a = Ki(e, !0, s, t);
    let o = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = it(0);

    function u() {
        c.x = bc(i)
    }
    if (r || !r && !s)
        if ((Mn(t) !== "body" || mr(i)) && (o = tr(t)), r) {
            const p = Ki(t, !0, s, t);
            c.x = p.x + t.clientLeft, c.y = p.y + t.clientTop
        } else i && u();
    s && !r && i && u();
    const d = i && !r && !s ? yv(i, o) : it(0),
        f = a.left + o.scrollLeft - c.x - d.x,
        m = a.top + o.scrollTop - c.y - d.y;
    return {
        x: f,
        y: m,
        width: a.width,
        height: a.height
    }
}

function Ru(e) {
    return st(e).position === "static"
}

function Bm(e, t) {
    if (!Qe(e) || st(e).position === "fixed") return null;
    if (t) return t(e);
    let n = e.offsetParent;
    return lt(e) === n && (n = n.ownerDocument.body), n
}

function Sv(e, t) {
    const n = nt(e);
    if (zr(e)) return n;
    if (!Qe(e)) {
        let i = Wt(e);
        for (; i && !rn(i);) {
            if (Re(i) && !Ru(i)) return i;
            i = Wt(i)
        }
        return n
    }
    let r = Bm(e, t);
    for (; r && _f(r) && Ru(r);) r = Bm(r, t);
    return r && rn(r) && Ru(r) && !os(r) ? n : r || Ff(e) || n
}
const xz = async function(e) {
    const t = this.getOffsetParent || Sv,
        n = this.getDimensions,
        r = await n(e.floating);
    return {
        reference: gz(e.reference, await t(e.floating), e.strategy),
        floating: {
            x: 0,
            y: 0,
            width: r.width,
            height: r.height
        }
    }
};

function vz(e) {
    return st(e).direction === "rtl"
}
const bz = {
    convertOffsetParentRelativeRectToViewportRelativeRect: oz,
    getDocumentElement: lt,
    getClippingRect: pz,
    getOffsetParent: Sv,
    getElementRects: xz,
    getClientRects: lz,
    getDimensions: mz,
    getScale: Os,
    isElement: Re,
    isRTL: vz
};

function Cv(e, t) {
    return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height
}

function yz(e, t) {
    let n = null,
        r;
    const i = lt(e);

    function s() {
        var o;
        clearTimeout(r), (o = n) == null || o.disconnect(), n = null
    }

    function a(o, c) {
        o === void 0 && (o = !1), c === void 0 && (c = 1), s();
        const u = e.getBoundingClientRect(),
            {
                left: d,
                top: f,
                width: m,
                height: p
            } = u;
        if (o || t(), !m || !p) return;
        const g = Gn(f),
            x = Gn(i.clientWidth - (d + m)),
            y = Gn(i.clientHeight - (f + p)),
            b = Gn(d),
            C = {
                rootMargin: -g + "px " + -x + "px " + -y + "px " + -b + "px",
                threshold: Ve(0, qt(1, c)) || 1
            };
        let E = !0;

        function A(N) {
            const j = N[0].intersectionRatio;
            if (j !== c) {
                if (!E) return a();
                j ? a(!1, j) : r = setTimeout(() => {
                    a(!1, 1e-7)
                }, 1e3)
            }
            j === 1 && !Cv(u, e.getBoundingClientRect()) && a(), E = !1
        }
        try {
            n = new IntersectionObserver(A, {
                ...C,
                root: i.ownerDocument
            })
        } catch {
            n = new IntersectionObserver(A, C)
        }
        n.observe(e)
    }
    return a(!0), s
}

function $m(e, t, n, r) {
    r === void 0 && (r = {});
    const {
        ancestorScroll: i = !0,
        ancestorResize: s = !0,
        elementResize: a = typeof ResizeObserver == "function",
        layoutShift: o = typeof IntersectionObserver == "function",
        animationFrame: c = !1
    } = r, u = u1(e), d = i || s ? [...u ? En(u) : [], ...En(t)] : [];
    d.forEach(b => {
        i && b.addEventListener("scroll", n, {
            passive: !0
        }), s && b.addEventListener("resize", n)
    });
    const f = u && o ? yz(u, n) : null;
    let m = -1,
        p = null;
    a && (p = new ResizeObserver(b => {
        let [w] = b;
        w && w.target === u && p && (p.unobserve(t), cancelAnimationFrame(m), m = requestAnimationFrame(() => {
            var C;
            (C = p) == null || C.observe(t)
        })), n()
    }), u && !c && p.observe(u), p.observe(t));
    let g, x = c ? Ki(e) : null;
    c && y();

    function y() {
        const b = Ki(e);
        x && !Cv(x, b) && n(), x = b, g = requestAnimationFrame(y)
    }
    return n(), () => {
        var b;
        d.forEach(w => {
            i && w.removeEventListener("scroll", n), s && w.removeEventListener("resize", n)
        }), f?.(), (b = p) == null || b.disconnect(), p = null, c && cancelAnimationFrame(g)
    }
}
const wz = tz,
    Sz = nz,
    Cz = QF,
    kz = iz,
    Ez = JF,
    Nz = rz,
    Az = (e, t, n) => {
        const r = new Map,
            i = {
                platform: bz,
                ...n
            },
            s = {
                ...i.platform,
                _c: r
            };
        return ZF(e, t, {
            ...i,
            platform: s
        })
    };
var Tz = typeof document < "u",
    Iz = function() {},
    Xo = Tz ? h.useLayoutEffect : Iz;

function jl(e, t) {
    if (e === t) return !0;
    if (typeof e != typeof t) return !1;
    if (typeof e == "function" && e.toString() === t.toString()) return !0;
    let n, r, i;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (n = e.length, n !== t.length) return !1;
            for (r = n; r-- !== 0;)
                if (!jl(e[r], t[r])) return !1;
            return !0
        }
        if (i = Object.keys(e), n = i.length, n !== Object.keys(t).length) return !1;
        for (r = n; r-- !== 0;)
            if (!{}.hasOwnProperty.call(t, i[r])) return !1;
        for (r = n; r-- !== 0;) {
            const s = i[r];
            if (!(s === "_owner" && e.$$typeof) && !jl(e[s], t[s])) return !1
        }
        return !0
    }
    return e !== e && t !== t
}

function kv(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1
}

function Hm(e, t) {
    const n = kv(e);
    return Math.round(t * n) / n
}

function Ou(e) {
    const t = h.useRef(e);
    return Xo(() => {
        t.current = e
    }), t
}

function jz(e) {
    e === void 0 && (e = {});
    const {
        placement: t = "bottom",
        strategy: n = "absolute",
        middleware: r = [],
        platform: i,
        elements: {
            reference: s,
            floating: a
        } = {},
        transform: o = !0,
        whileElementsMounted: c,
        open: u
    } = e, [d, f] = h.useState({
        x: 0,
        y: 0,
        strategy: n,
        placement: t,
        middlewareData: {},
        isPositioned: !1
    }), [m, p] = h.useState(r);
    jl(m, r) || p(r);
    const [g, x] = h.useState(null), [y, b] = h.useState(null), w = h.useCallback(B => {
        B !== N.current && (N.current = B, x(B))
    }, []), C = h.useCallback(B => {
        B !== j.current && (j.current = B, b(B))
    }, []), E = s || g, A = a || y, N = h.useRef(null), j = h.useRef(null), z = h.useRef(d), H = c != null, R = Ou(c), D = Ou(i), _ = Ou(u), O = h.useCallback(() => {
        if (!N.current || !j.current) return;
        const B = {
            placement: t,
            strategy: n,
            middleware: m
        };
        D.current && (B.platform = D.current), Az(N.current, j.current, B).then(U => {
            const I = {
                ...U,
                isPositioned: _.current !== !1
            };
            F.current && !jl(z.current, I) && (z.current = I, an.flushSync(() => {
                f(I)
            }))
        })
    }, [m, t, n, D, _]);
    Xo(() => {
        u === !1 && z.current.isPositioned && (z.current.isPositioned = !1, f(B => ({
            ...B,
            isPositioned: !1
        })))
    }, [u]);
    const F = h.useRef(!1);
    Xo(() => (F.current = !0, () => {
        F.current = !1
    }), []), Xo(() => {
        if (E && (N.current = E), A && (j.current = A), E && A) {
            if (R.current) return R.current(E, A, O);
            O()
        }
    }, [E, A, O, R, H]);
    const G = h.useMemo(() => ({
            reference: N,
            floating: j,
            setReference: w,
            setFloating: C
        }), [w, C]),
        Y = h.useMemo(() => ({
            reference: E,
            floating: A
        }), [E, A]),
        W = h.useMemo(() => {
            const B = {
                position: n,
                left: 0,
                top: 0
            };
            if (!Y.floating) return B;
            const U = Hm(Y.floating, d.x),
                I = Hm(Y.floating, d.y);
            return o ? {
                ...B,
                transform: "translate(" + U + "px, " + I + "px)",
                ...kv(Y.floating) >= 1.5 && {
                    willChange: "transform"
                }
            } : {
                position: n,
                left: U,
                top: I
            }
        }, [n, o, Y.floating, d.x, d.y]);
    return h.useMemo(() => ({
        ...d,
        update: O,
        refs: G,
        elements: Y,
        floatingStyles: W
    }), [d, O, G, Y, W])
}
const Mz = (e, t) => ({
        ...wz(e),
        options: [e, t]
    }),
    Rz = (e, t) => ({
        ...Sz(e),
        options: [e, t]
    }),
    Oz = (e, t) => ({
        ...Nz(e),
        options: [e, t]
    }),
    Pz = (e, t) => ({
        ...Cz(e),
        options: [e, t]
    }),
    Lz = (e, t) => ({
        ...kz(e),
        options: [e, t]
    }),
    Dz = (e, t) => ({
        ...Ez(e),
        options: [e, t]
    }),
    _z = {
        intentional: "onClick",
        sloppy: "onPointerDown"
    };

function Um(e) {
    return {
        escapeKey: typeof e == "boolean" ? e : e?.escapeKey ?? !1,
        outsidePress: typeof e == "boolean" ? e : e?.outsidePress ?? !0
    }
}

function Fz(e, t = {}) {
    const {
        open: n,
        onOpenChange: r,
        elements: i,
        dataRef: s
    } = e, {
        enabled: a = !0,
        escapeKey: o = !0,
        outsidePress: c = !0,
        outsidePressEvent: u = "sloppy",
        referencePress: d = !1,
        referencePressEvent: f = "sloppy",
        ancestorScroll: m = !1,
        bubbles: p,
        capture: g
    } = t, x = po(), y = tt(typeof c == "function" ? c : () => !1), b = typeof c == "function" ? y : c, w = h.useRef(!1), {
        escapeKey: C,
        outsidePress: E
    } = Um(p), {
        escapeKey: A,
        outsidePress: N
    } = Um(g), j = h.useRef(null), z = wi(), H = wi(), R = h.useRef(!1), D = h.useRef(""), _ = tt(K => {
        D.current = K.pointerType
    }), O = tt(() => {
        const K = D.current,
            J = K === "pen" || !K ? "mouse" : K,
            pe = typeof u == "function" ? u() : u;
        return typeof pe == "string" ? pe : pe[J]
    }), F = tt(K => {
        if (!n || !a || !o || K.key !== "Escape" || R.current) return;
        const J = s.current.floatingContext?.nodeId,
            pe = x ? Bi(x.nodesRef.current, J) : [];
        if (!C && pe.length > 0) {
            let ae = !0;
            if (pe.forEach(ue => {
                    ue.context?.open && !ue.context.dataRef.current.__escapeKeyBubbles && (ae = !1)
                }), !ae) return
        }
        const de = CF(K) ? K.nativeEvent : K,
            ce = ln("escape-key", de);
        r(!1, ce), !C && !ce.isPropagationAllowed && K.stopPropagation()
    }), G = tt(K => {
        const J = O();
        return J === "intentional" && K.type !== "click" || J === "sloppy" && K.type === "click"
    }), Y = tt(K => {
        const J = () => {
            F(K), yr(K)?.removeEventListener("keydown", J)
        };
        yr(K)?.addEventListener("keydown", J)
    }), W = tt((K, J = !1) => {
        if (G(K)) return;
        const pe = s.current.insideReactTree;
        if (s.current.insideReactTree = !1, O() === "intentional" && J || pe || typeof b == "function" && !b(K)) return;
        const de = yr(K),
            ce = `[${Wa("inert")}]`,
            ae = Jt(i.floating).querySelectorAll(ce);
        let ue = Re(de) ? de : null;
        for (; ue && !rn(ue);) {
            const ve = Wt(ue);
            if (rn(ve) || !Re(ve)) break;
            ue = ve
        }
        if (ae.length && Re(de) && !wF(de) && !Zt(de, i.floating) && Array.from(ae).every(ve => !Zt(ue, ve))) return;
        if (Qe(de)) {
            const ve = rn(de),
                Pe = st(de),
                Ct = /auto|scroll/,
                bt = ve || Ct.test(Pe.overflowX),
                Nt = ve || Ct.test(Pe.overflowY),
                zn = bt && de.clientWidth > 0 && de.scrollWidth > de.clientWidth,
                Br = Nt && de.clientHeight > 0 && de.scrollHeight > de.clientHeight,
                ls = Pe.direction === "rtl",
                si = Br && (ls ? K.offsetX <= de.offsetWidth - de.clientWidth : K.offsetX > de.clientWidth),
                cs = zn && K.offsetY > de.clientHeight;
            if (si || cs) return
        }
        const Ce = s.current.floatingContext?.nodeId,
            je = x && Bi(x.nodesRef.current, Ce).some(ve => Ur(K, ve.context?.elements.floating));
        if (Ur(K, i.floating) || Ur(K, i.domReference) || je) return;
        const Te = x ? Bi(x.nodesRef.current, Ce) : [];
        if (Te.length > 0) {
            let ve = !0;
            if (Te.forEach(Pe => {
                    Pe.context?.open && !Pe.context.dataRef.current.__outsidePressBubbles && (ve = !1)
                }), !ve) return
        }
        r(!1, ln("outside-press", K))
    }), B = tt(K => {
        if (!(O() !== "sloppy" || !n || !a || Ur(K, i.floating) || Ur(K, i.domReference))) {
            if (K.pointerType === "touch") {
                j.current = {
                    startTime: Date.now(),
                    startX: K.clientX,
                    startY: K.clientY,
                    dismissOnPointerUp: !1,
                    dismissOnMouseDown: !0
                }, z.start(1e3, () => {
                    j.current && (j.current.dismissOnPointerUp = !1, j.current.dismissOnMouseDown = !1)
                });
                return
            }
            W(K)
        }
    }), U = tt(K => {
        const J = w.current;
        if (w.current = !1, G(K) || (z.clear(), K.type === "mousedown" && j.current && !j.current.dismissOnMouseDown)) return;
        const pe = () => {
            K.type === "pointerdown" ? B(K) : W(K, J), yr(K)?.removeEventListener(K.type, pe)
        };
        yr(K)?.addEventListener(K.type, pe)
    }), I = tt(K => {
        if (O() !== "sloppy" || K.pointerType !== "touch" || !j.current || Ur(K, i.floating) || Ur(K, i.domReference)) return;
        const J = Math.abs(K.clientX - j.current.startX),
            pe = Math.abs(K.clientY - j.current.startY),
            de = Math.sqrt(J * J + pe * pe);
        de > 5 && (j.current.dismissOnPointerUp = !0), de > 10 && (W(K), z.clear(), j.current = null)
    }), fe = tt(K => {
        O() !== "sloppy" || K.pointerType !== "touch" || !j.current || Ur(K, i.floating) || Ur(K, i.domReference) || (j.current.dismissOnPointerUp && W(K), z.clear(), j.current = null)
    });
    h.useEffect(() => {
        if (!n || !a) return;
        s.current.__escapeKeyBubbles = C, s.current.__outsidePressBubbles = E;
        const K = new Yi;

        function J(ue) {
            r(!1, ln("none", ue))
        }

        function pe() {
            K.clear(), R.current = !0
        }

        function de() {
            K.start(Ai() ? 5 : 0, () => {
                R.current = !1
            })
        }
        const ce = Jt(i.floating);
        ce.addEventListener("pointerdown", _, !0), o && (ce.addEventListener("keydown", A ? Y : F, A), ce.addEventListener("compositionstart", pe), ce.addEventListener("compositionend", de)), b && (ce.addEventListener("click", N ? U : W, N), ce.addEventListener("pointerdown", N ? U : W, N), ce.addEventListener("pointermove", I, N), ce.addEventListener("pointerup", fe, N), ce.addEventListener("mousedown", U, N));
        let ae = [];
        return m && (Re(i.domReference) && (ae = En(i.domReference)), Re(i.floating) && (ae = ae.concat(En(i.floating))), !Re(i.reference) && i.reference && i.reference.contextElement && (ae = ae.concat(En(i.reference.contextElement)))), ae = ae.filter(ue => ue !== ce.defaultView?.visualViewport), ae.forEach(ue => {
            ue.addEventListener("scroll", J, {
                passive: !0
            })
        }), () => {
            ce.removeEventListener("pointerdown", _, !0), o && (ce.removeEventListener("keydown", A ? Y : F, A), ce.removeEventListener("compositionstart", pe), ce.removeEventListener("compositionend", de)), b && (ce.removeEventListener("click", N ? U : W, N), ce.removeEventListener("pointerdown", N ? U : W, N), ce.removeEventListener("pointermove", I, N), ce.removeEventListener("pointerup", fe, N), ce.removeEventListener("mousedown", U, N)), ae.forEach(ue => {
                ue.removeEventListener("scroll", J)
            }), K.clear()
        }
    }, [s, i, o, b, n, r, m, a, C, E, F, A, Y, W, N, U, B, I, fe, _]), h.useEffect(() => {
        s.current.insideReactTree = !1
    }, [s, b]);
    const re = h.useMemo(() => ({
            onKeyDown: F,
            ...d && {
                [_z[f]]: K => {
                    r(!1, ln("trigger-press", K.nativeEvent))
                },
                ...f !== "intentional" && {
                    onClick(K) {
                        r(!1, ln("trigger-press", K.nativeEvent))
                    }
                }
            }
        }), [F, r, d, f]),
        M = tt(K => {
            const J = yr(K.nativeEvent);
            !Zt(i.floating, J) || K.button !== 0 || (w.current = !0)
        }),
        ye = tt(() => {
            s.current.insideReactTree = !0, H.start(0, () => {
                s.current.insideReactTree = !1
            })
        }),
        Oe = h.useMemo(() => ({
            onKeyDown: F,
            onMouseDown: M,
            onMouseUp: M,
            onPointerDownCapture: ye,
            onMouseDownCapture: ye,
            onClickCapture: ye,
            onMouseUpCapture: ye
        }), [F, M, ye]);
    return h.useMemo(() => a ? {
        reference: re,
        floating: Oe
    } : {}, [a, re, Oe])
}

function Ev(e) {
    const {
        open: t = !1,
        onOpenChange: n,
        elements: r
    } = e, i = vc(), s = h.useRef({}), [a] = h.useState(() => lv()), o = sa() != null, [c, u] = h.useState(r.reference), d = tt((p, g) => {
        if (s.current.openEvent = p ? g.event : void 0, !e.noEmit) {
            const x = {
                open: p,
                reason: g.reason,
                nativeEvent: g.event,
                nested: o
            };
            a.emit("openchange", x)
        }
        n?.(p, g)
    }), f = h.useMemo(() => ({
        setPositionReference: u
    }), []), m = h.useMemo(() => ({
        reference: c || r.reference || null,
        floating: r.floating || null,
        domReference: r.reference
    }), [c, r.reference, r.floating]);
    return h.useMemo(() => ({
        dataRef: s,
        open: t,
        onOpenChange: d,
        elements: m,
        events: a,
        floatingId: i,
        refs: f
    }), [t, d, m, a, i, f])
}

function zz(e = {}) {
    const {
        nodeId: t
    } = e, n = Ev({
        ...e,
        elements: {
            reference: null,
            floating: null,
            ...e.elements
        }
    }), r = e.rootContext || n, i = r.elements, [s, a] = h.useState(null), [o, c] = h.useState(null), d = i?.domReference || s, f = h.useRef(null), m = po();
    It(() => {
        d && (f.current = d)
    }, [d]);
    const p = jz({
            ...e,
            elements: {
                ...i,
                ...o && {
                    reference: o
                }
            }
        }),
        g = h.useCallback(C => {
            const E = Re(C) ? {
                getBoundingClientRect: () => C.getBoundingClientRect(),
                getClientRects: () => C.getClientRects(),
                contextElement: C
            } : C;
            c(E), p.refs.setReference(E)
        }, [p.refs]),
        x = h.useCallback(C => {
            (Re(C) || C === null) && (f.current = C, a(C)), (Re(p.refs.reference.current) || p.refs.reference.current === null || C !== null && !Re(C)) && p.refs.setReference(C)
        }, [p.refs]),
        y = h.useMemo(() => ({
            ...p.refs,
            setReference: x,
            setPositionReference: g,
            domReference: f
        }), [p.refs, x, g]),
        b = h.useMemo(() => ({
            ...p.elements,
            domReference: d
        }), [p.elements, d]),
        w = h.useMemo(() => ({
            ...p,
            ...r,
            refs: y,
            elements: b,
            nodeId: t
        }), [p, y, b, t, r]);
    return It(() => {
        r.dataRef.current.floatingContext = w;
        const C = m?.nodesRef.current.find(E => E.id === t);
        C && (C.context = w)
    }), h.useMemo(() => ({
        ...p,
        context: w,
        refs: y,
        elements: b
    }), [p, y, b, w])
}

function Bz(e = []) {
    const t = e.map(o => o?.reference),
        n = e.map(o => o?.floating),
        r = e.map(o => o?.item),
        i = h.useCallback(o => Pu(o, e, "reference"), t),
        s = h.useCallback(o => Pu(o, e, "floating"), n),
        a = h.useCallback(o => Pu(o, e, "item"), r);
    return h.useMemo(() => ({
        getReferenceProps: i,
        getFloatingProps: s,
        getItemProps: a
    }), [i, s, a])
}

function Pu(e, t, n) {
    const r = new Map,
        i = n === "item",
        s = {};
    n === "floating" && (s.tabIndex = -1, s[U0] = "");
    for (const a in e) i && e && (a === nv || a === rv) || (s[a] = e[a]);
    for (let a = 0; a < t.length; a += 1) {
        let o;
        const c = t[a]?.[n];
        typeof c == "function" ? o = e ? c(e) : null : o = c, o && Vm(s, o, i, r)
    }
    return Vm(s, e, i, r), s
}

function Vm(e, t, n, r) {
    for (const i in t) {
        const s = t[i];
        n && (i === nv || i === rv) || (i.startsWith("on") ? (r.has(i) || r.set(i, []), typeof s == "function" && (r.get(i)?.push(s), e[i] = (...a) => r.get(i)?.map(o => o(...a)).find(o => o !== void 0))) : e[i] = s)
    }
}
const $z = new Map([
    ["select", "listbox"],
    ["combobox", "listbox"],
    ["label", !1]
]);

function Hz(e, t = {}) {
    const {
        open: n,
        elements: r,
        floatingId: i
    } = e, {
        enabled: s = !0,
        role: a = "dialog"
    } = t, o = vc(), c = r.domReference?.id || o, u = h.useMemo(() => V0(r.floating)?.id || i, [r.floating, i]), d = $z.get(a) ?? a, m = sa() != null, p = h.useMemo(() => d === "tooltip" || a === "label" ? {
        [`aria-${a==="label"?"labelledby":"describedby"}`]: n ? u : void 0
    } : {
        "aria-expanded": n ? "true" : "false",
        "aria-haspopup": d === "alertdialog" ? "dialog" : d,
        "aria-controls": n ? u : void 0,
        ...d === "listbox" && {
            role: "combobox"
        },
        ...d === "menu" && {
            id: c
        },
        ...d === "menu" && m && {
            role: "menuitem"
        },
        ...a === "select" && {
            "aria-autocomplete": "none"
        },
        ...a === "combobox" && {
            "aria-autocomplete": "list"
        }
    }, [d, u, m, n, c, a]), g = h.useMemo(() => {
        const y = {
            id: u,
            ...d && {
                role: d
            }
        };
        return d === "tooltip" || a === "label" ? y : {
            ...y,
            ...d === "menu" && {
                "aria-labelledby": c
            }
        }
    }, [d, u, c, a]), x = h.useCallback(({
        active: y,
        selected: b
    }) => {
        const w = {
            role: "option",
            ...y && {
                id: `${u}-fui-option`
            }
        };
        switch (a) {
            case "select":
            case "combobox":
                return {
                    ...w, "aria-selected": b
                }
        }
        return {}
    }, [u, a]);
    return h.useMemo(() => s ? {
        reference: p,
        floating: g,
        item: x
    } : {}, [s, p, g, x])
}

function Wm(e, t) {
    const [n, r] = e;
    let i = !1;
    const s = t.length;
    for (let a = 0, o = s - 1; a < s; o = a++) {
        const [c, u] = t[a] || [0, 0], [d, f] = t[o] || [0, 0];
        u >= r != f >= r && n <= (d - c) * (r - u) / (f - u) + c && (i = !i)
    }
    return i
}

function Uz(e, t) {
    return e[0] >= t.x && e[0] <= t.x + t.width && e[1] >= t.y && e[1] <= t.y + t.height
}

function Vz(e = {}) {
    const {
        buffer: t = .5,
        blockPointerEvents: n = !1,
        requireIntent: r = !0
    } = e, i = new Yi;
    let s = !1,
        a = null,
        o = null,
        c = typeof performance < "u" ? performance.now() : 0;

    function u(f, m) {
        const p = performance.now(),
            g = p - c;
        if (a === null || o === null || g === 0) return a = f, o = m, c = p, null;
        const x = f - a,
            y = m - o,
            w = Math.sqrt(x * x + y * y) / g;
        return a = f, o = m, c = p, w
    }
    const d = ({
        x: f,
        y: m,
        placement: p,
        elements: g,
        onClose: x,
        nodeId: y,
        tree: b
    }) => function(C) {
        function E() {
            i.clear(), x()
        }
        if (i.clear(), !g.domReference || !g.floating || p == null || f == null || m == null) return;
        const {
            clientX: A,
            clientY: N
        } = C, j = [A, N], z = yr(C), H = C.type === "mouseleave", R = Zt(g.floating, z), D = Zt(g.domReference, z), _ = g.domReference.getBoundingClientRect(), O = g.floating.getBoundingClientRect(), F = p.split("-")[0], G = f > O.right - O.width / 2, Y = m > O.bottom - O.height / 2, W = Uz(j, _), B = O.width > _.width, U = O.height > _.height, I = (B ? _ : O).left, fe = (B ? _ : O).right, re = (U ? _ : O).top, M = (U ? _ : O).bottom;
        if (R && (s = !0, !H)) return;
        if (D && (s = !1), D && !H) {
            s = !0;
            return
        }
        if (H && Re(C.relatedTarget) && Zt(g.floating, C.relatedTarget) || b && Bi(b.nodesRef.current, y).some(({
                context: K
            }) => K?.open)) return;
        if (F === "top" && m >= _.bottom - 1 || F === "bottom" && m <= _.top + 1 || F === "left" && f >= _.right - 1 || F === "right" && f <= _.left + 1) return E();
        let ye = [];
        switch (F) {
            case "top":
                ye = [
                    [I, _.top + 1],
                    [I, O.bottom - 1],
                    [fe, O.bottom - 1],
                    [fe, _.top + 1]
                ];
                break;
            case "bottom":
                ye = [
                    [I, O.top + 1],
                    [I, _.bottom - 1],
                    [fe, _.bottom - 1],
                    [fe, O.top + 1]
                ];
                break;
            case "left":
                ye = [
                    [O.right - 1, M],
                    [O.right - 1, re],
                    [_.left + 1, re],
                    [_.left + 1, M]
                ];
                break;
            case "right":
                ye = [
                    [_.right - 1, M],
                    [_.right - 1, re],
                    [O.left + 1, re],
                    [O.left + 1, M]
                ];
                break
        }

        function Oe([K, J]) {
            switch (F) {
                case "top": {
                    const pe = [B ? K + t / 2 : G ? K + t * 4 : K - t * 4, J + t + 1],
                        de = [B ? K - t / 2 : G ? K + t * 4 : K - t * 4, J + t + 1],
                        ce = [
                            [O.left, G || B ? O.bottom - t : O.top],
                            [O.right, G ? B ? O.bottom - t : O.top : O.bottom - t]
                        ];
                    return [pe, de, ...ce]
                }
                case "bottom": {
                    const pe = [B ? K + t / 2 : G ? K + t * 4 : K - t * 4, J - t],
                        de = [B ? K - t / 2 : G ? K + t * 4 : K - t * 4, J - t],
                        ce = [
                            [O.left, G || B ? O.top + t : O.bottom],
                            [O.right, G ? B ? O.top + t : O.bottom : O.top + t]
                        ];
                    return [pe, de, ...ce]
                }
                case "left": {
                    const pe = [K + t + 1, U ? J + t / 2 : Y ? J + t * 4 : J - t * 4],
                        de = [K + t + 1, U ? J - t / 2 : Y ? J + t * 4 : J - t * 4];
                    return [...[
                        [Y || U ? O.right - t : O.left, O.top],
                        [Y ? U ? O.right - t : O.left : O.right - t, O.bottom]
                    ], pe, de]
                }
                case "right": {
                    const pe = [K - t, U ? J + t / 2 : Y ? J + t * 4 : J - t * 4],
                        de = [K - t, U ? J - t / 2 : Y ? J + t * 4 : J - t * 4],
                        ce = [
                            [Y || U ? O.left + t : O.right, O.top],
                            [Y ? U ? O.left + t : O.right : O.left + t, O.bottom]
                        ];
                    return [pe, de, ...ce]
                }
                default:
                    return []
            }
        }
        if (!Wm([A, N], ye)) {
            if (s && !W) return E();
            if (!H && r) {
                const K = u(C.clientX, C.clientY);
                if (K !== null && K < .1) return E()
            }
            Wm([A, N], Oe([f, m])) ? !s && r && i.start(40, E) : E()
        }
    };
    return d.__options = {
        blockPointerEvents: n
    }, d
}

function Wz(e, t = !1, n = !1) {
    const [r, i] = h.useState(e && t ? "idle" : void 0), [s, a] = h.useState(e);
    return e && !s && (a(!0), i("starting")), !e && s && r !== "ending" && !n && i("ending"), !e && !s && r === "ending" && i(void 0), It(() => {
        if (!e && s && r !== "ending" && n) {
            const o = wr.request(() => {
                i("ending")
            });
            return () => {
                wr.cancel(o)
            }
        }
    }, [e, s, r, n]), It(() => {
        if (!e || t) return;
        const o = wr.request(() => {
            an.flushSync(() => {
                i(void 0)
            })
        });
        return () => {
            wr.cancel(o)
        }
    }, [t, e]), It(() => {
        if (!e || !t) return;
        e && s && r !== "idle" && i("starting");
        const o = wr.request(() => {
            i("idle")
        });
        return () => {
            wr.cancel(o)
        }
    }, [t, e, s, i, r]), h.useMemo(() => ({
        mounted: s,
        setMounted: a,
        transitionStatus: r
    }), [s, r])
}
const qz = 300;

function Gz(e) {
    const t = h.useRef(""),
        n = h.useCallback(i => {
            i.defaultPrevented || (t.current = i.pointerType, e(i, i.pointerType))
        }, [e]);
    return {
        onClick: h.useCallback(i => {
            if (i.detail === 0) {
                e(i, "keyboard");
                return
            }
            "pointerType" in i && e(i, i.pointerType), e(i, t.current), t.current = ""
        }, [e]),
        onPointerDown: n
    }
}

function Yz(e) {
    const [t, n] = h.useState(null), r = tt((o, c) => {
        e || n(c)
    }), i = tt(() => {
        n(null)
    }), {
        onClick: s,
        onPointerDown: a
    } = Gz(r);
    return h.useMemo(() => ({
        openMethod: t,
        reset: i,
        triggerProps: {
            onClick: s,
            onPointerDown: a
        }
    }), [t, i, s, a])
}

function Kz(e, t = !1) {
    const n = l1();
    return tt((r, i = null) => {
        if (n.cancel(), e == null) return;
        let s;
        if ("current" in e) {
            if (e.current == null) return;
            s = e.current
        } else s = e;
        typeof s.getAnimations != "function" || globalThis.BASE_UI_ANIMATIONS_DISABLED ? r() : n.request(() => {
            function a() {
                s && Promise.allSettled(s.getAnimations().map(o => o.finished)).then(() => {
                    i != null && i.aborted || an.flushSync(r)
                })
            }
            t ? n.request(a) : a()
        })
    })
}

function Nv(e) {
    const {
        enabled: t = !0,
        open: n,
        ref: r,
        onComplete: i
    } = e, s = Yn(n), a = tt(i), o = Kz(r, n);
    h.useEffect(() => {
        t && o(() => {
            n === s.current && a()
        })
    }, [t, n, a, o, s])
}
let qm = {},
    Gm = {},
    Ym = "";

function Xz(e) {
    if (typeof document > "u") return !1;
    const t = aa(e);
    return nt(t).innerWidth - t.documentElement.clientWidth > 0
}

function Zz(e) {
    const n = aa(e).documentElement,
        r = n.style.overflow;
    return n.style.overflow = "hidden", () => {
        n.style.overflow = r
    }
}

function Qz(e) {
    const t = aa(e),
        n = t.documentElement,
        r = t.body,
        i = nt(n);
    let s = 0,
        a = 0;
    const o = wr.create();
    if (tv && (i.visualViewport?.scale ?? 1) !== 1) return () => {};

    function c() {
        const f = i.getComputedStyle(n),
            m = i.getComputedStyle(r);
        s = n.scrollTop, a = n.scrollLeft, qm = {
            scrollbarGutter: n.style.scrollbarGutter,
            overflowY: n.style.overflowY,
            overflowX: n.style.overflowX
        }, Ym = n.style.scrollBehavior, Gm = {
            position: r.style.position,
            height: r.style.height,
            width: r.style.width,
            boxSizing: r.style.boxSizing,
            overflowY: r.style.overflowY,
            overflowX: r.style.overflowX,
            scrollBehavior: r.style.scrollBehavior
        };
        const p = typeof CSS < "u" && CSS.supports?.("scrollbar-gutter", "stable"),
            g = n.scrollHeight > n.clientHeight,
            x = n.scrollWidth > n.clientWidth,
            y = f.overflowY === "scroll" || m.overflowY === "scroll",
            b = f.overflowX === "scroll" || m.overflowX === "scroll",
            w = Math.max(0, i.innerWidth - n.clientWidth),
            C = Math.max(0, i.innerHeight - n.clientHeight),
            E = parseFloat(m.marginTop) + parseFloat(m.marginBottom),
            A = parseFloat(m.marginLeft) + parseFloat(m.marginRight);
        Object.assign(n.style, {
            scrollbarGutter: "stable",
            overflowY: !p && (g || y) ? "scroll" : "hidden",
            overflowX: !p && (x || b) ? "scroll" : "hidden"
        }), Object.assign(r.style, {
            position: "relative",
            height: E || C ? `calc(100dvh - ${E+C}px)` : "100dvh",
            width: A || w ? `calc(100vw - ${A+w}px)` : "100vw",
            boxSizing: "border-box",
            overflow: "hidden",
            scrollBehavior: "unset"
        }), r.scrollTop = s, r.scrollLeft = a, n.setAttribute("data-base-ui-scroll-locked", ""), n.style.scrollBehavior = "unset"
    }

    function u() {
        Object.assign(n.style, qm), Object.assign(r.style, Gm), n.scrollTop = s, n.scrollLeft = a, n.removeAttribute("data-base-ui-scroll-locked"), n.style.scrollBehavior = Ym
    }

    function d() {
        u(), o.request(c)
    }
    return c(), i.addEventListener("resize", d), () => {
        o.cancel(), u(), i.removeEventListener("resize", d)
    }
}
class Jz {
    lockCount = 0;
    restore = null;
    timeoutLock = Yi.create();
    timeoutUnlock = Yi.create();
    acquire(t) {
        return this.lockCount += 1, this.lockCount === 1 && this.restore === null && this.timeoutLock.start(0, () => this.lock(t)), this.release
    }
    release = () => {
        this.lockCount -= 1, this.lockCount === 0 && this.restore && this.timeoutUnlock.start(0, this.unlock)
    };
    unlock = () => {
        this.lockCount === 0 && this.restore && (this.restore?.(), this.restore = null)
    };
    lock(t) {
        if (this.lockCount === 0 || this.restore !== null) return;
        const r = aa(t).documentElement,
            i = nt(r).getComputedStyle(r).overflowY;
        if (i === "hidden" || i === "clip") {
            this.restore = RF;
            return
        }
        const s = pF || !Xz(t);
        this.restore = s ? Zz(t) : Qz(t)
    }
}
const eB = new Jz;

function tB(e) {
    const {
        enabled: t = !0,
        mounted: n,
        open: r,
        referenceElement: i = null
    } = e;
    It(() => {
        if (t && tv && n && !r) {
            const s = aa(i),
                a = s.body.style.userSelect,
                o = s.body.style.webkitUserSelect;
            return s.body.style.userSelect = "none", s.body.style.webkitUserSelect = "none", () => {
                s.body.style.userSelect = a, s.body.style.webkitUserSelect = o
            }
        }
    }, [t, n, r, i]), It(() => {
        if (t) return eB.acquire(i)
    }, [t, i])
}
const Av = h.createContext(void 0);

function mo(e) {
    const t = h.useContext(Av);
    if (t === void 0 && !e) throw new Error("Base UI: PopoverRootContext is missing. Popover parts must be placed within <Popover.Root>.");
    return t
}

function Tv(e, t) {
    if (e && !t) return e;
    if (!e && t) return t;
    if (e || t) return {
        ...e,
        ...t
    }
}
const ja = {};

function d1(e, t, n, r, i) {
    let s = {
        ...W0(e, ja)
    };
    return t && (s = Zo(s, t)), n && (s = Zo(s, n)), r && (s = Zo(s, r)), s
}

function nB(e) {
    if (e.length === 0) return ja;
    if (e.length === 1) return W0(e[0], ja);
    let t = {
        ...W0(e[0], ja)
    };
    for (let n = 1; n < e.length; n += 1) t = Zo(t, e[n]);
    return t
}

function Zo(e, t) {
    return Iv(t) ? t(e) : rB(e, t)
}

function rB(e, t) {
    if (!t) return e;
    for (const n in t) {
        const r = t[n];
        switch (n) {
            case "style": {
                e[n] = Tv(e.style, r);
                break
            }
            case "className": {
                e[n] = jv(e.className, r);
                break
            }
            default:
                iB(n, r) ? e[n] = sB(e[n], r) : e[n] = r
        }
    }
    return e
}

function iB(e, t) {
    const n = e.charCodeAt(0),
        r = e.charCodeAt(1),
        i = e.charCodeAt(2);
    return n === 111 && r === 110 && i >= 65 && i <= 90 && (typeof t == "function" || typeof t > "u")
}

function Iv(e) {
    return typeof e == "function"
}

function W0(e, t) {
    return Iv(e) ? e(t) : e ?? ja
}

function sB(e, t) {
    return t ? e ? n => {
        if (aB(n)) {
            const i = n;
            q0(i);
            const s = t(i);
            return i.baseUIHandlerPrevented || e?.(i), s
        }
        const r = t(n);
        return e?.(n), r
    } : t : e
}

function q0(e) {
    return e.preventBaseUIHandler = () => {
        e.baseUIHandlerPrevented = !0
    }, e
}

function jv(e, t) {
    return t ? e ? t + " " + e : t : e
}

function aB(e) {
    return e != null && typeof e == "object" && "nativeEvent" in e
}

function Km({
    props: e
}) {
    const {
        open: t,
        onOpenChange: n,
        defaultOpen: r = !1,
        delay: i = qz,
        closeDelay: s = 0,
        openOnHover: a = !1,
        onOpenChangeComplete: o,
        modal: c = !1
    } = e, [u, d] = h.useState(), [f, m] = h.useState(), [p, g] = h.useState(), [x, y] = h.useState(null), [b, w] = h.useState(null), [C, E] = h.useState(null), [A, N] = h.useState(!0), j = h.useRef(null), z = h.useRef(null), H = h.useRef(null), R = wi(), D = sa() != null;
    let _;
    const [O, F] = lF({
        controlled: t,
        default: r,
        name: "Popover",
        state: "open"
    }), {
        mounted: G,
        setMounted: Y,
        transitionStatus: W
    } = Wz(O), {
        openMethod: B,
        triggerProps: U,
        reset: I
    } = Yz(O), fe = tt(() => {
        Y(!1), N(!0), E(null), o?.(!1), I()
    });
    Nv({
        enabled: !e.actionsRef,
        open: O,
        ref: H,
        onComplete() {
            O || fe()
        }
    }), h.useImperativeHandle(e.actionsRef, () => ({
        unmount: fe
    }), [fe]), h.useEffect(() => {
        O || R.clear()
    }, [R, O]);
    const re = tt((ue, Ce) => {
            const je = Ce.reason === "trigger-hover",
                Te = Ce.reason === "trigger-press" && Ce.event.detail === 0,
                ve = !ue && (Ce.reason === "escape-key" || Ce.reason === "none");
            if (n?.(ue, Ce), Ce.isCanceled) return;
            const Pe = {
                open: ue,
                nativeEvent: Ce.event,
                reason: Ce.reason,
                nested: D
            };
            _?.emit("openchange", Pe);

            function Ct() {
                F(ue), ue && E(Ce.reason)
            }
            je ? (N(!0), R.start(OF, () => {
                N(!1)
            }), an.flushSync(Ct)) : Ct(), d(Te || ve ? Te ? "click" : "dismiss" : void 0)
        }),
        M = Ev({
            elements: {
                reference: x,
                floating: b
            },
            open: O,
            onOpenChange: re
        });
    _ = M.events, tB({
        enabled: O && c === !0 && C !== "trigger-hover" && B !== "touch",
        mounted: G,
        open: O,
        referenceElement: b
    });
    const ye = i,
        Oe = DF(M, {
            enabled: a && (B !== "touch" || C !== "trigger-press"),
            mouseOnly: !0,
            move: !1,
            handleClose: Vz({
                blockPointerEvents: !0
            }),
            restMs: ye,
            delay: {
                close: s
            }
        }),
        K = XF(M, {
            stickIfOpen: A
        }),
        J = Fz(M, {
            outsidePressEvent: {
                mouse: c === "trap-focus" ? "sloppy" : "intentional",
                touch: "sloppy"
            }
        }),
        pe = Hz(M),
        {
            getReferenceProps: de,
            getFloatingProps: ce
        } = Bz([Oe, K, J, pe]),
        ae = h.useMemo(() => ({
            open: O,
            setOpen: re,
            mounted: G,
            setMounted: Y,
            transitionStatus: W,
            triggerElement: x,
            setTriggerElement: y,
            positionerElement: b,
            setPositionerElement: w,
            popupRef: H,
            titleId: f,
            setTitleId: m,
            descriptionId: p,
            setDescriptionId: g,
            backdropRef: j,
            internalBackdropRef: z,
            triggerProps: d1(de(), U),
            popupProps: ce(),
            floatingRootContext: M,
            instantType: u,
            openMethod: B,
            openReason: C,
            onOpenChangeComplete: o,
            openOnHover: a,
            delay: i,
            closeDelay: s,
            modal: c
        }), [O, re, G, Y, W, b, f, p, de, x, U, ce, M, u, B, C, o, a, i, s, c]);
    return l.jsx(Av.Provider, {
        value: ae,
        children: e.children
    })
}

function oB(e) {
    return mo(!0) ? l.jsx(Km, {
        props: e
    }) : l.jsx(MF, {
        children: l.jsx(Km, {
            props: e
        })
    })
}
const lB = h.createContext(void 0);

function cB(e = !1) {
    const t = h.useContext(lB);
    if (t === void 0 && !e) throw new Error("Base UI: CompositeRootContext is missing. Composite parts must be placed within <Composite.Root>.");
    return t
}

function uB(e) {
    const {
        focusableWhenDisabled: t,
        disabled: n,
        composite: r = !1,
        tabIndex: i = 0,
        isNativeButton: s
    } = e, a = r && t !== !1, o = r && t === !1;
    return {
        props: h.useMemo(() => {
            const u = {
                onKeyDown(d) {
                    n && t && d.key !== "Tab" && d.preventDefault()
                }
            };
            return r || (u.tabIndex = i, !s && n && (u.tabIndex = t ? i : -1)), (s && (t || a) || !s && n) && (u["aria-disabled"] = n), s && (!t || o) && (u.disabled = n), u
        }, [r, n, t, a, o, s, i])
    }
}

function dB(e = {}) {
    const {
        disabled: t = !1,
        focusableWhenDisabled: n,
        tabIndex: r = 0,
        native: i = !0
    } = e, s = h.useRef(null), a = cB(!0) !== void 0, o = tt(() => {
        const m = s.current;
        return !!(m?.tagName === "A" && m?.href)
    }), {
        props: c
    } = uB({
        focusableWhenDisabled: n,
        disabled: t,
        composite: a,
        tabIndex: r,
        isNativeButton: i
    }), u = h.useCallback(() => {
        const m = s.current;
        fB(m) && a && t && c.disabled === void 0 && m.disabled && (m.disabled = !1)
    }, [t, c.disabled, a]);
    It(u, [u]);
    const d = h.useCallback((m = {}) => {
            const {
                onClick: p,
                onMouseDown: g,
                onKeyUp: x,
                onKeyDown: y,
                onPointerDown: b,
                ...w
            } = m;
            return d1({
                type: i ? "button" : void 0,
                onClick(E) {
                    if (t) {
                        E.preventDefault();
                        return
                    }
                    p?.(E)
                },
                onMouseDown(E) {
                    t || g?.(E)
                },
                onKeyDown(E) {
                    if (t || (q0(E), y?.(E)), E.baseUIHandlerPrevented) return;
                    const A = E.target === E.currentTarget && !i && !o() && !t,
                        N = E.key === "Enter",
                        j = E.key === " ";
                    A && ((j || N) && E.preventDefault(), N && p?.(E))
                },
                onKeyUp(E) {
                    t || (q0(E), x?.(E)), !E.baseUIHandlerPrevented && E.target === E.currentTarget && !i && !t && E.key === " " && p?.(E)
                },
                onPointerDown(E) {
                    if (t) {
                        E.preventDefault();
                        return
                    }
                    b?.(E)
                }
            }, i ? void 0 : {
                role: "button"
            }, c, w)
        }, [t, c, i, o]),
        f = tt(m => {
            s.current = m, u()
        });
    return {
        getButtonProps: d,
        buttonRef: f
    }
}

function fB(e) {
    return Qe(e) && e.tagName === "BUTTON"
}
let Ml = function(e) {
    return e.startingStyle = "data-starting-style", e.endingStyle = "data-ending-style", e
}({});
const hB = {
        [Ml.startingStyle]: ""
    },
    pB = {
        [Ml.endingStyle]: ""
    },
    mB = {
        transitionStatus(e) {
            return e === "starting" ? hB : e === "ending" ? pB : null
        }
    };
let f1 = function(e) {
        return e.open = "data-open", e.closed = "data-closed", e[e.startingStyle = Ml.startingStyle] = "startingStyle", e[e.endingStyle = Ml.endingStyle] = "endingStyle", e.anchorHidden = "data-anchor-hidden", e
    }({}),
    G0 = function(e) {
        return e.popupOpen = "data-popup-open", e.pressed = "data-pressed", e
    }({});
const gB = {
        [G0.popupOpen]: ""
    },
    xB = {
        [G0.popupOpen]: "",
        [G0.pressed]: ""
    },
    vB = {
        [f1.open]: ""
    },
    bB = {
        [f1.closed]: ""
    },
    yB = {
        [f1.anchorHidden]: ""
    },
    wB = {
        open(e) {
            return e ? gB : null
        }
    },
    SB = {
        open(e) {
            return e ? xB : null
        }
    },
    Mv = {
        open(e) {
            return e ? vB : bB
        },
        anchorHidden(e) {
            return e ? yB : null
        }
    },
    CB = parseInt(h.version, 10);

function Rv(e) {
    return CB >= e
}

function kB(e, t) {
    const n = {};
    for (const r in e) {
        const i = e[r];
        if (t?.hasOwnProperty(r)) {
            const s = t[r](i);
            s != null && Object.assign(n, s);
            continue
        }
        i === !0 ? n[`data-${r.toLowerCase()}`] = "" : i && (n[`data-${r.toLowerCase()}`] = i.toString())
    }
    return n
}

function EB(e, t) {
    return typeof e == "function" ? e(t) : e
}

function h1(e, t, n = {}) {
    const r = t.render,
        i = NB(t, n);
    if (n.enabled === !1) return null;
    const s = n.state ?? qr;
    return AB(e, r, i, s)
}

function NB(e, t = {}) {
    const {
        className: n,
        render: r
    } = e, {
        state: i = qr,
        ref: s,
        props: a,
        stateAttributesMapping: o,
        enabled: c = !0
    } = t, u = c ? EB(n, i) : void 0, d = c ? kB(i, o) : qr, f = c ? Tv(d, Array.isArray(a) ? nB(a) : a) ?? qr : qr;
    return typeof document < "u" && (c ? Array.isArray(s) ? f.ref = _F([f.ref, Xm(r), ...s]) : f.ref = Tl(f.ref, Xm(r), s) : Tl(null, null)), c ? (u !== void 0 && (f.className = jv(f.className, u)), f) : qr
}

function AB(e, t, n, r) {
    if (t) {
        if (typeof t == "function") return t(n, r);
        const i = d1(n, t.props);
        return i.ref = n.ref, h.cloneElement(t, i)
    }
    if (e && typeof e == "string") return TB(e, n);
    throw new Error("Base UI: Render element or function are not defined.")
}

function TB(e, t) {
    return e === "button" ? l.jsx("button", {
        type: "button",
        ...t
    }) : e === "img" ? l.jsx("img", {
        alt: "",
        ...t
    }) : h.createElement(e, t)
}

function Xm(e) {
    return e && typeof e != "function" ? Rv(19) ? e.props.ref : e.ref : null
}
const IB = h.forwardRef(function(t, n) {
        const {
            render: r,
            className: i,
            disabled: s = !1,
            nativeButton: a = !0,
            ...o
        } = t, {
            open: c,
            setTriggerElement: u,
            triggerProps: d,
            openReason: f
        } = mo(), m = h.useMemo(() => ({
            disabled: s,
            open: c
        }), [s, c]), {
            getButtonProps: p,
            buttonRef: g
        } = dB({
            disabled: s,
            native: a
        }), x = h.useMemo(() => ({
            open(b) {
                return b && f === "trigger-press" ? SB.open(b) : wB.open(b)
            }
        }), [f]);
        return h1("button", t, {
            state: m,
            ref: [g, u, n],
            props: [d, {
                [dv]: ""
            }, o, p],
            stateAttributesMapping: x
        })
    }),
    Ov = h.createContext(void 0);

function jB() {
    const e = h.useContext(Ov);
    if (e === void 0) throw new Error("Base UI: <Popover.Portal> is missing.");
    return e
}

function MB(e) {
    const {
        children: t,
        keepMounted: n = !1,
        container: r
    } = e, {
        mounted: i
    } = mo();
    return i || n ? l.jsx(Ov.Provider, {
        value: n,
        children: l.jsx(WF, {
            root: r,
            children: t
        })
    }) : null
}

function RB(e) {
    return Rv(19) ? e : e ? "true" : void 0
}
const Pv = h.createContext(void 0);

function OB() {
    const e = h.useContext(Pv);
    if (!e) throw new Error("Base UI: PopoverPositionerContext is missing. PopoverPositioner parts must be placed within <Popover.Positioner>.");
    return e
}
const PB = h.createContext(void 0);

function LB(e = !0) {
    const t = h.useContext(PB);
    if (t === void 0 && !e) throw new Error("Base UI: DirectionContext is missing.");
    return t?.direction ?? "ltr"
}
const DB = e => ({
        name: "arrow",
        options: e,
        async fn(t) {
            const {
                x: n,
                y: r,
                placement: i,
                rects: s,
                platform: a,
                elements: o,
                middlewareData: c
            } = t, {
                element: u,
                padding: d = 0,
                offsetParent: f = "real"
            } = wt(e, t) || {};
            if (u == null) return {};
            const m = uo(d),
                p = {
                    x: n,
                    y: r
                },
                g = ta(i),
                x = ea(g),
                y = await a.getDimensions(u),
                b = g === "y",
                w = b ? "top" : "left",
                C = b ? "bottom" : "right",
                E = b ? "clientHeight" : "clientWidth",
                A = s.reference[x] + s.reference[g] - p[g] - s.floating[x],
                N = p[g] - s.reference[g],
                j = f === "real" ? await a.getOffsetParent?.(u) : o.floating;
            let z = o.floating[E] || s.floating[x];
            (!z || !await a.isElement?.(j)) && (z = o.floating[E] || s.floating[x]);
            const H = A / 2 - N / 2,
                R = z / 2 - y[x] / 2 - 1,
                D = Math.min(m[w], R),
                _ = Math.min(m[C], R),
                O = D,
                F = z - y[x] - _,
                G = z / 2 - y[x] / 2 + H,
                Y = yi(O, G, F),
                W = !c.arrow && wn(i) != null && G !== Y && s.reference[x] / 2 - (G < O ? D : _) - y[x] / 2 < 0,
                B = W ? G < O ? G - O : G - F : 0;
            return {
                [g]: p[g] + B,
                data: {
                    [g]: Y,
                    centerOffset: G - Y - B,
                    ...W && {
                        alignmentOffset: B
                    }
                },
                reset: W
            }
        }
    }),
    _B = (e, t) => ({
        ...DB(e),
        options: [e, t]
    });

function Lv(e, t, n) {
    const r = e === "inline-start" || e === "inline-end";
    return {
        top: "top",
        right: r ? n ? "inline-start" : "inline-end" : "right",
        bottom: "bottom",
        left: r ? n ? "inline-end" : "inline-start" : "left"
    } [t]
}

function Zm(e, t, n) {
    const {
        rects: r,
        placement: i
    } = e;
    return {
        side: Lv(t, mt(i), n),
        align: wn(i) || "center",
        anchor: {
            width: r.reference.width,
            height: r.reference.height
        },
        positioner: {
            width: r.floating.width,
            height: r.floating.height
        }
    }
}

function FB(e) {
    const {
        anchor: t,
        positionMethod: n = "absolute",
        side: r = "bottom",
        sideOffset: i = 0,
        align: s = "center",
        alignOffset: a = 0,
        collisionBoundary: o,
        collisionPadding: c = 5,
        sticky: u = !1,
        arrowPadding: d = 5,
        trackAnchor: f = !0,
        keepMounted: m = !1,
        floatingRootContext: p,
        mounted: g,
        collisionAvoidance: x,
        shiftCrossAxis: y = !1,
        nodeId: b,
        adaptiveOrigin: w,
        lazyFlip: C = !1
    } = e, [E, A] = h.useState(null);
    !g && E !== null && A(null);
    const N = x.side || "flip",
        j = x.align || "flip",
        z = x.fallbackAxisSide || "end",
        H = typeof t == "function" ? t : void 0,
        R = tt(H),
        D = H ? R : t,
        _ = Yn(t),
        F = LB() === "rtl",
        G = E || {
            top: "top",
            right: "right",
            bottom: "bottom",
            left: "left",
            "inline-end": F ? "left" : "right",
            "inline-start": F ? "right" : "left"
        } [r],
        Y = s === "center" ? G : `${G}-${s}`;
    let W = c;
    const B = 1,
        U = r === "bottom" ? B : 0,
        I = r === "top" ? B : 0,
        fe = r === "right" ? B : 0,
        re = r === "left" ? B : 0;
    typeof W == "number" ? W = {
        top: W + U,
        right: W + re,
        bottom: W + I,
        left: W + fe
    } : W && (W = {
        top: (W.top || 0) + U,
        right: (W.right || 0) + re,
        bottom: (W.bottom || 0) + I,
        left: (W.left || 0) + fe
    });
    const M = {
            boundary: o === "clipping-ancestors" ? "clippingAncestors" : o,
            padding: W
        },
        ye = h.useRef(null),
        Oe = Yn(i),
        K = Yn(a),
        de = [Mz(Ze => {
            const Mt = Zm(Ze, r, F),
                Dt = typeof Oe.current == "function" ? Oe.current(Mt) : Oe.current,
                $n = typeof K.current == "function" ? K.current(Mt) : K.current;
            return {
                mainAxis: Dt,
                crossAxis: $n,
                alignmentAxis: $n
            }
        }, [typeof i != "function" ? i : 0, typeof a != "function" ? a : 0, F, r])],
        ce = j === "none" && N !== "shift",
        ae = !ce && (u || y || N === "shift"),
        ue = N === "none" ? null : Pz({
            ...M,
            padding: {
                top: W.top + B,
                right: W.right + B,
                bottom: W.bottom + B,
                left: W.left + B
            },
            mainAxis: !y && N === "flip",
            crossAxis: j === "flip" ? "alignment" : !1,
            fallbackAxisSideDirection: z
        }),
        Ce = ce ? null : Rz(Ze => {
            const Mt = aa(Ze.elements.floating).documentElement;
            return {
                ...M,
                rootBoundary: y ? {
                    x: 0,
                    y: 0,
                    width: Mt.clientWidth,
                    height: Mt.clientHeight
                } : void 0,
                mainAxis: j !== "none",
                crossAxis: ae,
                limiter: u || y ? void 0 : Oz(Dt => {
                    if (!ye.current) return {};
                    const {
                        width: $n,
                        height: us
                    } = ye.current.getBoundingClientRect(), ds = ot(mt(Dt.placement)), go = ds === "y" ? $n : us, Ac = ds === "y" ? W.left + W.right : W.top + W.bottom;
                    return {
                        offset: go / 2 + Ac / 2
                    }
                })
            }
        }, [M, u, y, W, j]);
    N === "shift" || j === "shift" || s === "center" ? de.push(Ce, ue) : de.push(ue, Ce), de.push(Lz({
        ...M,
        apply({
            elements: {
                floating: Ze
            },
            rects: {
                reference: Mt
            },
            availableWidth: Dt,
            availableHeight: $n
        }) {
            Object.entries({
                "--available-width": `${Dt}px`,
                "--available-height": `${$n}px`,
                "--anchor-width": `${Mt.width}px`,
                "--anchor-height": `${Mt.height}px`
            }).forEach(([us, ds]) => {
                Ze.style.setProperty(us, ds)
            })
        }
    }), _B(() => ({
        element: ye.current || document.createElement("div"),
        padding: d,
        offsetParent: "floating"
    }), [d]), Dz(), {
        name: "transformOrigin",
        fn(Ze) {
            const {
                elements: Mt,
                middlewareData: Dt,
                placement: $n,
                rects: us,
                y: ds
            } = Ze, go = mt($n), Ac = ot(go), j1 = ye.current, jb = Dt.arrow?.x || 0, Mb = Dt.arrow?.y || 0, Rb = j1?.clientWidth || 0, Ob = j1?.clientHeight || 0, Tc = jb + Rb / 2, M1 = Mb + Ob / 2, Pb = Math.abs(Dt.shift?.y || 0), Lb = us.reference.height / 2, la = typeof i == "function" ? i(Zm(Ze, r, F)) : i, Db = Pb > la, _b = {
                top: `${Tc}px calc(100% + ${la}px)`,
                bottom: `${Tc}px ${-la}px`,
                left: `calc(100% + ${la}px) ${M1}px`,
                right: `${-la}px ${M1}px`
            } [go], Fb = `${Tc}px ${us.reference.y+Lb-ds}px`;
            return Mt.floating.style.setProperty("--transform-origin", ae && Ac === "y" && Db ? Fb : _b), {}
        }
    }, w);
    let je = p;
    !g && p && (je = {
        ...p,
        elements: {
            reference: null,
            floating: null,
            domReference: null
        }
    });
    const Te = h.useMemo(() => ({
            elementResize: f && typeof ResizeObserver < "u",
            layoutShift: f && typeof IntersectionObserver < "u"
        }), [f]),
        {
            refs: ve,
            elements: Pe,
            x: Ct,
            y: bt,
            middlewareData: Nt,
            update: zn,
            placement: Br,
            context: ls,
            isPositioned: si,
            floatingStyles: cs
        } = zz({
            rootContext: je,
            placement: Y,
            middleware: de,
            strategy: n,
            whileElementsMounted: m ? void 0 : (...Ze) => $m(...Ze, Te),
            nodeId: b
        }),
        {
            sideX: Z,
            sideY: le
        } = Nt.adaptiveOrigin || {},
        Me = h.useMemo(() => w ? {
            position: n,
            [Z]: `${Ct}px`,
            [le]: `${bt}px`
        } : cs, [w, Z, le, n, Ct, bt, cs]),
        He = h.useRef(null);
    It(() => {
        if (!g) return;
        const Ze = _.current,
            Mt = typeof Ze == "function" ? Ze() : Ze,
            $n = (Qm(Mt) ? Mt.current : Mt) || null || null;
        $n !== He.current && (ve.setPositionReference($n), He.current = $n)
    }, [g, ve, D, _]), h.useEffect(() => {
        if (!g) return;
        const Ze = _.current;
        typeof Ze != "function" && Qm(Ze) && Ze.current !== He.current && (ve.setPositionReference(Ze.current), He.current = Ze.current)
    }, [g, ve, D, _]), h.useEffect(() => {
        if (m && g && Pe.domReference && Pe.floating) return $m(Pe.domReference, Pe.floating, zn, Te)
    }, [m, g, Pe, zn, Te]);
    const Je = mt(Br),
        Sn = Lv(r, Je, F),
        gr = wn(Br) || "center",
        Bn = !!Nt.hide?.referenceHidden;
    It(() => {
        C && g && si && A(Je)
    }, [C, g, si, Je]);
    const ai = h.useMemo(() => ({
            position: "absolute",
            top: Nt.arrow?.y,
            left: Nt.arrow?.x
        }), [Nt.arrow]),
        oi = Nt.arrow?.centerOffset !== 0;
    return h.useMemo(() => ({
        positionerStyles: Me,
        arrowStyles: ai,
        arrowRef: ye,
        arrowUncentered: oi,
        side: Sn,
        align: gr,
        physicalSide: Je,
        anchorHidden: Bn,
        refs: ve,
        context: ls,
        isPositioned: si,
        update: zn
    }), [Me, ai, ye, oi, Sn, gr, Je, Bn, ve, ls, si, zn])
}

function Qm(e) {
    return e != null && "current" in e
}
const zB = h.forwardRef(function(t, n) {
        const {
            cutout: r,
            ...i
        } = t;
        let s;
        if (r) {
            const a = r?.getBoundingClientRect();
            s = `polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${a.left}px ${a.top}px,
      ${a.left}px ${a.bottom}px,
      ${a.right}px ${a.bottom}px,
      ${a.right}px ${a.top}px,
      ${a.left}px ${a.top}px
    )`
        }
        return l.jsx("div", {
            ref: n,
            role: "presentation",
            "data-base-ui-inert": "",
            ...i,
            style: {
                position: "fixed",
                inset: 0,
                userSelect: "none",
                WebkitUserSelect: "none",
                clipPath: s
            }
        })
    }),
    BB = h.forwardRef(function(t, n) {
        const {
            render: r,
            className: i,
            anchor: s,
            positionMethod: a = "absolute",
            side: o = "bottom",
            align: c = "center",
            sideOffset: u = 0,
            alignOffset: d = 0,
            collisionBoundary: f = "clipping-ancestors",
            collisionPadding: m = 5,
            arrowPadding: p = 5,
            sticky: g = !1,
            trackAnchor: x = !0,
            collisionAvoidance: y = LF,
            ...b
        } = t, {
            floatingRootContext: w,
            open: C,
            mounted: E,
            setPositionerElement: A,
            modal: N,
            openReason: j,
            openMethod: z,
            triggerElement: H,
            internalBackdropRef: R
        } = mo(), D = jB(), _ = IF(), O = FB({
            anchor: s,
            floatingRootContext: w,
            positionMethod: a,
            mounted: E,
            side: o,
            sideOffset: u,
            align: c,
            alignOffset: d,
            arrowPadding: p,
            collisionBoundary: f,
            collisionPadding: m,
            sticky: g,
            trackAnchor: x,
            keepMounted: D,
            nodeId: _,
            collisionAvoidance: y
        }), F = h.useMemo(() => {
            const B = {};
            return C || (B.pointerEvents = "none"), {
                role: "presentation",
                hidden: !E,
                style: {
                    ...O.positionerStyles,
                    ...B
                }
            }
        }, [C, E, O.positionerStyles]), G = h.useMemo(() => ({
            props: F,
            ...O
        }), [F, O]), Y = h.useMemo(() => ({
            open: C,
            side: G.side,
            align: G.align,
            anchorHidden: G.anchorHidden
        }), [C, G.side, G.align, G.anchorHidden]), W = h1("div", t, {
            state: Y,
            props: [G.props, b],
            ref: [n, A],
            stateAttributesMapping: Mv
        });
        return l.jsxs(Pv.Provider, {
            value: G,
            children: [E && N === !0 && j !== "trigger-hover" && z !== "touch" && l.jsx(zB, {
                ref: R,
                inert: RB(!C),
                cutout: H
            }), l.jsx(jF, {
                id: _,
                children: W
            })]
        })
    }),
    Dv = "ArrowUp",
    _v = "ArrowDown",
    Fv = "ArrowLeft",
    zv = "ArrowRight",
    Bv = "Home",
    $v = "End",
    $B = new Set([Fv, zv]),
    HB = new Set([Dv, _v]),
    UB = new Set([...$B, ...HB]);
[...UB];
const VB = new Set([Dv, _v, Fv, zv, Bv, $v]),
    WB = h.createContext(void 0);

function qB(e) {
    return h.useContext(WB)
}
const GB = {
        ...Mv,
        ...mB
    },
    YB = h.forwardRef(function(t, n) {
        const {
            className: r,
            render: i,
            initialFocus: s,
            finalFocus: a,
            ...o
        } = t, {
            open: c,
            instantType: u,
            transitionStatus: d,
            popupProps: f,
            titleId: m,
            descriptionId: p,
            popupRef: g,
            mounted: x,
            openReason: y,
            onOpenChangeComplete: b,
            modal: w,
            openMethod: C
        } = mo(), E = OB(), A = qB() != null;
        Nv({
            open: c,
            ref: g,
            onComplete() {
                c && b?.(!0)
            }
        });
        const N = tt(R => R === "touch" ? g.current : !0),
            j = s === void 0 ? N : s,
            z = h.useMemo(() => ({
                open: c,
                side: E.side,
                align: E.align,
                instant: u,
                transitionStatus: d
            }), [c, E.side, E.align, u, d]),
            H = h1("div", t, {
                state: z,
                ref: [n, g],
                props: [f, {
                    "aria-labelledby": m,
                    "aria-describedby": p,
                    onKeyDown(R) {
                        A && VB.has(R.key) && R.stopPropagation()
                    }
                }, d === "starting" ? PF : qr, o],
                stateAttributesMapping: GB
            });
        return l.jsx(KF, {
            context: E.context,
            openInteractionType: C,
            modal: w === "trap-focus",
            disabled: !x || y === "trigger-hover",
            initialFocus: j,
            returnFocus: a,
            restoreFocus: "popup",
            children: H
        })
    }),
    Jm = 3,
    KB = se(function({
        meetingId: t,
        peopleSearchEmails: n
    }) {
        const [r, i] = h.useState(!0), [s, a] = h.useState(!0), [o, c] = h.useState(0), u = r || s, d = l.jsx("div", {
            className: "flex flex-col gap-2 p-2 mt-0 max-w-[80%]",
            children: l.jsxs(Zf, {
                selectedIndex: o,
                onChange: c,
                children: [l.jsx(gc, {
                    className: "flex gap-2",
                    children: n.map((f, m) => u && m >= Jm ? null : l.jsx(XB, {
                        meetingId: t,
                        email: f,
                        setIsLoadingFirstTab: m === 0 ? i : void 0
                    }, f))
                }), l.jsx(Jf, {
                    className: "relative",
                    children: l.jsx(Ke, {
                        initial: !1,
                        mode: "popLayout",
                        children: n.map((f, m) => {
                            if (u && m >= Jm) return null;
                            const p = m === o;
                            return l.jsx(V.div, {
                                className: Q(!p && "absolute inset-0 pointer-events-none"),
                                initial: {
                                    opacity: 0,
                                    scale: .97
                                },
                                animate: p ? {
                                    opacity: 1,
                                    scale: 1
                                } : {
                                    opacity: 0,
                                    scale: .97
                                },
                                transition: {
                                    type: "spring",
                                    stiffness: 400,
                                    damping: 25
                                },
                                children: l.jsx(ZB, {
                                    meetingId: t,
                                    email: f,
                                    setIsLoadingFirstBio: m === 0 ? a : void 0
                                })
                            }, f)
                        })
                    })
                })]
            })
        });
        return l.jsxs("div", {
            children: [l.jsx(Ke, {
                mode: "popLayout",
                children: u && l.jsxs(V.div, {
                    className: "flex gap-1 items-center text-foreground text-sm",
                    initial: {
                        opacity: 0
                    },
                    animate: {
                        opacity: 1
                    },
                    exit: {
                        opacity: 0
                    },
                    transition: {
                        duration: .16,
                        ease: "easeOut"
                    },
                    children: [l.jsx(G6, {
                        className: "size-3.5"
                    }), l.jsxs("span", {
                        children: ["Searching for ", n.length, " participants"]
                    })]
                })
            }), l.jsx(V.div, {
                className: Q(u && "h-0"),
                initial: {
                    opacity: 0
                },
                animate: u ? {
                    opacity: 0
                } : {
                    opacity: 1
                },
                transition: {
                    duration: .16,
                    ease: "easeOut"
                },
                children: d
            })]
        })
    });

function XB({
    meetingId: e,
    email: t,
    setIsLoadingFirstTab: n
}) {
    const {
        data: r
    } = Qs(e, t);
    return h.useEffect(() => {
        r && n?.(!1)
    }, [r, n]), r ? l.jsx(V.div, {
        initial: {
            opacity: 0
        },
        animate: {
            opacity: 1
        },
        transition: {
            duration: .3,
            ease: "easeOut"
        },
        children: l.jsx(Qf, {
            className: "text-foreground",
            children: Ar(r.firstName)
        })
    }) : null
}

function ZB({
    meetingId: e,
    email: t,
    setIsLoadingFirstBio: n
}) {
    return l.jsx(e1, {
        static: !0,
        className: "flex flex-col gap-2.5",
        children: l.jsxs("div", {
            className: "flex flex-col gap-2",
            children: [l.jsx(JB, {
                meetingId: e,
                email: t,
                setIsLoadingFirstBio: n
            }), l.jsx(QB, {
                meetingId: e,
                email: t
            })]
        })
    })
}

function QB({
    meetingId: e,
    email: t
}) {
    const {
        data: n
    } = Qs(e, t);
    return n ? l.jsxs("div", {
        className: "flex flex-col gap-2.5",
        children: [l.jsxs("div", {
            className: "flex flex-row gap-3 items-center text-foreground",
            children: [l.jsx(Sf, {
                location: n.location,
                className: "text-foreground"
            }), n.pastMeetingsCount > 0 && l.jsx("div", {
                className: "h-px w-full bg-muted-foreground rounded-full"
            })]
        }), n.pastMeetingsCount > 0 && l.jsx(e$, {
            meetingId: e,
            pastMeetingsCount: n.pastMeetingsCount,
            email: t,
            firstName: n.firstName
        })]
    }) : null
}

function JB({
    meetingId: e,
    email: t,
    setIsLoadingFirstBio: n
}) {
    const {
        data: r
    } = Qs(e, t), i = PM(e, t);
    return h.useEffect(() => {
        (i || r?.noPersonSearchData) && n?.(!1)
    }, [i, r, n]), r?.noPersonSearchData ? l.jsxs("div", {
        className: "flex flex-row gap-1 text-sm text-foreground",
        children: [l.jsx(dd, {
            className: "size-3 my-1"
        }), l.jsxs("span", {
            children: ["We couldn't find any information about ", Ar(r.firstName)]
        })]
    }) : i ? l.jsxs("div", {
        className: "flex flex-col gap-1",
        children: [l.jsx("span", {
            className: "text-[13px] tracking-tight font-medium text-foreground",
            children: "About"
        }), l.jsx("p", {
            className: "text-sm text-primary-foreground",
            children: i
        })]
    }) : l.jsxs("div", {
        className: "space-y-2",
        children: [l.jsx("div", {
            className: "w-4/5 h-4 bg-muted-foreground rounded animate-pulse"
        }), l.jsx("div", {
            className: "w-3/4 h-4 bg-muted-foreground rounded animate-pulse"
        })]
    })
}

function e$({
    meetingId: e,
    pastMeetingsCount: t,
    email: n,
    firstName: r
}) {
    const i = LM(e, n);
    return l.jsxs(V.div, {
        className: "flex flex-col gap-2",
        initial: {
            opacity: 0
        },
        animate: {
            opacity: 1
        },
        transition: {
            duration: .16,
            ease: "easeOut"
        },
        children: [l.jsxs("div", {
            className: "text-[13px] tracking-tight text-white/40 font-medium flex gap-1.5 items-center",
            children: [l.jsx(r1, {
                className: "size-4"
            }), l.jsx("span", {
                children: `${t} past meeting${t===1?"":"s"} with ${Ar(r)}`
            })]
        }), i ? l.jsx("p", {
            className: "text-sm text-primary-foreground",
            children: i
        }) : l.jsxs("div", {
            className: "space-y-2",
            children: [l.jsx("div", {
                className: "w-4/5 h-4 bg-muted-foreground rounded animate-pulse"
            }), l.jsx("div", {
                className: "w-3/4 h-4 bg-muted-foreground rounded animate-pulse"
            })]
        })]
    })
}
const ya = 32,
    e2 = 300,
    t$ = 48,
    n$ = h.createContext(() => {});

function Hv({
    ref: e,
    className: t,
    scrollDownAccelerator: n,
    scrollUpAccelerator: r,
    enableSnapToBottom: i = !1,
    snapToBottomKey: s,
    onScrollPastBottom: a,
    onScrollPastTop: o,
    children: c
}) {
    const u = at(),
        d = h.useRef(null),
        {
            isNearTop: f,
            isNearBottom: m,
            bottomEdgeDistance: p,
            notifyContentUpdated: g
        } = i$(d),
        {
            snapToBottom: x,
            cancelSnapToBottom: y
        } = s$(d, i, m, s);
    xt(n, () => {
        m && a?.(), d.current?.scrollBy({
            top: e2,
            behavior: "smooth"
        }), u.capture(ge.SCROLL_PRESSED)
    }), xt(r, () => {
        y(), f && o?.(), d.current?.scrollBy({
            top: -e2,
            behavior: "smooth"
        }), u.capture(ge.SCROLL_PRESSED)
    });
    const b = lg(p, [0, ya], [0, t$]),
        w = xd`linear-gradient(to bottom, black calc(100% - ${b}px), transparent 100%)`;
    return l.jsx(n$, {
        value: g,
        children: l.jsxs("div", {
            className: "relative h-full overflow-hidden",
            children: [l.jsx(Hl, {}), l.jsx(V.div, {
                className: "h-full",
                style: {
                    WebkitMaskImage: w,
                    maskImage: w
                },
                children: l.jsx("div", {
                    ref: C => {
                        d.current = C, e && (e.current = C)
                    },
                    className: Q("h-full px-4 [scrollbar-gutter:stable] overflow-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-transparent hover:scrollbar-thumb-white/30", t),
                    children: c
                })
            }), l.jsx(r$, {
                showViewLatest: !m,
                onViewLatest: x
            })]
        })
    })
}

function r$({
    showViewLatest: e,
    onViewLatest: t
}) {
    return l.jsx("div", {
        className: "absolute bottom-3 right-3",
        children: l.jsx(Ke, {
            mode: "wait",
            children: e && l.jsx(V.div, {
                initial: {
                    opacity: 0,
                    y: 10
                },
                animate: {
                    opacity: 1,
                    y: 0
                },
                exit: {
                    opacity: 0,
                    y: 10
                },
                transition: {
                    type: "spring",
                    stiffness: 400,
                    damping: 35
                },
                onClick: t,
                className: "flex backdrop-blur-md justify-center items-center size-6 text-white bg-surface-action shadow-pane-action hover:bg-surface-action-hover rounded-full",
                children: l.jsx(c8, {
                    className: "size-4"
                })
            })
        })
    })
}

function i$(e) {
    const [t, n] = h.useState(!0), [r, i] = h.useState(!0), s = Nn(ya), a = Nn(ya), o = h.useCallback(u => {
        const d = Math.max(0, Math.min(u.scrollTop, ya)),
            f = Math.max(0, Math.min(u.scrollHeight - (u.scrollTop + u.clientHeight), ya));
        s.set(d), a.set(f), n(d <= 0), i(f <= 2)
    }, [s, a]), c = h.useCallback(() => {
        e.current && o(e.current)
    }, [e, o]);
    return h.useEffect(() => {
        c()
    }), h.useEffect(() => {
        const u = e.current;
        if (!u) return;
        const d = () => {
            o(u)
        };
        return u.addEventListener("scroll", d), () => u.removeEventListener("scroll", d)
    }, [e, o]), {
        isNearTop: t,
        isNearBottom: r,
        topEdgeDistance: s,
        bottomEdgeDistance: a,
        notifyContentUpdated: c
    }
}

function s$(e, t, n, r) {
    const [i, s] = h.useState(!1), [a, o] = h.useState(!1), c = h.useCallback(() => {
        s(!1), o(!0)
    }, []);
    h.useEffect(() => {
        t && n && !i && !a && s(!0)
    }, [t, n, i, a]), h.useEffect(() => {
        t && r != null && s(!0)
    }, [t, r]), h.useEffect(() => {
        const m = e.current;
        if (!m) return;
        let p = m.scrollTop;
        const g = () => {
            m.scrollTop < p && c(), p = m.scrollTop
        };
        return m.addEventListener("scroll", g), () => m.removeEventListener("scroll", g)
    }, [e, c]);
    const [u, d] = h.useState(!1);
    h.useEffect(() => {
        i && e.current?.scrollTo({
            top: e.current.scrollHeight,
            behavior: "smooth"
        })
    }, [i, e]), h.useEffect(() => {
        i && !u && e.current?.scrollTo({
            top: e.current.scrollHeight,
            behavior: "instant"
        })
    }), h.useEffect(() => {
        if (u) {
            const m = setTimeout(() => {
                d(!1)
            }, 300);
            return () => clearTimeout(m)
        }
    }, [u]), h.useEffect(() => {
        if (a) {
            const m = setTimeout(() => {
                o(!1)
            }, 300);
            return () => clearTimeout(m)
        }
    }, [a]);
    const f = h.useCallback(() => {
        s(!0), d(!0)
    }, []);
    return {
        isSnappedToBottom: i,
        snapToBottom: f,
        cancelSnapToBottom: c
    }
}
const a$ = () => {
    const [e, t] = Vs();
    h.useEffect(() => {
        t("#shimmer", {
            x: ["-60px", "160px"]
        }, {
            duration: .9,
            repeat: 1 / 0,
            repeatType: "loop",
            delay: .5,
            repeatDelay: 3,
            ease: "circInOut"
        }), t("#arrow", {
            x: [0, 4, 0]
        }, {
            duration: 1,
            times: [0, .2, 1],
            delay: .95,
            repeatDelay: 2.91,
            repeat: 1 / 0,
            repeatType: "loop",
            ease: "easeOut"
        })
    }, [t]);
    const n = i1(),
        r = at();
    return h.useEffect(() => {
        r.capture(ge.RESPONSE_UPGRADE_TO_PRO_SHOWN)
    }, [r]), l.jsxs("div", {
        className: "flex flex-col items-center w-full justify-center gap-4",
        children: [l.jsxs("div", {
            className: "flex flex-col items-center gap-1",
            children: [l.jsx(V.h2, {
                initial: {
                    opacity: 0,
                    y: 8
                },
                animate: {
                    opacity: 1,
                    y: 0
                },
                transition: {
                    duration: .5,
                    ease: "easeOut"
                },
                className: "inline-block text-2xl leading-10 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)] text-transparent bg-clip-text bg-[radial-gradient(circle_at_center_top,#FFFFFF_60%,#999999)]",
                children: "Upgrade to Pro"
            }), l.jsxs(V.p, {
                initial: {
                    opacity: 0,
                    y: 4
                },
                animate: {
                    opacity: 1,
                    y: 0
                },
                transition: {
                    duration: .4,
                    ease: "easeOut",
                    delay: .15
                },
                className: "inline-block text-sm text-secondary-foreground text-center",
                children: ["Youre out of free responses. Unlock unlimited usage, ", l.jsx("br", {}), " more powerful AI models, and more with Pro."]
            })]
        }), l.jsx(V.div, {
            initial: {
                opacity: 0,
                y: 4,
                scale: .96
            },
            animate: {
                opacity: 1,
                y: 0,
                scale: 1
            },
            transition: {
                duration: .5,
                ease: "easeOut",
                delay: .4
            },
            children: l.jsxs(X.HeadlessButton, {
                ref: e,
                onClick: () => {
                    n(), r.capture(ge.RESPONSE_UPGRADE_TO_PRO_CLICKED)
                },
                className: "text-primary-foreground primary-button px-4 py-2 text-sm flex items-center gap-2 font-medium rounded-full relative overflow-hidden",
                children: [l.jsx("div", {
                    id: "shimmer",
                    style: {
                        transform: "translateX(-16px)"
                    },
                    className: "absolute h-16 w-1 -top-1 -bottom-1 rotate-6 bg-white blur-sm"
                }), "Get unlimited AI ", l.jsx(d8, {
                    id: "arrow",
                    className: "size-4"
                })]
            })
        })]
    })
};

function p1() {
    const {
        aiResponsesService: e,
        contextService: t
    } = ke(), {
        currentConversation: n,
        ignoreCurrentConversation: r,
        triggerAiState: i
    } = e, s = t.audioSession?.newSessionOptions?.meetingId;
    return (!!n || !!i || !!s) && !r
}

function Uv(e) {
    return Yt({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M408 480H184a72 72 0 0 1-72-72V184a72 72 0 0 1 72-72h224a72 72 0 0 1 72 72v224a72 72 0 0 1-72 72z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M160 80h235.88A72.12 72.12 0 0 0 328 32H104a72 72 0 0 0-72 72v224a72.12 72.12 0 0 0 48 67.88V160a80 80 0 0 1 80-80z"
            },
            child: []
        }]
    })(e)
}

function o$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"
            },
            child: []
        }]
    })(e)
}
const l$ = ({
    onCopy: e,
    className: t,
    event: n,
    isCopied: r,
    setIsCopied: i,
    ...s
}) => {
    const [a, o] = h.useState(!1), c = r ?? a, u = i ?? o;
    return h.useEffect(() => {
        if (c) {
            const d = setTimeout(() => {
                u(!1)
            }, 2e3);
            return () => clearTimeout(d)
        }
    }, [c, u]), l.jsx(X.HeadlessButton, {
        onClick: () => {
            e(), u(!0), vn.capture(n)
        },
        ...s,
        "data-copied": c,
        className: Q("min-h-full flex items-start opacity-0", t),
        children: l.jsx("div", {
            className: "p-2 text-secondary-foreground hover:text-primary-foreground hover:scale-125 active:scale-90 transition-all duration-200",
            children: l.jsx(Ke, {
                mode: "popLayout",
                children: l.jsx(V.div, {
                    initial: {
                        opacity: 0,
                        scale: .9,
                        filter: "blur(1px)"
                    },
                    animate: {
                        opacity: 1,
                        scale: 1,
                        filter: "blur(0px)"
                    },
                    exit: {
                        opacity: 0,
                        scale: .9,
                        filter: "blur(1px)"
                    },
                    transition: {
                        duration: .1,
                        ease: "easeOut"
                    },
                    children: c ? l.jsx(Xa, {
                        className: "size-3"
                    }) : l.jsx(Uv, {
                        className: "size-3"
                    })
                }, c ? "copied" : "copy")
            })
        })
    })
};

function m1() {
    const {
        micAudioCaptureService: e,
        systemAudioCaptureService: t,
        contextService: n
    } = ke(), r = n.audioSession?.state.state, i = e.state.state, s = t.state.state, a = e.transcriptionService?.state.state, o = t.transcriptionService?.state.state, {
        isInAudioSessionAndAudioIsPaused: c
    } = n, u = ss(), d = () => n.retryAudioSession(), f = () => {
        n.stopAudio()
    }, m = () => n.pauseAudio(), p = () => n.resumeAudio(), g = () => u({}), x = y => ({
        state: "error",
        error: y,
        retryAction: d,
        stopAction: f
    });
    return n.audioSession && r === "error" ? x(n.audioSession.state.error) : i === "error" ? x(e.state.error) : s === "error" ? x(t.state.error) : e.transcriptionService && a === "error" ? x(e.transcriptionService.state.error) : t.transcriptionService && o === "error" ? x(t.transcriptionService.state.error) : r === "creating" ? {
        state: "loading",
        stopAction: f
    } : i === "loading" || s === "loading" ? {
        state: "loading",
        stopAction: f
    } : a === "loading" || o === "loading" ? {
        state: "loading",
        stopAction: f
    } : i === "running" && s === "running" ? c ? {
        state: "paused",
        resumeAction: p,
        stopAction: f
    } : {
        state: "on",
        pauseAction: m,
        stopAction: f
    } : i === "not-running" && s === "not-running" ? {
        state: "off",
        startAction: g
    } : x(new eg("An unknown error occurred while capturing audio."))
}
const c$ = se(function({
        mode: t
    }) {
        const {
            contextService: n,
            micAudioCaptureService: r,
            systemAudioCaptureService: i
        } = ke(), {
            paragraphTranscripts: s
        } = n.fullContext, a = h.useRef(null), o = m1(), c = Ay(), [u, d] = h.useState(!0);
        h.useEffect(() => {
            d(!1)
        }, []);
        const f = o.state !== "off",
            m = Vl(f, 15e3);
        h.useEffect(() => {
            t === "transcript" && a.current?.scrollTo({
                top: a.current.scrollHeight,
                behavior: "instant"
            })
        }, [t]);
        const p = r.transcriptionService?.buffer,
            g = i.transcriptionService?.buffer;
        if (!(s.transcripts.length > 0 || s.remainingMicText.length > 0 || s.remainingSystemText.length > 0 || !!p?.partialText || !!g?.partialText)) return l.jsxs("div", {
            className: "my-1 text-sm px-3 pb-3 flex flex-col gap-2",
            children: [l.jsxs(X.HeadlessButton, {
                onClick: () => {
                    Ra ? be("mac-open-system-settings", {
                        section: "sound > input"
                    }) : be("windows-open-system-settings", {
                        section: "sound-settings"
                    })
                },
                className: "flex items-center gap-1 cursor-pointer transition-colors text-muted-foreground hover:text-primary-foreground",
                children: [l.jsx(vg, {
                    className: "size-4 inline-block"
                }), " ", l.jsx("span", {
                    className: "text-xs",
                    children: c
                }), l.jsx(Qa, {
                    className: "size-4 inline-block"
                })]
            }), l.jsxs("p", {
                className: "text-shade-11",
                children: ["Start speaking to see real-time transcriptions", m ? l.jsxs(l.Fragment, {
                    children: [". Having issues?", " ", l.jsx(X.HeadlessButton, {
                        className: "underline cursor-pointer",
                        onClick: () => n.retryAudioSession(),
                        children: "Retry."
                    })]
                }) : ""]
            })]
        });
        const y = `${s.remainingMicText} ${p?.partialText??""}`.trim(),
            b = `${s.remainingSystemText} ${g?.partialText??""}`.trim();
        return l.jsxs(Hv, {
            ref: a,
            className: "space-y-1.5 px-3 pb-3",
            enableSnapToBottom: !0,
            children: [s.transcripts.map((w, C) => l.jsx(u$, {
                transcription: w,
                skipAnimate: u
            }, C)), b.length > 0 && l.jsx(Wv, {
                skipAnimate: u,
                children: l.jsxs("span", {
                    children: [b, " ", l.jsx("div", {
                        className: "size-2 rounded-full bg-current inline-block"
                    })]
                })
            }), y.length > 0 && l.jsx(Vv, {
                skipAnimate: u,
                children: l.jsxs("span", {
                    children: [y, " ", l.jsx("div", {
                        className: "size-2 rounded-full bg-current inline-block"
                    })]
                })
            })]
        })
    }),
    u$ = se(function({
        transcription: t,
        skipAnimate: n
    }) {
        switch (t.role) {
            case "mic":
                return l.jsx(Vv, {
                    skipAnimate: n,
                    children: t.text
                });
            case "system":
                return l.jsx(Wv, {
                    skipAnimate: n,
                    children: t.text
                })
        }
    });

function Vv({
    skipAnimate: e,
    children: t
}) {
    const [n, r] = h.useState(!1), i = h.useRef(null), s = () => {
        if (g1()) return;
        const a = i.current?.textContent || "";
        a && (navigator.clipboard.writeText(a), r(!0))
    };
    return l.jsxs("div", {
        className: "w-full justify-end flex group/message relative text-primary-foreground",
        children: [l.jsx(yc, {
            onClick: s,
            side: "left",
            event: ge.LIVEINSIGHTS_COPIED_TRANSCRIPT_MIC,
            isCopied: n,
            setIsCopied: r
        }), l.jsx(V.div, {
            ref: i,
            className: "px-2.5 py-1.5 w-fit max-w-72 rounded-xl rounded-br-sm text-xs primary-button !select-text cursor-pointer",
            style: {
                backgroundColor: Ya
            },
            initial: e ? !1 : {
                scale: .8,
                opacity: 0
            },
            animate: {
                scale: 1,
                opacity: 1
            },
            transition: {
                duration: .2,
                ease: "easeOut"
            },
            onClick: s,
            children: t
        })]
    })
}

function Wv({
    skipAnimate: e,
    children: t
}) {
    const [n, r] = h.useState(!1), i = h.useRef(null), s = () => {
        if (g1()) return;
        const a = i.current?.textContent || "";
        a && (navigator.clipboard.writeText(a), r(!0))
    };
    return l.jsxs("div", {
        className: "w-full justify-start flex group/message relative text-primary-foreground",
        children: [l.jsx(V.div, {
            ref: i,
            className: "pr-2 pl-2.5 py-2 w-fit max-w-72 rounded-xl rounded-bl-sm text-white/90 text-xs secondary-button !select-text cursor-pointer relative",
            initial: e ? !1 : {
                scale: .8,
                opacity: 0
            },
            animate: {
                scale: 1,
                opacity: 1
            },
            transition: {
                duration: .2,
                ease: "easeOut"
            },
            onClick: s,
            children: t
        }), l.jsx(yc, {
            onClick: s,
            side: "right",
            event: ge.LIVEINSIGHTS_COPIED_TRANSCRIPT_SYSTEM,
            isCopied: n,
            setIsCopied: r
        })]
    })
}

function yc({
    onClick: e,
    side: t,
    event: n,
    isCopied: r,
    setIsCopied: i
}) {
    return l.jsx(l$, {
        onCopy: e,
        className: Q("group/button group-hover/message:opacity-100 delay-75 group-hover/message:translate-x-0 group-hover/message:translate-y-0 transition-all duration-200", t === "left" && "translate-x-1", t === "bottom" && "-translate-y-1", t === "right" && "-translate-x-1", "[&[data-copied=true]]:opacity-100 [&[data-copied=true]]:translate-x-0 [&[data-copied=true]]:translate-y-0"),
        event: n,
        isCopied: r,
        setIsCopied: i
    })
}
const Y0 = .3,
    qv = 16,
    d$ = se(function() {
        const {
            aiResponsesService: t,
            contextService: n
        } = ke(), {
            currentConversation: r,
            triggerAiState: i
        } = t, s = n.audioSession?.newSessionOptions?.meetingId, a = n.audioSession?.newSessionOptions?.peopleSearchEmails, o = v$(), c = s1(r), u = W6(), d = q6(), [f, m] = h.useState(!0);
        h.useEffect(() => {
            m(!1)
        }, []);
        const p = h.useRef(null);
        h.useLayoutEffect(() => {
            o && p.current?.scrollTo({
                top: p.current.scrollHeight - p.current.clientHeight
            })
        }, [o]);
        let g = r?.responses ?? [];
        return c && (g = g.slice(-1)), l.jsx(Hv, {
            scrollDownAccelerator: u,
            scrollUpAccelerator: d,
            ref: p,
            className: "[overflow-anchor:none]",
            children: l.jsxs("div", {
                className: Q("flex flex-col gap-2 transition-opacity duration-150", !o && "opacity-0"),
                style: {
                    paddingBottom: qv
                },
                children: [!!s && a && l.jsx(KB, {
                    meetingId: s,
                    peopleSearchEmails: a
                }), g.map((x, y) => l.jsx(h$, {
                    response: x,
                    isLatestResponse: y === g.length - 1 && o,
                    showUpgradeToPro: c,
                    isFirstRender: f,
                    scrollRef: p
                }, x.id)), o && i && l.jsx(f$, {
                    userText: i.displayInput,
                    screenshot: i.screenshot,
                    hasScreenshot: i.hasScreenshot,
                    scrollRef: p
                })]
            })
        })
    }),
    f$ = se(function({
        userText: t,
        screenshot: n,
        hasScreenshot: r,
        scrollRef: i
    }) {
        const [s] = h.useState(Yv(i));
        return h.useEffect(() => {
            if (i.current) {
                const a = i.current.scrollTop,
                    o = i.current.scrollHeight - i.current.clientHeight;
                Se(a, o, {
                    duration: Y0,
                    onUpdate: c => {
                        i.current && (i.current.scrollTop = c)
                    },
                    ease: "circInOut"
                })
            }
        }, [i]), l.jsxs("div", {
            className: "flex flex-col gap-2",
            style: {
                minHeight: `min(calc(var(--height) - 24px), ${s}px)`
            },
            children: [l.jsx(Gv, {
                text: t,
                screenshot: n,
                hasScreenshot: r
            }), l.jsx(ur, {
                size: 6,
                color: "white",
                className: "opacity-90"
            })]
        })
    }),
    h$ = se(function({
        response: t,
        isLatestResponse: n,
        showUpgradeToPro: r,
        isFirstRender: i,
        scrollRef: s
    }) {
        const [a, o] = h.useState(i ? void 0 : Yv(s));
        h.useEffect(() => {
            let d;
            if (n) {
                const f = document.getElementById(wc);
                if (!s.current || !f) {
                    console.error("Couldn't find chat input container or scroll container");
                    return
                }
                const m = s.current.scrollTop,
                    p = s.current.scrollHeight - s.current.clientHeight;
                if (Math.abs(m - p) / s.current.clientHeight < .15) return;
                Se(m, p, {
                    duration: Y0,
                    onUpdate: g => {
                        s.current && (s.current.scrollTop = g)
                    },
                    ease: "circInOut"
                })
            } else d = setTimeout(() => {
                o(void 0)
            }, Y0 * 1e3);
            return () => {
                clearTimeout(d)
            }
        }, [n, s]);
        const c = t.input.messages.at(-1),
            u = c ? Ty(c) : null;
        return l.jsxs("div", {
            className: "flex flex-col gap-2",
            style: {
                minHeight: `min(calc(var(--height) - 24px), ${a}px)`
            },
            children: [l.jsx(Gv, {
                text: t.input.displayInput,
                screenshot: u,
                hasScreenshot: !!u
            }), l.jsx(m$, {
                response: t,
                showUpgradeToPro: r,
                animate: !i
            })]
        })
    }),
    Gv = se(function({
        text: t,
        screenshot: n,
        hasScreenshot: r
    }) {
        const i = !t,
            [s, a] = h.useState(!1),
            o = () => {
                g1() || (navigator.clipboard.writeText(t ?? ""), a(!0))
            };
        return l.jsxs("div", {
            className: "flex flex-col gap-1 justify-end items-end",
            children: [l.jsxs("div", {
                className: "w-full justify-end flex group/message relative text-primary-foreground",
                children: [l.jsx(yc, {
                    onClick: o,
                    side: "left",
                    event: ge.LIVEINSIGHTS_COPIED_CHAT_MESSAGE,
                    isCopied: s,
                    setIsCopied: a
                }), l.jsx("div", {
                    className: Q("px-2.5 py-1.5 w-fit max-w-72 rounded-xl rounded-br-sm text-xs !select-text cursor-pointer", i ? "accent-button text-white/80" : "primary-button"),
                    onClick: o,
                    children: i ? "Assist" : t
                })]
            }), r && l.jsx(p$, {
                url: n
            })]
        })
    }),
    p$ = ({
        url: e
    }) => {
        const t = es(),
            [n, r] = h.useState(!1);
        return h.useEffect(() => {
            t && r(!1)
        }, [t]), l.jsxs(oB, {
            openOnHover: !t,
            delay: 0,
            open: n,
            onOpenChange: r,
            children: [l.jsx(IB, {
                children: l.jsxs("div", {
                    className: "flex pr-2 items-center gap-1 text-[11px] font-medium text-white/40 text-shadow-[0_0_1px_2px_rgba(0,0,0,0.1)]",
                    children: ["Sent with screenshot", l.jsx(sF, {
                        className: "size-3.5 drop-shadow-[0_0_1px_2px_rgba(0,0,0,0.1)]"
                    })]
                })
            }), l.jsx(Ke, {
                children: n && !!e && l.jsx(MB, {
                    keepMounted: !0,
                    children: l.jsx(BB, {
                        children: l.jsx(YB, {
                            render: l.jsx(V.div, {
                                initial: {
                                    opacity: 0,
                                    scale: .95
                                },
                                animate: {
                                    opacity: 1,
                                    scale: 1
                                },
                                exit: {
                                    opacity: 0,
                                    scale: .95
                                },
                                transition: {
                                    type: "spring",
                                    stiffness: 600,
                                    damping: 36
                                },
                                className: "origin-top bg-white/20 rounded-lg p-1 w-64",
                                style: {
                                    boxShadow: "0 137px 38px 0 rgba(0, 0, 0, 0.00), 0 88px 35px 0 rgba(0, 0, 0, 0.02), 0 49px 30px 0 rgba(0, 0, 0, 0.07), 0 22px 22px 0 rgba(0, 0, 0, 0.12), 0 5px 12px 0 rgba(0, 0, 0, 0.14)"
                                }
                            }),
                            children: l.jsx("img", {
                                src: e,
                                alt: "Screenshot",
                                className: "rounded-[4px]"
                            })
                        })
                    })
                })
            })]
        })
    },
    m$ = se(function({
        response: t,
        showUpgradeToPro: n,
        animate: r
    }) {
        const {
            state: i
        } = t, [s, a] = h.useState(!1);
        let o;
        return i.state === "error" ? o = i.reason === "network" ? l.jsx(Tr, {
            children: "Connection failed. If the problem persists, please check your internet connection or VPN."
        }) : l.jsx(Tr, {
            children: "Response generation failed. Please try again momentarily. If the problem persists, please contact support."
        }) : i.state === "streaming" && !i.text ? o = l.jsx("div", {
            className: Q("transition-all duration-500", n && "absolute inset-0 overflow-hidden opacity-40 blur-xs pointer-events-none"),
            children: l.jsx(g$, {
                response: t
            })
        }) : o = l.jsx("div", {
            className: Q("transition-all duration-500", n && "absolute inset-0 overflow-hidden opacity-40 blur-xs pointer-events-none"),
            children: l.jsxs("div", {
                className: "flex flex-col group/message",
                children: [l.jsx(Tr, {
                    className: "!select-text",
                    children: i.text
                }), i.text && l.jsx(yc, {
                    side: "bottom",
                    event: ge.LIVEINSIGHTS_COPIED_CHAT_RESPONSE,
                    onClick: () => {
                        navigator.clipboard.writeText(i.text)
                    },
                    isCopied: s,
                    setIsCopied: a
                })]
            })
        }), l.jsxs("div", {
            className: "relative",
            children: [n && l.jsx(a$, {}), l.jsx(V.div, {
                className: "max-w-[90%]",
                initial: r ? {
                    y: 12,
                    opacity: 0
                } : void 0,
                animate: {
                    y: 0,
                    opacity: 1
                },
                transition: {
                    duration: .3,
                    ease: "easeOut",
                    delay: .3
                },
                children: o
            })]
        }, 10)
    }),
    g$ = se(function({
        response: t
    }) {
        const {
            state: n
        } = t;
        if (n.state !== "streaming") return null;
        const r = n.reasoningSteps.map(i => i.text.replaceAll("**", "")).filter(i => !!i).join(" ");
        return r.length === 0 ? l.jsx(ur, {
            size: 6,
            color: "white",
            className: "opacity-90"
        }) : l.jsxs("div", {
            children: [l.jsxs("div", {
                className: "text-sm text-white/60 flex items-center gap-1",
                children: [l.jsx(aF, {
                    className: "size-3"
                }), "Thinking about your question"]
            }), l.jsx("div", {
                className: "w-72 overflow-hidden",
                style: {
                    maskImage: "linear-gradient(to right, transparent, black 20px, black calc(100% - 20px), transparent)"
                },
                children: l.jsx(x$, {
                    children: r
                })
            })]
        })
    }),
    x$ = se(function({
        children: t
    }) {
        const n = h.useRef(null),
            r = Nn(0);
        return h.useEffect(() => {
            let i;
            const s = () => {
                const a = Math.random() * 90 + 10;
                i = setTimeout(() => {
                    if (!n.current) {
                        s();
                        return
                    }
                    const o = n.current.scrollWidth,
                        c = n.current.clientWidth,
                        u = -(o - c),
                        d = r.get();
                    if (o > c && d > u) {
                        const f = Math.random() * 50 + 30,
                            m = Math.max(u, d - f);
                        r.stop(), Se(r, m, {
                            type: "spring",
                            stiffness: 300,
                            damping: 30
                        })
                    }
                    s()
                }, a)
            };
            return s(), () => {
                clearTimeout(i)
            }
        }, [t]), l.jsx(V.p, {
            ref: n,
            className: "text-xs text-white/30 whitespace-nowrap",
            style: {
                x: r
            },
            children: t
        })
    });

function v$() {
    const e = p1(),
        [t, n] = h.useState(e);
    return h.useEffect(() => {
        if (e) {
            const r = setTimeout(() => {
                n(!0)
            }, 30);
            return () => clearTimeout(r)
        } else n(!1)
    }, [e]), t
}

function Yv(e) {
    if (e.current) return e.current.clientHeight - qv - 2
}

function g1() {
    const e = window.getSelection();
    return e && e.type === "Range"
}

function b$() {
    const {
        contextService: e
    } = ke(), {
        liveInsights: t
    } = e, {
        actions: n
    } = t, r = yf();
    return h.useMemo(() => r ? n.filter(s => !s.text.startsWith("")) : n, [r, n])
}

function y$() {
    const e = cn(en.LIVE_INSIGHTS_ACTIONS_RESPECT_SPECIAL_MEDIA_OPTION),
        t = oo();
    return h.useCallback(n => n === "chat" || e ? t !== "no-screenshots" : !1, [e, t])
}

function x1() {
    const {
        aiResponsesService: e
    } = ke(), t = y$();
    return h.useCallback(r => {
        e.triggerAi({
            action: r.action,
            shouldCaptureScreenshot: t(r.action ? "insight" : "chat"),
            manualInput: r.manualInput,
            displayInput: r.displayInput,
            metadata: r.metadata
        })
    }, [e, t])
}
const w$ = se(function({
        mode: t,
        setMode: n
    }) {
        const r = at(),
            {
                contextService: i
            } = ke(),
            {
                fullContext: s
            } = i,
            a = b$(),
            o = x1();
        return a.length === 0 ? null : l.jsx("div", {
            className: Q("w-full justify-start absolute bottom-0 translate-y-full py-1", `live-insights-${Math.min(a.length,3)}`),
            "data-testid": "insights",
            children: l.jsx(V.div, {
                className: "flex flex-col",
                layout: !0,
                transition: {
                    ease: "easeOut",
                    duration: 0
                },
                children: l.jsx(Ke, {
                    mode: "popLayout",
                    initial: !1,
                    children: a.toReversed().slice(0, 3).map(c => l.jsx(V.div, {
                        layoutId: `${c.id}-${t}`,
                        initial: {
                            opacity: 0,
                            y: 4,
                            filter: "blur(4px)"
                        },
                        animate: {
                            opacity: 1,
                            y: 0,
                            filter: "blur(0px)"
                        },
                        exit: {
                            opacity: 0,
                            y: 4,
                            filter: "blur(4px)"
                        },
                        transition: {
                            duration: .2,
                            ease: "easeOut"
                        },
                        children: l.jsx(sn, {
                            className: "w-fit",
                            children: l.jsx("div", {
                                onClick: () => {
                                    r.capture(ge.LIVE_INSIGHTS_CLICKED, {
                                        type: "action",
                                        action: c,
                                        processedTranscripts: s.audioTranscriptions.slice(0, c.processedTranscriptEntryCount),
                                        unprocessedTranscripts: s.audioTranscriptions.slice(c.processedTranscriptEntryCount, c.inputTranscriptEntryCount)
                                    }), n("chat"), o({
                                        action: "default",
                                        manualInput: c.text,
                                        displayInput: c.text
                                    })
                                },
                                className: "w-fit h-fit py-0.5 group/insight",
                                children: l.jsx(V.div, {
                                    className: Q("whitespace-nowrap p-2 w-fit rounded-full border-[0.5px] border-white/15 cursor-pointer bg-surface-opaque text-xs text-primary-foreground", "group-hover/insight:bg-shade-2 group-hover/insight:border-foreground group-hover/insight:-translate-y-0.5 transition-all duration-150 ease-out"),
                                    children: l.jsx(S$, {
                                        content: c.text
                                    })
                                })
                            })
                        })
                    }, c.id))
                })
            })
        }, t)
    }),
    S$ = ({
        content: e,
        className: t,
        ...n
    }) => {
        const r = {
                "": sl,
                "": yd,
                "": bg,
                "": pg,
                "": Pa,
                "": Sd,
                "": Kl,
                "": kd,
                "": wd,
                "": mg,
                "": xg,
                "": Cd,
                "": bd
            },
            i = e.trim().split(/\s+/, 1)[0],
            s = Object.keys(r).includes(i ?? ""),
            a = r[i ?? ""] ?? sl,
            o = i && s ? e.slice(i?.length ?? 0).trimStart() : e;
        return l.jsxs("div", {
            ...n,
            className: Q("flex flex-row items-center gap-2.5 truncate max-w-[450px]", t),
            children: [s ? l.jsx(a, {
                className: "size-4 shrink-0"
            }) : null, l.jsx("span", {
                className: "truncate",
                children: o
            })]
        })
    };

function C$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"
            },
            child: []
        }]
    })(e)
}

function k$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M3 12l3 0"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M12 3l0 3"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M7.8 7.8l-2.2 -2.2"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M16.2 7.8l2.2 -2.2"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M7.8 16.2l-2.2 2.2"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M12 12l9 3l-4 2l-2 4l-3 -9"
            },
            child: []
        }]
    })(e)
}

function E$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M3 19l18 0"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M5 6m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"
            },
            child: []
        }]
    })(e)
}

function N$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M8 9h8"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M8 13h6"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M14.5 18.5l-2.5 2.5l-3 -3h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M19 22v.01"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M19 19a2.003 2.003 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483"
            },
            child: []
        }]
    })(e)
}

function A$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M5 10a7 7 0 0 0 14 0"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M8 21l8 0"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M12 17l0 4"
            },
            child: []
        }]
    })(e)
}

function T$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M12 13a3 3 0 1 0 0 -6a3 3 0 0 0 0 6z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M6 20.05v-.05a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v.05"
            },
            child: []
        }]
    })(e)
}

function Lu({
    className: e,
    icon: t,
    onClick: n,
    children: r
}) {
    return l.jsx("div", {
        onClick: n,
        className: "py-[1.5px] px-[1.5px] group/static-insight max-w-full",
        children: l.jsxs("div", {
            className: Q("max-w-full text-left rounded-full pl-1.5 pr-2 py-2 h-fit inline-flex items-center gap-1.5", "group-hover/static-insight:bg-[#EDEEF2]/10 group-hover/static-insight:border-shade-12/30 transition duration-75 ease-out", !n && "pointer-events-none", e),
            children: [t ? l.jsx("div", {
                className: "shrink-0 text-foreground group-hover/static-insight:text-primary-foreground transition-colors duration-150",
                children: l.jsx(t, {
                    className: "size-3.5"
                })
            }) : null, l.jsx("span", {
                className: "truncate text-xs leading-none text-primary-foreground",
                children: r
            })]
        })
    })
}
const Du = [{
        icon: kd,
        display: "What should I say?",
        input: "What should I say next? Output only the words I should say.",
        event: ge.LIVEINSIGHTS_CLICKED_WHAT_SHOULD_I_SAY,
        action: "what_next"
    }, {
        icon: N$,
        display: "Follow-up questions",
        input: "Suggest two follow-up questions that I can ask to carry forward the conversation. Output as two bullet points.",
        event: ge.LIVEINSIGHTS_CLICKED_FOLLOW_UP_QUESTIONS,
        action: "follow_up"
    }, {
        icon: Sd,
        display: "Fact-check",
        input: "Is the most recent thing said in conversation accurate? Start your response with one of the following emojis [ for correct], [ for partially correct] or [ for incorrect]. Include the statement you are checking and the reason for your answer. You MUST search the web to verify the accuracy of the statement.",
        event: ge.LIVEINSIGHTS_CLICKED_FACT_CHECK,
        action: "fact_check"
    }, {
        icon: C$,
        display: "Recap",
        input: "Recap the most recent thing that happened in the conversation.",
        event: ge.LIVEINSIGHTS_CLICKED_RECAP,
        action: "recap"
    }],
    I$ = se(function() {
        const t = x1(),
            {
                data: {
                    disableDefaultActions: n
                }
            } = ao(),
            r = Eg(),
            i = [...Du, ...r];
        return l.jsxs("div", {
            className: "flex flex-wrap",
            children: [!n && Du.map((s, a) => l.jsxs(h.Fragment, {
                children: [l.jsx(Lu, {
                    onClick: () => {
                        vn.capture(s.event), t({
                            action: s.action,
                            manualInput: s.input,
                            displayInput: s.display
                        })
                    },
                    icon: s.icon,
                    children: s.display
                }), a !== i.length - 1 && l.jsx(t2, {})]
            }, s.display)), r.map((s, a) => {
                const o = j$(s.displayName);
                return l.jsxs(h.Fragment, {
                    children: [o ? l.jsx(Lu, {
                        onClick: () => {
                            vn.capture(ge.LIVEINSIGHTS_CLICKED_CUSTOM_ACTION, {
                                action: s.displayName,
                                type: "link"
                            }), window.open(o.url, "_blank")
                        },
                        icon: $8,
                        children: o.text
                    }) : l.jsx(Lu, {
                        onClick: () => {
                            vn.capture(ge.LIVEINSIGHTS_CLICKED_CUSTOM_ACTION, {
                                action: s.displayName,
                                type: "action"
                            }), t({
                                action: "default",
                                displayInput: ` ${s.displayName}`,
                                manualInput: rx(s)
                            })
                        },
                        icon: Cd,
                        children: s.displayName
                    }), a + Du.length !== i.length - 1 && l.jsx(t2, {})]
                }, s.displayName)
            })]
        })
    });

function t2() {
    return l.jsx("div", {
        className: "min-h-full flex items-center mx-0.5",
        children: l.jsx("div", {
            className: "size-[3px] rounded-full bg-shade-10"
        })
    })
}

function j$(e) {
    const t = e.match(/^\[([^\]]+)\]\(([^)]+)\)$/);
    return t ? {
        text: t[1] ?? "",
        url: t[2] ?? ""
    } : null
}
const _u = {
        type: "spring",
        stiffness: 1e3,
        damping: 50
    },
    M$ = fr(!1);

function R$({
    ref: e,
    useSmartMode: t,
    value: n,
    setUseSmartMode: r,
    onChange: i,
    onFocus: s,
    onBlur: a,
    onSubmit: o,
    isFocused: c,
    mode: u
}) {
    const [d, f] = Pr(M$);
    h.useEffect(() => {
        if (u === "transcript") return;
        c && f(!0);
        const g = () => {
            f(!1)
        };
        return window.addEventListener("blur", g), () => window.removeEventListener("blur", g)
    }, [c, f, u]);
    const m = fn(),
        p = Iy(m.trigger_ai ?? il.trigger_ai);
    return l.jsxs(V.div, {
        className: "rounded-lg overflow-hidden relative mx-3 mb-3 mt-px border-[0.5px] border-[#9B9B9B]/40",
        style: {
            boxShadow: "0 -1px 0 0 rgba(255, 255, 255, 0.25)"
        },
        initial: {
            height: "fit-content"
        },
        animate: {
            height: d ? "fit-content" : "40px"
        },
        transition: _u,
        children: [l.jsx(V.div, {
            initial: {
                height: "fit-content"
            },
            animate: {
                height: d ? "fit-content" : "40px"
            },
            transition: _u,
            children: l.jsx(jy, {
                ref: e,
                style: {
                    boxShadow: "0 2px 20px -1px rgba(0, 0, 0, 0.05) inset"
                },
                maxRows: 2,
                className: Q("relative z-10 block resize-none w-full p-2.5 rounded-t-lg focus:outline-none text-[13px] text-white scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/50"),
                "data-testid": "chat-input",
                value: n,
                onFocus: s,
                onBlur: a,
                onChange: g => i(g.target.value)
            })
        }), n === "" && l.jsx(Ke, {
            initial: !1,
            mode: "popLayout",
            children: l.jsx(V.span, {
                initial: {
                    opacity: 0
                },
                animate: {
                    opacity: 1
                },
                exit: {
                    opacity: 0
                },
                transition: {
                    duration: .1
                },
                className: "absolute top-2.5 left-2.5 right-2.5 text-[13px] pointer-events-none text-white/60",
                children: d ? l.jsxs(l.Fragment, {
                    children: ["Ask about your screen or conversation, or", l.jsx("div", {
                        className: "inline-flex items-center gap-1 mx-1 -translate-y-px",
                        children: l.jsx(n2, {
                            char: ""
                        })
                    }), "for Assist"]
                }) : l.jsxs(l.Fragment, {
                    children: ["Click to type, or", l.jsx("div", {
                        className: "inline-flex items-center gap-1 mx-1 -translate-y-px",
                        children: p.map((g, x) => l.jsx(n2, {
                            char: g
                        }, x))
                    }), "for assist"]
                })
            }, d ? "expanded" : "collapsed")
        }), l.jsx("div", {
            className: "rounded-b-lg",
            children: l.jsxs("div", {
                className: "p-1.5 bg-surface-chat-footer rounded-b-lg flex border-white/25 border-t-[0.5px] items-center gap-2 justify-between",
                children: [l.jsx(X.Tooltip, {
                    tooltipContent: "Good for coding, reasoning, and web searches",
                    children: l.jsx(X.HeadlessButton, {
                        className: Q("hover:text-white/70 hover:border-white/40"),
                        onClick: () => r(!t),
                        children: l.jsxs("div", {
                            className: Q("flex h-5 px-1.5 gap-1 items-center justify-start text-xs overflow-hidden rounded-full", "bg-[#18171C]/60 text-secondary-foreground", "hover:text-primary-foreground hover:border-primary-foreground", t && "text-yellow-200/90 bg-yellow-300/20 border-yellow-200/60 hover:text-yellow-200 hover:bg-yellow-300/30 hover:border-yellow-200/80"),
                            children: [l.jsx(yg, {
                                size: 12,
                                className: "shrink-0 fill-current"
                            }), "Smart"]
                        })
                    })
                }), l.jsx(V.div, {
                    className: Q("flex items-center gap-1.5 absolute"),
                    layout: !0,
                    transition: _u,
                    style: d ? {
                        right: 8,
                        bottom: 6
                    } : {
                        right: 8,
                        bottom: 8
                    },
                    children: l.jsx(X.HeadlessButton, {
                        className: "size-6 gap-1 text-xs rounded-full primary-button flex items-center justify-center text-white",
                        "data-testid": "submit-manual-input",
                        onClick: o,
                        children: l.jsx(NM, {
                            className: "size-3.5"
                        })
                    })
                })]
            })
        })]
    })
}
const n2 = ({
    char: e
}) => l.jsx("div", {
    className: "w-fit h-fit inline-block text-[10px] text-white/40 border rounded-md px-[3px] py-0.5",
    children: e
});

function O$({
    mode: e,
    setMode: t
}) {
    const {
        aiResponsesService: n
    } = ke();
    return l.jsxs("div", {
        className: "flex relative items-center space-x-0.5 text-white/50",
        children: [l.jsxs(X.HeadlessButton, {
            onClick: () => t("chat"),
            className: Q("relative rounded-full px-2 py-1 text-sm", e === "chat" ? "text-white bg-white/[2%]" : "hover:bg-white/[2%]"),
            children: ["Chat ", l.jsx(Ke, {
                children: e === "chat" && l.jsx(r2, {})
            })]
        }), l.jsxs(X.HeadlessButton, {
            onClick: () => {
                n.revealCurrentConversation(), t("transcript")
            },
            className: Q("relative rounded-full px-2 py-1 text-sm", e === "transcript" ? "text-white bg-white/[2%]" : "hover:bg-white/[2%]"),
            children: ["Transcript", l.jsx(Ke, {
                children: e === "transcript" && l.jsx(r2, {})
            })]
        })]
    })
}

function r2() {
    return l.jsx(V.div, {
        className: "absolute inset-0 bg-white/[2%] shadow-pane-action border-[0.5px] border-white/10",
        layoutId: "chat-transcript-toggle",
        style: {
            borderRadius: "9999px",
            boxShadow: "0 11px 4px 0 rgba(0, 0, 0, 0.01), 0 6px 4px 0 rgba(0, 0, 0, 0.05), 0 3px 3px 0 rgba(0, 0, 0, 0.09), 0 1px 1px 0 rgba(0, 0, 0, 0.10)"
        },
        transition: {
            type: "spring",
            damping: 32,
            stiffness: 500
        }
    })
}
const P$ = se(function() {
    const {
        contextService: t
    } = ke(), {
        paragraphTranscripts: n
    } = t.fullContext, [r, i] = h.useState(!1);
    return l.jsx(V.div, {
        className: "size-fit",
        initial: {
            opacity: 0
        },
        animate: {
            opacity: 1
        },
        exit: {
            opacity: 0
        },
        children: l.jsx(X.HeadlessButton, {
            onClick: () => {
                navigator.clipboard.writeText(L$(n)), i(!0), setTimeout(() => {
                    i(!1)
                }, 2e3)
            },
            className: Q("shadow-pane-action relative bg-surface-action border-white/20 border-[0.5px]  hover:bg-surface-action-hover whitespace-nowrap w-full overflow-hidden flex justify-center items-center px-1.5 py-1 text-xs text-primary-foreground rounded-lg"),
            children: l.jsxs(Ke, {
                children: [l.jsxs(V.span, {
                    variants: {
                        hidden: {
                            opacity: 0,
                            scale: .9
                        },
                        visible: {
                            opacity: 1,
                            scale: 1
                        }
                    },
                    initial: !1,
                    animate: r ? "hidden" : "visible",
                    className: "inline-block",
                    children: [l.jsx(Uv, {
                        className: "size-3 inline-block mr-1"
                    }), "Copy All"]
                }, "copy-all"), r && l.jsx(V.div, {
                    initial: {
                        opacity: 0,
                        scale: .9,
                        x: "-50%",
                        y: "-50%"
                    },
                    animate: {
                        opacity: 1,
                        scale: 1
                    },
                    exit: {
                        opacity: 0,
                        scale: .9
                    },
                    transition: {
                        duration: .1,
                        ease: "easeOut"
                    },
                    className: "pointer-events-none absolute left-1/2 top-1/2",
                    children: l.jsx(Xa, {
                        className: "size-4"
                    })
                }, "check")]
            })
        })
    }, "copy-transcript")
});

function L$(e) {
    const t = a => new Date(a).toLocaleTimeString("en-US", {
        hour: "numeric",
        minute: "2-digit"
    });
    let n = e.transcripts.map(a => {
        const o = t(a.createdAt.toISOString());
        return `${a.role==="system"?"Them":"Me"} | ${o}
${a.text}`
    }).join(`
`);
    const r = e.remainingMicText,
        i = e.remainingSystemText,
        s = t(new Date().toISOString());
    return r && (n += `
Me | ${s}
${r}`), i && (n += `
Them | ${s}
${i}`), n
}
const D$ = se(function({
        setMode: t
    }) {
        const {
            aiResponsesService: n,
            contextService: r
        } = ke(), {
            ignoreCurrentConversation: i,
            currentConversation: s
        } = n, a = r.audioSession?.newSessionOptions?.meetingId;
        return !s && !a ? null : l.jsx(X.Tooltip, {
            tooltipContent: i ? l.jsx("span", {
                className: "inline-flex items-center justify-center h-5.5",
                children: "Expand conversation"
            }) : l.jsxs("div", {
                className: "flex items-center gap-1.5 h-5.5",
                children: [l.jsx("span", {
                    children: "Collapse conversation"
                }), l.jsxs("div", {
                    className: "inline-flex items-center gap-1",
                    children: [l.jsx(F1, {
                        children: l.jsx(M8, {
                            className: "size-2.5"
                        })
                    }), l.jsx(F1, {
                        className: "text-[10px]",
                        children: "R"
                    })]
                })]
            }),
            children: l.jsx(X.HeadlessButton, {
                onClick: () => {
                    i ? n.revealCurrentConversation() : (n.clearCurrentConversation({
                        onlyClearVisually: !0
                    }), t("chat"))
                },
                className: "relative cursor-pointer z-10 group before:z-0 before:absolute before:-inset-1 hover:before:bg-white/15 before:rounded-full before:transition-colors before:duration-150",
                children: l.jsx(Ke, {
                    mode: "popLayout",
                    children: l.jsx(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .2,
                            ease: "easeOut"
                        },
                        children: i ? l.jsx(EM, {
                            className: "size-5.5 text-white group-hover:scale-110 transition-transform duration-200"
                        }) : l.jsx(kM, {
                            className: "size-5.5 text-white group-hover:scale-90 transition-transform duration-200"
                        })
                    }, i ? "collapsed" : "expanded")
                })
            })
        })
    }),
    Kv = "chat-header-container",
    wc = "chat-input-container",
    _$ = se(function({
        mode: t,
        setMode: n
    }) {
        const {
            contextService: r
        } = ke(), i = m1(), s = Ei(), a = r.isInAudioSession && i.state === "on", c = !Vl(!a, R6), u = p1();
        return h.useEffect(() => {
            if (!a && t === "transcript") {
                const d = setTimeout(() => {
                    n("chat")
                }, 300);
                return () => clearTimeout(d)
            }
        }, [a, t, n]), l.jsxs(V.div, {
            className: Q("w-[540px] pt-2.5 relative"),
            children: [l.jsxs(sn, {
                className: "h-full grid grid-rows-[auto_1fr]",
                children: [l.jsxs("div", {
                    id: Kv,
                    className: Q("flex items-center gap-2 mb-3 h-7 px-3 justify-between relative"),
                    children: [l.jsx(Ke, {
                        mode: "popLayout",
                        initial: !1,
                        children: l.jsxs(V.div, {
                            initial: {
                                opacity: 0
                            },
                            animate: {
                                opacity: 1
                            },
                            exit: {
                                opacity: 0
                            },
                            className: "flex items-center gap-2",
                            children: [l.jsx(X.HeadlessButton, {
                                className: "size-5 group/button flex justify-center cursor-pointer items-center relative before:absolute before:-inset-1 before:rounded-full before:transition-colors before:duration-150",
                                onClick: () => {
                                    s(!0)
                                },
                                children: l.jsx(iF, {
                                    className: "text-white/60 size-5 group-hover/button:text-white drop-shadow-transparent transition-all duration-150 group-hover/button:drop-shadow-white/50 drop-shadow-sm"
                                })
                            }), i.state === "on" && l.jsx("div", {
                                className: "flex items-center gap-2",
                                children: l.jsxs(Ke, {
                                    initial: !1,
                                    children: [c && l.jsx(O$, {
                                        mode: t,
                                        setMode: n
                                    }), t === "transcript" && l.jsx(P$, {})]
                                })
                            })]
                        }, i.state === "on" ? "on" : "off")
                    }), l.jsx(D$, {
                        setMode: n
                    })]
                }), l.jsxs("div", {
                    className: Q("flex overflow-hidden relative w-full"),
                    children: [l.jsxs("div", {
                        className: Q("w-full grid grid-rows-[1fr_auto]", t === "chat" ? "opacity-100" : "opacity-0 pointer-events-none"),
                        children: [l.jsx("div", {
                            className: Q("overflow-hidden h-[var(--height)]", !u && t === "chat" && "h-0"),
                            children: l.jsx(d$, {})
                        }), l.jsxs("div", {
                            id: wc,
                            children: [l.jsx(Ke, {
                                initial: !1,
                                children: c && l.jsx(V.div, {
                                    initial: {
                                        height: 0
                                    },
                                    animate: {
                                        height: "auto"
                                    },
                                    exit: {
                                        height: 0
                                    },
                                    transition: {
                                        type: "spring",
                                        damping: 26,
                                        stiffness: 300
                                    },
                                    className: "overflow-hidden",
                                    children: l.jsx("div", {
                                        className: "px-3 pb-1",
                                        children: l.jsx(I$, {})
                                    })
                                })
                            }), l.jsx(V.div, {
                                layout: !0,
                                transition: {
                                    ease: "easeOut",
                                    duration: 0
                                },
                                children: l.jsx(F$, {
                                    mode: t,
                                    setMode: n
                                })
                            })]
                        })]
                    }), l.jsx("div", {
                        className: Q("w-full h-full absolute inset-0 bottom-[unset]", t === "transcript" ? "opacity-100" : "opacity-0 pointer-events-none"),
                        children: l.jsx(c$, {
                            mode: t
                        })
                    })]
                })]
            }), l.jsx("div", {
                className: "overflow-hidden flex h-fit w-fit",
                children: l.jsx(Ke, {
                    initial: !1,
                    children: c && l.jsx(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .2,
                            ease: "easeOut"
                        },
                        children: l.jsx(w$, {
                            mode: t,
                            setMode: n
                        })
                    })
                })
            })]
        })
    }),
    F$ = se(function({
        mode: t,
        setMode: n
    }) {
        const {
            aiResponsesService: r
        } = ke(), {
            metadata: i
        } = Or(), s = fn(), a = h.useRef(null), [o, c] = h.useState(""), [u, d] = h.useState(!1), f = x1(), [m, p] = h.useState(!1), g = Ui((b = !1) => {
            if (p(!0), b && !m) return;
            const w = a.current;
            w && (be("focus-window", null), w.focus(), w.setSelectionRange(0, w.value.length), n("chat"))
        }), x = Ui(() => {
            f({
                manualInput: o,
                displayInput: o,
                metadata: {
                    doSmartMode: r.useSmartMode
                }
            }), c("")
        });
        xt("Enter", x, {
            enable: u ? "onlyWhenVisible" : !1
        }), xt("CommandOrControl+Shift+Enter", x), xt(s.trigger_ai, () => {
            x()
        }), xt("Escape", () => {
            o ? c("") : (a.current?.blur(), be("unfocus-window", null))
        }, {
            enable: u ? "onlyWhenVisible" : !1
        }), xt(s.start_over, () => {
            r.clearCurrentConversation({
                onlyClearVisually: !0
            }), n("chat")
        });
        const y = es();
        return h.useEffect(() => {
            y ? be("unfocus-window", null) : i.noFocusOnShow || g(!0)
        }, [y, g, i.noFocusOnShow]), l.jsx(R$, {
            ref: a,
            useSmartMode: r.useSmartMode,
            value: o,
            setUseSmartMode: b => r.setUseSmartMode(b),
            onChange: c,
            onFocus: () => d(!0),
            onBlur: () => d(!1),
            onSubmit: x,
            mode: t,
            isFocused: u
        })
    });

function z$(e) {
    return Yt({
        attr: {
            viewBox: "0 0 24 24"
        },
        child: [{
            tag: "path",
            attr: {
                fill: "none",
                d: "M0 0h24v24H0V0z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
            },
            child: []
        }]
    })(e)
}

function i2(e, [t, n]) {
    return Math.min(n, Math.max(t, e))
}

function Ft(e, t, {
    checkForDefaultPrevented: n = !0
} = {}) {
    return function(i) {
        if (e?.(i), n === !1 || !i.defaultPrevented) return t?.(i)
    }
}

function v1(e, t = []) {
    let n = [];

    function r(s, a) {
        const o = h.createContext(a),
            c = n.length;
        n = [...n, a];
        const u = f => {
            const {
                scope: m,
                children: p,
                ...g
            } = f, x = m?.[e]?.[c] || o, y = h.useMemo(() => g, Object.values(g));
            return l.jsx(x.Provider, {
                value: y,
                children: p
            })
        };
        u.displayName = s + "Provider";

        function d(f, m) {
            const p = m?.[e]?.[c] || o,
                g = h.useContext(p);
            if (g) return g;
            if (a !== void 0) return a;
            throw new Error(`\`${f}\` must be used within \`${s}\``)
        }
        return [u, d]
    }
    const i = () => {
        const s = n.map(a => h.createContext(a));
        return function(o) {
            const c = o?.[e] || s;
            return h.useMemo(() => ({
                [`__scope${e}`]: {
                    ...o,
                    [e]: c
                }
            }), [o, c])
        }
    };
    return i.scopeName = e, [r, B$(i, ...t)]
}

function B$(...e) {
    const t = e[0];
    if (e.length === 1) return t;
    const n = () => {
        const r = e.map(i => ({
            useScope: i(),
            scopeName: i.scopeName
        }));
        return function(s) {
            const a = r.reduce((o, {
                useScope: c,
                scopeName: u
            }) => {
                const f = c(s)[`__scope${u}`];
                return {
                    ...o,
                    ...f
                }
            }, {});
            return h.useMemo(() => ({
                [`__scope${t.scopeName}`]: a
            }), [a])
        }
    };
    return n.scopeName = t.scopeName, n
}

function s2(e, t) {
    if (typeof e == "function") return e(t);
    e != null && (e.current = t)
}

function Xv(...e) {
    return t => {
        let n = !1;
        const r = e.map(i => {
            const s = s2(i, t);
            return !n && typeof s == "function" && (n = !0), s
        });
        if (n) return () => {
            for (let i = 0; i < r.length; i++) {
                const s = r[i];
                typeof s == "function" ? s() : s2(e[i], null)
            }
        }
    }
}

function on(...e) {
    return h.useCallback(Xv(...e), e)
}

function Rl(e) {
    const t = $$(e),
        n = h.forwardRef((r, i) => {
            const {
                children: s,
                ...a
            } = r, o = h.Children.toArray(s), c = o.find(U$);
            if (c) {
                const u = c.props.children,
                    d = o.map(f => f === c ? h.Children.count(u) > 1 ? h.Children.only(null) : h.isValidElement(u) ? u.props.children : null : f);
                return l.jsx(t, {
                    ...a,
                    ref: i,
                    children: h.isValidElement(u) ? h.cloneElement(u, void 0, d) : null
                })
            }
            return l.jsx(t, {
                ...a,
                ref: i,
                children: s
            })
        });
    return n.displayName = `${e}.Slot`, n
}

function $$(e) {
    const t = h.forwardRef((n, r) => {
        const {
            children: i,
            ...s
        } = n;
        if (h.isValidElement(i)) {
            const a = W$(i),
                o = V$(s, i.props);
            return i.type !== h.Fragment && (o.ref = r ? Xv(r, a) : a), h.cloneElement(i, o)
        }
        return h.Children.count(i) > 1 ? h.Children.only(null) : null
    });
    return t.displayName = `${e}.SlotClone`, t
}
var H$ = Symbol("radix.slottable");

function U$(e) {
    return h.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === H$
}

function V$(e, t) {
    const n = {
        ...t
    };
    for (const r in t) {
        const i = e[r],
            s = t[r];
        /^on[A-Z]/.test(r) ? i && s ? n[r] = (...o) => {
            const c = s(...o);
            return i(...o), c
        } : i && (n[r] = i) : r === "style" ? n[r] = {
            ...i,
            ...s
        } : r === "className" && (n[r] = [i, s].filter(Boolean).join(" "))
    }
    return {
        ...e,
        ...n
    }
}

function W$(e) {
    let t = Object.getOwnPropertyDescriptor(e.props, "ref")?.get,
        n = t && "isReactWarning" in t && t.isReactWarning;
    return n ? e.ref : (t = Object.getOwnPropertyDescriptor(e, "ref")?.get, n = t && "isReactWarning" in t && t.isReactWarning, n ? e.props.ref : e.props.ref || e.ref)
}

function q$(e) {
    const t = e + "CollectionProvider",
        [n, r] = v1(t),
        [i, s] = n(t, {
            collectionRef: {
                current: null
            },
            itemMap: new Map
        }),
        a = x => {
            const {
                scope: y,
                children: b
            } = x, w = Ue.useRef(null), C = Ue.useRef(new Map).current;
            return l.jsx(i, {
                scope: y,
                itemMap: C,
                collectionRef: w,
                children: b
            })
        };
    a.displayName = t;
    const o = e + "CollectionSlot",
        c = Rl(o),
        u = Ue.forwardRef((x, y) => {
            const {
                scope: b,
                children: w
            } = x, C = s(o, b), E = on(y, C.collectionRef);
            return l.jsx(c, {
                ref: E,
                children: w
            })
        });
    u.displayName = o;
    const d = e + "CollectionItemSlot",
        f = "data-radix-collection-item",
        m = Rl(d),
        p = Ue.forwardRef((x, y) => {
            const {
                scope: b,
                children: w,
                ...C
            } = x, E = Ue.useRef(null), A = on(y, E), N = s(d, b);
            return Ue.useEffect(() => (N.itemMap.set(E, {
                ref: E,
                ...C
            }), () => void N.itemMap.delete(E))), l.jsx(m, {
                [f]: "",
                ref: A,
                children: w
            })
        });
    p.displayName = d;

    function g(x) {
        const y = s(e + "CollectionConsumer", x);
        return Ue.useCallback(() => {
            const w = y.collectionRef.current;
            if (!w) return [];
            const C = Array.from(w.querySelectorAll(`[${f}]`));
            return Array.from(y.itemMap.values()).sort((N, j) => C.indexOf(N.ref.current) - C.indexOf(j.ref.current))
        }, [y.collectionRef, y.itemMap])
    }
    return [{
        Provider: a,
        Slot: u,
        ItemSlot: p
    }, g, r]
}
var G$ = h.createContext(void 0);

function Y$(e) {
    const t = h.useContext(G$);
    return e || t || "ltr"
}
var K$ = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"],
    Lt = K$.reduce((e, t) => {
        const n = Rl(`Primitive.${t}`),
            r = h.forwardRef((i, s) => {
                const {
                    asChild: a,
                    ...o
                } = i, c = a ? n : t;
                return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), l.jsx(c, {
                    ...o,
                    ref: s
                })
            });
        return r.displayName = `Primitive.${t}`, {
            ...e,
            [t]: r
        }
    }, {});

function X$(e, t) {
    e && an.flushSync(() => e.dispatchEvent(t))
}

function Xi(e) {
    const t = h.useRef(e);
    return h.useEffect(() => {
        t.current = e
    }), h.useMemo(() => (...n) => t.current?.(...n), [])
}

function Z$(e, t = globalThis?.document) {
    const n = Xi(e);
    h.useEffect(() => {
        const r = i => {
            i.key === "Escape" && n(i)
        };
        return t.addEventListener("keydown", r, {
            capture: !0
        }), () => t.removeEventListener("keydown", r, {
            capture: !0
        })
    }, [n, t])
}
var Q$ = "DismissableLayer",
    K0 = "dismissableLayer.update",
    J$ = "dismissableLayer.pointerDownOutside",
    eH = "dismissableLayer.focusOutside",
    a2, Zv = h.createContext({
        layers: new Set,
        layersWithOutsidePointerEventsDisabled: new Set,
        branches: new Set
    }),
    Qv = h.forwardRef((e, t) => {
        const {
            disableOutsidePointerEvents: n = !1,
            onEscapeKeyDown: r,
            onPointerDownOutside: i,
            onFocusOutside: s,
            onInteractOutside: a,
            onDismiss: o,
            ...c
        } = e, u = h.useContext(Zv), [d, f] = h.useState(null), m = d?.ownerDocument ?? globalThis?.document, [, p] = h.useState({}), g = on(t, j => f(j)), x = Array.from(u.layers), [y] = [...u.layersWithOutsidePointerEventsDisabled].slice(-1), b = x.indexOf(y), w = d ? x.indexOf(d) : -1, C = u.layersWithOutsidePointerEventsDisabled.size > 0, E = w >= b, A = rH(j => {
            const z = j.target,
                H = [...u.branches].some(R => R.contains(z));
            !E || H || (i?.(j), a?.(j), j.defaultPrevented || o?.())
        }, m), N = iH(j => {
            const z = j.target;
            [...u.branches].some(R => R.contains(z)) || (s?.(j), a?.(j), j.defaultPrevented || o?.())
        }, m);
        return Z$(j => {
            w === u.layers.size - 1 && (r?.(j), !j.defaultPrevented && o && (j.preventDefault(), o()))
        }, m), h.useEffect(() => {
            if (d) return n && (u.layersWithOutsidePointerEventsDisabled.size === 0 && (a2 = m.body.style.pointerEvents, m.body.style.pointerEvents = "none"), u.layersWithOutsidePointerEventsDisabled.add(d)), u.layers.add(d), o2(), () => {
                n && u.layersWithOutsidePointerEventsDisabled.size === 1 && (m.body.style.pointerEvents = a2)
            }
        }, [d, m, n, u]), h.useEffect(() => () => {
            d && (u.layers.delete(d), u.layersWithOutsidePointerEventsDisabled.delete(d), o2())
        }, [d, u]), h.useEffect(() => {
            const j = () => p({});
            return document.addEventListener(K0, j), () => document.removeEventListener(K0, j)
        }, []), l.jsx(Lt.div, {
            ...c,
            ref: g,
            style: {
                pointerEvents: C ? E ? "auto" : "none" : void 0,
                ...e.style
            },
            onFocusCapture: Ft(e.onFocusCapture, N.onFocusCapture),
            onBlurCapture: Ft(e.onBlurCapture, N.onBlurCapture),
            onPointerDownCapture: Ft(e.onPointerDownCapture, A.onPointerDownCapture)
        })
    });
Qv.displayName = Q$;
var tH = "DismissableLayerBranch",
    nH = h.forwardRef((e, t) => {
        const n = h.useContext(Zv),
            r = h.useRef(null),
            i = on(t, r);
        return h.useEffect(() => {
            const s = r.current;
            if (s) return n.branches.add(s), () => {
                n.branches.delete(s)
            }
        }, [n.branches]), l.jsx(Lt.div, {
            ...e,
            ref: i
        })
    });
nH.displayName = tH;

function rH(e, t = globalThis?.document) {
    const n = Xi(e),
        r = h.useRef(!1),
        i = h.useRef(() => {});
    return h.useEffect(() => {
        const s = o => {
                if (o.target && !r.current) {
                    let c = function() {
                        Jv(J$, n, u, {
                            discrete: !0
                        })
                    };
                    const u = {
                        originalEvent: o
                    };
                    o.pointerType === "touch" ? (t.removeEventListener("click", i.current), i.current = c, t.addEventListener("click", i.current, {
                        once: !0
                    })) : c()
                } else t.removeEventListener("click", i.current);
                r.current = !1
            },
            a = window.setTimeout(() => {
                t.addEventListener("pointerdown", s)
            }, 0);
        return () => {
            window.clearTimeout(a), t.removeEventListener("pointerdown", s), t.removeEventListener("click", i.current)
        }
    }, [t, n]), {
        onPointerDownCapture: () => r.current = !0
    }
}

function iH(e, t = globalThis?.document) {
    const n = Xi(e),
        r = h.useRef(!1);
    return h.useEffect(() => {
        const i = s => {
            s.target && !r.current && Jv(eH, n, {
                originalEvent: s
            }, {
                discrete: !1
            })
        };
        return t.addEventListener("focusin", i), () => t.removeEventListener("focusin", i)
    }, [t, n]), {
        onFocusCapture: () => r.current = !0,
        onBlurCapture: () => r.current = !1
    }
}

function o2() {
    const e = new CustomEvent(K0);
    document.dispatchEvent(e)
}

function Jv(e, t, n, {
    discrete: r
}) {
    const i = n.originalEvent.target,
        s = new CustomEvent(e, {
            bubbles: !1,
            cancelable: !0,
            detail: n
        });
    t && i.addEventListener(e, t, {
        once: !0
    }), r ? X$(i, s) : i.dispatchEvent(s)
}
var Fu = 0;

function sH() {
    h.useEffect(() => {
        const e = document.querySelectorAll("[data-radix-focus-guard]");
        return document.body.insertAdjacentElement("afterbegin", e[0] ?? l2()), document.body.insertAdjacentElement("beforeend", e[1] ?? l2()), Fu++, () => {
            Fu === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(t => t.remove()), Fu--
        }
    }, [])
}

function l2() {
    const e = document.createElement("span");
    return e.setAttribute("data-radix-focus-guard", ""), e.tabIndex = 0, e.style.outline = "none", e.style.opacity = "0", e.style.position = "fixed", e.style.pointerEvents = "none", e
}
var zu = "focusScope.autoFocusOnMount",
    Bu = "focusScope.autoFocusOnUnmount",
    c2 = {
        bubbles: !1,
        cancelable: !0
    },
    aH = "FocusScope",
    e7 = h.forwardRef((e, t) => {
        const {
            loop: n = !1,
            trapped: r = !1,
            onMountAutoFocus: i,
            onUnmountAutoFocus: s,
            ...a
        } = e, [o, c] = h.useState(null), u = Xi(i), d = Xi(s), f = h.useRef(null), m = on(t, x => c(x)), p = h.useRef({
            paused: !1,
            pause() {
                this.paused = !0
            },
            resume() {
                this.paused = !1
            }
        }).current;
        h.useEffect(() => {
            if (r) {
                let x = function(C) {
                        if (p.paused || !o) return;
                        const E = C.target;
                        o.contains(E) ? f.current = E : fi(f.current, {
                            select: !0
                        })
                    },
                    y = function(C) {
                        if (p.paused || !o) return;
                        const E = C.relatedTarget;
                        E !== null && (o.contains(E) || fi(f.current, {
                            select: !0
                        }))
                    },
                    b = function(C) {
                        if (document.activeElement === document.body)
                            for (const A of C) A.removedNodes.length > 0 && fi(o)
                    };
                document.addEventListener("focusin", x), document.addEventListener("focusout", y);
                const w = new MutationObserver(b);
                return o && w.observe(o, {
                    childList: !0,
                    subtree: !0
                }), () => {
                    document.removeEventListener("focusin", x), document.removeEventListener("focusout", y), w.disconnect()
                }
            }
        }, [r, o, p.paused]), h.useEffect(() => {
            if (o) {
                d2.add(p);
                const x = document.activeElement;
                if (!o.contains(x)) {
                    const b = new CustomEvent(zu, c2);
                    o.addEventListener(zu, u), o.dispatchEvent(b), b.defaultPrevented || (oH(fH(t7(o)), {
                        select: !0
                    }), document.activeElement === x && fi(o))
                }
                return () => {
                    o.removeEventListener(zu, u), setTimeout(() => {
                        const b = new CustomEvent(Bu, c2);
                        o.addEventListener(Bu, d), o.dispatchEvent(b), b.defaultPrevented || fi(x ?? document.body, {
                            select: !0
                        }), o.removeEventListener(Bu, d), d2.remove(p)
                    }, 0)
                }
            }
        }, [o, u, d, p]);
        const g = h.useCallback(x => {
            if (!n && !r || p.paused) return;
            const y = x.key === "Tab" && !x.altKey && !x.ctrlKey && !x.metaKey,
                b = document.activeElement;
            if (y && b) {
                const w = x.currentTarget,
                    [C, E] = lH(w);
                C && E ? !x.shiftKey && b === E ? (x.preventDefault(), n && fi(C, {
                    select: !0
                })) : x.shiftKey && b === C && (x.preventDefault(), n && fi(E, {
                    select: !0
                })) : b === w && x.preventDefault()
            }
        }, [n, r, p.paused]);
        return l.jsx(Lt.div, {
            tabIndex: -1,
            ...a,
            ref: m,
            onKeyDown: g
        })
    });
e7.displayName = aH;

function oH(e, {
    select: t = !1
} = {}) {
    const n = document.activeElement;
    for (const r of e)
        if (fi(r, {
                select: t
            }), document.activeElement !== n) return
}

function lH(e) {
    const t = t7(e),
        n = u2(t, e),
        r = u2(t.reverse(), e);
    return [n, r]
}

function t7(e) {
    const t = [],
        n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
            acceptNode: r => {
                const i = r.tagName === "INPUT" && r.type === "hidden";
                return r.disabled || r.hidden || i ? NodeFilter.FILTER_SKIP : r.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
            }
        });
    for (; n.nextNode();) t.push(n.currentNode);
    return t
}

function u2(e, t) {
    for (const n of e)
        if (!cH(n, {
                upTo: t
            })) return n
}

function cH(e, {
    upTo: t
}) {
    if (getComputedStyle(e).visibility === "hidden") return !0;
    for (; e;) {
        if (t !== void 0 && e === t) return !1;
        if (getComputedStyle(e).display === "none") return !0;
        e = e.parentElement
    }
    return !1
}

function uH(e) {
    return e instanceof HTMLInputElement && "select" in e
}

function fi(e, {
    select: t = !1
} = {}) {
    if (e && e.focus) {
        const n = document.activeElement;
        e.focus({
            preventScroll: !0
        }), e !== n && uH(e) && t && e.select()
    }
}
var d2 = dH();

function dH() {
    let e = [];
    return {
        add(t) {
            const n = e[0];
            t !== n && n?.pause(), e = f2(e, t), e.unshift(t)
        },
        remove(t) {
            e = f2(e, t), e[0]?.resume()
        }
    }
}

function f2(e, t) {
    const n = [...e],
        r = n.indexOf(t);
    return r !== -1 && n.splice(r, 1), n
}

function fH(e) {
    return e.filter(t => t.tagName !== "A")
}
var An = globalThis?.document ? h.useLayoutEffect : () => {},
    hH = $i[" useId ".trim().toString()] || (() => {}),
    pH = 0;

function b1(e) {
    const [t, n] = h.useState(hH());
    return An(() => {
        n(r => r ?? String(pH++))
    }, [e]), e || (t ? `radix-${t}` : "")
}

function h2(e, t, n) {
    let {
        reference: r,
        floating: i
    } = e;
    const s = ot(t),
        a = ta(t),
        o = ea(a),
        c = mt(t),
        u = s === "y",
        d = r.x + r.width / 2 - i.width / 2,
        f = r.y + r.height / 2 - i.height / 2,
        m = r[o] / 2 - i[o] / 2;
    let p;
    switch (c) {
        case "top":
            p = {
                x: d,
                y: r.y - i.height
            };
            break;
        case "bottom":
            p = {
                x: d,
                y: r.y + r.height
            };
            break;
        case "right":
            p = {
                x: r.x + r.width,
                y: f
            };
            break;
        case "left":
            p = {
                x: r.x - i.width,
                y: f
            };
            break;
        default:
            p = {
                x: r.x,
                y: r.y
            }
    }
    switch (wn(t)) {
        case "start":
            p[a] -= m * (n && u ? -1 : 1);
            break;
        case "end":
            p[a] += m * (n && u ? -1 : 1);
            break
    }
    return p
}
const mH = async (e, t, n) => {
    const {
        placement: r = "bottom",
        strategy: i = "absolute",
        middleware: s = [],
        platform: a
    } = n, o = s.filter(Boolean), c = await (a.isRTL == null ? void 0 : a.isRTL(t));
    let u = await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }),
        {
            x: d,
            y: f
        } = h2(u, r, c),
        m = r,
        p = {},
        g = 0;
    for (let x = 0; x < o.length; x++) {
        const {
            name: y,
            fn: b
        } = o[x], {
            x: w,
            y: C,
            data: E,
            reset: A
        } = await b({
            x: d,
            y: f,
            initialPlacement: r,
            placement: m,
            strategy: i,
            middlewareData: p,
            rects: u,
            platform: a,
            elements: {
                reference: e,
                floating: t
            }
        });
        d = w ?? d, f = C ?? f, p = {
            ...p,
            [y]: {
                ...p[y],
                ...E
            }
        }, A && g <= 50 && (g++, typeof A == "object" && (A.placement && (m = A.placement), A.rects && (u = A.rects === !0 ? await a.getElementRects({
            reference: e,
            floating: t,
            strategy: i
        }) : A.rects), {
            x: d,
            y: f
        } = h2(u, m, c)), x = -1)
    }
    return {
        x: d,
        y: f,
        placement: m,
        strategy: i,
        middlewareData: p
    }
};
async function Ga(e, t) {
    var n;
    t === void 0 && (t = {});
    const {
        x: r,
        y: i,
        platform: s,
        rects: a,
        elements: o,
        strategy: c
    } = e, {
        boundary: u = "clippingAncestors",
        rootBoundary: d = "viewport",
        elementContext: f = "floating",
        altBoundary: m = !1,
        padding: p = 0
    } = wt(t, e), g = uo(p), y = o[m ? f === "floating" ? "reference" : "floating" : f], b = Jn(await s.getClippingRect({
        element: (n = await (s.isElement == null ? void 0 : s.isElement(y))) == null || n ? y : y.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(o.floating)),
        boundary: u,
        rootBoundary: d,
        strategy: c
    })), w = f === "floating" ? {
        x: r,
        y: i,
        width: a.floating.width,
        height: a.floating.height
    } : a.reference, C = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(o.floating)), E = await (s.isElement == null ? void 0 : s.isElement(C)) ? await (s.getScale == null ? void 0 : s.getScale(C)) || {
        x: 1,
        y: 1
    } : {
        x: 1,
        y: 1
    }, A = Jn(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({
        elements: o,
        rect: w,
        offsetParent: C,
        strategy: c
    }) : w);
    return {
        top: (b.top - A.top + g.top) / E.y,
        bottom: (A.bottom - b.bottom + g.bottom) / E.y,
        left: (b.left - A.left + g.left) / E.x,
        right: (A.right - b.right + g.right) / E.x
    }
}
const gH = e => ({
        name: "arrow",
        options: e,
        async fn(t) {
            const {
                x: n,
                y: r,
                placement: i,
                rects: s,
                platform: a,
                elements: o,
                middlewareData: c
            } = t, {
                element: u,
                padding: d = 0
            } = wt(e, t) || {};
            if (u == null) return {};
            const f = uo(d),
                m = {
                    x: n,
                    y: r
                },
                p = ta(i),
                g = ea(p),
                x = await a.getDimensions(u),
                y = p === "y",
                b = y ? "top" : "left",
                w = y ? "bottom" : "right",
                C = y ? "clientHeight" : "clientWidth",
                E = s.reference[g] + s.reference[p] - m[p] - s.floating[g],
                A = m[p] - s.reference[p],
                N = await (a.getOffsetParent == null ? void 0 : a.getOffsetParent(u));
            let j = N ? N[C] : 0;
            (!j || !await (a.isElement == null ? void 0 : a.isElement(N))) && (j = o.floating[C] || s.floating[g]);
            const z = E / 2 - A / 2,
                H = j / 2 - x[g] / 2 - 1,
                R = qt(f[b], H),
                D = qt(f[w], H),
                _ = R,
                O = j - x[g] - D,
                F = j / 2 - x[g] / 2 + z,
                G = yi(_, F, O),
                Y = !c.arrow && wn(i) != null && F !== G && s.reference[g] / 2 - (F < _ ? R : D) - x[g] / 2 < 0,
                W = Y ? F < _ ? F - _ : F - O : 0;
            return {
                [p]: m[p] + W,
                data: {
                    [p]: G,
                    centerOffset: F - G - W,
                    ...Y && {
                        alignmentOffset: W
                    }
                },
                reset: Y
            }
        }
    }),
    xH = function(e) {
        return e === void 0 && (e = {}), {
            name: "flip",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    placement: i,
                    middlewareData: s,
                    rects: a,
                    initialPlacement: o,
                    platform: c,
                    elements: u
                } = t, {
                    mainAxis: d = !0,
                    crossAxis: f = !0,
                    fallbackPlacements: m,
                    fallbackStrategy: p = "bestFit",
                    fallbackAxisSideDirection: g = "none",
                    flipAlignment: x = !0,
                    ...y
                } = wt(e, t);
                if ((n = s.arrow) != null && n.alignmentOffset) return {};
                const b = mt(i),
                    w = ot(o),
                    C = mt(o) === o,
                    E = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)),
                    A = m || (C || !x ? [zs(o)] : Bf(o)),
                    N = g !== "none";
                !m && N && A.push(...$f(o, x, g, E));
                const j = [o, ...A],
                    z = await Ga(t, y),
                    H = [];
                let R = ((r = s.flip) == null ? void 0 : r.overflows) || [];
                if (d && H.push(z[b]), f) {
                    const F = zf(i, a, E);
                    H.push(z[F[0]], z[F[1]])
                }
                if (R = [...R, {
                        placement: i,
                        overflows: H
                    }], !H.every(F => F <= 0)) {
                    var D, _;
                    const F = (((D = s.flip) == null ? void 0 : D.index) || 0) + 1,
                        G = j[F];
                    if (G && (!(f === "alignment" ? w !== ot(G) : !1) || R.every(B => B.overflows[0] > 0 && ot(B.placement) === w))) return {
                        data: {
                            index: F,
                            overflows: R
                        },
                        reset: {
                            placement: G
                        }
                    };
                    let Y = (_ = R.filter(W => W.overflows[0] <= 0).sort((W, B) => W.overflows[1] - B.overflows[1])[0]) == null ? void 0 : _.placement;
                    if (!Y) switch (p) {
                        case "bestFit": {
                            var O;
                            const W = (O = R.filter(B => {
                                if (N) {
                                    const U = ot(B.placement);
                                    return U === w || U === "y"
                                }
                                return !0
                            }).map(B => [B.placement, B.overflows.filter(U => U > 0).reduce((U, I) => U + I, 0)]).sort((B, U) => B[1] - U[1])[0]) == null ? void 0 : O[0];
                            W && (Y = W);
                            break
                        }
                        case "initialPlacement":
                            Y = o;
                            break
                    }
                    if (i !== Y) return {
                        reset: {
                            placement: Y
                        }
                    }
                }
                return {}
            }
        }
    };

function p2(e, t) {
    return {
        top: e.top - t.height,
        right: e.right - t.width,
        bottom: e.bottom - t.height,
        left: e.left - t.width
    }
}

function m2(e) {
    return Kx.some(t => e[t] >= 0)
}
const vH = function(e) {
        return e === void 0 && (e = {}), {
            name: "hide",
            options: e,
            async fn(t) {
                const {
                    rects: n
                } = t, {
                    strategy: r = "referenceHidden",
                    ...i
                } = wt(e, t);
                switch (r) {
                    case "referenceHidden": {
                        const s = await Ga(t, {
                                ...i,
                                elementContext: "reference"
                            }),
                            a = p2(s, n.reference);
                        return {
                            data: {
                                referenceHiddenOffsets: a,
                                referenceHidden: m2(a)
                            }
                        }
                    }
                    case "escaped": {
                        const s = await Ga(t, {
                                ...i,
                                altBoundary: !0
                            }),
                            a = p2(s, n.floating);
                        return {
                            data: {
                                escapedOffsets: a,
                                escaped: m2(a)
                            }
                        }
                    }
                    default:
                        return {}
                }
            }
        }
    },
    n7 = new Set(["left", "top"]);
async function bH(e, t) {
    const {
        placement: n,
        platform: r,
        elements: i
    } = e, s = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), a = mt(n), o = wn(n), c = ot(n) === "y", u = n7.has(a) ? -1 : 1, d = s && c ? -1 : 1, f = wt(t, e);
    let {
        mainAxis: m,
        crossAxis: p,
        alignmentAxis: g
    } = typeof f == "number" ? {
        mainAxis: f,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: f.mainAxis || 0,
        crossAxis: f.crossAxis || 0,
        alignmentAxis: f.alignmentAxis
    };
    return o && typeof g == "number" && (p = o === "end" ? g * -1 : g), c ? {
        x: p * d,
        y: m * u
    } : {
        x: m * u,
        y: p * d
    }
}
const yH = function(e) {
        return e === void 0 && (e = 0), {
            name: "offset",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    x: i,
                    y: s,
                    placement: a,
                    middlewareData: o
                } = t, c = await bH(t, e);
                return a === ((n = o.offset) == null ? void 0 : n.placement) && (r = o.arrow) != null && r.alignmentOffset ? {} : {
                    x: i + c.x,
                    y: s + c.y,
                    data: {
                        ...c,
                        placement: a
                    }
                }
            }
        }
    },
    wH = function(e) {
        return e === void 0 && (e = {}), {
            name: "shift",
            options: e,
            async fn(t) {
                const {
                    x: n,
                    y: r,
                    placement: i
                } = t, {
                    mainAxis: s = !0,
                    crossAxis: a = !1,
                    limiter: o = {
                        fn: y => {
                            let {
                                x: b,
                                y: w
                            } = y;
                            return {
                                x: b,
                                y: w
                            }
                        }
                    },
                    ...c
                } = wt(e, t), u = {
                    x: n,
                    y: r
                }, d = await Ga(t, c), f = ot(mt(i)), m = Js(f);
                let p = u[m],
                    g = u[f];
                if (s) {
                    const y = m === "y" ? "top" : "left",
                        b = m === "y" ? "bottom" : "right",
                        w = p + d[y],
                        C = p - d[b];
                    p = yi(w, p, C)
                }
                if (a) {
                    const y = f === "y" ? "top" : "left",
                        b = f === "y" ? "bottom" : "right",
                        w = g + d[y],
                        C = g - d[b];
                    g = yi(w, g, C)
                }
                const x = o.fn({
                    ...t,
                    [m]: p,
                    [f]: g
                });
                return {
                    ...x,
                    data: {
                        x: x.x - n,
                        y: x.y - r,
                        enabled: {
                            [m]: s,
                            [f]: a
                        }
                    }
                }
            }
        }
    },
    SH = function(e) {
        return e === void 0 && (e = {}), {
            options: e,
            fn(t) {
                const {
                    x: n,
                    y: r,
                    placement: i,
                    rects: s,
                    middlewareData: a
                } = t, {
                    offset: o = 0,
                    mainAxis: c = !0,
                    crossAxis: u = !0
                } = wt(e, t), d = {
                    x: n,
                    y: r
                }, f = ot(i), m = Js(f);
                let p = d[m],
                    g = d[f];
                const x = wt(o, t),
                    y = typeof x == "number" ? {
                        mainAxis: x,
                        crossAxis: 0
                    } : {
                        mainAxis: 0,
                        crossAxis: 0,
                        ...x
                    };
                if (c) {
                    const C = m === "y" ? "height" : "width",
                        E = s.reference[m] - s.floating[C] + y.mainAxis,
                        A = s.reference[m] + s.reference[C] - y.mainAxis;
                    p < E ? p = E : p > A && (p = A)
                }
                if (u) {
                    var b, w;
                    const C = m === "y" ? "width" : "height",
                        E = n7.has(mt(i)),
                        A = s.reference[f] - s.floating[C] + (E && ((b = a.offset) == null ? void 0 : b[f]) || 0) + (E ? 0 : y.crossAxis),
                        N = s.reference[f] + s.reference[C] + (E ? 0 : ((w = a.offset) == null ? void 0 : w[f]) || 0) - (E ? y.crossAxis : 0);
                    g < A ? g = A : g > N && (g = N)
                }
                return {
                    [m]: p,
                    [f]: g
                }
            }
        }
    },
    CH = function(e) {
        return e === void 0 && (e = {}), {
            name: "size",
            options: e,
            async fn(t) {
                var n, r;
                const {
                    placement: i,
                    rects: s,
                    platform: a,
                    elements: o
                } = t, {
                    apply: c = () => {},
                    ...u
                } = wt(e, t), d = await Ga(t, u), f = mt(i), m = wn(i), p = ot(i) === "y", {
                    width: g,
                    height: x
                } = s.floating;
                let y, b;
                f === "top" || f === "bottom" ? (y = f, b = m === (await (a.isRTL == null ? void 0 : a.isRTL(o.floating)) ? "start" : "end") ? "left" : "right") : (b = f, y = m === "end" ? "top" : "bottom");
                const w = x - d.top - d.bottom,
                    C = g - d.left - d.right,
                    E = qt(x - d[y], w),
                    A = qt(g - d[b], C),
                    N = !t.middlewareData.shift;
                let j = E,
                    z = A;
                if ((n = t.middlewareData.shift) != null && n.enabled.x && (z = C), (r = t.middlewareData.shift) != null && r.enabled.y && (j = w), N && !m) {
                    const R = Ve(d.left, 0),
                        D = Ve(d.right, 0),
                        _ = Ve(d.top, 0),
                        O = Ve(d.bottom, 0);
                    p ? z = g - 2 * (R !== 0 || D !== 0 ? R + D : Ve(d.left, d.right)) : j = x - 2 * (_ !== 0 || O !== 0 ? _ + O : Ve(d.top, d.bottom))
                }
                await c({
                    ...t,
                    availableWidth: z,
                    availableHeight: j
                });
                const H = await a.getDimensions(o.floating);
                return g !== H.width || x !== H.height ? {
                    reset: {
                        rects: !0
                    }
                } : {}
            }
        }
    };

function r7(e) {
    const t = st(e);
    let n = parseFloat(t.width) || 0,
        r = parseFloat(t.height) || 0;
    const i = Qe(e),
        s = i ? e.offsetWidth : n,
        a = i ? e.offsetHeight : r,
        o = _n(n) !== s || _n(r) !== a;
    return o && (n = s, r = a), {
        width: n,
        height: r,
        $: o
    }
}

function y1(e) {
    return Re(e) ? e : e.contextElement
}

function Ps(e) {
    const t = y1(e);
    if (!Qe(t)) return it(1);
    const n = t.getBoundingClientRect(),
        {
            width: r,
            height: i,
            $: s
        } = r7(t);
    let a = (s ? _n(n.width) : n.width) / r,
        o = (s ? _n(n.height) : n.height) / i;
    return (!a || !Number.isFinite(a)) && (a = 1), (!o || !Number.isFinite(o)) && (o = 1), {
        x: a,
        y: o
    }
}
const kH = it(0);

function i7(e) {
    const t = nt(e);
    return !Ai() || !t.visualViewport ? kH : {
        x: t.visualViewport.offsetLeft,
        y: t.visualViewport.offsetTop
    }
}

function EH(e, t, n) {
    return t === void 0 && (t = !1), !n || t && n !== nt(e) ? !1 : t
}

function Zi(e, t, n, r) {
    t === void 0 && (t = !1), n === void 0 && (n = !1);
    const i = e.getBoundingClientRect(),
        s = y1(e);
    let a = it(1);
    t && (r ? Re(r) && (a = Ps(r)) : a = Ps(e));
    const o = EH(s, n, r) ? i7(s) : it(0);
    let c = (i.left + o.x) / a.x,
        u = (i.top + o.y) / a.y,
        d = i.width / a.x,
        f = i.height / a.y;
    if (s) {
        const m = nt(s),
            p = r && Re(r) ? nt(r) : r;
        let g = m,
            x = qi(g);
        for (; x && r && p !== g;) {
            const y = Ps(x),
                b = x.getBoundingClientRect(),
                w = st(x),
                C = b.left + (x.clientLeft + parseFloat(w.paddingLeft)) * y.x,
                E = b.top + (x.clientTop + parseFloat(w.paddingTop)) * y.y;
            c *= y.x, u *= y.y, d *= y.x, f *= y.y, c += C, u += E, g = nt(x), x = qi(g)
        }
    }
    return Jn({
        width: d,
        height: f,
        x: c,
        y: u
    })
}

function w1(e, t) {
    const n = tr(e).scrollLeft;
    return t ? t.left + n : Zi(lt(e)).left + n
}

function s7(e, t, n) {
    n === void 0 && (n = !1);
    const r = e.getBoundingClientRect(),
        i = r.left + t.scrollLeft - (n ? 0 : w1(e, r)),
        s = r.top + t.scrollTop;
    return {
        x: i,
        y: s
    }
}

function NH(e) {
    let {
        elements: t,
        rect: n,
        offsetParent: r,
        strategy: i
    } = e;
    const s = i === "fixed",
        a = lt(r),
        o = t ? zr(t.floating) : !1;
    if (r === a || o && s) return n;
    let c = {
            scrollLeft: 0,
            scrollTop: 0
        },
        u = it(1);
    const d = it(0),
        f = Qe(r);
    if ((f || !f && !s) && ((Mn(r) !== "body" || mr(a)) && (c = tr(r)), Qe(r))) {
        const p = Zi(r);
        u = Ps(r), d.x = p.x + r.clientLeft, d.y = p.y + r.clientTop
    }
    const m = a && !f && !s ? s7(a, c, !0) : it(0);
    return {
        width: n.width * u.x,
        height: n.height * u.y,
        x: n.x * u.x - c.scrollLeft * u.x + d.x + m.x,
        y: n.y * u.y - c.scrollTop * u.y + d.y + m.y
    }
}

function AH(e) {
    return Array.from(e.getClientRects())
}

function TH(e) {
    const t = lt(e),
        n = tr(e),
        r = e.ownerDocument.body,
        i = Ve(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth),
        s = Ve(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);
    let a = -n.scrollLeft + w1(e);
    const o = -n.scrollTop;
    return st(r).direction === "rtl" && (a += Ve(t.clientWidth, r.clientWidth) - i), {
        width: i,
        height: s,
        x: a,
        y: o
    }
}

function IH(e, t) {
    const n = nt(e),
        r = lt(e),
        i = n.visualViewport;
    let s = r.clientWidth,
        a = r.clientHeight,
        o = 0,
        c = 0;
    if (i) {
        s = i.width, a = i.height;
        const u = Ai();
        (!u || u && t === "fixed") && (o = i.offsetLeft, c = i.offsetTop)
    }
    return {
        width: s,
        height: a,
        x: o,
        y: c
    }
}
const jH = new Set(["absolute", "fixed"]);

function MH(e, t) {
    const n = Zi(e, !0, t === "fixed"),
        r = n.top + e.clientTop,
        i = n.left + e.clientLeft,
        s = Qe(e) ? Ps(e) : it(1),
        a = e.clientWidth * s.x,
        o = e.clientHeight * s.y,
        c = i * s.x,
        u = r * s.y;
    return {
        width: a,
        height: o,
        x: c,
        y: u
    }
}

function g2(e, t, n) {
    let r;
    if (t === "viewport") r = IH(e, n);
    else if (t === "document") r = TH(lt(e));
    else if (Re(t)) r = MH(t, n);
    else {
        const i = i7(e);
        r = {
            x: t.x - i.x,
            y: t.y - i.y,
            width: t.width,
            height: t.height
        }
    }
    return Jn(r)
}

function a7(e, t) {
    const n = Wt(e);
    return n === t || !Re(n) || rn(n) ? !1 : st(n).position === "fixed" || a7(n, t)
}

function RH(e, t) {
    const n = t.get(e);
    if (n) return n;
    let r = En(e, [], !1).filter(o => Re(o) && Mn(o) !== "body"),
        i = null;
    const s = st(e).position === "fixed";
    let a = s ? Wt(e) : e;
    for (; Re(a) && !rn(a);) {
        const o = st(a),
            c = os(a);
        !c && o.position === "fixed" && (i = null), (s ? !c && !i : !c && o.position === "static" && !!i && jH.has(i.position) || mr(a) && !c && a7(e, a)) ? r = r.filter(d => d !== a) : i = o, a = Wt(a)
    }
    return t.set(e, r), r
}

function OH(e) {
    let {
        element: t,
        boundary: n,
        rootBoundary: r,
        strategy: i
    } = e;
    const a = [...n === "clippingAncestors" ? zr(t) ? [] : RH(t, this._c) : [].concat(n), r],
        o = a[0],
        c = a.reduce((u, d) => {
            const f = g2(t, d, i);
            return u.top = Ve(f.top, u.top), u.right = qt(f.right, u.right), u.bottom = qt(f.bottom, u.bottom), u.left = Ve(f.left, u.left), u
        }, g2(t, o, i));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}

function PH(e) {
    const {
        width: t,
        height: n
    } = r7(e);
    return {
        width: t,
        height: n
    }
}

function LH(e, t, n) {
    const r = Qe(t),
        i = lt(t),
        s = n === "fixed",
        a = Zi(e, !0, s, t);
    let o = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = it(0);

    function u() {
        c.x = w1(i)
    }
    if (r || !r && !s)
        if ((Mn(t) !== "body" || mr(i)) && (o = tr(t)), r) {
            const p = Zi(t, !0, s, t);
            c.x = p.x + t.clientLeft, c.y = p.y + t.clientTop
        } else i && u();
    s && !r && i && u();
    const d = i && !r && !s ? s7(i, o) : it(0),
        f = a.left + o.scrollLeft - c.x - d.x,
        m = a.top + o.scrollTop - c.y - d.y;
    return {
        x: f,
        y: m,
        width: a.width,
        height: a.height
    }
}

function $u(e) {
    return st(e).position === "static"
}

function x2(e, t) {
    if (!Qe(e) || st(e).position === "fixed") return null;
    if (t) return t(e);
    let n = e.offsetParent;
    return lt(e) === n && (n = n.ownerDocument.body), n
}

function o7(e, t) {
    const n = nt(e);
    if (zr(e)) return n;
    if (!Qe(e)) {
        let i = Wt(e);
        for (; i && !rn(i);) {
            if (Re(i) && !$u(i)) return i;
            i = Wt(i)
        }
        return n
    }
    let r = x2(e, t);
    for (; r && _f(r) && $u(r);) r = x2(r, t);
    return r && rn(r) && $u(r) && !os(r) ? n : r || Ff(e) || n
}
const DH = async function(e) {
    const t = this.getOffsetParent || o7,
        n = this.getDimensions,
        r = await n(e.floating);
    return {
        reference: LH(e.reference, await t(e.floating), e.strategy),
        floating: {
            x: 0,
            y: 0,
            width: r.width,
            height: r.height
        }
    }
};

function _H(e) {
    return st(e).direction === "rtl"
}
const FH = {
    convertOffsetParentRelativeRectToViewportRelativeRect: NH,
    getDocumentElement: lt,
    getClippingRect: OH,
    getOffsetParent: o7,
    getElementRects: DH,
    getClientRects: AH,
    getDimensions: PH,
    getScale: Ps,
    isElement: Re,
    isRTL: _H
};

function l7(e, t) {
    return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height
}

function zH(e, t) {
    let n = null,
        r;
    const i = lt(e);

    function s() {
        var o;
        clearTimeout(r), (o = n) == null || o.disconnect(), n = null
    }

    function a(o, c) {
        o === void 0 && (o = !1), c === void 0 && (c = 1), s();
        const u = e.getBoundingClientRect(),
            {
                left: d,
                top: f,
                width: m,
                height: p
            } = u;
        if (o || t(), !m || !p) return;
        const g = Gn(f),
            x = Gn(i.clientWidth - (d + m)),
            y = Gn(i.clientHeight - (f + p)),
            b = Gn(d),
            C = {
                rootMargin: -g + "px " + -x + "px " + -y + "px " + -b + "px",
                threshold: Ve(0, qt(1, c)) || 1
            };
        let E = !0;

        function A(N) {
            const j = N[0].intersectionRatio;
            if (j !== c) {
                if (!E) return a();
                j ? a(!1, j) : r = setTimeout(() => {
                    a(!1, 1e-7)
                }, 1e3)
            }
            j === 1 && !l7(u, e.getBoundingClientRect()) && a(), E = !1
        }
        try {
            n = new IntersectionObserver(A, {
                ...C,
                root: i.ownerDocument
            })
        } catch {
            n = new IntersectionObserver(A, C)
        }
        n.observe(e)
    }
    return a(!0), s
}

function BH(e, t, n, r) {
    r === void 0 && (r = {});
    const {
        ancestorScroll: i = !0,
        ancestorResize: s = !0,
        elementResize: a = typeof ResizeObserver == "function",
        layoutShift: o = typeof IntersectionObserver == "function",
        animationFrame: c = !1
    } = r, u = y1(e), d = i || s ? [...u ? En(u) : [], ...En(t)] : [];
    d.forEach(b => {
        i && b.addEventListener("scroll", n, {
            passive: !0
        }), s && b.addEventListener("resize", n)
    });
    const f = u && o ? zH(u, n) : null;
    let m = -1,
        p = null;
    a && (p = new ResizeObserver(b => {
        let [w] = b;
        w && w.target === u && p && (p.unobserve(t), cancelAnimationFrame(m), m = requestAnimationFrame(() => {
            var C;
            (C = p) == null || C.observe(t)
        })), n()
    }), u && !c && p.observe(u), p.observe(t));
    let g, x = c ? Zi(e) : null;
    c && y();

    function y() {
        const b = Zi(e);
        x && !l7(x, b) && n(), x = b, g = requestAnimationFrame(y)
    }
    return n(), () => {
        var b;
        d.forEach(w => {
            i && w.removeEventListener("scroll", n), s && w.removeEventListener("resize", n)
        }), f?.(), (b = p) == null || b.disconnect(), p = null, c && cancelAnimationFrame(g)
    }
}
const $H = yH,
    HH = wH,
    UH = xH,
    VH = CH,
    WH = vH,
    v2 = gH,
    qH = SH,
    GH = (e, t, n) => {
        const r = new Map,
            i = {
                platform: FH,
                ...n
            },
            s = {
                ...i.platform,
                _c: r
            };
        return mH(e, t, {
            ...i,
            platform: s
        })
    };
var YH = typeof document < "u",
    KH = function() {},
    Qo = YH ? h.useLayoutEffect : KH;

function Ol(e, t) {
    if (e === t) return !0;
    if (typeof e != typeof t) return !1;
    if (typeof e == "function" && e.toString() === t.toString()) return !0;
    let n, r, i;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (n = e.length, n !== t.length) return !1;
            for (r = n; r-- !== 0;)
                if (!Ol(e[r], t[r])) return !1;
            return !0
        }
        if (i = Object.keys(e), n = i.length, n !== Object.keys(t).length) return !1;
        for (r = n; r-- !== 0;)
            if (!{}.hasOwnProperty.call(t, i[r])) return !1;
        for (r = n; r-- !== 0;) {
            const s = i[r];
            if (!(s === "_owner" && e.$$typeof) && !Ol(e[s], t[s])) return !1
        }
        return !0
    }
    return e !== e && t !== t
}

function c7(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1
}

function b2(e, t) {
    const n = c7(e);
    return Math.round(t * n) / n
}

function Hu(e) {
    const t = h.useRef(e);
    return Qo(() => {
        t.current = e
    }), t
}

function XH(e) {
    e === void 0 && (e = {});
    const {
        placement: t = "bottom",
        strategy: n = "absolute",
        middleware: r = [],
        platform: i,
        elements: {
            reference: s,
            floating: a
        } = {},
        transform: o = !0,
        whileElementsMounted: c,
        open: u
    } = e, [d, f] = h.useState({
        x: 0,
        y: 0,
        strategy: n,
        placement: t,
        middlewareData: {},
        isPositioned: !1
    }), [m, p] = h.useState(r);
    Ol(m, r) || p(r);
    const [g, x] = h.useState(null), [y, b] = h.useState(null), w = h.useCallback(B => {
        B !== N.current && (N.current = B, x(B))
    }, []), C = h.useCallback(B => {
        B !== j.current && (j.current = B, b(B))
    }, []), E = s || g, A = a || y, N = h.useRef(null), j = h.useRef(null), z = h.useRef(d), H = c != null, R = Hu(c), D = Hu(i), _ = Hu(u), O = h.useCallback(() => {
        if (!N.current || !j.current) return;
        const B = {
            placement: t,
            strategy: n,
            middleware: m
        };
        D.current && (B.platform = D.current), GH(N.current, j.current, B).then(U => {
            const I = {
                ...U,
                isPositioned: _.current !== !1
            };
            F.current && !Ol(z.current, I) && (z.current = I, an.flushSync(() => {
                f(I)
            }))
        })
    }, [m, t, n, D, _]);
    Qo(() => {
        u === !1 && z.current.isPositioned && (z.current.isPositioned = !1, f(B => ({
            ...B,
            isPositioned: !1
        })))
    }, [u]);
    const F = h.useRef(!1);
    Qo(() => (F.current = !0, () => {
        F.current = !1
    }), []), Qo(() => {
        if (E && (N.current = E), A && (j.current = A), E && A) {
            if (R.current) return R.current(E, A, O);
            O()
        }
    }, [E, A, O, R, H]);
    const G = h.useMemo(() => ({
            reference: N,
            floating: j,
            setReference: w,
            setFloating: C
        }), [w, C]),
        Y = h.useMemo(() => ({
            reference: E,
            floating: A
        }), [E, A]),
        W = h.useMemo(() => {
            const B = {
                position: n,
                left: 0,
                top: 0
            };
            if (!Y.floating) return B;
            const U = b2(Y.floating, d.x),
                I = b2(Y.floating, d.y);
            return o ? {
                ...B,
                transform: "translate(" + U + "px, " + I + "px)",
                ...c7(Y.floating) >= 1.5 && {
                    willChange: "transform"
                }
            } : {
                position: n,
                left: U,
                top: I
            }
        }, [n, o, Y.floating, d.x, d.y]);
    return h.useMemo(() => ({
        ...d,
        update: O,
        refs: G,
        elements: Y,
        floatingStyles: W
    }), [d, O, G, Y, W])
}
const ZH = e => {
        function t(n) {
            return {}.hasOwnProperty.call(n, "current")
        }
        return {
            name: "arrow",
            options: e,
            fn(n) {
                const {
                    element: r,
                    padding: i
                } = typeof e == "function" ? e(n) : e;
                return r && t(r) ? r.current != null ? v2({
                    element: r.current,
                    padding: i
                }).fn(n) : {} : r ? v2({
                    element: r,
                    padding: i
                }).fn(n) : {}
            }
        }
    },
    QH = (e, t) => ({
        ...$H(e),
        options: [e, t]
    }),
    JH = (e, t) => ({
        ...HH(e),
        options: [e, t]
    }),
    eU = (e, t) => ({
        ...qH(e),
        options: [e, t]
    }),
    tU = (e, t) => ({
        ...UH(e),
        options: [e, t]
    }),
    nU = (e, t) => ({
        ...VH(e),
        options: [e, t]
    }),
    rU = (e, t) => ({
        ...WH(e),
        options: [e, t]
    }),
    iU = (e, t) => ({
        ...ZH(e),
        options: [e, t]
    });
var sU = "Arrow",
    u7 = h.forwardRef((e, t) => {
        const {
            children: n,
            width: r = 10,
            height: i = 5,
            ...s
        } = e;
        return l.jsx(Lt.svg, {
            ...s,
            ref: t,
            width: r,
            height: i,
            viewBox: "0 0 30 10",
            preserveAspectRatio: "none",
            children: e.asChild ? n : l.jsx("polygon", {
                points: "0,0 30,0 15,10"
            })
        })
    });
u7.displayName = sU;
var aU = u7;

function oU(e) {
    const [t, n] = h.useState(void 0);
    return An(() => {
        if (e) {
            n({
                width: e.offsetWidth,
                height: e.offsetHeight
            });
            const r = new ResizeObserver(i => {
                if (!Array.isArray(i) || !i.length) return;
                const s = i[0];
                let a, o;
                if ("borderBoxSize" in s) {
                    const c = s.borderBoxSize,
                        u = Array.isArray(c) ? c[0] : c;
                    a = u.inlineSize, o = u.blockSize
                } else a = e.offsetWidth, o = e.offsetHeight;
                n({
                    width: a,
                    height: o
                })
            });
            return r.observe(e, {
                box: "border-box"
            }), () => r.unobserve(e)
        } else n(void 0)
    }, [e]), t
}
var S1 = "Popper",
    [d7, f7] = v1(S1),
    [lU, h7] = d7(S1),
    p7 = e => {
        const {
            __scopePopper: t,
            children: n
        } = e, [r, i] = h.useState(null);
        return l.jsx(lU, {
            scope: t,
            anchor: r,
            onAnchorChange: i,
            children: n
        })
    };
p7.displayName = S1;
var m7 = "PopperAnchor",
    g7 = h.forwardRef((e, t) => {
        const {
            __scopePopper: n,
            virtualRef: r,
            ...i
        } = e, s = h7(m7, n), a = h.useRef(null), o = on(t, a), c = h.useRef(null);
        return h.useEffect(() => {
            const u = c.current;
            c.current = r?.current || a.current, u !== c.current && s.onAnchorChange(c.current)
        }), r ? null : l.jsx(Lt.div, {
            ...i,
            ref: o
        })
    });
g7.displayName = m7;
var C1 = "PopperContent",
    [cU, uU] = d7(C1),
    x7 = h.forwardRef((e, t) => {
        const {
            __scopePopper: n,
            side: r = "bottom",
            sideOffset: i = 0,
            align: s = "center",
            alignOffset: a = 0,
            arrowPadding: o = 0,
            avoidCollisions: c = !0,
            collisionBoundary: u = [],
            collisionPadding: d = 0,
            sticky: f = "partial",
            hideWhenDetached: m = !1,
            updatePositionStrategy: p = "optimized",
            onPlaced: g,
            ...x
        } = e, y = h7(C1, n), [b, w] = h.useState(null), C = on(t, J => w(J)), [E, A] = h.useState(null), N = oU(E), j = N?.width ?? 0, z = N?.height ?? 0, H = r + (s !== "center" ? "-" + s : ""), R = typeof d == "number" ? d : {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0,
            ...d
        }, D = Array.isArray(u) ? u : [u], _ = D.length > 0, O = {
            padding: R,
            boundary: D.filter(fU),
            altBoundary: _
        }, {
            refs: F,
            floatingStyles: G,
            placement: Y,
            isPositioned: W,
            middlewareData: B
        } = XH({
            strategy: "fixed",
            placement: H,
            whileElementsMounted: (...J) => BH(...J, {
                animationFrame: p === "always"
            }),
            elements: {
                reference: y.anchor
            },
            middleware: [QH({
                mainAxis: i + z,
                alignmentAxis: a
            }), c && JH({
                mainAxis: !0,
                crossAxis: !1,
                limiter: f === "partial" ? eU() : void 0,
                ...O
            }), c && tU({
                ...O
            }), nU({
                ...O,
                apply: ({
                    elements: J,
                    rects: pe,
                    availableWidth: de,
                    availableHeight: ce
                }) => {
                    const {
                        width: ae,
                        height: ue
                    } = pe.reference, Ce = J.floating.style;
                    Ce.setProperty("--radix-popper-available-width", `${de}px`), Ce.setProperty("--radix-popper-available-height", `${ce}px`), Ce.setProperty("--radix-popper-anchor-width", `${ae}px`), Ce.setProperty("--radix-popper-anchor-height", `${ue}px`)
                }
            }), E && iU({
                element: E,
                padding: o
            }), hU({
                arrowWidth: j,
                arrowHeight: z
            }), m && rU({
                strategy: "referenceHidden",
                ...O
            })]
        }), [U, I] = y7(Y), fe = Xi(g);
        An(() => {
            W && fe?.()
        }, [W, fe]);
        const re = B.arrow?.x,
            M = B.arrow?.y,
            ye = B.arrow?.centerOffset !== 0,
            [Oe, K] = h.useState();
        return An(() => {
            b && K(window.getComputedStyle(b).zIndex)
        }, [b]), l.jsx("div", {
            ref: F.setFloating,
            "data-radix-popper-content-wrapper": "",
            style: {
                ...G,
                transform: W ? G.transform : "translate(0, -200%)",
                minWidth: "max-content",
                zIndex: Oe,
                "--radix-popper-transform-origin": [B.transformOrigin?.x, B.transformOrigin?.y].join(" "),
                ...B.hide?.referenceHidden && {
                    visibility: "hidden",
                    pointerEvents: "none"
                }
            },
            dir: e.dir,
            children: l.jsx(cU, {
                scope: n,
                placedSide: U,
                onArrowChange: A,
                arrowX: re,
                arrowY: M,
                shouldHideArrow: ye,
                children: l.jsx(Lt.div, {
                    "data-side": U,
                    "data-align": I,
                    ...x,
                    ref: C,
                    style: {
                        ...x.style,
                        animation: W ? void 0 : "none"
                    }
                })
            })
        })
    });
x7.displayName = C1;
var v7 = "PopperArrow",
    dU = {
        top: "bottom",
        right: "left",
        bottom: "top",
        left: "right"
    },
    b7 = h.forwardRef(function(t, n) {
        const {
            __scopePopper: r,
            ...i
        } = t, s = uU(v7, r), a = dU[s.placedSide];
        return l.jsx("span", {
            ref: s.onArrowChange,
            style: {
                position: "absolute",
                left: s.arrowX,
                top: s.arrowY,
                [a]: 0,
                transformOrigin: {
                    top: "",
                    right: "0 0",
                    bottom: "center 0",
                    left: "100% 0"
                } [s.placedSide],
                transform: {
                    top: "translateY(100%)",
                    right: "translateY(50%) rotate(90deg) translateX(-50%)",
                    bottom: "rotate(180deg)",
                    left: "translateY(50%) rotate(-90deg) translateX(50%)"
                } [s.placedSide],
                visibility: s.shouldHideArrow ? "hidden" : void 0
            },
            children: l.jsx(aU, {
                ...i,
                ref: n,
                style: {
                    ...i.style,
                    display: "block"
                }
            })
        })
    });
b7.displayName = v7;

function fU(e) {
    return e !== null
}
var hU = e => ({
    name: "transformOrigin",
    options: e,
    fn(t) {
        const {
            placement: n,
            rects: r,
            middlewareData: i
        } = t, a = i.arrow?.centerOffset !== 0, o = a ? 0 : e.arrowWidth, c = a ? 0 : e.arrowHeight, [u, d] = y7(n), f = {
            start: "0%",
            center: "50%",
            end: "100%"
        } [d], m = (i.arrow?.x ?? 0) + o / 2, p = (i.arrow?.y ?? 0) + c / 2;
        let g = "",
            x = "";
        return u === "bottom" ? (g = a ? f : `${m}px`, x = `${-c}px`) : u === "top" ? (g = a ? f : `${m}px`, x = `${r.floating.height+c}px`) : u === "right" ? (g = `${-c}px`, x = a ? f : `${p}px`) : u === "left" && (g = `${r.floating.width+c}px`, x = a ? f : `${p}px`), {
            data: {
                x: g,
                y: x
            }
        }
    }
});

function y7(e) {
    const [t, n = "center"] = e.split("-");
    return [t, n]
}
var pU = p7,
    mU = g7,
    gU = x7,
    xU = b7,
    vU = "Portal",
    w7 = h.forwardRef((e, t) => {
        const {
            container: n,
            ...r
        } = e, [i, s] = h.useState(!1);
        An(() => s(!0), []);
        const a = n || i && globalThis?.document?.body;
        return a ? My.createPortal(l.jsx(Lt.div, {
            ...r,
            ref: t
        }), a) : null
    });
w7.displayName = vU;
var bU = $i[" useInsertionEffect ".trim().toString()] || An;

function y2({
    prop: e,
    defaultProp: t,
    onChange: n = () => {},
    caller: r
}) {
    const [i, s, a] = yU({
        defaultProp: t,
        onChange: n
    }), o = e !== void 0, c = o ? e : i;
    {
        const d = h.useRef(e !== void 0);
        h.useEffect(() => {
            const f = d.current;
            f !== o && console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`), d.current = o
        }, [o, r])
    }
    const u = h.useCallback(d => {
        if (o) {
            const f = wU(d) ? d(e) : d;
            f !== e && a.current?.(f)
        } else s(d)
    }, [o, e, s, a]);
    return [c, u]
}

function yU({
    defaultProp: e,
    onChange: t
}) {
    const [n, r] = h.useState(e), i = h.useRef(n), s = h.useRef(t);
    return bU(() => {
        s.current = t
    }, [t]), h.useEffect(() => {
        i.current !== n && (s.current?.(n), i.current = n)
    }, [n, i]), [n, r, s]
}

function wU(e) {
    return typeof e == "function"
}

function SU(e) {
    const t = h.useRef({
        value: e,
        previous: e
    });
    return h.useMemo(() => (t.current.value !== e && (t.current.previous = t.current.value, t.current.value = e), t.current.previous), [e])
}
var S7 = Object.freeze({
        position: "absolute",
        border: 0,
        width: 1,
        height: 1,
        padding: 0,
        margin: -1,
        overflow: "hidden",
        clip: "rect(0, 0, 0, 0)",
        whiteSpace: "nowrap",
        wordWrap: "normal"
    }),
    CU = "VisuallyHidden",
    kU = h.forwardRef((e, t) => l.jsx(Lt.span, {
        ...e,
        ref: t,
        style: {
            ...S7,
            ...e.style
        }
    }));
kU.displayName = CU;
var EU = function(e) {
        if (typeof document > "u") return null;
        var t = Array.isArray(e) ? e[0] : e;
        return t.ownerDocument.body
    },
    xs = new WeakMap,
    $o = new WeakMap,
    Ho = {},
    Uu = 0,
    C7 = function(e) {
        return e && (e.host || C7(e.parentNode))
    },
    NU = function(e, t) {
        return t.map(function(n) {
            if (e.contains(n)) return n;
            var r = C7(n);
            return r && e.contains(r) ? r : (console.error("aria-hidden", n, "in not contained inside", e, ". Doing nothing"), null)
        }).filter(function(n) {
            return !!n
        })
    },
    AU = function(e, t, n, r) {
        var i = NU(t, Array.isArray(e) ? e : [e]);
        Ho[n] || (Ho[n] = new WeakMap);
        var s = Ho[n],
            a = [],
            o = new Set,
            c = new Set(i),
            u = function(f) {
                !f || o.has(f) || (o.add(f), u(f.parentNode))
            };
        i.forEach(u);
        var d = function(f) {
            !f || c.has(f) || Array.prototype.forEach.call(f.children, function(m) {
                if (o.has(m)) d(m);
                else try {
                    var p = m.getAttribute(r),
                        g = p !== null && p !== "false",
                        x = (xs.get(m) || 0) + 1,
                        y = (s.get(m) || 0) + 1;
                    xs.set(m, x), s.set(m, y), a.push(m), x === 1 && g && $o.set(m, !0), y === 1 && m.setAttribute(n, "true"), g || m.setAttribute(r, "true")
                } catch (b) {
                    console.error("aria-hidden: cannot operate on ", m, b)
                }
            })
        };
        return d(t), o.clear(), Uu++,
            function() {
                a.forEach(function(f) {
                    var m = xs.get(f) - 1,
                        p = s.get(f) - 1;
                    xs.set(f, m), s.set(f, p), m || ($o.has(f) || f.removeAttribute(r), $o.delete(f)), p || f.removeAttribute(n)
                }), Uu--, Uu || (xs = new WeakMap, xs = new WeakMap, $o = new WeakMap, Ho = {})
            }
    },
    TU = function(e, t, n) {
        n === void 0 && (n = "data-aria-hidden");
        var r = Array.from(Array.isArray(e) ? e : [e]),
            i = EU(e);
        return i ? (r.push.apply(r, Array.from(i.querySelectorAll("[aria-live], script"))), AU(r, i, n, "aria-hidden")) : function() {
            return null
        }
    },
    Sr = function() {
        return Sr = Object.assign || function(t) {
            for (var n, r = 1, i = arguments.length; r < i; r++) {
                n = arguments[r];
                for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && (t[s] = n[s])
            }
            return t
        }, Sr.apply(this, arguments)
    };

function k7(e, t) {
    var n = {};
    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    if (e != null && typeof Object.getOwnPropertySymbols == "function")
        for (var i = 0, r = Object.getOwnPropertySymbols(e); i < r.length; i++) t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
    return n
}

function IU(e, t, n) {
    if (n || arguments.length === 2)
        for (var r = 0, i = t.length, s; r < i; r++)(s || !(r in t)) && (s || (s = Array.prototype.slice.call(t, 0, r)), s[r] = t[r]);
    return e.concat(s || Array.prototype.slice.call(t))
}
var Jo = "right-scroll-bar-position",
    el = "width-before-scroll-bar",
    jU = "with-scroll-bars-hidden",
    MU = "--removed-body-scroll-bar-size";

function Vu(e, t) {
    return typeof e == "function" ? e(t) : e && (e.current = t), e
}

function RU(e, t) {
    var n = h.useState(function() {
        return {
            value: e,
            callback: t,
            facade: {
                get current() {
                    return n.value
                },
                set current(r) {
                    var i = n.value;
                    i !== r && (n.value = r, n.callback(r, i))
                }
            }
        }
    })[0];
    return n.callback = t, n.facade
}
var OU = typeof window < "u" ? h.useLayoutEffect : h.useEffect,
    w2 = new WeakMap;

function PU(e, t) {
    var n = RU(null, function(r) {
        return e.forEach(function(i) {
            return Vu(i, r)
        })
    });
    return OU(function() {
        var r = w2.get(n);
        if (r) {
            var i = new Set(r),
                s = new Set(e),
                a = n.current;
            i.forEach(function(o) {
                s.has(o) || Vu(o, null)
            }), s.forEach(function(o) {
                i.has(o) || Vu(o, a)
            })
        }
        w2.set(n, e)
    }, [e]), n
}

function LU(e) {
    return e
}

function DU(e, t) {
    t === void 0 && (t = LU);
    var n = [],
        r = !1,
        i = {
            read: function() {
                if (r) throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
                return n.length ? n[n.length - 1] : e
            },
            useMedium: function(s) {
                var a = t(s, r);
                return n.push(a),
                    function() {
                        n = n.filter(function(o) {
                            return o !== a
                        })
                    }
            },
            assignSyncMedium: function(s) {
                for (r = !0; n.length;) {
                    var a = n;
                    n = [], a.forEach(s)
                }
                n = {
                    push: function(o) {
                        return s(o)
                    },
                    filter: function() {
                        return n
                    }
                }
            },
            assignMedium: function(s) {
                r = !0;
                var a = [];
                if (n.length) {
                    var o = n;
                    n = [], o.forEach(s), a = n
                }
                var c = function() {
                        var d = a;
                        a = [], d.forEach(s)
                    },
                    u = function() {
                        return Promise.resolve().then(c)
                    };
                u(), n = {
                    push: function(d) {
                        a.push(d), u()
                    },
                    filter: function(d) {
                        return a = a.filter(d), n
                    }
                }
            }
        };
    return i
}

function _U(e) {
    e === void 0 && (e = {});
    var t = DU(null);
    return t.options = Sr({
        async: !0,
        ssr: !1
    }, e), t
}
var E7 = function(e) {
    var t = e.sideCar,
        n = k7(e, ["sideCar"]);
    if (!t) throw new Error("Sidecar: please provide `sideCar` property to import the right car");
    var r = t.read();
    if (!r) throw new Error("Sidecar medium not found");
    return h.createElement(r, Sr({}, n))
};
E7.isSideCarExport = !0;

function FU(e, t) {
    return e.useMedium(t), E7
}
var N7 = _U(),
    Wu = function() {},
    Sc = h.forwardRef(function(e, t) {
        var n = h.useRef(null),
            r = h.useState({
                onScrollCapture: Wu,
                onWheelCapture: Wu,
                onTouchMoveCapture: Wu
            }),
            i = r[0],
            s = r[1],
            a = e.forwardProps,
            o = e.children,
            c = e.className,
            u = e.removeScrollBar,
            d = e.enabled,
            f = e.shards,
            m = e.sideCar,
            p = e.noRelative,
            g = e.noIsolation,
            x = e.inert,
            y = e.allowPinchZoom,
            b = e.as,
            w = b === void 0 ? "div" : b,
            C = e.gapMode,
            E = k7(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]),
            A = m,
            N = PU([n, t]),
            j = Sr(Sr({}, E), i);
        return h.createElement(h.Fragment, null, d && h.createElement(A, {
            sideCar: N7,
            removeScrollBar: u,
            shards: f,
            noRelative: p,
            noIsolation: g,
            inert: x,
            setCallbacks: s,
            allowPinchZoom: !!y,
            lockRef: n,
            gapMode: C
        }), a ? h.cloneElement(h.Children.only(o), Sr(Sr({}, j), {
            ref: N
        })) : h.createElement(w, Sr({}, j, {
            className: c,
            ref: N
        }), o))
    });
Sc.defaultProps = {
    enabled: !0,
    removeScrollBar: !0,
    inert: !1
};
Sc.classNames = {
    fullWidth: el,
    zeroRight: Jo
};
var zU = function() {
    if (typeof __webpack_nonce__ < "u") return __webpack_nonce__
};

function BU() {
    if (!document) return null;
    var e = document.createElement("style");
    e.type = "text/css";
    var t = zU();
    return t && e.setAttribute("nonce", t), e
}

function $U(e, t) {
    e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t))
}

function HU(e) {
    var t = document.head || document.getElementsByTagName("head")[0];
    t.appendChild(e)
}
var UU = function() {
        var e = 0,
            t = null;
        return {
            add: function(n) {
                e == 0 && (t = BU()) && ($U(t, n), HU(t)), e++
            },
            remove: function() {
                e--, !e && t && (t.parentNode && t.parentNode.removeChild(t), t = null)
            }
        }
    },
    VU = function() {
        var e = UU();
        return function(t, n) {
            h.useEffect(function() {
                return e.add(t),
                    function() {
                        e.remove()
                    }
            }, [t && n])
        }
    },
    A7 = function() {
        var e = VU(),
            t = function(n) {
                var r = n.styles,
                    i = n.dynamic;
                return e(r, i), null
            };
        return t
    },
    WU = {
        left: 0,
        top: 0,
        right: 0,
        gap: 0
    },
    qu = function(e) {
        return parseInt(e || "", 10) || 0
    },
    qU = function(e) {
        var t = window.getComputedStyle(document.body),
            n = t[e === "padding" ? "paddingLeft" : "marginLeft"],
            r = t[e === "padding" ? "paddingTop" : "marginTop"],
            i = t[e === "padding" ? "paddingRight" : "marginRight"];
        return [qu(n), qu(r), qu(i)]
    },
    GU = function(e) {
        if (e === void 0 && (e = "margin"), typeof window > "u") return WU;
        var t = qU(e),
            n = document.documentElement.clientWidth,
            r = window.innerWidth;
        return {
            left: t[0],
            top: t[1],
            right: t[2],
            gap: Math.max(0, r - n + t[2] - t[0])
        }
    },
    YU = A7(),
    Ls = "data-scroll-locked",
    KU = function(e, t, n, r) {
        var i = e.left,
            s = e.top,
            a = e.right,
            o = e.gap;
        return n === void 0 && (n = "margin"), `
  .`.concat(jU, ` {
   overflow: hidden `).concat(r, `;
   padding-right: `).concat(o, "px ").concat(r, `;
  }
  body[`).concat(Ls, `] {
    overflow: hidden `).concat(r, `;
    overscroll-behavior: contain;
    `).concat([t && "position: relative ".concat(r, ";"), n === "margin" && `
    padding-left: `.concat(i, `px;
    padding-top: `).concat(s, `px;
    padding-right: `).concat(a, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o, "px ").concat(r, `;
    `), n === "padding" && "padding-right: ".concat(o, "px ").concat(r, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(Jo, ` {
    right: `).concat(o, "px ").concat(r, `;
  }
  
  .`).concat(el, ` {
    margin-right: `).concat(o, "px ").concat(r, `;
  }
  
  .`).concat(Jo, " .").concat(Jo, ` {
    right: 0 `).concat(r, `;
  }
  
  .`).concat(el, " .").concat(el, ` {
    margin-right: 0 `).concat(r, `;
  }
  
  body[`).concat(Ls, `] {
    `).concat(MU, ": ").concat(o, `px;
  }
`)
    },
    S2 = function() {
        var e = parseInt(document.body.getAttribute(Ls) || "0", 10);
        return isFinite(e) ? e : 0
    },
    XU = function() {
        h.useEffect(function() {
            return document.body.setAttribute(Ls, (S2() + 1).toString()),
                function() {
                    var e = S2() - 1;
                    e <= 0 ? document.body.removeAttribute(Ls) : document.body.setAttribute(Ls, e.toString())
                }
        }, [])
    },
    ZU = function(e) {
        var t = e.noRelative,
            n = e.noImportant,
            r = e.gapMode,
            i = r === void 0 ? "margin" : r;
        XU();
        var s = h.useMemo(function() {
            return GU(i)
        }, [i]);
        return h.createElement(YU, {
            styles: KU(s, !t, i, n ? "" : "!important")
        })
    },
    X0 = !1;
if (typeof window < "u") try {
    var Uo = Object.defineProperty({}, "passive", {
        get: function() {
            return X0 = !0, !0
        }
    });
    window.addEventListener("test", Uo, Uo), window.removeEventListener("test", Uo, Uo)
} catch {
    X0 = !1
}
var vs = X0 ? {
        passive: !1
    } : !1,
    QU = function(e) {
        return e.tagName === "TEXTAREA"
    },
    T7 = function(e, t) {
        if (!(e instanceof Element)) return !1;
        var n = window.getComputedStyle(e);
        return n[t] !== "hidden" && !(n.overflowY === n.overflowX && !QU(e) && n[t] === "visible")
    },
    JU = function(e) {
        return T7(e, "overflowY")
    },
    eV = function(e) {
        return T7(e, "overflowX")
    },
    C2 = function(e, t) {
        var n = t.ownerDocument,
            r = t;
        do {
            typeof ShadowRoot < "u" && r instanceof ShadowRoot && (r = r.host);
            var i = I7(e, r);
            if (i) {
                var s = j7(e, r),
                    a = s[1],
                    o = s[2];
                if (a > o) return !0
            }
            r = r.parentNode
        } while (r && r !== n.body);
        return !1
    },
    tV = function(e) {
        var t = e.scrollTop,
            n = e.scrollHeight,
            r = e.clientHeight;
        return [t, n, r]
    },
    nV = function(e) {
        var t = e.scrollLeft,
            n = e.scrollWidth,
            r = e.clientWidth;
        return [t, n, r]
    },
    I7 = function(e, t) {
        return e === "v" ? JU(t) : eV(t)
    },
    j7 = function(e, t) {
        return e === "v" ? tV(t) : nV(t)
    },
    rV = function(e, t) {
        return e === "h" && t === "rtl" ? -1 : 1
    },
    iV = function(e, t, n, r, i) {
        var s = rV(e, window.getComputedStyle(t).direction),
            a = s * r,
            o = n.target,
            c = t.contains(o),
            u = !1,
            d = a > 0,
            f = 0,
            m = 0;
        do {
            if (!o) break;
            var p = j7(e, o),
                g = p[0],
                x = p[1],
                y = p[2],
                b = x - y - s * g;
            (g || b) && I7(e, o) && (f += b, m += g);
            var w = o.parentNode;
            o = w && w.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? w.host : w
        } while (!c && o !== document.body || c && (t.contains(o) || t === o));
        return (d && Math.abs(f) < 1 || !d && Math.abs(m) < 1) && (u = !0), u
    },
    Vo = function(e) {
        return "changedTouches" in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0]
    },
    k2 = function(e) {
        return [e.deltaX, e.deltaY]
    },
    E2 = function(e) {
        return e && "current" in e ? e.current : e
    },
    sV = function(e, t) {
        return e[0] === t[0] && e[1] === t[1]
    },
    aV = function(e) {
        return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`)
    },
    oV = 0,
    bs = [];

function lV(e) {
    var t = h.useRef([]),
        n = h.useRef([0, 0]),
        r = h.useRef(),
        i = h.useState(oV++)[0],
        s = h.useState(A7)[0],
        a = h.useRef(e);
    h.useEffect(function() {
        a.current = e
    }, [e]), h.useEffect(function() {
        if (e.inert) {
            document.body.classList.add("block-interactivity-".concat(i));
            var x = IU([e.lockRef.current], (e.shards || []).map(E2), !0).filter(Boolean);
            return x.forEach(function(y) {
                    return y.classList.add("allow-interactivity-".concat(i))
                }),
                function() {
                    document.body.classList.remove("block-interactivity-".concat(i)), x.forEach(function(y) {
                        return y.classList.remove("allow-interactivity-".concat(i))
                    })
                }
        }
    }, [e.inert, e.lockRef.current, e.shards]);
    var o = h.useCallback(function(x, y) {
            if ("touches" in x && x.touches.length === 2 || x.type === "wheel" && x.ctrlKey) return !a.current.allowPinchZoom;
            var b = Vo(x),
                w = n.current,
                C = "deltaX" in x ? x.deltaX : w[0] - b[0],
                E = "deltaY" in x ? x.deltaY : w[1] - b[1],
                A, N = x.target,
                j = Math.abs(C) > Math.abs(E) ? "h" : "v";
            if ("touches" in x && j === "h" && N.type === "range") return !1;
            var z = C2(j, N);
            if (!z) return !0;
            if (z ? A = j : (A = j === "v" ? "h" : "v", z = C2(j, N)), !z) return !1;
            if (!r.current && "changedTouches" in x && (C || E) && (r.current = A), !A) return !0;
            var H = r.current || A;
            return iV(H, y, x, H === "h" ? C : E)
        }, []),
        c = h.useCallback(function(x) {
            var y = x;
            if (!(!bs.length || bs[bs.length - 1] !== s)) {
                var b = "deltaY" in y ? k2(y) : Vo(y),
                    w = t.current.filter(function(A) {
                        return A.name === y.type && (A.target === y.target || y.target === A.shadowParent) && sV(A.delta, b)
                    })[0];
                if (w && w.should) {
                    y.cancelable && y.preventDefault();
                    return
                }
                if (!w) {
                    var C = (a.current.shards || []).map(E2).filter(Boolean).filter(function(A) {
                            return A.contains(y.target)
                        }),
                        E = C.length > 0 ? o(y, C[0]) : !a.current.noIsolation;
                    E && y.cancelable && y.preventDefault()
                }
            }
        }, []),
        u = h.useCallback(function(x, y, b, w) {
            var C = {
                name: x,
                delta: y,
                target: b,
                should: w,
                shadowParent: cV(b)
            };
            t.current.push(C), setTimeout(function() {
                t.current = t.current.filter(function(E) {
                    return E !== C
                })
            }, 1)
        }, []),
        d = h.useCallback(function(x) {
            n.current = Vo(x), r.current = void 0
        }, []),
        f = h.useCallback(function(x) {
            u(x.type, k2(x), x.target, o(x, e.lockRef.current))
        }, []),
        m = h.useCallback(function(x) {
            u(x.type, Vo(x), x.target, o(x, e.lockRef.current))
        }, []);
    h.useEffect(function() {
        return bs.push(s), e.setCallbacks({
                onScrollCapture: f,
                onWheelCapture: f,
                onTouchMoveCapture: m
            }), document.addEventListener("wheel", c, vs), document.addEventListener("touchmove", c, vs), document.addEventListener("touchstart", d, vs),
            function() {
                bs = bs.filter(function(x) {
                    return x !== s
                }), document.removeEventListener("wheel", c, vs), document.removeEventListener("touchmove", c, vs), document.removeEventListener("touchstart", d, vs)
            }
    }, []);
    var p = e.removeScrollBar,
        g = e.inert;
    return h.createElement(h.Fragment, null, g ? h.createElement(s, {
        styles: aV(i)
    }) : null, p ? h.createElement(ZU, {
        noRelative: e.noRelative,
        gapMode: e.gapMode
    }) : null)
}

function cV(e) {
    for (var t = null; e !== null;) e instanceof ShadowRoot && (t = e.host, e = e.host), e = e.parentNode;
    return t
}
const uV = FU(N7, lV);
var M7 = h.forwardRef(function(e, t) {
    return h.createElement(Sc, Sr({}, e, {
        ref: t,
        sideCar: uV
    }))
});
M7.classNames = Sc.classNames;
var dV = [" ", "Enter", "ArrowUp", "ArrowDown"],
    fV = [" ", "Enter"],
    Qi = "Select",
    [Cc, kc, hV] = q$(Qi),
    [oa, aY] = v1(Qi, [hV, f7]),
    Ec = f7(),
    [pV, Ti] = oa(Qi),
    [mV, gV] = oa(Qi),
    R7 = e => {
        const {
            __scopeSelect: t,
            children: n,
            open: r,
            defaultOpen: i,
            onOpenChange: s,
            value: a,
            defaultValue: o,
            onValueChange: c,
            dir: u,
            name: d,
            autoComplete: f,
            disabled: m,
            required: p,
            form: g
        } = e, x = Ec(t), [y, b] = h.useState(null), [w, C] = h.useState(null), [E, A] = h.useState(!1), N = Y$(u), [j, z] = y2({
            prop: r,
            defaultProp: i ?? !1,
            onChange: s,
            caller: Qi
        }), [H, R] = y2({
            prop: a,
            defaultProp: o,
            onChange: c,
            caller: Qi
        }), D = h.useRef(null), _ = y ? g || !!y.closest("form") : !0, [O, F] = h.useState(new Set), G = Array.from(O).map(Y => Y.props.value).join(";");
        return l.jsx(pU, {
            ...x,
            children: l.jsxs(pV, {
                required: p,
                scope: t,
                trigger: y,
                onTriggerChange: b,
                valueNode: w,
                onValueNodeChange: C,
                valueNodeHasChildren: E,
                onValueNodeHasChildrenChange: A,
                contentId: b1(),
                value: H,
                onValueChange: R,
                open: j,
                onOpenChange: z,
                dir: N,
                triggerPointerDownPosRef: D,
                disabled: m,
                children: [l.jsx(Cc.Provider, {
                    scope: t,
                    children: l.jsx(mV, {
                        scope: e.__scopeSelect,
                        onNativeOptionAdd: h.useCallback(Y => {
                            F(W => new Set(W).add(Y))
                        }, []),
                        onNativeOptionRemove: h.useCallback(Y => {
                            F(W => {
                                const B = new Set(W);
                                return B.delete(Y), B
                            })
                        }, []),
                        children: n
                    })
                }), _ ? l.jsxs(nb, {
                    "aria-hidden": !0,
                    required: p,
                    tabIndex: -1,
                    name: d,
                    autoComplete: f,
                    value: H,
                    onChange: Y => R(Y.target.value),
                    disabled: m,
                    form: g,
                    children: [H === void 0 ? l.jsx("option", {
                        value: ""
                    }) : null, Array.from(O)]
                }, G) : null]
            })
        })
    };
R7.displayName = Qi;
var O7 = "SelectTrigger",
    P7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            disabled: r = !1,
            ...i
        } = e, s = Ec(n), a = Ti(O7, n), o = a.disabled || r, c = on(t, a.onTriggerChange), u = kc(n), d = h.useRef("touch"), [f, m, p] = ib(x => {
            const y = u().filter(C => !C.disabled),
                b = y.find(C => C.value === a.value),
                w = sb(y, x, b);
            w !== void 0 && a.onValueChange(w.value)
        }), g = x => {
            o || (a.onOpenChange(!0), p()), x && (a.triggerPointerDownPosRef.current = {
                x: Math.round(x.pageX),
                y: Math.round(x.pageY)
            })
        };
        return l.jsx(mU, {
            asChild: !0,
            ...s,
            children: l.jsx(Lt.button, {
                type: "button",
                role: "combobox",
                "aria-controls": a.contentId,
                "aria-expanded": a.open,
                "aria-required": a.required,
                "aria-autocomplete": "none",
                dir: a.dir,
                "data-state": a.open ? "open" : "closed",
                disabled: o,
                "data-disabled": o ? "" : void 0,
                "data-placeholder": rb(a.value) ? "" : void 0,
                ...i,
                ref: c,
                onClick: Ft(i.onClick, x => {
                    x.currentTarget.focus(), d.current !== "mouse" && g(x)
                }),
                onPointerDown: Ft(i.onPointerDown, x => {
                    d.current = x.pointerType;
                    const y = x.target;
                    y.hasPointerCapture(x.pointerId) && y.releasePointerCapture(x.pointerId), x.button === 0 && x.ctrlKey === !1 && x.pointerType === "mouse" && (g(x), x.preventDefault())
                }),
                onKeyDown: Ft(i.onKeyDown, x => {
                    const y = f.current !== "";
                    !(x.ctrlKey || x.altKey || x.metaKey) && x.key.length === 1 && m(x.key), !(y && x.key === " ") && dV.includes(x.key) && (g(), x.preventDefault())
                })
            })
        })
    });
P7.displayName = O7;
var L7 = "SelectValue",
    D7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            className: r,
            style: i,
            children: s,
            placeholder: a = "",
            ...o
        } = e, c = Ti(L7, n), {
            onValueNodeHasChildrenChange: u
        } = c, d = s !== void 0, f = on(t, c.onValueNodeChange);
        return An(() => {
            u(d)
        }, [u, d]), l.jsx(Lt.span, {
            ...o,
            ref: f,
            style: {
                pointerEvents: "none"
            },
            children: rb(c.value) ? l.jsx(l.Fragment, {
                children: a
            }) : s
        })
    });
D7.displayName = L7;
var xV = "SelectIcon",
    _7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            children: r,
            ...i
        } = e;
        return l.jsx(Lt.span, {
            "aria-hidden": !0,
            ...i,
            ref: t,
            children: r || ""
        })
    });
_7.displayName = xV;
var vV = "SelectPortal",
    F7 = e => l.jsx(w7, {
        asChild: !0,
        ...e
    });
F7.displayName = vV;
var Ji = "SelectContent",
    z7 = h.forwardRef((e, t) => {
        const n = Ti(Ji, e.__scopeSelect),
            [r, i] = h.useState();
        if (An(() => {
                i(new DocumentFragment)
            }, []), !n.open) {
            const s = r;
            return s ? an.createPortal(l.jsx(B7, {
                scope: e.__scopeSelect,
                children: l.jsx(Cc.Slot, {
                    scope: e.__scopeSelect,
                    children: l.jsx("div", {
                        children: e.children
                    })
                })
            }), s) : null
        }
        return l.jsx($7, {
            ...e,
            ref: t
        })
    });
z7.displayName = Ji;
var nr = 10,
    [B7, Ii] = oa(Ji),
    bV = "SelectContentImpl",
    yV = Rl("SelectContent.RemoveScroll"),
    $7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            position: r = "item-aligned",
            onCloseAutoFocus: i,
            onEscapeKeyDown: s,
            onPointerDownOutside: a,
            side: o,
            sideOffset: c,
            align: u,
            alignOffset: d,
            arrowPadding: f,
            collisionBoundary: m,
            collisionPadding: p,
            sticky: g,
            hideWhenDetached: x,
            avoidCollisions: y,
            ...b
        } = e, w = Ti(Ji, n), [C, E] = h.useState(null), [A, N] = h.useState(null), j = on(t, J => E(J)), [z, H] = h.useState(null), [R, D] = h.useState(null), _ = kc(n), [O, F] = h.useState(!1), G = h.useRef(!1);
        h.useEffect(() => {
            if (C) return TU(C)
        }, [C]), sH();
        const Y = h.useCallback(J => {
                const [pe, ...de] = _().map(ue => ue.ref.current), [ce] = de.slice(-1), ae = document.activeElement;
                for (const ue of J)
                    if (ue === ae || (ue?.scrollIntoView({
                            block: "nearest"
                        }), ue === pe && A && (A.scrollTop = 0), ue === ce && A && (A.scrollTop = A.scrollHeight), ue?.focus(), document.activeElement !== ae)) return
            }, [_, A]),
            W = h.useCallback(() => Y([z, C]), [Y, z, C]);
        h.useEffect(() => {
            O && W()
        }, [O, W]);
        const {
            onOpenChange: B,
            triggerPointerDownPosRef: U
        } = w;
        h.useEffect(() => {
            if (C) {
                let J = {
                    x: 0,
                    y: 0
                };
                const pe = ce => {
                        J = {
                            x: Math.abs(Math.round(ce.pageX) - (U.current?.x ?? 0)),
                            y: Math.abs(Math.round(ce.pageY) - (U.current?.y ?? 0))
                        }
                    },
                    de = ce => {
                        J.x <= 10 && J.y <= 10 ? ce.preventDefault() : C.contains(ce.target) || B(!1), document.removeEventListener("pointermove", pe), U.current = null
                    };
                return U.current !== null && (document.addEventListener("pointermove", pe), document.addEventListener("pointerup", de, {
                    capture: !0,
                    once: !0
                })), () => {
                    document.removeEventListener("pointermove", pe), document.removeEventListener("pointerup", de, {
                        capture: !0
                    })
                }
            }
        }, [C, B, U]), h.useEffect(() => {
            const J = () => B(!1);
            return window.addEventListener("blur", J), window.addEventListener("resize", J), () => {
                window.removeEventListener("blur", J), window.removeEventListener("resize", J)
            }
        }, [B]);
        const [I, fe] = ib(J => {
            const pe = _().filter(ae => !ae.disabled),
                de = pe.find(ae => ae.ref.current === document.activeElement),
                ce = sb(pe, J, de);
            ce && setTimeout(() => ce.ref.current.focus())
        }), re = h.useCallback((J, pe, de) => {
            const ce = !G.current && !de;
            (w.value !== void 0 && w.value === pe || ce) && (H(J), ce && (G.current = !0))
        }, [w.value]), M = h.useCallback(() => C?.focus(), [C]), ye = h.useCallback((J, pe, de) => {
            const ce = !G.current && !de;
            (w.value !== void 0 && w.value === pe || ce) && D(J)
        }, [w.value]), Oe = r === "popper" ? Z0 : H7, K = Oe === Z0 ? {
            side: o,
            sideOffset: c,
            align: u,
            alignOffset: d,
            arrowPadding: f,
            collisionBoundary: m,
            collisionPadding: p,
            sticky: g,
            hideWhenDetached: x,
            avoidCollisions: y
        } : {};
        return l.jsx(B7, {
            scope: n,
            content: C,
            viewport: A,
            onViewportChange: N,
            itemRefCallback: re,
            selectedItem: z,
            onItemLeave: M,
            itemTextRefCallback: ye,
            focusSelectedItem: W,
            selectedItemText: R,
            position: r,
            isPositioned: O,
            searchRef: I,
            children: l.jsx(M7, {
                as: yV,
                allowPinchZoom: !0,
                children: l.jsx(e7, {
                    asChild: !0,
                    trapped: w.open,
                    onMountAutoFocus: J => {
                        J.preventDefault()
                    },
                    onUnmountAutoFocus: Ft(i, J => {
                        w.trigger?.focus({
                            preventScroll: !0
                        }), J.preventDefault()
                    }),
                    children: l.jsx(Qv, {
                        asChild: !0,
                        disableOutsidePointerEvents: !0,
                        onEscapeKeyDown: s,
                        onPointerDownOutside: a,
                        onFocusOutside: J => J.preventDefault(),
                        onDismiss: () => w.onOpenChange(!1),
                        children: l.jsx(Oe, {
                            role: "listbox",
                            id: w.contentId,
                            "data-state": w.open ? "open" : "closed",
                            dir: w.dir,
                            onContextMenu: J => J.preventDefault(),
                            ...b,
                            ...K,
                            onPlaced: () => F(!0),
                            ref: j,
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                outline: "none",
                                ...b.style
                            },
                            onKeyDown: Ft(b.onKeyDown, J => {
                                const pe = J.ctrlKey || J.altKey || J.metaKey;
                                if (J.key === "Tab" && J.preventDefault(), !pe && J.key.length === 1 && fe(J.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(J.key)) {
                                    let ce = _().filter(ae => !ae.disabled).map(ae => ae.ref.current);
                                    if (["ArrowUp", "End"].includes(J.key) && (ce = ce.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(J.key)) {
                                        const ae = J.target,
                                            ue = ce.indexOf(ae);
                                        ce = ce.slice(ue + 1)
                                    }
                                    setTimeout(() => Y(ce)), J.preventDefault()
                                }
                            })
                        })
                    })
                })
            })
        })
    });
$7.displayName = bV;
var wV = "SelectItemAlignedPosition",
    H7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            onPlaced: r,
            ...i
        } = e, s = Ti(Ji, n), a = Ii(Ji, n), [o, c] = h.useState(null), [u, d] = h.useState(null), f = on(t, j => d(j)), m = kc(n), p = h.useRef(!1), g = h.useRef(!0), {
            viewport: x,
            selectedItem: y,
            selectedItemText: b,
            focusSelectedItem: w
        } = a, C = h.useCallback(() => {
            if (s.trigger && s.valueNode && o && u && x && y && b) {
                const j = s.trigger.getBoundingClientRect(),
                    z = u.getBoundingClientRect(),
                    H = s.valueNode.getBoundingClientRect(),
                    R = b.getBoundingClientRect();
                if (s.dir !== "rtl") {
                    const ae = R.left - z.left,
                        ue = H.left - ae,
                        Ce = j.left - ue,
                        je = j.width + Ce,
                        Te = Math.max(je, z.width),
                        ve = window.innerWidth - nr,
                        Pe = i2(ue, [nr, Math.max(nr, ve - Te)]);
                    o.style.minWidth = je + "px", o.style.left = Pe + "px"
                } else {
                    const ae = z.right - R.right,
                        ue = window.innerWidth - H.right - ae,
                        Ce = window.innerWidth - j.right - ue,
                        je = j.width + Ce,
                        Te = Math.max(je, z.width),
                        ve = window.innerWidth - nr,
                        Pe = i2(ue, [nr, Math.max(nr, ve - Te)]);
                    o.style.minWidth = je + "px", o.style.right = Pe + "px"
                }
                const D = m(),
                    _ = window.innerHeight - nr * 2,
                    O = x.scrollHeight,
                    F = window.getComputedStyle(u),
                    G = parseInt(F.borderTopWidth, 10),
                    Y = parseInt(F.paddingTop, 10),
                    W = parseInt(F.borderBottomWidth, 10),
                    B = parseInt(F.paddingBottom, 10),
                    U = G + Y + O + B + W,
                    I = Math.min(y.offsetHeight * 5, U),
                    fe = window.getComputedStyle(x),
                    re = parseInt(fe.paddingTop, 10),
                    M = parseInt(fe.paddingBottom, 10),
                    ye = j.top + j.height / 2 - nr,
                    Oe = _ - ye,
                    K = y.offsetHeight / 2,
                    J = y.offsetTop + K,
                    pe = G + Y + J,
                    de = U - pe;
                if (pe <= ye) {
                    const ae = D.length > 0 && y === D[D.length - 1].ref.current;
                    o.style.bottom = "0px";
                    const ue = u.clientHeight - x.offsetTop - x.offsetHeight,
                        Ce = Math.max(Oe, K + (ae ? M : 0) + ue + W),
                        je = pe + Ce;
                    o.style.height = je + "px"
                } else {
                    const ae = D.length > 0 && y === D[0].ref.current;
                    o.style.top = "0px";
                    const Ce = Math.max(ye, G + x.offsetTop + (ae ? re : 0) + K) + de;
                    o.style.height = Ce + "px", x.scrollTop = pe - ye + x.offsetTop
                }
                o.style.margin = `${nr}px 0`, o.style.minHeight = I + "px", o.style.maxHeight = _ + "px", r?.(), requestAnimationFrame(() => p.current = !0)
            }
        }, [m, s.trigger, s.valueNode, o, u, x, y, b, s.dir, r]);
        An(() => C(), [C]);
        const [E, A] = h.useState();
        An(() => {
            u && A(window.getComputedStyle(u).zIndex)
        }, [u]);
        const N = h.useCallback(j => {
            j && g.current === !0 && (C(), w?.(), g.current = !1)
        }, [C, w]);
        return l.jsx(CV, {
            scope: n,
            contentWrapper: o,
            shouldExpandOnScrollRef: p,
            onScrollButtonChange: N,
            children: l.jsx("div", {
                ref: c,
                style: {
                    display: "flex",
                    flexDirection: "column",
                    position: "fixed",
                    zIndex: E
                },
                children: l.jsx(Lt.div, {
                    ...i,
                    ref: f,
                    style: {
                        boxSizing: "border-box",
                        maxHeight: "100%",
                        ...i.style
                    }
                })
            })
        })
    });
H7.displayName = wV;
var SV = "SelectPopperPosition",
    Z0 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            align: r = "start",
            collisionPadding: i = nr,
            ...s
        } = e, a = Ec(n);
        return l.jsx(gU, {
            ...a,
            ...s,
            ref: t,
            align: r,
            collisionPadding: i,
            style: {
                boxSizing: "border-box",
                ...s.style,
                "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-select-content-available-width": "var(--radix-popper-available-width)",
                "--radix-select-content-available-height": "var(--radix-popper-available-height)",
                "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
            }
        })
    });
Z0.displayName = SV;
var [CV, k1] = oa(Ji, {}), Q0 = "SelectViewport", U7 = h.forwardRef((e, t) => {
    const {
        __scopeSelect: n,
        nonce: r,
        ...i
    } = e, s = Ii(Q0, n), a = k1(Q0, n), o = on(t, s.onViewportChange), c = h.useRef(0);
    return l.jsxs(l.Fragment, {
        children: [l.jsx("style", {
            dangerouslySetInnerHTML: {
                __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
            },
            nonce: r
        }), l.jsx(Cc.Slot, {
            scope: n,
            children: l.jsx(Lt.div, {
                "data-radix-select-viewport": "",
                role: "presentation",
                ...i,
                ref: o,
                style: {
                    position: "relative",
                    flex: 1,
                    overflow: "hidden auto",
                    ...i.style
                },
                onScroll: Ft(i.onScroll, u => {
                    const d = u.currentTarget,
                        {
                            contentWrapper: f,
                            shouldExpandOnScrollRef: m
                        } = a;
                    if (m?.current && f) {
                        const p = Math.abs(c.current - d.scrollTop);
                        if (p > 0) {
                            const g = window.innerHeight - nr * 2,
                                x = parseFloat(f.style.minHeight),
                                y = parseFloat(f.style.height),
                                b = Math.max(x, y);
                            if (b < g) {
                                const w = b + p,
                                    C = Math.min(g, w),
                                    E = w - C;
                                f.style.height = C + "px", f.style.bottom === "0px" && (d.scrollTop = E > 0 ? E : 0, f.style.justifyContent = "flex-end")
                            }
                        }
                    }
                    c.current = d.scrollTop
                })
            })
        })]
    })
});
U7.displayName = Q0;
var V7 = "SelectGroup",
    [kV, EV] = oa(V7),
    W7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            ...r
        } = e, i = b1();
        return l.jsx(kV, {
            scope: n,
            id: i,
            children: l.jsx(Lt.div, {
                role: "group",
                "aria-labelledby": i,
                ...r,
                ref: t
            })
        })
    });
W7.displayName = V7;
var q7 = "SelectLabel",
    G7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            ...r
        } = e, i = EV(q7, n);
        return l.jsx(Lt.div, {
            id: i.id,
            ...r,
            ref: t
        })
    });
G7.displayName = q7;
var Pl = "SelectItem",
    [NV, Y7] = oa(Pl),
    K7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            value: r,
            disabled: i = !1,
            textValue: s,
            ...a
        } = e, o = Ti(Pl, n), c = Ii(Pl, n), u = o.value === r, [d, f] = h.useState(s ?? ""), [m, p] = h.useState(!1), g = on(t, w => c.itemRefCallback?.(w, r, i)), x = b1(), y = h.useRef("touch"), b = () => {
            i || (o.onValueChange(r), o.onOpenChange(!1))
        };
        if (r === "") throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");
        return l.jsx(NV, {
            scope: n,
            value: r,
            disabled: i,
            textId: x,
            isSelected: u,
            onItemTextChange: h.useCallback(w => {
                f(C => C || (w?.textContent ?? "").trim())
            }, []),
            children: l.jsx(Cc.ItemSlot, {
                scope: n,
                value: r,
                disabled: i,
                textValue: d,
                children: l.jsx(Lt.div, {
                    role: "option",
                    "aria-labelledby": x,
                    "data-highlighted": m ? "" : void 0,
                    "aria-selected": u && m,
                    "data-state": u ? "checked" : "unchecked",
                    "aria-disabled": i || void 0,
                    "data-disabled": i ? "" : void 0,
                    tabIndex: i ? void 0 : -1,
                    ...a,
                    ref: g,
                    onFocus: Ft(a.onFocus, () => p(!0)),
                    onBlur: Ft(a.onBlur, () => p(!1)),
                    onClick: Ft(a.onClick, () => {
                        y.current !== "mouse" && b()
                    }),
                    onPointerUp: Ft(a.onPointerUp, () => {
                        y.current === "mouse" && b()
                    }),
                    onPointerDown: Ft(a.onPointerDown, w => {
                        y.current = w.pointerType
                    }),
                    onPointerMove: Ft(a.onPointerMove, w => {
                        y.current = w.pointerType, i ? c.onItemLeave?.() : y.current === "mouse" && w.currentTarget.focus({
                            preventScroll: !0
                        })
                    }),
                    onPointerLeave: Ft(a.onPointerLeave, w => {
                        w.currentTarget === document.activeElement && c.onItemLeave?.()
                    }),
                    onKeyDown: Ft(a.onKeyDown, w => {
                        c.searchRef?.current !== "" && w.key === " " || (fV.includes(w.key) && b(), w.key === " " && w.preventDefault())
                    })
                })
            })
        })
    });
K7.displayName = Pl;
var wa = "SelectItemText",
    X7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            className: r,
            style: i,
            ...s
        } = e, a = Ti(wa, n), o = Ii(wa, n), c = Y7(wa, n), u = gV(wa, n), [d, f] = h.useState(null), m = on(t, b => f(b), c.onItemTextChange, b => o.itemTextRefCallback?.(b, c.value, c.disabled)), p = d?.textContent, g = h.useMemo(() => l.jsx("option", {
            value: c.value,
            disabled: c.disabled,
            children: p
        }, c.value), [c.disabled, c.value, p]), {
            onNativeOptionAdd: x,
            onNativeOptionRemove: y
        } = u;
        return An(() => (x(g), () => y(g)), [x, y, g]), l.jsxs(l.Fragment, {
            children: [l.jsx(Lt.span, {
                id: c.textId,
                ...s,
                ref: m
            }), c.isSelected && a.valueNode && !a.valueNodeHasChildren ? an.createPortal(s.children, a.valueNode) : null]
        })
    });
X7.displayName = wa;
var Z7 = "SelectItemIndicator",
    Q7 = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            ...r
        } = e;
        return Y7(Z7, n).isSelected ? l.jsx(Lt.span, {
            "aria-hidden": !0,
            ...r,
            ref: t
        }) : null
    });
Q7.displayName = Z7;
var J0 = "SelectScrollUpButton",
    J7 = h.forwardRef((e, t) => {
        const n = Ii(J0, e.__scopeSelect),
            r = k1(J0, e.__scopeSelect),
            [i, s] = h.useState(!1),
            a = on(t, r.onScrollButtonChange);
        return An(() => {
            if (n.viewport && n.isPositioned) {
                let o = function() {
                    const u = c.scrollTop > 0;
                    s(u)
                };
                const c = n.viewport;
                return o(), c.addEventListener("scroll", o), () => c.removeEventListener("scroll", o)
            }
        }, [n.viewport, n.isPositioned]), i ? l.jsx(eb, {
            ...e,
            ref: a,
            onAutoScroll: () => {
                const {
                    viewport: o,
                    selectedItem: c
                } = n;
                o && c && (o.scrollTop = o.scrollTop - c.offsetHeight)
            }
        }) : null
    });
J7.displayName = J0;
var ed = "SelectScrollDownButton",
    AV = h.forwardRef((e, t) => {
        const n = Ii(ed, e.__scopeSelect),
            r = k1(ed, e.__scopeSelect),
            [i, s] = h.useState(!1),
            a = on(t, r.onScrollButtonChange);
        return An(() => {
            if (n.viewport && n.isPositioned) {
                let o = function() {
                    const u = c.scrollHeight - c.clientHeight,
                        d = Math.ceil(c.scrollTop) < u;
                    s(d)
                };
                const c = n.viewport;
                return o(), c.addEventListener("scroll", o), () => c.removeEventListener("scroll", o)
            }
        }, [n.viewport, n.isPositioned]), i ? l.jsx(eb, {
            ...e,
            ref: a,
            onAutoScroll: () => {
                const {
                    viewport: o,
                    selectedItem: c
                } = n;
                o && c && (o.scrollTop = o.scrollTop + c.offsetHeight)
            }
        }) : null
    });
AV.displayName = ed;
var eb = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            onAutoScroll: r,
            ...i
        } = e, s = Ii("SelectScrollButton", n), a = h.useRef(null), o = kc(n), c = h.useCallback(() => {
            a.current !== null && (window.clearInterval(a.current), a.current = null)
        }, []);
        return h.useEffect(() => () => c(), [c]), An(() => {
            o().find(d => d.ref.current === document.activeElement)?.ref.current?.scrollIntoView({
                block: "nearest"
            })
        }, [o]), l.jsx(Lt.div, {
            "aria-hidden": !0,
            ...i,
            ref: t,
            style: {
                flexShrink: 0,
                ...i.style
            },
            onPointerDown: Ft(i.onPointerDown, () => {
                a.current === null && (a.current = window.setInterval(r, 50))
            }),
            onPointerMove: Ft(i.onPointerMove, () => {
                s.onItemLeave?.(), a.current === null && (a.current = window.setInterval(r, 50))
            }),
            onPointerLeave: Ft(i.onPointerLeave, () => {
                c()
            })
        })
    }),
    TV = "SelectSeparator",
    tb = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            ...r
        } = e;
        return l.jsx(Lt.div, {
            "aria-hidden": !0,
            ...r,
            ref: t
        })
    });
tb.displayName = TV;
var td = "SelectArrow",
    IV = h.forwardRef((e, t) => {
        const {
            __scopeSelect: n,
            ...r
        } = e, i = Ec(n), s = Ti(td, n), a = Ii(td, n);
        return s.open && a.position === "popper" ? l.jsx(xU, {
            ...i,
            ...r,
            ref: t
        }) : null
    });
IV.displayName = td;
var jV = "SelectBubbleInput",
    nb = h.forwardRef(({
        __scopeSelect: e,
        value: t,
        ...n
    }, r) => {
        const i = h.useRef(null),
            s = on(r, i),
            a = SU(t);
        return h.useEffect(() => {
            const o = i.current;
            if (!o) return;
            const c = window.HTMLSelectElement.prototype,
                d = Object.getOwnPropertyDescriptor(c, "value").set;
            if (a !== t && d) {
                const f = new Event("change", {
                    bubbles: !0
                });
                d.call(o, t), o.dispatchEvent(f)
            }
        }, [a, t]), l.jsx(Lt.select, {
            ...n,
            style: {
                ...S7,
                ...n.style
            },
            ref: s,
            defaultValue: t
        })
    });
nb.displayName = jV;

function rb(e) {
    return e === "" || e === void 0
}

function ib(e) {
    const t = Xi(e),
        n = h.useRef(""),
        r = h.useRef(0),
        i = h.useCallback(a => {
            const o = n.current + a;
            t(o),
                function c(u) {
                    n.current = u, window.clearTimeout(r.current), u !== "" && (r.current = window.setTimeout(() => c(""), 1e3))
                }(o)
        }, [t]),
        s = h.useCallback(() => {
            n.current = "", window.clearTimeout(r.current)
        }, []);
    return h.useEffect(() => () => window.clearTimeout(r.current), []), [n, i, s]
}

function sb(e, t, n) {
    const i = t.length > 1 && Array.from(t).every(u => u === t[0]) ? t[0] : t,
        s = n ? e.indexOf(n) : -1;
    let a = MV(e, Math.max(s, 0));
    i.length === 1 && (a = a.filter(u => u !== n));
    const c = a.find(u => u.textValue.toLowerCase().startsWith(i.toLowerCase()));
    return c !== n ? c : void 0
}

function MV(e, t) {
    return e.map((n, r) => e[(t + r) % e.length])
}
var RV = R7,
    OV = P7,
    PV = D7,
    LV = _7,
    DV = F7,
    _V = z7,
    FV = U7,
    zV = W7,
    BV = G7,
    $V = K7,
    HV = X7,
    UV = Q7,
    VV = J7,
    WV = tb;

function qV({
    ...e
}) {
    return l.jsx(RV, {
        "data-slot": "select",
        ...e
    })
}

function GV({
    ...e
}) {
    return l.jsx(zV, {
        "data-slot": "select-group",
        ...e
    })
}

function YV({
    ...e
}) {
    return l.jsx(PV, {
        "data-slot": "select-value",
        ...e
    })
}

function KV({
    className: e,
    size: t = "default",
    children: n,
    ...r
}) {
    return l.jsxs(OV, {
        "data-slot": "select-trigger",
        "data-size": t,
        className: Q("shadow-pane-action flex gap-2 items-center justify-between border-[0.5px] border-[#9B9B9B]/40 hover:bg-surface-action-hover bg-surface-action py-1.5 pl-2 pr-1 text-primary-foreground rounded-lg text-xs focus:outline-none w-full max-w-[150px]", e),
        ...r,
        children: [n, l.jsx(LV, {
            asChild: !0,
            children: l.jsx(Za, {
                className: "size-4 opacity-50 shrink-0"
            })
        })]
    })
}

function XV({
    className: e,
    children: t,
    position: n = "popper",
    ...r
}) {
    const i = document.getElementById("radix-portal-root");
    return l.jsx(DV, {
        container: i,
        children: l.jsxs(_V, {
            "data-slot": "select-content",
            className: Q("shadow-pane-action border-[0.5px] border-[#9B9B9B]/40 bg-shade-2 rounded-xl text-xs focus:outline-none mt-1 z-50 overflow-hidden relative", n === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", e),
            position: n,
            ...r,
            children: [l.jsx(JV, {}), l.jsx(FV, {
                className: Q("p-1", n === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),
                children: l.jsx(sn, {
                    children: t
                })
            })]
        })
    })
}

function ZV({
    className: e,
    ...t
}) {
    return l.jsx(BV, {
        "data-slot": "select-label",
        className: Q("text-muted-foreground font-medium px-1 pt-1 pb-1.5 mb-1 text-[11px] border-b border-shade-7", e),
        ...t
    })
}

function N2({
    className: e,
    children: t,
    ...n
}) {
    return l.jsxs($V, {
        "data-slot": "select-item",
        className: Q("px-1 py-1.5 rounded-lg border-[0.5px] border-transparent hover:border-shade-7 hover:text-primary-foreground gap-2 text-foreground hover:bg-surface-action-hover data-focus:bg-surface-action-hover cursor-pointer flex items-center justify-between w-full focus-visible:outline-none", e),
        ...n,
        children: [l.jsx(HV, {
            children: t
        }), l.jsx("span", {
            className: "flex size-3.5 items-center justify-center",
            children: l.jsx(UV, {
                children: l.jsx(Xa, {
                    className: "size-3.5"
                })
            })
        })]
    })
}

function QV({
    className: e,
    ...t
}) {
    return l.jsx(WV, {
        "data-slot": "select-separator",
        className: Q("bg-border pointer-events-none -mx-1 my-1 h-px", e),
        ...t
    })
}

function JV({
    className: e,
    ...t
}) {
    return l.jsx(VV, {
        "data-slot": "select-scroll-up-button",
        className: Q("flex cursor-default items-center justify-center py-1 bg-gradient-to-b from-shade-2 to-transparent text-muted-foreground absolute top-0 left-0 right-0 z-50", e),
        ...t,
        children: l.jsx(hg, {
            className: "size-4"
        })
    })
}

function eW() {
    const {
        contextService: e
    } = ke(), {
        audioSession: t
    } = e, n = Ei(), {
        userInstructionsQuery: r,
        setDefaultMutation: i
    } = Zs(!0, () => {
        t?.refreshInstructionActionables()
    });
    return l.jsx(Ke, {
        initial: !1,
        children: r.isSuccess && l.jsx(V.div, {
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            exit: {
                opacity: 0
            },
            transition: {
                duration: .1,
                ease: "easeOut"
            },
            children: l.jsxs(qV, {
                value: r.data?.activeInstructionId,
                onValueChange: s => {
                    s === "create-mode" ? (n(!0), be("set-dashboard-state", {
                        state: {
                            page: "view",
                            modal: "personalize"
                        }
                    })) : i.mutate(s)
                },
                children: [l.jsx(KV, {
                    className: "truncate [&>span]:truncate rounded-full",
                    children: l.jsx(YV, {})
                }), l.jsxs(XV, {
                    children: [l.jsxs(GV, {
                        children: [l.jsx(ZV, {
                            children: "Your Modes"
                        }), r.data?.instructions.map(s => l.jsx(N2, {
                            value: s.id,
                            children: s.displayName
                        }, s.id))]
                    }), l.jsx(QV, {}), l.jsx(N2, {
                        value: "create-mode",
                        children: l.jsxs("div", {
                            className: "flex items-center gap-1 text-primary-foreground",
                            children: [l.jsx(Q8, {
                                className: "size-3.5"
                            }), "Create Mode"]
                        })
                    })]
                })]
            })
        })
    })
}

function tW({
    title: e,
    titleId: t,
    ...n
}, r) {
    return h.createElement("svg", Object.assign({
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 16 16",
        fill: "currentColor",
        "aria-hidden": "true",
        "data-slot": "icon",
        ref: r,
        "aria-labelledby": t
    }, n), e ? h.createElement("title", {
        id: t
    }, e) : null, h.createElement("path", {
        fillRule: "evenodd",
        d: "M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1Zm-.75 10.25a.75.75 0 0 0 1.5 0V6.56l1.22 1.22a.75.75 0 1 0 1.06-1.06l-2.5-2.5a.75.75 0 0 0-1.06 0l-2.5 2.5a.75.75 0 0 0 1.06 1.06l1.22-1.22v4.69Z",
        clipRule: "evenodd"
    }))
}
const nW = h.forwardRef(tW);

function rW({
    title: e,
    titleId: t,
    ...n
}, r) {
    return h.createElement("svg", Object.assign({
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 16 16",
        fill: "currentColor",
        "aria-hidden": "true",
        "data-slot": "icon",
        ref: r,
        "aria-labelledby": t
    }, n), e ? h.createElement("title", {
        id: t
    }, e) : null, h.createElement("path", {
        fillRule: "evenodd",
        d: "M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",
        clipRule: "evenodd"
    }))
}
const iW = h.forwardRef(rW);

function sW({
    title: e,
    titleId: t,
    ...n
}, r) {
    return h.createElement("svg", Object.assign({
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 16 16",
        fill: "currentColor",
        "aria-hidden": "true",
        "data-slot": "icon",
        ref: r,
        "aria-labelledby": t
    }, n), e ? h.createElement("title", {
        id: t
    }, e) : null, h.createElement("path", {
        fillRule: "evenodd",
        d: "M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z",
        clipRule: "evenodd"
    }))
}
const aW = h.forwardRef(sW);

function oW({
    title: e,
    titleId: t,
    ...n
}, r) {
    return h.createElement("svg", Object.assign({
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 16 16",
        fill: "currentColor",
        "aria-hidden": "true",
        "data-slot": "icon",
        ref: r,
        "aria-labelledby": t
    }, n), e ? h.createElement("title", {
        id: t
    }, e) : null, h.createElement("path", {
        fillRule: "evenodd",
        d: "M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 3.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7.293 5.293a1 1 0 1 1 .99 1.667c-.459.134-1.033.566-1.033 1.29v.25a.75.75 0 1 0 1.5 0v-.115a2.5 2.5 0 1 0-2.518-4.153.75.75 0 1 0 1.061 1.06Z",
        clipRule: "evenodd"
    }))
}
const lW = h.forwardRef(oW);

function cW(e) {
    return Yt({
        attr: {
            fill: "currentColor",
            viewBox: "0 0 16 16"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z"
            },
            child: []
        }]
    })(e)
}

function uW(e) {
    return Yt({
        attr: {
            fill: "currentColor",
            viewBox: "0 0 16 16"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5m5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5"
            },
            child: []
        }]
    })(e)
}

function dW(e) {
    return Yt({
        attr: {
            fill: "currentColor",
            viewBox: "0 0 16 16"
        },
        child: [{
            tag: "path",
            attr: {
                d: "m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"
            },
            child: []
        }]
    })(e)
}

function ab(e) {
    return Yt({
        attr: {
            fill: "currentColor",
            viewBox: "0 0 16 16"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5"
            },
            child: []
        }]
    })(e)
}

function fW({
    audioState: e
}) {
    return l.jsx("div", {
        className: "flex items-center gap-1",
        children: e.state === "loading" ? l.jsx(gW, {
            state: e
        }) : e.state === "error" ? l.jsx(xW, {
            state: e
        }) : e.state !== "off" ? l.jsxs("div", {
            className: "flex items-center rounded-full w-fit",
            children: [l.jsx(hW, {
                state: e
            }), l.jsx("div", {
                className: "h-[26px] w-[1px] bg-white/[0.17]"
            }), l.jsx(mW, {
                state: e
            })]
        }) : l.jsx(pW, {
            state: e
        })
    })
}

function hW({
    state: e
}) {
    return l.jsx(X.HeadlessButton, {
        className: Q("size-7 text-white hover:![transform:scale(1)] group flex justify-center rounded-l-full secondary-button items-center p-[6px] pr-[6px] pl-[8px]"),
        onClick: () => {
            e.state === "paused" ? (e.resumeAction(), vn.capture(ge.RESUME_RECORDING_CLICKED)) : e.state === "on" && (e.pauseAction(), vn.capture(ge.PAUSE_RECORDING_CLICKED))
        },
        children: e.state === "paused" ? l.jsx(dW, {
            className: "size-full group-hover:scale-[115%] origin-[25%_50%] transition-transform duration-150 ease-out"
        }) : l.jsx(uW, {
            className: "size-full group-hover:scale-[115%] origin-[25%_50%] transition-transform duration-150 ease-out"
        })
    })
}

function pW({
    state: e
}) {
    return l.jsx(X.HeadlessButton, {
        onClick: () => {
            e.state === "off" && (e.startAction(), vn.capture(ge.START_RECORDING_CLICKED))
        },
        className: "h-7 text-xs text-white group flex justify-center rounded-full primary-button items-center p-1 px-2",
        children: "Start Listening"
    })
}

function mW({
    state: e
}) {
    return l.jsx(X.HeadlessButton, {
        className: Q("size-7 text-white hover:![transform:scale(1)] group flex justify-center rounded-r-full secondary-button items-center p-[6px] pl-[6px] pr-[8px]"),
        onClick: () => {
            e.stopAction(), vn.capture(ge.STOP_RECORDING_CLICKED)
        },
        children: l.jsx(ab, {
            className: "size-full group-hover:scale-[115%] origin-[75%_50%] transition-transform duration-150 ease-out"
        })
    })
}

function gW({
    state: e
}) {
    return l.jsxs("div", {
        className: "flex items-center rounded-full w-fit",
        children: [l.jsx("div", {
            className: Q("size-7 text-white group flex justify-center rounded-l-full secondary-button disabled items-center p-[6px] pr-[6px] pl-[8px]"),
            children: l.jsx(G8, {
                className: "size-full animate-spin"
            })
        }), l.jsx("div", {
            className: "h-[26px] w-[1px] bg-white/[0.17]"
        }), l.jsx(X.HeadlessButton, {
            className: Q("size-7 text-white hover:![transform:scale(1)] group flex justify-center rounded-r-full secondary-button items-center p-[6px] pl-[6px] pr-[8px]"),
            onClick: () => {
                e.state === "loading" && e.stopAction()
            },
            children: l.jsx(ab, {
                className: "size-full group-hover:scale-[115%] origin-[75%_50%] transition-transform duration-150 ease-out"
            })
        })]
    })
}

function xW({
    state: e
}) {
    return l.jsxs(l.Fragment, {
        children: [l.jsx(X.Tooltip, {
            tooltipContent: l.jsxs(l.Fragment, {
                children: [e.error.message, l.jsx("span", {
                    className: "text-white/50",
                    children: " Click to retry."
                })]
            }),
            children: l.jsxs(X.HeadlessButton, {
                className: "h-7 px-2 flex items-center justify-center gap-1 rounded-full bg-[#bb3232] hover:bg-red-600 active:bg-red-700",
                onClick: e.retryAction,
                children: [l.jsx(iW, {
                    className: "size-3.5 text-white"
                }), l.jsx("p", {
                    className: "text-xs text-white",
                    children: "Failed to listen"
                })]
            })
        }), l.jsx(px, {
            error: e.error,
            onRetry: e.retryAction,
            onStop: e.stopAction
        })]
    })
}
const Gu = 0,
    Yu = 32,
    A2 = 100,
    T2 = 100,
    ys = {
        type: "spring",
        damping: 30,
        stiffness: 300
    },
    ob = h.createContext(void 0);

function lb() {
    const e = h.useContext(ob);
    if (e === void 0) throw new Error("useWindowPosition must be used within a WindowPositionProvider");
    return e
}

function vW({
    insightsContentRef: e,
    children: t
}) {
    const n = Nn(yW() ?? Gu),
        r = Nn(wW() ?? Yu),
        i = ug(),
        [s, a] = h.useState(!1);
    bW(e, i, s, n, r);
    const o = p => {
            const g = d();
            if (!g) return p;
            const {
                minY: x,
                maxY: y
            } = g;
            return p < x ? x : p > y ? y : p
        },
        c = p => {
            const g = d();
            if (!g) return p;
            const {
                minX: x,
                maxX: y
            } = g;
            return p < x ? x : p > y ? y : p
        },
        u = fn();
    xt(u.move_window_down, () => {
        Se(r, o(r.get() + T2), ys)
    }), xt(u.move_window_up, () => {
        Se(r, o(r.get() - T2), ys)
    }), xt(u.move_window_left, () => {
        Se(n, c(n.get() - A2), ys)
    }), xt(u.move_window_right, () => {
        Se(n, c(n.get() + A2), ys)
    });
    const d = h.useCallback(() => {
            const p = e.current;
            if (!p) return null;
            const g = window.innerWidth - p.clientWidth,
                x = -(g / 2),
                y = g / 2,
                b = window.innerHeight - p.clientHeight,
                w = 0,
                C = b - (or ? 0 : 25);
            return {
                minX: x,
                minY: w,
                maxX: y,
                maxY: C
            }
        }, [e]),
        f = h.useCallback(() => {
            const p = d();
            if (!p) return;
            const {
                minX: g,
                maxX: x,
                minY: y,
                maxY: b
            } = p;
            n.get() < g ? n.set(g) : n.get() > x && n.set(x), r.get() < y ? r.set(y) : r.get() > b && r.set(b), Ku(n.get(), r.get())
        }, [n, r, d]);
    h.useEffect(() => {
        if (s) return;
        const p = e.current;
        if (!p) return;
        const g = new ResizeObserver(f);
        return g.observe(p), window.addEventListener("resize", f), () => {
            g.disconnect(), window.removeEventListener("resize", f)
        }
    }, [e, f, s]), h.useEffect(() => {
        if (s) {
            const p = () => f();
            return window.addEventListener("mouseup", p), () => window.removeEventListener("mouseup", p)
        }
    }, [s, f]);
    const m = h.useMemo(() => ({
        x: n,
        y: r,
        setPosition: (p, g) => {
            n.set(p), r.set(g)
        },
        tweenToPosition: (p, g, x = ys) => {
            Se(n, p, x), Se(r, g, x), Ku(p, g)
        },
        tweenToInitialPosition: (p = ys) => {
            Se(n, Gu, p), Se(r, Yu, p), Ku(Gu, Yu)
        },
        handleDragStart: () => {
            a(!0)
        },
        handleDragEnd: () => {
            a(!1)
        },
        dragControls: i
    }), [n, r, i]);
    return l.jsx(ob.Provider, {
        value: m,
        children: t
    })
}

function bW(e, t, n, r = Nn(0), i = Nn(0)) {
    h.useEffect(() => {
        if (!n) return;
        const s = e.current;
        if (!s) return;
        const a = async () => {
            const {
                postMoveInfo: u
            } = await Xn("move-window-to-display-containing-cursor", null);
            if (u) {
                const d = new PointerEvent("pointerdown", {
                    isPrimary: !0,
                    clientX: u.windowCursorX,
                    clientY: u.windowCursorY
                });
                t.stop(), r.set(u.windowCursorX - window.innerWidth / 2), i.set(u.windowCursorY), t.start(d, {
                    distanceThreshold: 0
                })
            }
        };
        let o = !0;
        return (async () => {
            do {
                await Xn("is-cursor-outside-target-display", null) && (s.style.opacity = "0");
                try {
                    await a()
                } finally {
                    setTimeout(() => {
                        s.style.opacity = "1"
                    }, 50)
                }
                await new Promise(d => setTimeout(d, 100))
            } while (o)
        })(), () => {
            o = !1
        }
    }, [e, t, n, r, i])
}

function yW() {
    const e = localStorage.getItem(Hs.APP_X);
    return e ? Number(e) : null
}

function wW() {
    const e = localStorage.getItem(Hs.APP_Y);
    return e ? Number(e) : null
}

function Ku(e, t) {
    localStorage.setItem(Hs.APP_X, e.toString()), localStorage.setItem(Hs.APP_Y, t.toString())
}
const SW = se(function() {
    const t = m1(),
        {
            tweenToInitialPosition: n,
            dragControls: r
        } = lb(),
        {
            aiResponsesService: i
        } = ke(),
        s = Gt(wf);
    return h.useEffect(() => {
        s && i.clearCurrentConversation()
    }, [s, i]), l.jsxs(sn, {
        className: "flex items-center gap-2.5",
        children: [l.jsx("div", {
            className: "size-7 shrink-0"
        }), l.jsxs("div", {
            className: "shadow-pane w-fit bg-surface-opaque rounded-full flex items-center p-1.5 gap-1",
            children: [t.state !== "off" && l.jsx(eW, {}), l.jsx(fW, {
                audioState: t
            }), l.jsx("div", {
                className: "h-7 w-[1px] bg-shade-10 ml-1.5"
            }), l.jsx(X.HeadlessButton, {
                onPointerDown: a => r.start(a),
                onDoubleClick: () => n(),
                className: "size-7 cursor-pointer flex items-center justify-center",
                children: l.jsx(z$, {
                    className: `size-5 text-white
          `
                })
            })]
        }), l.jsx(X.HeadlessButton, {
            onClick: () => {
                ql("click")
            },
            className: "size-7 shadow-pane cursor-pointer bg-surface-opaque hover:bg-surface-opaque-hover hover:scale-105 transition-all duration-150 rounded-full flex items-center justify-center",
            children: l.jsx(hr, {
                className: "size-4 text-white"
            })
        })]
    })
});

function CW(e, t, n) {
    const r = h.useRef(null);
    return h.useEffect(() => {
        const i = typeof t == "string" ? document.querySelector(t) : t ?? r.current;
        if (!i) return;
        const s = new ResizeObserver(a => {
            for (const o of a) n && e(o.target)
        });
        return s.observe(i), () => {
            s.disconnect()
        }
    }, [e, t, n]), r
}
const I2 = 450,
    Xu = 350,
    kW = {
        type: "spring",
        damping: 30,
        stiffness: 300
    };

function EW({
    allowResize: e,
    children: t
}) {
    const n = h.useRef(null),
        r = window.innerHeight * .8,
        i = Nn(NW() ?? I2),
        s = h.useCallback(c => {
            const u = Math.min(r, window.innerHeight * .8);
            c < Xu && (c = Xu), u > Xu && c > u && (c = u), i.set(c);
            const d = AW(),
                f = TW();
            n.current && n.current.style.setProperty("--height", `${c-d-f-7}px`), localStorage.setItem(Hs.APP_HEIGHT, c.toString())
        }, [r, i]);
    h.useEffect(() => {
        s(i.get())
    }, [i, s]);
    const a = h.useCallback(c => {
        const u = n.current?.clientHeight ?? 0;
        s(u - 15)
    }, [s]);
    CW(a, `#${wc}`, e);
    const o = ug();
    return l.jsxs("div", {
        ref: n,
        className: "relative group",
        children: [t, e && l.jsx(V.div, {
            className: "absolute top-0 left-0 right-0 h-5 mt-1",
            style: {
                y: i,
                x: 0
            },
            dragControls: o,
            drag: "y",
            dragMomentum: !1,
            onDrag: () => s(i.get()),
            dragTransition: {
                bounceStiffness: 0,
                bounceDamping: 0
            },
            onDoubleClick: () => Se(i, I2, {
                ...kW,
                onUpdate: c => s(c)
            }),
            children: l.jsx(sn, {
                className: "w-full h-full py-[1px]",
                children: l.jsx("div", {
                    className: "w-full h-full cursor-ns-resize"
                })
            })
        })]
    })
}

function NW() {
    const e = localStorage.getItem(Hs.APP_HEIGHT);
    return e ? Number(e) : null
}

function AW() {
    const e = document.getElementById(Kv);
    return e ? e.clientHeight : 0
}

function TW() {
    const e = document.getElementById(wc);
    return e ? e.clientHeight : 0
}

function IW({
    fullRadius: e,
    children: t,
    className: n,
    ...r
}) {
    return l.jsx("div", {
        ...r,
        className: Q("bg-zinc-900/60 border border-white/25 rounded-2xl flex", e && "rounded-full", n),
        children: t
    })
}
const jW = se(function() {
        const t = h.useRef(null),
            {
                insightsV3: n
            } = jt();
        return n ? l.jsx(ld, {
            children: l.jsxs(vW, {
                insightsContentRef: t,
                children: [l.jsx(MW, {
                    ref: t
                }), l.jsx("div", {
                    id: "radix-portal-root"
                })]
            })
        }) : null
    }),
    MW = se(function({
        ref: t
    }) {
        const n = Gl(),
            {
                x: r,
                y: i,
                handleDragStart: s,
                handleDragEnd: a,
                dragControls: o
            } = lb(),
            c = p1(),
            [u, d] = h.useState("chat");
        return l.jsx("div", {
            className: "fixed inset-0 flex justify-center items-start p-0",
            children: l.jsx(V.div, {
                ref: t,
                initial: !1,
                animate: "idle",
                whileHover: "hover",
                drag: !0,
                dragMomentum: !1,
                dragTransition: {
                    bounceStiffness: 0,
                    bounceDamping: 0
                },
                dragListener: !1,
                dragControls: o,
                onDragStart: s,
                onDragEnd: a,
                style: {
                    x: r,
                    y: i
                },
                className: Q("flex justify-center group/window before:absolute before:-inset-5 has-[.live-insights-3]:pb-16 has-[.live-insights-2]:pb-16 has-[.live-insights-1]:pb-10", n && "undetectable"),
                children: l.jsxs("div", {
                    className: "w-fit flex flex-col gap-1.5 justify-center items-center",
                    children: [l.jsx(SW, {}), l.jsx("div", {
                        className: Q("window rounded-[24px] transition-[padding]", n && "p-2"),
                        children: l.jsx(EW, {
                            allowResize: c || u === "transcript",
                            children: l.jsx(IW, {
                                className: "h-full bg-gradient-to-b from-surface-panel-from to-surface-panel-to transition-colors duration-100 border-none shadow-pane",
                                children: l.jsx(_$, {
                                    mode: u,
                                    setMode: d
                                })
                            })
                        })
                    })]
                })
            })
        })
    }),
    RW = se(function() {
        const t = at(),
            n = xc(),
            r = Ei(),
            [i, s] = Pr(wf);
        h.useEffect(() => {
            n && s(!1)
        }, [n, s]), h.useEffect(() => () => s(!1), [s]), gt("opened-external-link", ({
            url: f
        }) => {
            !n && f.includes("stripe.com") && s(!0)
        });
        const a = i1(),
            {
                showThankYouForUpgrading: o,
                dismissThankYouForUpgrading: c
            } = OW(),
            {
                data: u
            } = md(),
            d = u?.type === "free" && u.messagesCount >= u.messagesLimit;
        return l.jsxs(l.Fragment, {
            children: [l.jsx(ti, {
                children: l.jsx("div", {
                    className: Q("ml-4 mr-2", !d && "hidden"),
                    children: l.jsx(Mr, {
                        tooltipContent: l.jsx(K6, {}),
                        children: l.jsx(X.CommandBarStatus, {
                            label: "Upgrade to Pro",
                            icon: l.jsx(Ry, {
                                size: 16,
                                className: "text-white/90"
                            }),
                            level: "accent",
                            fullBorderRadius: !0,
                            onClick: () => {
                                a(), t.capture(ge.UPGRADE_TO_PRO_CLICKED)
                            }
                        })
                    })
                })
            }), l.jsx(N0, {
                show: i,
                title: "Upgrade Pending",
                message: "Once youve completed checkout, refresh to access Pro",
                actions: [{
                    label: "Dismiss",
                    onClick: () => s(!1),
                    variant: "secondary"
                }, {
                    label: "Refresh",
                    onClick: () => {
                        be("broadcast-to-all-windows", {
                            command: "open-dashboard-page",
                            page: "/settings/billing"
                        }), r(!0), t1()
                    },
                    variant: "primary"
                }]
            }), l.jsx(N0, {
                show: o,
                title: "Upgrade Successful",
                message: `Enjoy unlimited usage and access to the most powerful AI models with ${Be}`,
                type: "primary",
                actions: {
                    label: "Dismiss",
                    onClick: () => c(),
                    variant: "secondary"
                }
            })]
        })
    });

function OW() {
    const e = xc(),
        [t] = h.useState(e),
        [n, r] = h.useState(!1),
        i = h.useCallback(() => {
            r(!1)
        }, []);
    return h.useEffect(() => {
        e && !t && r(!0)
    }, [e, t]), {
        showThankYouForUpgrading: n,
        dismissThankYouForUpgrading: i
    }
}
const Fe = ".onboarding ",
    Ll = {
        in: (e = 1, t = .5, n = "easeIn") => {
            Se(`${Fe}.background`, {
                opacity: e
            }, {
                duration: t,
                ease: n
            }), Se(`${Fe}.corners`, {
                top: 0
            }, {
                duration: 1,
                ease: "easeInOut",
                type: "tween",
                delay: .6
            })
        },
        out: (e = .2, t = .5, n = "easeIn") => Se(`${Fe}.background`, {
            opacity: e
        }, {
            duration: t,
            ease: n
        })
    },
    PW = {
        swipe: () => Se(`${Fe}#shimmer`, {
            left: "140%",
            top: "-40%"
        }, {
            duration: 1.2,
            ease: [.645, .045, .355, 1]
        })
    },
    ir = {
        containerIntro: () => Se(`${Fe}#logo-container`, {
            opacity: 1
        }, {
            duration: 1,
            ease: "easeOut"
        }),
        appear: async () => Se(`${Fe}#logo`, {
            y: 0,
            scale: 1,
            rotateY: 0
        }, {
            y: {
                type: "spring",
                stiffness: 16,
                damping: 6
            },
            scale: {
                type: "spring",
                duration: 4,
                bounce: .2
            },
            layout: {
                duration: .4,
                ease: "easeOut"
            }
        }),
        dropIn: () => Se(`${Fe}#logo`, {
            background: "linear-gradient(30deg, rgba(0, 0, 0, 0.5) 17%, rgba(0, 0, 0, 0.8) 82%)",
            borderColor: "rgba(255, 255, 255, 0.6)",
            rotateY: -360,
            width: 74,
            height: 74
        }, {
            type: "spring",
            stiffness: 300,
            damping: 25,
            rotateY: {
                duration: .4,
                ease: "easeInOut"
            }
        }),
        highlight: () => Se(`${Fe}#logo svg`, {
            filter: "drop-shadow(0 45px 18px rgba(0, 0, 0, 0)) drop-shadow(0 70px 20px rgba(0, 0, 0, 0)) drop-shadow(0 0 15px #ffffff00)"
        }, {
            duration: .3,
            ease: "easeIn"
        }),
        shrink: () => Se(`${Fe}#logo`, {
            width: 74,
            height: 74
        }, {
            type: "spring",
            stiffness: 300,
            damping: 25
        }),
        click: () => Se(`${Fe}#logo`, {
            scale: [1, .8, 1]
        }, {
            duration: .24,
            ease: "easeOut"
        }),
        fadeOut: () => Se(`${Fe}#logo`, {
            opacity: 0
        }, {
            duration: .1
        })
    },
    yt = {
        set: (e, t) => {
            const n = document.querySelector(`${Fe}#cursor`);
            n && (n.style.top = e, n.style.left = t)
        },
        moveTo: (e, t) => {
            const n = {
                duration: .12,
                ease: "easeIn",
                top: {
                    type: "spring",
                    duration: .3,
                    bounce: .2
                },
                left: {
                    type: "spring",
                    duration: .2,
                    bounce: .2
                }
            };
            return Se(`${Fe}#cursor`, {
                top: e,
                left: t,
                opacity: 1,
                filter: "blur(0px)"
            }, n)
        },
        click: () => Se(`${Fe}#cursor`, {
            scale: [1, .8, 1]
        }, {
            type: "tween",
            duration: .24,
            ease: "easeOut"
        }),
        fadeOut: () => Se(`${Fe}#cursor`, {
            opacity: 0,
            filter: "blur(2px)"
        }, {
            duration: .1
        }),
        hover: () => Se(`${Fe}#cursor`, {
            y: [0, -2, 0],
            scale: [1, 1.02, 1]
        }, {
            duration: 1,
            ease: "easeIn",
            repeat: 1 / 0
        })
    };

function cb({
    children: e,
    className: t,
    initialHeight: n,
    initialWidth: r,
    transition: i
}) {
    const [s, a] = Vs(), o = h.useRef(null), c = h.useRef(null);
    return h.useEffect(() => {
        if (o.current) return c.current = new ResizeObserver(u => {
            for (const d of u) a(s.current, {
                height: d.contentRect.height,
                width: d.contentRect.width
            }, {
                type: "spring",
                damping: 29,
                stiffness: 300,
                ...i
            })
        }), c.current.observe(o.current), () => {
            c.current?.disconnect()
        }
    }, [a, s, i]), l.jsx(V.div, {
        ref: s,
        className: t,
        initial: {
            height: n ?? 0,
            width: r ?? 0
        },
        style: {
            overflow: "hidden"
        },
        children: l.jsx("div", {
            ref: o,
            className: "h-fit w-fit",
            children: e
        })
    })
}

function LW() {
    const [e, t] = Vs();
    return h.useEffect(() => {
        t(".bar-1", {
            height: [6, 12]
        }, {
            duration: .4,
            repeat: 1 / 0,
            repeatType: "mirror"
        }), t(".bar-2", {
            height: [14, 4]
        }, {
            duration: .4,
            repeat: 1 / 0,
            repeatType: "mirror"
        })
    }, [t]), l.jsxs("div", {
        ref: e,
        className: "w-5 h-[17px] flex gap-0.5 justify-center items-center",
        children: [l.jsx("div", {
            className: "w-0.5 rounded-full bg-[#E9EBF2] bar-1",
            style: {
                height: 6
            }
        }), l.jsx("div", {
            className: "w-0.5 rounded-full bg-[#E9EBF2] bar-2",
            style: {
                height: 14
            }
        }), l.jsx("div", {
            className: "w-0.5 rounded-full bg-[#E9EBF2] bar-1",
            style: {
                height: 6
            }
        })]
    })
}

function DW({
    ...e
}) {
    return l.jsxs("svg", {
        width: "100%",
        height: "250",
        viewBox: "0 0 1512 250",
        preserveAspectRatio: "none",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...e,
        children: [l.jsx("title", {
            children: "Background Corners"
        }), l.jsxs("g", {
            opacity: "0.4",
            filter: "url(#filter0_f_120_2521)",
            children: [l.jsx("path", {
                d: "M756 24C1191.2 24 1544 8.41916 1544 173V24H756Z",
                fill: "#432668"
            }), l.jsx("path", {
                d: "M-32 173C-32 8.41916 320.8 24 756 24H-32V173Z",
                fill: "#432668"
            }), l.jsx("path", {
                d: "M-32 24H756H1544V-125H-32V24Z",
                fill: "#432668"
            })]
        }), l.jsx("defs", {
            children: l.jsxs("filter", {
                id: "filter0_f_120_2521",
                x: "-109",
                y: "-202",
                width: "1730",
                height: "452",
                filterUnits: "userSpaceOnUse",
                colorInterpolationFilters: "sRGB",
                children: [l.jsx("feFlood", {
                    floodOpacity: "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "BackgroundImageFix",
                    result: "shape"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "38.5",
                    result: "effect1_foregroundBlur_120_2521"
                })]
            })
        })]
    })
}
const E1 = h.forwardRef(({
    className: e,
    style: t,
    withCorners: n = !0,
    cornersClassName: r = "background corners absolute -top-24 left-0",
    cornersWidth: i = "100%",
    corners: s,
    ...a
}, o) => l.jsxs("div", {
    className: "background-wrapper absolute inset-0",
    children: [l.jsx("div", {
        ref: o,
        className: e ?? "background",
        style: {
            background: "radial-gradient(99.52% 62.74% at 50% 21.49%, rgba(2, 2, 10, 0.79) 0%, rgba(8, 9, 42, 0.00) 100%), linear-gradient(180deg, #02020A 0%, rgba(12, 13, 47, 0.00) 100%)",
            position: "absolute",
            width: "200vw",
            height: "150vh",
            top: "-50vh",
            left: "-50vw",
            pointerEvents: "none",
            opacity: 0,
            ...t
        },
        ...a
    }), n && (s ?? l.jsx(DW, {
        className: r,
        width: i
    }))]
}));
E1.displayName = "OnboardingBackground";

function _W(e) {
    return l.jsxs("svg", {
        width: "67",
        height: "76",
        viewBox: "0 0 67 76",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...e,
        children: [l.jsx("title", {
            children: "Cursor"
        }), l.jsxs("g", {
            filter: "url(#filter0_d_123_86)",
            children: [l.jsx("path", {
                d: "M11.9657 56.4875L10.0077 16.3357C9.76399 11.3382 15.3577 8.23512 19.4634 11.0903L52.45 34.0293C56.6064 36.7327 55.4593 43.1097 50.6218 44.1928L35.3183 46.6257C33.9213 46.8478 32.6468 47.5548 31.7183 48.6228L21.547 60.3218C18.0657 63.8535 12.054 61.4477 11.9657 56.4875Z",
                fill: "url(#paint0_radial_123_86)"
            }), l.jsx("path", {
                d: "M10.7568 16.2988C10.5437 11.922 15.4416 9.20708 19.0352 11.7061L52.0215 34.6445L52.041 34.6582C55.6361 36.9966 54.6495 42.5065 50.4756 43.4561L35.2002 45.8848C33.6292 46.1346 32.1963 46.9301 31.1523 48.1309L21.0078 59.7988C17.9932 62.8501 12.7926 60.7694 12.7158 56.4746V56.4629L12.7148 56.4512L10.7568 16.2988Z",
                stroke: "#86DAE0",
                strokeWidth: "1.5",
                style: {
                    mixBlendMode: "overlay"
                }
            })]
        }), l.jsxs("defs", {
            children: [l.jsxs("filter", {
                id: "filter0_d_123_86",
                x: "-2",
                y: "0",
                width: "69",
                height: "76",
                filterUnits: "userSpaceOnUse",
                colorInterpolationFilters: "sRGB",
                children: [l.jsx("feFlood", {
                    floodOpacity: "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feColorMatrix", {
                    in: "SourceAlpha",
                    type: "matrix",
                    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
                    result: "hardAlpha"
                }), l.jsx("feOffset", {
                    dy: "2"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "6"
                }), l.jsx("feComposite", {
                    in2: "hardAlpha",
                    operator: "out"
                }), l.jsx("feColorMatrix", {
                    type: "matrix",
                    values: "0 0 0 0 0.387565 0 0 0 0 0.762108 0 0 0 0 0.935677 0 0 0 0.4 0"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in2: "BackgroundImageFix",
                    result: "effect1_dropShadow_123_86"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "effect1_dropShadow_123_86",
                    result: "shape"
                })]
            }), l.jsxs("radialGradient", {
                id: "paint0_radial_123_86",
                cx: "0",
                cy: "0",
                r: "1",
                gradientUnits: "userSpaceOnUse",
                gradientTransform: "translate(36.9216 53.1821) rotate(-118.981) scale(65.3086 56.2714)",
                children: [l.jsx("stop", {
                    offset: "0.198365",
                    stopColor: "#1838C6"
                }), l.jsx("stop", {
                    offset: "0.633521",
                    stopColor: "#4D95FA"
                }), l.jsx("stop", {
                    offset: "1",
                    stopColor: "white"
                })]
            })]
        })]
    })
}

function ub({
    iconClassName: e = "size-12",
    style: t,
    ...n
}) {
    return l.jsx(V.div, {
        style: {
            opacity: 0,
            filter: "blur(2px)",
            x: "-50%",
            y: "-50%",
            position: "absolute",
            transformOrigin: "top left",
            zIndex: 100,
            pointerEvents: "none",
            ...t
        },
        id: "cursor",
        ...n,
        children: l.jsx(_W, {
            className: e
        })
    }, "cursor")
}

function db({
    className: e,
    style: t,
    iconClassName: n = "size-full fill-white",
    iconStyle: r,
    ...i
}) {
    return l.jsx(V.div, {
        initial: {
            opacity: 0
        },
        id: "logo-container",
        style: {
            top: "35vh"
        },
        className: "absolute left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center pointer-events-none",
        children: l.jsx(V.div, {
            initial: {
                y: -360,
                scale: .6
            },
            style: {
                background: "linear-gradient(30deg, rgba(0, 0, 0, 0) 17%, rgba(0, 0, 0, 0) 82%)",
                width: 192,
                height: 192
            },
            className: "p-3 rounded-full border border-transparent",
            layoutId: "logo",
            id: "logo",
            ...i,
            children: l.jsx(pr, {
                className: n,
                style: {
                    filter: "drop-shadow(0 45px 18px rgba(0, 0, 0, 0)) drop-shadow(0 70px 20px rgba(0, 0, 0, 0)) drop-shadow(0 0 15px #ffffff00)",
                    ...r
                }
            })
        })
    })
}
const De = e => new Promise(t => setTimeout(t, e)),
    FW = "Define Columbia University",
    Zu = ["m0", "m1", "m2", "m3"],
    j2 = [{
        text: "Columbia University is a private Ivy League research university in New York City, founded in 1754",
        sources: [{
            source: "en.wikipedia.org",
            count: 12
        }]
    }, {
        text: "It stands among the most prestigious institutions in the United States",
        sources: [{
            source: "britannica.com",
            count: 8
        }]
    }];

function zW({
    step: e,
    setStep: t
}) {
    const n = h.useRef(!1);
    return h.useEffect(() => {
        const r = async () => {
            await De(500);
            const a = .1;
            Se(`${Fe}#response-text`, {
                opacity: 1
            }, {
                duration: .5,
                ease: "easeOut"
            });
            for (let o = 0; o < Zu.length; o++) Se(`${Fe}.response-mask-line-${o}`, {
                transform: "scaleX(1)",
                transformOrigin: "0% 50%"
            }, {
                delay: (a * o) ** 1.1,
                ease: [.165, .84, .44, 1],
                duration: 2 - o * a
            });
            await De(1700), t(_e.FINISH_CHAT)
        }, i = async () => {
            await Se(`${Fe}#chat`, {
                opacity: 0,
                y: -12,
                translateZ: 100
            }, {
                duration: .3,
                ease: "easeOut"
            }), await De(500), t(_e.POST_CALL)
        };
        if (n.current) return;
        async function s() {
            n.current = !0;
            try {
                e === _e.OPEN_CHAT && await r(), e === _e.FINISH_CHAT && await i()
            } finally {
                n.current = !1
            }
        }
        s()
    }, [e, t]), e < _e.OPEN_CHAT || e > _e.FINISH_CHAT ? null : l.jsx(V.div, {
        className: "fixed inset-0 flex justify-center items-start pt-32 perspective-midrange",
        children: l.jsxs(V.div, {
            className: "onboarding-bg onboarding-border rounded-3xl relative flex justify-center items-center origin-center overflow-hidden w-[60vw] max-w-[64rem] backdrop-blur-sm",
            initial: {
                opacity: 0,
                translateZ: 100
            },
            animate: {
                opacity: 1,
                translateZ: 0
            },
            transition: {
                type: "spring",
                stiffness: 600,
                damping: 58
            },
            id: "chat",
            children: [l.jsxs("div", {
                className: "absolute top-0 left-0 right-0 pt-6 px-6 pb-4 flex gap-2 text-[18px] tracking-[-2%] font-medium",
                children: [l.jsx(pr, {
                    className: "size-6 fill-white"
                }), "AI Response"]
            }), l.jsxs("div", {
                className: "p-8 pb-6 pt-16 size-full gap-12 flex flex-col relative",
                children: [l.jsx("div", {
                    className: "w-full h-fit items-end justify-end flex",
                    children: l.jsx("div", {
                        id: "chat-message",
                        className: "size-fit p-[0.5px] rounded-2xl relative",
                        style: {
                            background: "radial-gradient(350.13% 122.77% at 44.42% 50.94%, #FFF 0%, #5C5C62 100%)"
                        },
                        children: l.jsx("div", {
                            className: "rounded-2xl w-fit flex px-[18px] py-3 justify-center items-center bg-[#131418] text-[24px] z-10 relative",
                            children: FW
                        })
                    })
                }), l.jsxs(V.div, {
                    className: "text-[22px] tracking-[0.04px] w-[720px] text-ob-primary relative",
                    style: {
                        lineHeight: "31px"
                    },
                    children: [l.jsxs("svg", {
                        className: "absolute inset-0 pointer-events-none",
                        width: "100%",
                        height: "100%",
                        "aria-hidden": "true",
                        focusable: "false",
                        role: "none",
                        children: [Zu.map((r, i) => l.jsx("rect", {
                            className: `response-mask-line-${i}`,
                            x: "0",
                            y: `${i*31/93}`,
                            width: "1.2",
                            height: `${31/93}`,
                            fill: "red",
                            style: {
                                transformOrigin: "0% 50%",
                                transform: "scaleX(0)",
                                transformBox: "fill-box"
                            }
                        }, r)), l.jsx("defs", {
                            children: l.jsx("clipPath", {
                                id: "response-mask",
                                clipPathUnits: "objectBoundingBox",
                                children: Zu.map((r, i) => l.jsx("rect", {
                                    className: `response-mask-line-${i}`,
                                    x: "0",
                                    y: `${i*31/93}`,
                                    width: "1.2",
                                    height: `${31/93}`,
                                    style: {
                                        transformOrigin: "0% 50%",
                                        transform: "scaleX(0)",
                                        transformBox: "fill-box"
                                    }
                                }, r))
                            })
                        })]
                    }), l.jsx("div", {
                        id: "response-text",
                        style: {
                            clipPath: "url(#response-mask)",
                            opacity: 0
                        },
                        children: l.jsx(BW, {})
                    })]
                })]
            })]
        })
    })
}
const BW = () => l.jsx(l.Fragment, {
        children: j2.map((e, t) => l.jsxs("span", {
            children: [e.text, e.sources.map(n => l.jsx("span", {
                className: "mx-1",
                children: l.jsxs("span", {
                    className: "inline-flex items-center h-7 rounded-full bg-[#121315] border border-[#333333]",
                    children: [l.jsx("span", {
                        className: "text-ob-secondary text-sm leading-[140%] tracking-[0.028px] px-3 h-full inline-flex items-center rounded-full bg-[#333333]",
                        children: n.source
                    }), l.jsxs("span", {
                        className: "text-[#C7CDE2] text-[11px] leading-[140%] tracking-[0.028px] pr-3 pl-1",
                        children: ["+", n.count]
                    })]
                })
            }, `source-${t}-${n.source}-${n.count}`)), t < j2.length - 1 ? ". " : ""]
        }, `chunk-${t}-${e.text.slice(0,10)}`))
    }),
    $W = Pt("answer", [
        ["rect", {
            width: 36,
            height: 36,
            rx: 10,
            fill: "#FA7070",
            fillOpacity: .4
        }],
        ["path", {
            d: "M18.875 24.5838C18.875 24.9594 18.7301 25.3196 18.4723 25.5852C18.2144 25.8508 17.8647 26 17.5 26C17.1353 26 16.7856 25.8508 16.5277 25.5852C16.2699 25.3196 16.125 24.9594 16.125 24.5838C16.125 24.2082 16.2699 23.848 16.5277 23.5824C16.7856 23.3168 17.1353 23.1676 17.5 23.1676C17.8647 23.1676 18.2144 23.3168 18.4723 23.5824C18.7301 23.848 18.875 24.2082 18.875 24.5838ZM14.75 13.9708C14.75 14.3464 14.6051 14.7067 14.3473 14.9722C14.0894 15.2378 13.7397 15.387 13.375 15.387C13.0103 15.387 12.6606 15.2378 12.4027 14.9722C12.1449 14.7067 12 14.3464 12 13.9708C12 12.3026 12.748 11.0082 13.8425 10.1669C14.8985 9.35971 16.235 9 17.5 9C18.765 9 20.0987 9.35971 21.1575 10.1669C22.252 11.0053 23 12.3026 23 13.968C23 15.1831 22.6287 16.1065 21.9907 16.8174C21.4875 17.3782 20.8412 17.7606 20.3957 18.0212L20.2555 18.1061C19.7412 18.4177 19.4415 18.6301 19.238 18.9049C19.062 19.1371 18.875 19.528 18.875 20.3324C18.875 20.708 18.7301 21.0682 18.4723 21.3338C18.2144 21.5994 17.8647 21.7486 17.5 21.7486C17.1353 21.7486 16.7856 21.5994 16.5277 21.3338C16.2699 21.0682 16.125 20.708 16.125 20.3324C16.125 19.0153 16.455 17.99 17.0545 17.1828C17.621 16.418 18.3525 15.9705 18.8695 15.6589L18.9465 15.6136C19.4883 15.2907 19.766 15.1236 19.9695 14.8942C20.107 14.7441 20.25 14.5203 20.25 13.968C20.2614 13.6702 20.2001 13.3742 20.0719 13.107C19.9436 12.8398 19.7524 12.61 19.5157 12.4385C19.0262 12.0646 18.2975 11.8352 17.5 11.8352C16.7025 11.8352 15.9765 12.0675 15.4843 12.4442C15.2476 12.6157 15.0564 12.8455 14.9281 13.1127C14.7999 13.3799 14.7386 13.6759 14.75 13.9737",
            fill: "#FF7272"
        }]
    ], "0 0 36 36"),
    HW = Pt("audio", [
        ["rect", {
            x: 5,
            y: 7,
            width: 3,
            height: 12,
            rx: 1,
            fill: "currentColor"
        }],
        ["rect", {
            x: 15,
            y: 7,
            width: 3,
            height: 12,
            rx: 1,
            fill: "currentColor"
        }],
        ["rect", {
            x: 10,
            y: 4,
            width: 3,
            height: 18,
            rx: 1,
            fill: "currentColor"
        }]
    ], "0 0 24 25"),
    UW = Pt("define", [
        ["rect", {
            width: 36,
            height: 36,
            rx: 10,
            fill: "#4FFF84",
            fillOpacity: .4
        }],
        ["path", {
            d: "M14.1699 8.25H23.3999C24.0669 8.25 24.7359 8.359 25.2029 8.843C25.6629 9.321 25.7499 9.983 25.7499 10.6V22.4C25.7499 22.943 25.6779 23.477 25.3999 23.909C25.2395 24.1582 25.015 24.3596 24.7499 24.492V25.4C24.7499 26.066 24.6419 26.735 24.1589 27.202C23.6809 27.664 23.0189 27.75 22.4019 27.75H11.7499C11.3521 27.75 10.9705 27.592 10.6892 27.3107C10.4079 27.0294 10.2499 26.6478 10.2499 26.25V12.017C10.2469 11.519 10.2439 10.897 10.3799 10.33C10.5469 9.638 10.9319 8.967 11.7509 8.55C12.0889 8.378 12.4449 8.31 12.8249 8.28C13.1899 8.25 13.6349 8.25 14.1699 8.25ZM11.7499 26.25H22.4019C22.9489 26.25 23.0849 26.154 23.1159 26.124C23.1409 26.1 23.2499 25.969 23.2499 25.4V24.75H13.2499C12.8521 24.75 12.4705 24.908 12.1892 25.1893C11.9079 25.4706 11.7499 25.8522 11.7499 26.25Z",
            fill: "#4FFF84"
        }]
    ], "0 0 36 36"),
    VW = Pt("eye", [
        ["path", {
            d: "M10 15C13 15 15.5 13.3333 17.5 10C15.5 6.66667 13 5 10 5C7 5 4.5 6.66667 2.5 10C4.5 13.3333 7 15 10 15Z",
            stroke: "currentColor",
            strokeWidth: 1.5,
            strokeLinecap: "round",
            strokeDasharray: "3 3"
        }],
        ["path", {
            d: "M8.33325 9.99967C8.33325 10.4417 8.50885 10.8656 8.82141 11.1782C9.13397 11.4907 9.55789 11.6663 9.99992 11.6663C10.4419 11.6663 10.8659 11.4907 11.1784 11.1782C11.491 10.8656 11.6666 10.4417 11.6666 9.99967C11.6666 9.55765 11.491 9.13372 11.1784 8.82116C10.8659 8.5086 10.4419 8.33301 9.99992 8.33301C9.55789 8.33301 9.13397 8.5086 8.82141 8.82116C8.50885 9.13372 8.33325 9.55765 8.33325 9.99967Z",
            stroke: "currentColor",
            strokeWidth: 1.5,
            strokeLinecap: "round"
        }]
    ], "0 0 20 20"),
    fb = Pt("generate", [
        ["rect", {
            width: 36,
            height: 36,
            rx: 10,
            fill: "#DFD25F",
            fillOpacity: .4
        }],
        ["path", {
            d: "M14.6229 22.0297C14.792 22.1491 14.9854 22.2294 15.1893 22.2647C15.3932 22.3001 15.6025 22.2897 15.8018 22.2342C16.0012 22.1787 16.1858 22.0796 16.3421 21.944C16.4984 21.8085 16.6227 21.6398 16.7058 21.4503L17.3658 19.4446C17.5263 18.962 17.797 18.5235 18.1565 18.1637C18.5159 17.804 18.9542 17.5329 19.4366 17.372L21.3549 16.7489C21.6276 16.654 21.8633 16.4755 22.0286 16.2389C22.1563 16.0594 22.2394 15.8522 22.2712 15.6343C22.3029 15.4164 22.2824 15.1941 22.2113 14.9857C22.1403 14.7773 22.0206 14.5888 21.8623 14.4357C21.704 14.2827 21.5116 14.1695 21.3009 14.1054L19.4024 13.4883C18.9197 13.3282 18.4809 13.0578 18.1209 12.6987C17.7608 12.3395 17.4894 11.9014 17.3281 11.4191L16.7049 9.50171C16.6091 9.23004 16.4312 8.9949 16.1958 8.82885C15.959 8.66557 15.6781 8.57812 15.3905 8.57812C15.1029 8.57812 14.822 8.66557 14.5852 8.82885C14.3462 8.99789 14.1663 9.23776 14.0709 9.51457L13.4401 11.456C13.2791 11.9258 13.0135 12.3528 12.6632 12.7047C12.3128 13.0567 11.8871 13.3243 11.4181 13.4874L9.49806 14.1097C9.22486 14.2063 8.98855 14.3856 8.82201 14.6228C8.65547 14.8599 8.56699 15.143 8.56888 15.4328C8.57076 15.7226 8.66292 16.0046 8.83253 16.2395C9.00214 16.4745 9.24077 16.6507 9.51521 16.7437L11.4146 17.3609C12.0304 17.5675 12.5718 17.9509 12.9712 18.4631C13.1992 18.7571 13.3749 19.0871 13.4906 19.4403L14.1146 21.3551C14.2106 21.6277 14.3889 21.8634 14.6246 22.0297M22.9766 27.2411C23.1511 27.3644 23.3596 27.4303 23.5732 27.4297C23.7854 27.4304 23.9926 27.3654 24.1664 27.2437C24.3453 27.1174 24.4792 26.9372 24.5486 26.7294L24.8675 25.7497C24.9349 25.5463 25.0488 25.3614 25.2001 25.2096C25.3514 25.0579 25.536 24.9435 25.7392 24.8754L26.7386 24.5514C26.9402 24.4798 27.1147 24.3477 27.2382 24.1731C27.3617 23.9984 27.4282 23.7899 27.4286 23.576C27.4286 23.3565 27.3584 23.1428 27.2283 22.966C27.0981 22.7893 26.9148 22.6588 26.7052 22.5937L25.7246 22.2766C25.5211 22.209 25.3362 22.095 25.1844 21.9436C25.0327 21.7921 24.9183 21.6074 24.8504 21.404L24.5246 20.4071C24.4544 20.2037 24.3221 20.0274 24.1464 19.9031C23.9707 19.7788 23.7604 19.7127 23.5451 19.7143C23.3299 19.7158 23.1206 19.7848 22.9466 19.9115C22.7727 20.0383 22.6429 20.2164 22.5755 20.4209L22.2549 21.4031C22.1892 21.6039 22.0783 21.7869 21.9308 21.938C21.7832 22.0891 21.6029 22.2044 21.4038 22.2749L20.4044 22.5989C20.2023 22.6702 20.0274 22.8024 19.9035 22.9772C19.7797 23.152 19.713 23.3609 19.7126 23.5751C19.7129 23.7912 19.7811 24.0017 19.9078 24.1768C20.0344 24.3519 20.2129 24.4827 20.4181 24.5506L21.3986 24.8694C21.6029 24.9368 21.7885 25.0512 21.9404 25.2036C22.0923 25.3559 22.2062 25.5418 22.2729 25.7463L22.5978 26.7431C22.6687 26.9445 22.8005 27.1189 22.9749 27.242",
            fill: "#FFF700"
        }]
    ], "0 0 36 36"),
    WW = Pt("pause", [
        ["path", {
            d: "M4.5 4.875C4.5 4.25368 5.00368 3.75 5.625 3.75C6.24632 3.75 6.75 4.25368 6.75 4.875V13.125C6.75 13.7463 6.24632 14.25 5.625 14.25C5.00368 14.25 4.5 13.7463 4.5 13.125V4.875Z",
            fill: "currentColor"
        }],
        ["path", {
            d: "M10.5 4.875C10.5 4.25368 11.0037 3.75 11.625 3.75C12.2463 3.75 12.75 4.25368 12.75 4.875V13.125C12.75 13.7463 12.2463 14.25 11.625 14.25C11.0037 14.25 10.5 13.7463 10.5 13.125V4.875Z",
            fill: "currentColor"
        }]
    ], "0 0 18 18"),
    qW = Pt("search", [
        ["rect", {
            width: 36,
            height: 36,
            rx: 10,
            fill: "#37BCFF",
            fillOpacity: .4
        }],
        ["path", {
            d: "M22.7234 20.167C22.8101 19.452 22.8751 18.737 22.8751 18.0003C22.8751 17.2637 22.8101 16.5487 22.7234 15.8337H26.3851C26.5584 16.527 26.6667 17.2528 26.6667 18.0003C26.6667 18.7478 26.5584 19.4737 26.3851 20.167M20.8059 26.1903C21.4559 24.9878 21.9542 23.6878 22.3009 22.3337H25.4967C24.4472 24.141 22.782 25.51 20.8059 26.1903ZM20.5351 20.167H15.4651C15.3567 19.452 15.2917 18.737 15.2917 18.0003C15.2917 17.2637 15.3567 16.5378 15.4651 15.8337H20.5351C20.6326 16.5378 20.7084 17.2637 20.7084 18.0003C20.7084 18.737 20.6326 19.452 20.5351 20.167ZM18.0001 26.6237C17.1009 25.3237 16.3751 23.8828 15.9309 22.3337H20.0692C19.6251 23.8828 18.8992 25.3237 18.0001 26.6237ZM13.6667 13.667H10.5034C11.5419 11.8546 13.206 10.4833 15.1834 9.81033C14.5334 11.0128 14.0459 12.3128 13.6667 13.667ZM10.5034 22.3337H13.6667C14.0459 23.6878 14.5334 24.9878 15.1834 26.1903C13.2099 25.5103 11.5481 24.1409 10.5034 22.3337ZM9.61508 20.167C9.44175 19.4737 9.33341 18.7478 9.33341 18.0003C9.33341 17.2528 9.44175 16.527 9.61508 15.8337H13.2767C13.1901 16.5487 13.1251 17.2637 13.1251 18.0003C13.1251 18.737 13.1901 19.452 13.2767 20.167M18.0001 9.36616C18.8992 10.6662 19.6251 12.1178 20.0692 13.667H15.9309C16.3751 12.1178 17.1009 10.6662 18.0001 9.36616ZM25.4967 13.667H22.3009C21.9613 12.3254 21.4593 11.0303 20.8059 9.81033C22.7992 10.4928 24.4567 11.8687 25.4967 13.667ZM18.0001 7.16699C12.0092 7.16699 7.16675 12.042 7.16675 18.0003C7.16675 20.8735 8.30811 23.629 10.3398 25.6606C11.3457 26.6666 12.54 27.4646 13.8543 28.009C15.1687 28.5534 16.5774 28.8337 18.0001 28.8337C20.8733 28.8337 23.6288 27.6923 25.6604 25.6606C27.692 23.629 28.8334 20.8735 28.8334 18.0003C28.8334 16.5777 28.5532 15.1689 28.0088 13.8546C27.4643 12.5402 26.6664 11.346 25.6604 10.34C24.6544 9.33403 23.4602 8.53606 22.1458 7.99163C20.8315 7.4472 19.4227 7.16699 18.0001 7.16699Z",
            fill: "#2CB8FF"
        }]
    ], "0 0 36 36"),
    hb = Pt("suggest", [
        ["rect", {
            width: 36,
            height: 36,
            rx: 10,
            fill: "#B9C2CF",
            fillOpacity: .4
        }],
        ["path", {
            d: "M15.4615 8.76953C12.5492 8.76953 10.1991 10.9665 9.80768 13.7597C7.73999 14.3117 6.17261 16.1228 6.17261 18.3465C6.17261 20.8129 8.09353 22.7957 10.5 23.0772C11.1711 24.9529 12.8945 26.308 15 26.308C16.4418 26.308 17.6261 25.576 18.5197 24.5772C19.2535 25.1449 20.1185 25.5585 21.1154 25.5585C23.0151 25.5585 24.5788 24.2938 25.1538 22.5861H25.2406C27.7588 22.5861 29.8265 20.5369 29.8265 18.0289C29.8265 15.8892 28.2868 14.1566 26.2791 13.6729C25.6329 11.8951 23.9806 10.5871 21.9803 10.5871C21.2308 10.5871 20.5625 10.8178 19.9329 11.1345C18.8714 9.76645 17.3261 8.76953 15.4615 8.76953Z",
            fill: "#D9D9D9"
        }]
    ], "0 0 36 36"),
    mn = {
        DEFINE: "define",
        ANSWER: "answer",
        SEARCH: "search",
        SUGGEST: "suggest",
        GENERATE: "generate"
    },
    GW = {
        type: mn.GENERATE,
        text: "Give me helpful information"
    },
    YW = {
        type: mn.SUGGEST,
        text: "Suggest follow-up questions"
    },
    KW = {
        type: mn.DEFINE,
        text: "Define Columbia University"
    },
    XW = {
        type: mn.SEARCH,
        text: "Search the web for One Piece"
    };

function ZW({
    step: e,
    setStep: t
}) {
    const [n, r] = h.useState([]), [i, s] = h.useState(!1);
    return h.useEffect(() => {
        const a = async () => {
            Se(`${Fe}#insights-header svg`, {
                opacity: 1,
                filter: "blur(0px)",
                x: 0
            }, {
                type: "spring",
                stiffness: 400,
                damping: 36
            }), await De(75), Se(`${Fe}#insights-header span`, {
                opacity: 1,
                filter: "blur(0px)",
                x: 0
            }, {
                type: "spring",
                stiffness: 400,
                damping: 36
            }), await De(400), r(f => [...f, GW]), await De(300), r(f => [...f, YW]), await De(200), yt.set("calc(14.75rem + 8rem)", "41.25rem"), await yt.moveTo("14.75rem", "35.25rem"), await De(350), yt.click(), await Se(`${Fe}#item-give-me-helpful-information`, {
                scale: [1, 1.03, 1]
            }, {
                type: "tween",
                duration: .24,
                ease: "easeOut"
            }), s(!0), await yt.fadeOut(), t(_e.LOAD_INSIGHTS)
        }, o = async () => {
            await De(2500), r(f => [KW, ...f]), await De(300), t(_e.CLICK_INSIGHT), await De(2600), r(f => [...f.slice(0, 1), XW, ...f.slice(1)]), await De(900)
        }, c = async () => {
            yt.set("calc(14.25rem + 12rem)", "calc(42.25rem + 6rem)"), await yt.moveTo("14.25rem", "36.25rem");
            const f = "#item-define-columbia-university";
            Se(`${Fe}#insights-container .insight-item:not(${f})`, {
                opacity: .6
            }, {
                duration: .16,
                ease: "easeOut"
            }), Se(`${Fe}${f} > .background`, {
                opacity: 1
            }, {
                duration: .16,
                ease: "easeOut"
            }), await Se(`${Fe}${f}`, {
                scale: 1.03
            }, {
                duration: .16,
                ease: "easeOut"
            }), await De(350);
            const m = {
                type: "tween",
                duration: .24,
                ease: "easeOut"
            };
            yt.click(), await Se(`${Fe}${f}`, {
                scale: [1.03, 1, 1.03]
            }, m), s(!1), yt.fadeOut(), t(_e.OPEN_CHAT)
        }, u = async () => {
            Se(`${Fe}#insights`, {
                translateZ: -50
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            })
        }, d = async () => {
            await De(250), Se(`${Fe}#insights`, {
                translateZ: 100,
                opacity: 0,
                y: -8
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            })
        };
        e === _e.START_INSIGHTS && a(), e === _e.LOAD_INSIGHTS && o(), e === _e.CLICK_INSIGHT && c(), e === _e.OPEN_CHAT && u(), e === _e.FINISH_CHAT && d()
    }, [e, t]), e < _e.START_INSIGHTS || e > _e.FINISH_CHAT ? null : l.jsx("div", {
        className: "fixed inset-0 flex justify-start items-start p-32 perspective-midrange",
        children: l.jsxs(V.div, {
            className: "onboarding-bg onboarding-border w-[750px] rounded-3xl h-fit relative flex flex-col justify-start items-start origin-center pb-4",
            initial: {
                opacity: 0,
                translateZ: 100,
                y: 20
            },
            animate: {
                opacity: 1,
                translateZ: 0,
                y: 0
            },
            id: "insights",
            transition: {
                type: "spring",
                stiffness: 800,
                damping: 75,
                delay: .5
            },
            children: [l.jsxs("div", {
                id: "insights-header",
                className: "py-6 pb-2 px-6 flex gap-2 text-[18px] tracking-[-2%] font-medium",
                children: [l.jsx("div", {
                    className: "size-6 shrink-0",
                    children: l.jsx(Ke, {
                        mode: "popLayout",
                        initial: !1,
                        children: l.jsx(V.div, {
                            variants: {
                                visible: {
                                    opacity: 1,
                                    scale: 1,
                                    filter: "blur(0px)"
                                },
                                hidden: {
                                    opacity: 0,
                                    scale: .5,
                                    filter: "blur(4px)"
                                }
                            },
                            transition: {
                                duration: .16,
                                ease: "easeOut"
                            },
                            initial: "hidden",
                            animate: "visible",
                            exit: "hidden",
                            children: i ? l.jsx(W8, {
                                className: "size-6 inline-block animate-spin [animation-duration:0.5s]"
                            }) : l.jsx(pr, {
                                className: "size-6 inline-block fill-white",
                                style: {
                                    opacity: 0,
                                    transform: "translateX(12px)"
                                }
                            })
                        }, i ? "active" : "idle")
                    })
                }), l.jsx("span", {
                    style: {
                        opacity: 0,
                        transform: "translateX(18px)"
                    },
                    className: "inline-block",
                    children: "Live Insights"
                })]
            }), l.jsx(V.div, {
                className: "size-full pb-2",
                exit: {
                    opacity: 0
                },
                children: l.jsx("div", {
                    id: "insights-container",
                    className: "w-full h-full flex flex-col relative",
                    style: {
                        maxHeight: "100%"
                    },
                    children: l.jsx(V.div, {
                        className: "w-full px-6 flex flex-col",
                        children: n.map(a => l.jsx(V.div, {
                            initial: {
                                height: 0
                            },
                            animate: {
                                height: 56
                            },
                            transition: {
                                type: "spring",
                                stiffness: 500,
                                damping: 46
                            },
                            children: l.jsx(QW, {
                                type: a.type,
                                text: a.text
                            })
                        }, a.text))
                    })
                })
            }, "insights")]
        })
    })
}
const QW = ({
        type: e,
        text: t
    }) => {
        const n = {
                [mn.DEFINE]: UW,
                [mn.ANSWER]: $W,
                [mn.SEARCH]: qW,
                [mn.SUGGEST]: hb,
                [mn.GENERATE]: fb
            } [e],
            r = e === mn.SUGGEST || e === mn.GENERATE;
        return l.jsxs(V.div, {
            className: "insight-item flex gap-3 items-center py-3 relative w-full px-8 before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:size-2 before:rounded-full before:bg-ob-secondary",
            initial: {
                opacity: 0,
                y: r ? 4 : 0,
                filter: "blur(4px)"
            },
            whileInView: {
                opacity: 1,
                y: 0,
                filter: "blur(0px)"
            },
            viewport: {
                once: !0
            },
            transition: {
                duration: .4,
                ease: "easeOut"
            },
            id: `item-${t.replaceAll(" ","-").toLowerCase()}`,
            children: [l.jsx("div", {
                className: "background opacity-0 absolute inset-0 -left-1 -right-1 rounded-2xl -z-10 p-[0.5px]",
                style: {
                    background: "radial-gradient(350.13% 122.77% at 44.42% 50.94%, #FFF 0%, #5C5C62 100%)"
                },
                children: l.jsx("div", {
                    className: "bg-[#131418] rounded-2xl size-full"
                })
            }), l.jsx(n, {
                className: "size-9"
            }), l.jsx(V.span, {
                className: "tracking-[2%]",
                style: {
                    fontSize: "24px",
                    fontWeight: 400,
                    color: "var(--color-ob-primary)"
                },
                children: t
            })]
        })
    },
    JW = ({
        step: e,
        setStep: t
    }) => {
        const n = h.useRef(!1);
        return h.useEffect(() => {
            const r = async () => {
                yt.set("calc(53% + 12rem)", "calc(50% + 12rem)"), await De(200), await yt.moveTo("53%", "calc(50% + 4rem"), await De(150), await yt.click(), await Se(`${Fe}#menu`, {
                    opacity: 0,
                    y: -50,
                    x: "-50%"
                }, {
                    ease: "easeIn",
                    duration: .1
                }), yt.fadeOut(), await De(150), t(_e.OPEN_VIDEO)
            }, i = async () => {
                await De(100), await Se(`${Fe}#menu`, {
                    opacity: 1,
                    y: 0
                }, {
                    y: {
                        type: "spring",
                        stiffness: 600,
                        damping: 20
                    },
                    opacity: {
                        duration: .16,
                        ease: "easeOut"
                    }
                }), await De(150), await Ll.out(.2, .5, "easeIn"), await De(300), await PW.swipe(), await De(100), Ll.in(1, .5, "easeIn"), await De(1800), yt.set("12rem", "calc(50% + 6rem)"), yt.moveTo("4.5rem", "calc(50% - 0.25rem"), await De(150), yt.click(), await Se(`${Fe}#chevron`, {
                    y: -4
                }, {
                    duration: .1
                }), await Se(`${Fe}#chevron`, {
                    rotate: 0,
                    y: 0
                }, {
                    duration: .1,
                    y: {
                        ease: "backOut",
                        duration: .2
                    }
                }), await yt.fadeOut(), t(_e.PRE_CALL)
            }, s = async () => {
                await De(800), Se(`${Fe}#menu`, {
                    opacity: 0,
                    scale: .9,
                    y: 12
                }, {
                    ease: "anticipate",
                    duration: .5
                })
            };
            if (n.current) return;
            async function a() {
                n.current = !0, e === _e.EXPAND_MENU && r(), e === _e.OPEN_VIDEO && i(), e === _e.FINISH_SUGGESTIONS && s(), n.current = !1
            }
            a()
        }, [e, t]), l.jsx("div", {
            className: "perspective-midrange h-screen absolute inset-0",
            children: l.jsxs(Ke, {
                mode: "wait",
                children: [e >= 3 && l.jsxs(l.Fragment, {
                    children: [l.jsxs(V.div, {
                        initial: {
                            y: "calc(50% + 10px)",
                            x: "-50%",
                            opacity: 0,
                            top: "2rem",
                            left: "50%"
                        },
                        className: "absolute rounded-full size-fit z-50",
                        id: "menu",
                        children: [l.jsxs(V.div, {
                            className: Q("onboarding-bg onboarding-border rounded-full backdrop-blur-sm flex p-2 pr-5 gap-3 justify-end z-50"),
                            children: [l.jsx("div", {
                                className: "p-px rounded-full size-fit",
                                style: {
                                    background: "radial-gradient(30px at 90% 0%, rgb(255, 255, 255), rgba(255, 255, 255, 0)), linear-gradient(to bottom left, rgba(255, 255, 255, 0.3), transparent), #3C3F59"
                                },
                                children: l.jsx("div", {
                                    className: "flex justify-center items-center bg-[#3C3F59] rounded-full size-8",
                                    style: {
                                        boxShadow: "0px -1.5px 1px 0px #31344C inset, 0px 2px 4px 0px rgba(41, 43, 61, 0.40)"
                                    },
                                    children: l.jsx(WW, {
                                        className: "size-4.5"
                                    })
                                })
                            }), l.jsxs("div", {
                                className: "flex flex-row items-center gap-0.5",
                                children: [l.jsx(LW, {}), l.jsx(V.div, {
                                    className: "size-5",
                                    id: "chevron",
                                    style: {
                                        transform: "rotate(180deg)"
                                    },
                                    children: l.jsx(Za, {
                                        className: "size-5 translate-y-px stroke-[2.5px]"
                                    })
                                })]
                            }), l.jsx("div", {
                                className: "flex flex-row items-center gap-2.5 text-[16px] tracking-[0.32px]",
                                children: l.jsxs("div", {
                                    className: "flex flex-row items-center gap-0.5",
                                    children: [l.jsx(d9, {
                                        className: "size-4"
                                    }), l.jsx("span", {
                                        children: "Ask"
                                    })]
                                })
                            })]
                        }), l.jsxs(V.div, {
                            style: {
                                position: "absolute",
                                left: "50%",
                                x: "-50%",
                                bottom: -32
                            },
                            initial: {
                                opacity: 0,
                                y: 0
                            },
                            animate: {
                                y: e === _e.OPEN_VIDEO ? 0 : -16,
                                opacity: e === _e.OPEN_VIDEO ? 1 : 0
                            },
                            className: "text-white/40 flex items-center gap-[3px] text-[14px] tracking-[-2%]",
                            children: [l.jsx(VW, {}), "Invisible"]
                        })]
                    }, "insights"), l.jsx(V.div, {
                        className: "bg-white/30 blur-2xl absolute h-[150vh] w-10 rotate-[30deg] z-40",
                        style: {
                            left: "-40%",
                            top: "-40%"
                        },
                        id: "shimmer"
                    }, "shimmer")]
                }), e === _e.EXPAND_MENU && l.jsx(V.div, {
                    className: "absolute rounded-full size-fit",
                    id: "menu",
                    style: {
                        top: "50%",
                        left: "50%",
                        x: "-50%",
                        y: "-50%"
                    },
                    children: l.jsxs(V.div, {
                        initial: {
                            width: 74,
                            height: 74
                        },
                        animate: {
                            width: 208
                        },
                        transition: {
                            type: "spring",
                            stiffness: 600,
                            damping: 55
                        },
                        className: Q("onboarding-bg onboarding-border rounded-full backdrop-blur-sm flex p-3 gap-4 overflow-hidden"),
                        children: [l.jsx(V.div, {
                            layoutId: "logo",
                            className: "size-12",
                            children: l.jsx(pr, {
                                className: "size-12 fill-white"
                            })
                        }), l.jsx("div", {
                            className: "p-px rounded-full size-fit",
                            style: {
                                background: "radial-gradient(70px at 70% 0%, rgb(255, 255, 255), rgba(255, 255, 255, 0)), linear-gradient(to bottom left, rgba(255, 255, 255, 0.6), transparent), #3C3F59"
                            },
                            children: l.jsxs("div", {
                                className: "flex flex-row p-2.5 gap-1 bg-[#3C3F59] rounded-full h-12 font-medium text-2xl items-center",
                                style: {
                                    boxShadow: "0px -1.5px 1px 0px #31344C inset, 0px 2px 4px 0px rgba(41, 43, 61, 0.40)"
                                },
                                children: [l.jsx(HW, {
                                    className: "size-6"
                                }), "Listen"]
                            })
                        })]
                    })
                }, "2"), e === _e.LOGO_APPEAR && l.jsx(db, {}, "1")]
            })
        })
    };

function eq({
    children: e
}) {
    return l.jsx("span", {
        className: "ob-button-leading-icon [&>svg]:size-4",
        children: e
    })
}

function Nc({
    className: e,
    containerProps: t,
    ...n
}) {
    return l.jsx(V.div, {
        ...t,
        className: Q("size-fit p-px rounded-[9px]", "has-disabled:opacity-60 has-disabled:cursor-not-allowed", t?.className),
        style: {
            background: "radial-gradient(48.62% 58.13% at 76.04% 10.42%, #FFF 0%, rgba(220, 221, 230, 0.00) 100%), linear-gradient(44deg, rgba(220, 221, 230, 0.00) 47.87%, rgba(255, 255, 255, 0.40) 75.32%), #696b7e",
            ...t?.style
        },
        children: l.jsxs(X.HeadlessButton, {
            className: Q("relative flex items-center h-9 text-sm gap-0.5 px-3.5 has-[.ob-button-leading-icon]:pr-5 has-[.ob-button-trailing-icon]:pl-5 bg-ob-setup-button rounded-lg text-ob-primary cursor-pointer group", "disabled:cursor-not-allowed", e),
            style: {
                boxShadow: "0px 4px 8px 0px rgba(19, 22, 44, 0.4)"
            },
            ...n,
            children: [l.jsx("div", {
                className: "absolute inset-0 opacity-0 bg-gradient-to-b from-white/5 to-black/10 hover:opacity-100 transition-opacity duration-200 rounded-lg"
            }), n.children]
        })
    })
}
const tq = {
        char: .03,
        word: .05,
        line: .1
    },
    Cs = {
        hidden: {
            opacity: 0
        },
        visible: {
            opacity: 1,
            transition: {
                staggerChildren: .05
            }
        },
        exit: {
            transition: {
                staggerChildren: .05,
                staggerDirection: -1
            }
        }
    },
    nq = {
        hidden: {
            opacity: 0
        },
        visible: {
            opacity: 1
        },
        exit: {
            opacity: 0
        }
    },
    rq = {
        blur: {
            container: Cs,
            item: {
                hidden: {
                    opacity: 0,
                    filter: "blur(12px)"
                },
                visible: {
                    opacity: 1,
                    filter: "blur(0px)"
                },
                exit: {
                    opacity: 0,
                    filter: "blur(12px)"
                }
            }
        },
        "fade-in-blur": {
            container: Cs,
            item: {
                hidden: {
                    opacity: 0,
                    y: 6,
                    filter: "blur(4px) brightness(1.5)",
                    textShadow: "0 0 8px #fff"
                },
                visible: {
                    opacity: 1,
                    y: 0,
                    filter: "blur(0px) brightness(1)",
                    textShadow: "0 0 0 #fff"
                },
                exit: {
                    opacity: 0,
                    y: 6,
                    filter: "blur(4px)"
                }
            }
        },
        scale: {
            container: Cs,
            item: {
                hidden: {
                    opacity: 0,
                    scale: 0
                },
                visible: {
                    opacity: 1,
                    scale: 1
                },
                exit: {
                    opacity: 0,
                    scale: 0
                }
            }
        },
        fade: {
            container: Cs,
            item: {
                hidden: {
                    opacity: 0
                },
                visible: {
                    opacity: 1
                },
                exit: {
                    opacity: 0
                }
            }
        },
        slide: {
            container: Cs,
            item: {
                hidden: {
                    opacity: 0,
                    y: 20
                },
                visible: {
                    opacity: 1,
                    y: 0
                },
                exit: {
                    opacity: 0,
                    y: 20
                }
            }
        }
    },
    pb = Ue.memo(({
        segment: e,
        variants: t,
        per: n,
        segmentWrapperClassName: r
    }) => {
        const i = n === "line" ? l.jsx(V.span, {
            variants: t,
            className: "block",
            children: e
        }) : n === "word" ? l.jsx(V.span, {
            "aria-hidden": "true",
            variants: t,
            className: "inline-block whitespace-pre",
            children: e
        }) : l.jsx(V.span, {
            className: "inline-block whitespace-pre",
            children: e.split("").map((a, o) => l.jsx(V.span, {
                "aria-hidden": "true",
                variants: t,
                className: "inline-block whitespace-pre",
                children: a
            }, `char-${o}-${a}`))
        });
        if (!r) return i;
        const s = n === "line" ? "block" : "inline-block";
        return l.jsx("span", {
            className: Q(s, r),
            children: i
        })
    });
pb.displayName = "AnimationComponent";
const iq = (e, t) => t === "line" ? e.split(`
`) : e.split(/(\s+)/),
    Dl = e => e ? typeof e == "object" && "transition" in e : !1,
    M2 = (e, t) => {
        if (!t) return e;
        const {
            exit: n,
            ...r
        } = t;
        return {
            ...e,
            visible: {
                ...e.visible,
                transition: {
                    ...Dl(e.visible) ? e.visible.transition : {},
                    ...r
                }
            },
            exit: {
                ...e.exit,
                transition: {
                    ...Dl(e.exit) ? e.exit.transition : {},
                    ...r,
                    staggerDirection: -1
                }
            }
        }
    };

function nd({
    children: e,
    per: t = "word",
    as: n = "p",
    variants: r,
    className: i,
    preset: s = "fade",
    delay: a = 0,
    speedReveal: o = 1,
    speedSegment: c = 1,
    trigger: u = !0,
    onAnimationComplete: d,
    onAnimationStart: f,
    segmentWrapperClassName: m,
    containerTransition: p,
    segmentTransition: g,
    style: x
}) {
    const y = iq(e, t),
        b = V[n],
        w = s ? rq[s] : {
            container: Cs,
            item: nq
        },
        C = tq[t] / o,
        E = .3 / c,
        A = Dl(r?.container?.visible ?? {}) ? (r?.container?.visible).transition?.staggerChildren : void 0,
        N = Dl(r?.container?.visible ?? {}) ? (r?.container?.visible).transition?.delayChildren : void 0,
        j = {
            container: M2(r?.container || w.container, {
                staggerChildren: A ?? C,
                delayChildren: N ?? a,
                ...p,
                exit: {
                    staggerChildren: A ?? C,
                    staggerDirection: -1
                }
            }),
            item: M2(r?.item || w.item, {
                duration: E,
                ...g
            })
        };
    return l.jsx(Ke, {
        mode: "popLayout",
        children: u && l.jsxs(b, {
            initial: "hidden",
            animate: "visible",
            exit: "exit",
            variants: j.container,
            className: i,
            onAnimationComplete: d,
            onAnimationStart: f,
            style: x,
            children: [t !== "line" ? l.jsx("span", {
                className: "sr-only",
                children: e
            }) : null, y.map((z, H) => l.jsx(pb, {
                segment: z,
                variants: j.item,
                per: t,
                segmentWrapperClassName: m
            }, `${t}-${H}-${z}`))]
        })
    })
}

function sq({
    step: e
}) {
    const t = Nn(0),
        n = xd`conic-gradient(from ${t}deg at 50% 50%, rgb(62, 66, 190) 69deg, rgb(44, 184, 255) 197deg, rgb(155, 77, 250) 271deg)`;
    return cg(() => {
        t.set((t.get() + .4) % 360)
    }), h.useEffect(() => {
        const r = async () => {
            await De(5e3), await Se(`${Fe}#post-call`, {
                translateZ: 100,
                filter: "blur(4px)",
                opacity: 0,
                y: -8
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            })
        };
        e === _e.POST_CALL && r()
    }, [e]), e !== _e.POST_CALL ? null : l.jsx("div", {
        className: "fixed inset-0 flex justify-start items-start p-32 perspective-midrange",
        children: l.jsx(V.div, {
            className: "onboarding-bg onboarding-border rounded-3xl h-[330px] relative flex justify-start items-start origin-center py-4 pb-6 px-[18px] gap-4 overflow-hidden",
            initial: {
                opacity: 0,
                translateZ: 100,
                y: 20,
                width: 376
            },
            animate: {
                opacity: 1,
                translateZ: 0,
                y: 0,
                width: 721
            },
            id: "post-call",
            transition: {
                type: "spring",
                stiffness: 800,
                damping: 75,
                delay: .5,
                width: {
                    delay: .9,
                    type: "spring",
                    stiffness: 800,
                    damping: 75
                }
            },
            children: l.jsxs("div", {
                className: "min-w-[685px] flex gap-4 justify-start items-start h-[290px]",
                children: [l.jsxs("div", {
                    className: "flex flex-col gap-4 relative perspective-midrange w-[340px] shrink-0 h-full",
                    children: [l.jsxs("div", {
                        className: "flex justify-between items-center text-[18px] tracking-[-2%] font-medium",
                        children: [l.jsxs("div", {
                            className: "flex gap-2 items-center",
                            children: [l.jsx(pr, {
                                className: "size-6 inline-block fill-white"
                            }), l.jsx("h2", {
                                className: "inline-block",
                                children: "Notes"
                            })]
                        }), l.jsxs("div", {
                            className: "flex items-center text-ob-secondary tracking-tight font-medium",
                            children: [l.jsx("div", {
                                className: "px-3 py-1.5 rounded-lg",
                                style: {
                                    background: "radial-gradient(63.05% 62.91% at 50% 50%, rgba(32, 73, 155, 0.20) 61.53%, rgba(34, 54, 95, 0.00) 100%), #161C27",
                                    boxShadow: "0 4px 14px 0 rgba(32, 73, 155, 0.40), 0 -1px 0 0 #0D1119 inset, 0 1px 0 0 #596783 inset, 0 0 0 1px #293854"
                                },
                                children: "Email"
                            }), l.jsx("div", {
                                className: "p-1.5 pl-3",
                                children: "Summary"
                            })]
                        })]
                    }), l.jsxs(V.div, {
                        initial: {
                            translateZ: 150,
                            rotateX: 10,
                            opacity: .2
                        },
                        animate: {
                            translateZ: 0,
                            rotateX: 0,
                            opacity: 1
                        },
                        transition: {
                            ease: "circOut",
                            duration: .3,
                            delay: .5
                        },
                        className: "flex flex-col border-[#232323] border rounded-xl bg-ob-accent-bg overflow-hidden h-full",
                        children: [l.jsxs("div", {
                            className: "p-3 flex justify-between items-center",
                            style: {
                                background: "linear-gradient(55deg, #131418 28.48%, #1C1D22 71.52%)"
                            },
                            children: [l.jsxs("div", {
                                className: "flex gap-1 items-center",
                                children: [l.jsx(r9, {
                                    className: "size-4 text-ob-secondary"
                                }), l.jsx("h3", {
                                    className: "font-medium text-ob-primary text-lg",
                                    children: "Marketing Sync Recap"
                                })]
                            }), l.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [l.jsx("div", {
                                    className: "size-6 flex justify-center items-center rounded-md bg-ob-button/30 border-[#353740] border",
                                    children: l.jsx(vd, {
                                        className: "size-3.5 text-ob-secondary"
                                    })
                                }), l.jsx("div", {
                                    className: "px-3 py-1 bg-ob-button font-medium text-sm text-ob-primary rounded-lg",
                                    style: {
                                        boxShadow: "0 1px 3.5px 0.5px rgba(76, 79, 95, 0.20), 0 0 0 0.5px #4C4F5F"
                                    },
                                    children: "Send"
                                })]
                            })]
                        }), l.jsx("hr", {
                            className: "border-[#232323] w-full"
                        }), l.jsxs("p", {
                            className: "text-[#7F8082] text-sm px-3 py-4",
                            children: ["Quick recap: we talked about trying a furry suit for marketing  big visibility, but could come off gimmicky. You suggested a small test run first. ", l.jsx("br", {}), " Action items:", l.jsx("br", {}), "- Draft pilot plan ", l.jsx("br", {}), "- Define success metrics"]
                        })]
                    }), l.jsxs(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        transition: {
                            duration: .14,
                            ease: "easeOut",
                            delay: 1.5
                        },
                        className: "flex gap-0.5 px-2.5 text-ob-tertiary text-xs absolute -bottom-2 right-2",
                        style: {
                            background: "linear-gradient(transparent, var(--color-ob-accent-bg) 10px, var(--color-ob-accent-bg) calc(100% - 10px), transparent)"
                        },
                        children: [l.jsx(k$, {
                            className: "size-4"
                        }), "Click to edit"]
                    })]
                }), l.jsx("div", {
                    className: "h-[290px] w-px bg-ob-divider"
                }), l.jsxs("div", {
                    className: "flex flex-col justify-between h-[290px] min-w-[270px]",
                    children: [l.jsxs("div", {
                        className: "flex flex-col gap-3 h-full",
                        children: [l.jsx(V.h2, {
                            initial: {
                                x: -12,
                                opacity: 0
                            },
                            animate: {
                                x: 0,
                                opacity: 1
                            },
                            transition: {
                                type: "spring",
                                stiffness: 800,
                                damping: 75,
                                delay: 1.4
                            },
                            className: "text-ob-primary text-lg font-medium",
                            children: "Summary"
                        }), l.jsxs("div", {
                            className: "flex flex-col gap-4",
                            children: [l.jsxs("div", {
                                className: "flex flex-col gap-2",
                                children: [l.jsx(V.p, {
                                    initial: {
                                        opacity: 0
                                    },
                                    animate: {
                                        opacity: 1
                                    },
                                    transition: {
                                        duration: .14,
                                        ease: "easeOut",
                                        delay: 1.5
                                    },
                                    className: "text-ob-tertiary font-medium text-sm tracking-tight",
                                    children: "Action Items"
                                }), l.jsxs("div", {
                                    className: "flex flex-col gap-2",
                                    children: [l.jsx(V.div, {
                                        initial: {
                                            opacity: 0,
                                            y: 4
                                        },
                                        animate: {
                                            opacity: 1,
                                            y: 0
                                        },
                                        transition: {
                                            duration: .14,
                                            ease: "easeOut",
                                            delay: 1.6
                                        },
                                        children: l.jsx(R2, {
                                            text: "Draft a pilot plan",
                                            icon: U8
                                        })
                                    }), l.jsx(V.div, {
                                        initial: {
                                            opacity: 0,
                                            y: 4
                                        },
                                        animate: {
                                            opacity: 1,
                                            y: 0
                                        },
                                        transition: {
                                            duration: .14,
                                            ease: "easeOut",
                                            delay: 1.7
                                        },
                                        children: l.jsx(R2, {
                                            text: "Research furry suits",
                                            icon: yd
                                        })
                                    })]
                                })]
                            }), l.jsxs("div", {
                                className: "flex flex-col gap-2",
                                children: [l.jsx(V.p, {
                                    initial: {
                                        opacity: 0
                                    },
                                    animate: {
                                        opacity: 1
                                    },
                                    transition: {
                                        duration: .14,
                                        ease: "easeOut",
                                        delay: 1.8
                                    },
                                    className: "text-ob-tertiary font-medium text-sm tracking-tight",
                                    children: "What could I have done better?"
                                }), l.jsx(nd, {
                                    per: "word",
                                    preset: "fade-in-blur",
                                    speedReveal: 3,
                                    delay: 1.9,
                                    className: "text-[#B4B5B9] text-sm",
                                    children: "Be clear on goals upfront, keep examples concrete, and summarize with next steps."
                                })]
                            })]
                        })]
                    }), l.jsxs(Nc, {
                        className: "relative w-full flex justify-center items-center",
                        containerProps: {
                            initial: {
                                opacity: 0,
                                y: 4
                            },
                            animate: {
                                opacity: 1,
                                y: 0
                            },
                            transition: {
                                type: "spring",
                                stiffness: 800,
                                damping: 75,
                                delay: 3
                            },
                            style: {
                                width: "100%",
                                background: "radial-gradient(48.62% 58.13% at 76.04% 10.42%, #00A9FE 0%, rgba(220, 221, 230, 0.00) 100%), conic-gradient(from 180deg at 50% 50%, rgba(62, 66, 190, 0.20) 69.23077046871185deg, rgba(44, 184, 255, 0.20) 197.30769395828247deg, rgba(155, 77, 250, 0.20) 271.7307758331299deg), #696B7E"
                            }
                        },
                        children: [l.jsx(V.div, {
                            className: "absolute inset-px opacity-70 rounded-[inherit]",
                            style: {
                                background: n,
                                filter: "blur(12px)"
                            }
                        }), l.jsx("div", {
                            className: "relative z-10 flex items-center gap-2.5",
                            children: "Show full summary"
                        })]
                    })]
                })]
            })
        })
    })
}
const R2 = ({
    text: e,
    icon: t
}) => l.jsxs("div", {
    className: "flex items-center justify-between",
    children: [l.jsxs("div", {
        className: "flex items-center gap-2",
        children: [l.jsx(t, {
            className: "size-4 text-ob-tertiary shrink-0"
        }), l.jsx("p", {
            className: "text-ob-primary text-sm",
            children: e
        })]
    }), l.jsx(Za, {
        className: "size-4 text-ob-primary"
    })]
});

function N1() {
    const e = Us(),
        {
            userInstructionsQuery: t
        } = Zs(e);
    return h.useMemo(() => {
        const r = t.data;
        return r ? r.instructions.find(s => s.id === r.activeInstructionId)?.displayName : void 0
    }, [t.data])
}

function aq(e) {
    return e === "Student" ? "Answer the quiz question" : e === "Looking for a job" ? "Help me pass this assessment" : e === "Professional" ? "Summarize this report" : "Is this legit?"
}

function oq({
    step: e,
    setStep: t
}) {
    const {
        setMetadataIfLoaded: n
    } = Or(), r = N1(), [i, s] = h.useState([{
        type: mn.GENERATE,
        text: "Give me helpful information"
    }, {
        type: mn.SUGGEST,
        text: "Suggest follow-up questions"
    }]), [, a] = h.useState(!1), o = h.useMemo(() => aq(r), [r]);
    return h.useEffect(() => {
        const c = async () => {
            if (!r) {
                n(d => ({
                    ...d,
                    isOnboardingComplete: !0
                }));
                return
            }
            await De(1500), a(!0), Se(`${Fe}#post-mode-suggestions`, {
                opacity: 1,
                translateZ: 0,
                y: 0
            }, {
                type: "spring",
                stiffness: 700,
                damping: 70
            }), await De(500), s(d => [{
                type: mn.SUGGEST,
                text: o
            }, ...d]), await De(1e3), yt.set("calc(14.25rem + 12rem)", "calc(42rem + 6rem)"), yt.moveTo("14.25rem", "42rem"), yt.hover()
        }, u = async () => {
            await De(100), await Se(`${Fe}#post-mode-suggestions`, {
                opacity: 0,
                y: -12,
                translateZ: 100
            }, {
                duration: .3,
                ease: "easeOut"
            }), await De(50), await Se(`${Fe}#video`, {
                opacity: 0,
                y: -12,
                translateZ: 100
            }, {
                duration: .3,
                ease: "easeOut"
            }), await Se(`${Fe}.background`, {
                opacity: 0
            }, {
                duration: .5,
                ease: "easeOut"
            }), n(d => ({
                ...d,
                isOnboardingComplete: !0
            }))
        };
        e === _e.OPEN_SUGGESTIONS && c(), e === _e.FINISH_SUGGESTIONS && u()
    }, [e, o, r, n]), e < _e.OPEN_SUGGESTIONS ? null : l.jsx("div", {
        className: "fixed inset-0 flex justify-start items-start p-32 perspective-midrange pointer-events-none",
        children: l.jsxs("div", {
            id: "post-mode-suggestions",
            className: "onboarding-bg onboarding-border w-[750px] rounded-3xl h-fit relative flex flex-col gap-4 justify-start items-start origin-center pb-4 pointer-events-auto",
            style: {
                opacity: 0,
                transform: "translateZ(100px) translateY(20px)"
            },
            children: [l.jsxs("div", {
                className: "py-6 pb-2 px-6 flex gap-2 text-[18px] tracking-[-2%] font-medium",
                children: [l.jsx(pr, {
                    className: "size-6 inline-block fill-white"
                }), l.jsx("span", {
                    className: "inline-block",
                    children: "Suggestions"
                })]
            }), l.jsx("div", {
                className: "size-full pb-2",
                children: l.jsx("div", {
                    className: "w-full h-full flex flex-col relative",
                    style: {
                        maxHeight: "100%"
                    },
                    children: l.jsx("div", {
                        className: "w-full px-6 flex flex-col",
                        id: "post-mode-suggestions-list",
                        children: i.map((c, u) => l.jsx(V.div, {
                            initial: {
                                height: 0
                            },
                            animate: {
                                height: 56
                            },
                            transition: {
                                type: "spring",
                                stiffness: 500,
                                damping: 46
                            },
                            children: l.jsx(V.div, {
                                initial: {
                                    opacity: u === 0 && i.length === 3 ? 0 : 1
                                },
                                animate: {
                                    opacity: 1
                                },
                                transition: {
                                    duration: .14,
                                    delay: .3,
                                    ease: "easeOut"
                                },
                                children: l.jsx(cq, {
                                    text: c.text,
                                    type: c.type,
                                    isPrimary: u === 0 && i.length === 3,
                                    onClick: () => {
                                        yt.fadeOut(), t(_e.FINISH_SUGGESTIONS)
                                    }
                                })
                            })
                        }, c.text))
                    })
                })
            })]
        })
    })
}
const lq = V.create(X.HeadlessButton);

function cq({
    text: e,
    type: t,
    isPrimary: n,
    onClick: r
}) {
    const i = t === mn.SUGGEST ? hb : fb;
    return l.jsxs(lq, {
        className: Q("flex gap-3 items-center py-3 relative w-full px-8 before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:size-2 before:rounded-full before:bg-ob-secondary rounded-2xl", n ? "cursor-pointer group hover:scale-[1.02] active:scale-[0.98] transition-transform duration-150 ease-out" : "opacity-40"),
        style: {
            boxShadow: n ? "0 0 10px 0 rgba(255, 255, 255, 0.6)" : "none"
        },
        animate: n && {
            y: [0, -4, 0]
        },
        transition: {
            repeat: 1 / 0,
            duration: 2,
            ease: "easeInOut"
        },
        onClick: r,
        onKeyDown: s => {
            (s.key === "Enter" || s.key === " ") && r?.()
        },
        children: [l.jsx("div", {
            className: Q("background opacity-0 absolute inset-0 -left-1 -right-1 rounded-2xl -z-10 p-[0.5px]", n ? "group-hover:opacity-100 transition-opacity duration-150 ease-out" : ""),
            style: {
                background: "radial-gradient(350.13% 122.77% at 44.42% 50.94%, #FFF 0%, #5C5C62 100%)"
            },
            children: l.jsx("div", {
                className: "bg-[#131418] rounded-2xl size-full"
            })
        }), l.jsx(i, {
            className: "size-9"
        }), l.jsx("span", {
            className: "tracking-[2%] text-2xl text-ob-primary",
            children: e
        })]
    })
}

function uq({
    step: e,
    setStep: t
}) {
    return h.useEffect(() => {
        const n = async () => {
            await De(1e4), await Se(`${Fe}#brief`, {
                translateZ: 100,
                opacity: 0,
                y: -8
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            }), t(_e.START_INSIGHTS)
        };
        e === _e.PRE_CALL && n()
    }, [e, t]), e !== _e.PRE_CALL ? null : l.jsx("div", {
        className: "fixed inset-0 flex justify-start items-start p-32 perspective-midrange",
        children: l.jsxs(V.div, {
            className: "onboarding-bg onboarding-border w-[600px] rounded-3xl h-fit relative flex flex-col justify-start items-start origin-center pb-4",
            initial: {
                opacity: 0,
                translateZ: 100,
                y: 20
            },
            animate: {
                opacity: 1,
                translateZ: 0,
                y: 0
            },
            id: "brief",
            transition: {
                type: "spring",
                stiffness: 800,
                damping: 75,
                delay: .5
            },
            children: [l.jsxs("div", {
                className: "py-6 pb-4 px-6 flex gap-2 text-[18px] tracking-[-2%] font-medium",
                children: [l.jsx("div", {
                    className: "size-6 shrink-0",
                    children: l.jsx(pr, {
                        className: "size-6 inline-block fill-white"
                    })
                }), l.jsx("span", {
                    className: "inline-block",
                    children: "Meeting Brief"
                })]
            }), l.jsxs(V.div, {
                className: "flex flex-col gap-3 px-6 pb-6",
                children: [l.jsxs("div", {
                    className: "flex items-center text-ob-secondary tracking-tight font-medium",
                    children: [l.jsx("div", {
                        className: "px-3 py-1.5 rounded-lg",
                        style: {
                            background: "radial-gradient(63.05% 62.91% at 50% 50%, rgba(32, 73, 155, 0.20) 61.53%, rgba(34, 54, 95, 0.00) 100%), #161C27",
                            boxShadow: "0 4px 14px 0 rgba(32, 73, 155, 0.40), 0 -1px 0 0 #0D1119 inset, 0 1px 0 0 #596783 inset, 0 0 0 1px #293854"
                        },
                        children: "Roy Lee"
                    }), l.jsx("div", {
                        className: "p-1.5 pl-3",
                        children: "Alex Chen"
                    }), l.jsx("div", {
                        className: "p-1.5",
                        children: "Neel Shanmugam"
                    })]
                }), l.jsxs("div", {
                    className: "flex flex-col gap-4 w-full",
                    children: [l.jsxs("div", {
                        className: "flex flex-col gap-2",
                        children: [l.jsx(V.p, {
                            className: "text-ob-tertiary font-medium text-sm tracking-tight",
                            initial: {
                                opacity: 0,
                                y: 2
                            },
                            animate: {
                                opacity: 1,
                                y: 0
                            },
                            transition: {
                                duration: .14,
                                ease: "easeOut",
                                delay: 1
                            },
                            children: "About"
                        }), l.jsx(nd, {
                            as: "p",
                            per: "char",
                            className: "text-ob-primary",
                            preset: "fade-in-blur",
                            delay: 1.1,
                            speedSegment: 2,
                            speedReveal: 2,
                            children: "21-year-old CEO of Cluely, an AI startup known for its undetectable cheating tool"
                        })]
                    }), l.jsxs("div", {
                        className: "flex gap-3 items-center",
                        children: [l.jsxs("div", {
                            className: "flex gap-1.5 items-center",
                            children: [l.jsxs("div", {
                                className: "flex gap-1.5 items-center",
                                children: [l.jsx(V.div, {
                                    initial: {
                                        opacity: 0,
                                        x: -6
                                    },
                                    animate: {
                                        opacity: 1,
                                        x: 0
                                    },
                                    transition: {
                                        duration: .14,
                                        ease: "easeOut",
                                        delay: 4
                                    },
                                    children: l.jsx(T$, {
                                        className: "size-4 text-ob-tertiary"
                                    })
                                }), l.jsx(V.p, {
                                    initial: {
                                        opacity: 0,
                                        x: -2
                                    },
                                    animate: {
                                        opacity: 1,
                                        x: 0
                                    },
                                    transition: {
                                        duration: .14,
                                        ease: "easeOut",
                                        delay: 4.1
                                    },
                                    className: "text-ob-secondary font-medium text-sm whitespace-nowrap",
                                    children: "CEO"
                                })]
                            }), l.jsx(V.div, {
                                initial: {
                                    opacity: 0,
                                    x: -6
                                },
                                animate: {
                                    opacity: 1,
                                    x: 0
                                },
                                transition: {
                                    duration: .14,
                                    ease: "easeOut",
                                    delay: 4.7
                                },
                                children: l.jsx(tg, {
                                    className: "size-4 text-ob-tertiary"
                                })
                            }), l.jsx(V.p, {
                                initial: {
                                    opacity: 0,
                                    x: -2
                                },
                                animate: {
                                    opacity: 1,
                                    x: 0
                                },
                                transition: {
                                    duration: .14,
                                    ease: "easeOut",
                                    delay: 4.8
                                },
                                className: "text-ob-secondary font-medium text-sm whitespace-nowrap",
                                children: "San Francisco"
                            })]
                        }), l.jsxs("div", {
                            className: "flex gap-1.5 items-center",
                            children: [l.jsx(V.div, {
                                initial: {
                                    opacity: 0,
                                    x: -6
                                },
                                animate: {
                                    opacity: 1,
                                    x: 0
                                },
                                transition: {
                                    duration: .14,
                                    ease: "easeOut",
                                    delay: 5.4
                                },
                                children: l.jsx(Oy, {
                                    className: "size-4 text-ob-tertiary"
                                })
                            }), l.jsx(V.p, {
                                initial: {
                                    opacity: 0,
                                    x: -2
                                },
                                animate: {
                                    opacity: 1,
                                    x: 0
                                },
                                transition: {
                                    duration: .14,
                                    ease: "easeOut",
                                    delay: 5.5
                                },
                                className: "text-ob-secondary font-medium text-sm whitespace-nowrap",
                                children: "Columbia University"
                            })]
                        }), l.jsx(V.hr, {
                            initial: {
                                opacity: 0,
                                scaleX: 0
                            },
                            animate: {
                                opacity: 1,
                                scaleX: 1
                            },
                            transition: {
                                duration: .4,
                                ease: "easeOut",
                                delay: 6.1
                            },
                            className: "w-full border-ob-divider origin-left"
                        })]
                    }), l.jsxs("div", {
                        className: "flex flex-col gap-2",
                        children: [l.jsxs(V.div, {
                            initial: {
                                opacity: 0,
                                y: 6
                            },
                            animate: {
                                opacity: 1,
                                y: 0
                            },
                            transition: {
                                duration: .14,
                                ease: "easeOut",
                                delay: 6.8
                            },
                            className: "flex gap-1.5 items-center text-ob-tertiary",
                            children: [l.jsx(r1, {
                                className: "size-4"
                            }), l.jsx("div", {
                                className: "font-medium text-sm tracking-tight",
                                children: "2 past meetings with Roy"
                            }), l.jsx(Qa, {
                                className: "size-4"
                            })]
                        }), l.jsx(nd, {
                            as: "p",
                            per: "char",
                            className: "text-ob-primary",
                            preset: "fade-in-blur",
                            delay: 7,
                            speedSegment: 3,
                            speedReveal: 3,
                            children: "Technical interview with strong problem-solving, coding skills with clear reasoning, and good communication 4 days ago, and a behavioral interview with effective teamwork and adaptability."
                        })]
                    })]
                })]
            })]
        })
    })
}

function dq() {
    const {
        setMetadataIfLoaded: e
    } = Or(), t = at();
    return l.jsxs(V.div, {
        className: "absolute bottom-4 right-4 rounded-full bg-[#4D4F62] hover:bg-[#5D5F77] transition-colors ease-out duration-150 cursor-pointer pl-4 pr-3 py-2 text-white text-sm font-medium flex gap-1.5 items-center",
        style: {
            boxShadow: "0 0 0 1px #2d314f, 0 4px 4px 0 rgba(0, 0, 0, 0.25)"
        },
        initial: {
            opacity: 0
        },
        animate: {
            opacity: 1
        },
        transition: {
            duration: .5,
            delay: 3
        },
        onClick: async () => {
            await Se(".onboarding", {
                opacity: 0
            }, {
                duration: .1,
                ease: "easeInOut"
            }), e(n => ({
                ...n,
                isOnboardingComplete: !0
            })), t.capture(ge.ONBOARDING_V2_SKIPPED)
        },
        children: ["Skip", l.jsx(o$, {
            className: "size-4.5"
        })]
    })
}

function fq(e) {
    return Yt({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"
            },
            child: []
        }]
    })(e)
}

function hq(e) {
    return Yt({
        attr: {
            viewBox: "0 0 20 20",
            fill: "currentColor",
            "aria-hidden": "true"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"
            },
            child: []
        }]
    })(e)
}
const O2 = Pt("chat", [
        ["path", {
            d: "M6.5 1C9.2615 1 11.5 3.2385 11.5 6C11.5 8.7615 9.2615 11 6.5 11H2.5C2.23478 11 1.98043 10.8946 1.79289 10.7071C1.60536 10.5196 1.5 10.2652 1.5 10V6C1.5 3.2385 3.7385 1 6.5 1ZM6.5 7H5C4.86739 7 4.74021 7.05268 4.64645 7.14645C4.55268 7.24021 4.5 7.36739 4.5 7.5C4.5 7.63261 4.55268 7.75979 4.64645 7.85355C4.74021 7.94732 4.86739 8 5 8H6.5C6.63261 8 6.75979 7.94732 6.85355 7.85355C6.94732 7.75979 7 7.63261 7 7.5C7 7.36739 6.94732 7.24021 6.85355 7.14645C6.75979 7.05268 6.63261 7 6.5 7ZM8 5H5C4.87256 5.00014 4.74998 5.04894 4.65732 5.13642C4.56465 5.22391 4.50888 5.34348 4.50141 5.4707C4.49395 5.59792 4.53534 5.72319 4.61713 5.82092C4.69893 5.91864 4.81495 5.98145 4.9415 5.9965L5 6H8C8.12744 5.99986 8.25002 5.95106 8.34268 5.86358C8.43535 5.77609 8.49112 5.65652 8.49859 5.5293C8.50605 5.40208 8.46466 5.27681 8.38287 5.17908C8.30107 5.08136 8.18505 5.01855 8.0585 5.0035L8 5Z",
            fill: "currentColor"
        }]
    ], "0 0 12 13"),
    pq = Pt("share", [
        ["path", {
            d: "M10 6L6.8 2.5V4.25C5.2 4.25 2 5.3 2 9.5C2 8.9165 2.96 7.75 6.8 7.75V9.5L10 6Z",
            stroke: "currentColor",
            strokeWidth: 2,
            strokeLinecap: "round",
            fill: "currentColor"
        }]
    ], "0 0 12 12"),
    P2 = "" + new URL("curious-labubu-Cut-ScqS.png", import.meta.url).href,
    mq = "" + new URL("curious-map-ZA_99ClR.png", import.meta.url).href,
    gq = "" + new URL("curious-roy-C6tDVXVb.png", import.meta.url).href;

function L2() {
    return l.jsxs("div", {
        className: "flex items-start justify-start relative bg-white rounded-[22px] size-full overflow-hidden",
        children: [l.jsxs("div", {
            className: "relative w-full h-full overflow-hidden flex",
            children: [l.jsx("img", {
                src: P2,
                className: "brightness-75 absolute -top-40 -bottom-8 w-full scale-110 blur-lg"
            }), l.jsx("div", {
                className: "grow flex justify-center items-center z-10",
                children: l.jsx("div", {
                    className: "rounded-full bg-white flex justify-center items-center size-7",
                    children: l.jsx(fg, {
                        className: "size-5 text-black stroke-2"
                    })
                })
            }), l.jsx("div", {
                className: "h-full w-[350px] shrink-0 z-10 flex justify-center items-center",
                children: l.jsx("img", {
                    src: P2,
                    className: "object-cover aspect-[0.74] rounded-lg",
                    style: {
                        boxShadow: "0 4px 44.5px 0 rgba(0, 0, 0, 0.25)"
                    }
                })
            }), l.jsx("div", {
                className: "grow flex justify-center items-center z-10",
                children: l.jsx("div", {
                    className: "rounded-full bg-white flex justify-center items-center size-7",
                    children: l.jsx(Qa, {
                        className: "size-5 text-black stroke-2"
                    })
                })
            })]
        }), l.jsxs("div", {
            className: "flex flex-col w-[344px] shrink-0",
            children: [l.jsxs("div", {
                className: "flex flex-row gap-2 justify-end items-center p-2 border-b border-[#CACBD2]",
                children: [l.jsx("div", {
                    className: "size-8 flex justify-center items-center rounded-full bg-[#CED7DE]",
                    children: l.jsx(cW, {
                        className: "size-4 text-black"
                    })
                }), l.jsx("div", {
                    className: "size-8 flex justify-center items-center rounded-full bg-[#CED7DE]",
                    children: l.jsx(O2, {
                        className: "size-4 text-black"
                    })
                }), l.jsx("div", {
                    className: "size-8 flex justify-center items-center rounded-full bg-[#CED7DE]",
                    children: l.jsx(fq, {
                        className: "size-4 text-black"
                    })
                }), l.jsx("img", {
                    src: gq,
                    className: "size-8 rounded-full"
                })]
            }), l.jsxs("div", {
                className: "w-full h-full p-4 flex justify-start items-start gap-2.5 flex-col text-black",
                children: [l.jsx("h2", {
                    className: "font-bold",
                    children: "Dada Have A Seat / HAS Labubu FT - FS"
                }), l.jsx("p", {
                    className: "text-sm",
                    children: "$45"
                }), l.jsxs("div", {
                    className: "flex items-center gap-1.5 w-full",
                    children: [l.jsxs("div", {
                        className: "bg-[#CED7DE] rounded-sm flex gap-1 justify-center items-center text-sm grow w-full font-medium h-8",
                        children: [l.jsx(O2, {
                            className: "size-4 text-black"
                        }), "Message"]
                    }), l.jsx("div", {
                        className: "bg-[#CED7DE] rounded-sm px-2.5 py-1 h-8 flex justify-center items-center",
                        children: l.jsx(Py, {
                            className: "size-3 text-black"
                        })
                    }), l.jsx("div", {
                        className: "bg-[#CED7DE] rounded-sm px-2.5 py-1 h-8 flex justify-center items-center",
                        children: l.jsx(pq, {
                            className: "size-3 text-black"
                        })
                    }), l.jsx("div", {
                        className: "bg-[#CED7DE] rounded-sm px-2.5 py-1 h-8 flex justify-center items-center",
                        children: l.jsx(hq, {
                            className: "size-3 text-black"
                        })
                    })]
                }), l.jsxs("div", {
                    className: "flex flex-col gap-2",
                    children: [l.jsx("p", {
                        children: "Details"
                    }), l.jsxs("div", {
                        className: "flex w-full items-center",
                        children: [l.jsx("p", {
                            className: "w-1/2 font-medium text-sm",
                            children: "Condition"
                        }), l.jsx("p", {
                            className: "w-1/2 text-sm",
                            children: "New"
                        })]
                    }), l.jsxs("p", {
                        className: "text-sm",
                        children: ["Selling / Trading brand new Dada for a Coke Labubu or for $45 (case not included)", l.jsx("br", {}), l.jsx("br", {}), "- Purchased from Pop Mart TT live", l.jsx("br", {}), "- Authenticity card included (no box/qr code)"]
                    })]
                }), l.jsxs("div", {
                    className: "flex flex-col gap-1 w-full",
                    children: [l.jsx("img", {
                        src: mq,
                        className: "w-full aspect-[2.9] rounded-lg object-cover shadow-md border border-[#CACBD2]"
                    }), l.jsx("p", {
                        children: "Manhattan, NY"
                    })]
                }), l.jsxs("div", {
                    className: "flex flex-col gap-2 w-full",
                    children: [l.jsx("p", {
                        className: "bg-[#EDF0F2] border-[#C0C6CB] border rounded-md w-full h-8 px-2 py-1 text-sm",
                        children: "Hi, is this still available?"
                    }), l.jsx("div", {
                        className: "bg-blue-500 w-full rounded-sm py-1 text-white flex justify-center items-center",
                        children: "Send message"
                    })]
                })]
            })]
        })]
    })
}

function xq() {
    const e = ["It is generally faster to execute and allows you to create a list in a single, concise expression, which can make code easier to read for simple operations.", "It automatically produces a sorted list during creation, eliminating the need to run a separate sort afterward.", "It removes the need for explicitly calling .append() in each loop iteration, which can make the logic clearer and reduce the amount of boilerplate code.", "It generates a list that is fixed and cannot be modified later, which helps maintain data consistency."];
    return l.jsxs("div", {
        className: "flex flex-col items-start bg-[#FFF] rounded-[22px] size-full overflow-hidden",
        children: [l.jsx("div", {
            className: "flex items-center justify-start px-16 py-[11px] w-full bg-[#21629E]",
            children: l.jsxs("div", {
                className: "flex items-center gap-2.5",
                children: [l.jsxs("div", {
                    className: "flex items-center gap-1.5",
                    children: [l.jsx("div", {
                        className: "size-[22px] rounded-sm bg-white"
                    }), l.jsx("div", {
                        className: "text-white font-semibold whitespace-nowrap",
                        children: "LockedIn"
                    })]
                }), l.jsx("div", {
                    className: "w-[68px] h-[13px] bg-[#88AACB] rounded-sm"
                }), l.jsx("div", {
                    className: "w-9 h-[13px] bg-[#88AACB] rounded-sm"
                }), l.jsx("div", {
                    className: "w-[89px] h-3.5 bg-[#88AACB] rounded-sm"
                })]
            })
        }), l.jsxs("div", {
            className: "flex flex-col rounded-2xl border border-[#434755] m-8 bg-[#F7F8FB] mx-auto overflow-hidden w-[800px] h-full",
            children: [l.jsxs("div", {
                className: "bg-[#434755] h-10 justify-between items-center px-4 flex",
                children: [l.jsx("p", {
                    className: "text-white font-semibold text-base",
                    children: "Python Skill Assessment"
                }), l.jsxs("div", {
                    className: "flex items-center gap-2 text-[#D7D7D7]",
                    children: [l.jsx(I8, {
                        className: "size-4"
                    }), l.jsx("p", {
                        className: "text-xs font-semibold",
                        children: "24 min"
                    })]
                })]
            }), l.jsxs("div", {
                className: "flex flex-col justify-start items-start gap-2.5 p-4 max-w-[580px]",
                children: [l.jsx("p", {
                    className: "text-black font-semibold text-base",
                    children: "Why might you prefer using a list comprehension instead of a for-loop?"
                }), l.jsx("div", {
                    className: "flex flex-col justify-start items-start gap-2.5",
                    children: e.map(t => l.jsx(vq, {
                        text: t
                    }, t))
                })]
            })]
        })]
    })
}
const vq = ({
        text: e
    }) => l.jsxs("div", {
        className: "flex flex-row items-center gap-2.5",
        children: [l.jsx("div", {
            className: "size-4 border border-[#3C4D70] bg-[#EFF0F2] rounded-full shrink-0"
        }), l.jsx("p", {
            className: "text-[13px] text-black",
            children: e
        })]
    }),
    bq = "" + new URL("onboardingProfessionalChart-3oQmD6ho.png", import.meta.url).href;

function yq() {
    const e = [{
        width: "w-[100px]"
    }, {
        width: "w-16"
    }, {
        width: "w-16"
    }, {
        width: "w-16"
    }, {
        width: "w-16"
    }, {
        width: "w-16"
    }, {
        width: "w-16"
    }];
    return l.jsx("div", {
        className: "flex flex-col size-full items-center justify-center relative bg-[#313131] rounded-[22px] overflow-hidden shadow-[0px_8px_8px_#00000040] bg-[linear-gradient(180deg,rgba(235,236,239,1)_0%,rgba(219,225,238,1)_100%)]",
        children: l.jsxs("div", {
            className: "flex flex-col justify-center items-start gap-6 p-12 w-full",
            children: [l.jsx("div", {
                className: "flex flex-col items-start gap-3",
                children: l.jsxs("div", {
                    className: "flex flex-col items-start gap-0.5",
                    children: [l.jsx("div", {
                        className: "font-medium text-[#adb0be] tracking-[-0.24px] leading-tight",
                        children: "Sales 3/12"
                    }), l.jsx("h1", {
                        className: "font-semibold text-[#202a57] text-4xl tracking-[-0.52px] whitespace-nowrap",
                        children: "User onboarding funnel"
                    })]
                })
            }), l.jsx("img", {
                src: bq,
                className: "w-[45rem] aspect-[620/287] mx-auto"
            }), l.jsx("div", {
                className: "flex flex-wrap w-[362px] items-start gap-[6px_6px] relative flex-[0_0_auto]",
                role: "presentation",
                "aria-hidden": "true",
                children: e.map((t, n) => l.jsx("div", {
                    className: `${t.width} relative h-4.5 bg-[#cfd5e4] rounded`
                }, n))
            })]
        })
    })
}

function wq() {
    return l.jsxs("div", {
        className: "flex flex-col items-start relative bg-[#f7f3f0] rounded-[22px] size-full overflow-hidden",
        children: [l.jsxs("div", {
            className: "flex items-center justify-between px-16 py-[11px] w-full bg-[#fbe4ca] border-b [border-bottom-style:solid] border-[#c7cfda]",
            children: [l.jsxs("div", {
                className: "flex items-center gap-2.5",
                children: [l.jsxs("div", {
                    className: "flex items-center gap-1.5",
                    children: [l.jsx(Sq, {}), l.jsx("div", {
                        className: "text-[#4c270c] font-semibold whitespace-nowrap",
                        children: "Quizly"
                    })]
                }), l.jsx("div", {
                    className: "w-[68px] h-[13px] bg-[#e8d0b5] rounded-sm"
                }), l.jsx("div", {
                    className: "w-9 h-[13px] bg-[#e8d0b5] rounded-sm"
                }), l.jsx("div", {
                    className: "w-[89px] h-3.5 bg-[#e8d0b5] rounded-sm"
                })]
            }), l.jsxs("div", {
                className: "flex items-center justify-center gap-2.5 px-0 py-[5px]",
                children: [l.jsx("div", {
                    className: "p-px w-[120px] h-2 bg-[#edd4b8] rounded-full overflow-hidden",
                    children: l.jsx("div", {
                        className: "w-[85px] h-1.5 bg-[#482c0c] rounded-full"
                    })
                }), l.jsx("div", {
                    className: "text-[#614c3c] text-sm font-medium whitespace-nowrap",
                    children: "11/16"
                })]
            })]
        }), l.jsxs("div", {
            className: "flex flex-col items-start gap-4 px-16 py-8 self-stretch w-[800px] mx-auto",
            children: [l.jsx("p", {
                className: "w-[600px] text-xl text-black font-medium",
                children: "Which financial statement shows a companys assets, liabilities, and equity at a specific point in time?"
            }), l.jsxs("div", {
                className: "grid grid-cols-2 grid-rows-2 h-40 gap-2.5 w-full",
                children: [l.jsx("div", {
                    className: "row-[1_/_2] col-[2_/_3] w-full h-full flex items-center justify-center gap-2.5 bg-[#e1ddda] rounded-2xl overflow-hidden",
                    children: l.jsx("div", {
                        className: "font-medium text-black text-base",
                        children: "Income statement"
                    })
                }), l.jsx("div", {
                    className: "row-[1_/_2] col-[1_/_2] w-full h-full flex items-center justify-center gap-2.5 bg-[#e1ddda] rounded-2xl overflow-hidden",
                    children: l.jsx("div", {
                        className: "font-medium text-black text-base",
                        children: "Cash flow statement"
                    })
                }), l.jsx("div", {
                    className: "row-[2_/_3] col-[1_/_2] w-full h-full flex items-center justify-center gap-2.5 bg-[#e1ddda] rounded-2xl overflow-hidden",
                    children: l.jsx("div", {
                        className: "font-medium text-black text-base",
                        children: "Balance sheet"
                    })
                }), l.jsx("div", {
                    className: "row-[2_/_3] col-[2_/_3] w-full h-full flex items-center justify-center gap-2.5 bg-[#e1ddda] rounded-2xl overflow-hidden",
                    children: l.jsx("div", {
                        className: "font-medium text-black text-base",
                        children: "Statement of retained earnings"
                    })
                })]
            })]
        })]
    })
}
const Sq = () => l.jsxs("svg", {
    width: "22",
    height: "24",
    viewBox: "0 0 22 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    children: [l.jsx("title", {
        children: "Quizly"
    }), l.jsx("path", {
        d: "M8.5 1.44338C10.047 0.550212 11.953 0.550212 13.5 1.44338L18.8923 4.55662C20.4393 5.44979 21.3923 7.10042 21.3923 8.88675V15.1132C21.3923 16.8996 20.4393 18.5502 18.8923 19.4434L13.5 22.5566C11.953 23.4498 10.047 23.4498 8.5 22.5566L3.1077 19.4434C1.56069 18.5502 0.607696 16.8996 0.607696 15.1132V8.88675C0.607696 7.10042 1.56069 5.44979 3.1077 4.55662L8.5 1.44338Z",
        fill: "url(#paint0_linear_1_2093)"
    }), l.jsx("defs", {
        children: l.jsxs("linearGradient", {
            id: "paint0_linear_1_2093",
            x1: "15.9716",
            y1: "4.75687e-08",
            x2: "6.02837",
            y2: "24",
            gradientUnits: "userSpaceOnUse",
            children: [l.jsx("stop", {
                "stop-color": "#F7B76E"
            }), l.jsx("stop", {
                offset: "1",
                "stop-color": "#E0B17C"
            })]
        })
    })]
});

function Cq(e) {
    const [t, n] = h.useState(null);
    return h.useEffect(() => {
        n(null);
        let r = !1,
            i;
        const s = new AbortController;
        return (async () => {
            try {
                const o = await fetch(e, {
                    signal: s.signal
                });
                if (!o.ok) return;
                const c = await o.blob();
                if (r) return;
                i = URL.createObjectURL(c), n(i)
            } catch {
                console.error("Failed to fetch video")
            }
        })(), () => {
            r = !0, s.abort(), i && URL.revokeObjectURL(i)
        }
    }, [e]), t
}
const kq = Pt("meet-camera", [
        ["rect", {
            width: 33,
            height: 33,
            rx: 16.5,
            fill: "#545454"
        }],
        ["path", {
            d: "M10.125 13.8359C10.125 13.2661 10.3514 12.7197 10.7543 12.3168C11.1572 11.9139 11.7036 11.6875 12.2734 11.6875H17.2578C17.8276 11.6875 18.3741 11.9139 18.777 12.3168C19.1799 12.7197 19.4062 13.2661 19.4062 13.8359V19.1641C19.4062 19.7339 19.1799 20.2803 18.777 20.6832C18.3741 21.0861 17.8276 21.3125 17.2578 21.3125H12.2734C11.7036 21.3125 11.1572 21.0861 10.7543 20.6832C10.3514 20.2803 10.125 19.7339 10.125 19.1641V13.8359ZM22.1243 20.4249L20.0938 19.0228V13.9765L22.1243 12.5747C22.8654 12.0632 23.8764 12.5936 23.8764 13.4942V19.5054C23.8764 20.406 22.8654 20.9364 22.1243 20.4249Z",
            fill: "white"
        }]
    ], "0 0 33 33"),
    Eq = Pt("meet-end", [
        ["rect", {
            width: 48,
            height: 33,
            rx: 16.5,
            fill: "#E9423A"
        }],
        ["path", {
            d: "M15.881 18.975v-3.449l-1.21 1.22a.619.619 0 0 1-.879-.872l2.269-2.285a.62.62 0 0 1 .878 0l2.269 2.285.042.047a.619.619 0 0 1-.874.868l-.046-.043-1.211-1.22v3.45a.619.619 0 1 1-1.238 0",
            fill: "white"
        }],
        ["path", {
            d: "M23.9997 11.5C21.3458 11.5 18.8784 11.9552 17.0659 12.7411C15.306 13.5038 13.921 14.7004 14.0035 16.2764L14.007 16.3176L14.287 18.5185C14.3253 18.8197 14.4275 19.1104 14.5874 19.3732C14.7474 19.6361 14.9618 19.8655 15.2177 20.0479C15.4736 20.2302 15.7659 20.3616 16.0768 20.4341C16.3877 20.5067 16.7109 20.5189 17.0269 20.4701L19.5829 20.0755C20.0075 20.0099 20.4011 19.8237 20.7116 19.5415C21.0221 19.2593 21.2349 18.8945 21.3218 18.4953L21.7893 16.3479C21.7914 16.3383 21.7951 16.329 21.8003 16.3205C22.1773 16.1978 22.9328 16.0083 24.0002 16.0083C25.0672 16.0083 25.8227 16.1978 26.1997 16.3209C26.203 16.3247 26.2067 16.3337 26.2107 16.3479L26.6782 18.4953C26.7651 18.8945 26.9779 19.2593 27.2884 19.5415C27.5989 19.8237 27.9925 20.0099 28.4171 20.0755L30.9725 20.4706C31.2886 20.5195 31.6119 20.5073 31.9228 20.4348C32.2338 20.3622 32.5261 20.2308 32.7821 20.0485C33.0381 19.8662 33.2525 19.6367 33.4125 19.3739C33.5725 19.111 33.6747 18.8202 33.713 18.5189L33.993 16.3181L33.9965 16.2764C34.0795 14.7004 32.6935 13.5038 30.934 12.7411C29.1216 11.9552 26.6542 11.5 23.9997 11.5Z",
            fill: "white"
        }]
    ], "0 0 48 33"),
    Nq = Pt("meet-mic", [
        ["rect", {
            width: 33,
            height: 33,
            rx: 16.5,
            fill: "#545454"
        }],
        ["path", {
            d: "M16.5 18.375C15.9271 18.375 15.4401 18.1745 15.0391 17.7734C14.638 17.3724 14.4375 16.8854 14.4375 16.3125V12.1875C14.4375 11.6146 14.638 11.1276 15.0391 10.7266C15.4401 10.3255 15.9271 10.125 16.5 10.125C17.0729 10.125 17.5599 10.3255 17.9609 10.7266C18.362 11.1276 18.5625 11.6146 18.5625 12.1875V16.3125C18.5625 16.8854 18.362 17.3724 17.9609 17.7734C17.5599 18.1745 17.0729 18.375 16.5 18.375ZM15.8125 22.5V21.0734C14.7583 20.9245 13.8561 20.4776 13.1058 19.7328C12.3555 18.988 11.8999 18.0828 11.7391 17.0172C11.7161 16.8224 11.7677 16.6563 11.8937 16.5188C12.0198 16.3813 12.1802 16.3125 12.375 16.3125C12.5698 16.3125 12.7332 16.3785 12.8652 16.5105C12.9972 16.6425 13.0859 16.8057 13.1312 17C13.2917 17.8021 13.6899 18.4609 14.3261 18.9766C14.9623 19.4922 15.6869 19.75 16.5 19.75C17.325 19.75 18.0526 19.4894 18.6828 18.9683C19.313 18.4472 19.7083 17.7911 19.8687 17C19.9146 16.8052 20.0035 16.642 20.1355 16.5105C20.2675 16.379 20.4307 16.313 20.625 16.3125C20.8193 16.312 20.9797 16.3808 21.1062 16.5188C21.2327 16.6567 21.2843 16.8229 21.2609 17.0172C21.1005 18.0599 20.6479 18.9594 19.9031 19.7156C19.1583 20.4719 18.2531 20.9245 17.1875 21.0734V22.5C17.1875 22.6948 17.1215 22.8582 16.9895 22.9902C16.8575 23.1222 16.6943 23.188 16.5 23.1875C16.3057 23.187 16.1425 23.121 16.0105 22.9895C15.8785 22.858 15.8125 22.6948 15.8125 22.5Z",
            fill: "white"
        }]
    ], "0 0 33 33"),
    Aq = Pt("meet-ss", [
        ["rect", {
            width: 33,
            height: 33,
            rx: 16.5,
            fill: "#545454"
        }],
        ["path", {
            d: "M15.881 18.975v-3.449l-1.21 1.22a.619.619 0 0 1-.879-.872l2.269-2.285a.62.62 0 0 1 .878 0l2.269 2.285.042.047a.619.619 0 0 1-.874.868l-.046-.043-1.211-1.22v3.45a.619.619 0 1 1-1.238 0",
            fill: "white"
        }],
        ["path", {
            d: "M22.688 23.925H10.313a3.3 3.3 0 0 1-3.3-3.3v-8.25a3.3 3.3 0 0 1 3.3-3.3h12.375a3.3 3.3 0 0 1 3.3 3.3v8.25a3.3 3.3 0 0 1-3.3 3.3m0-1.65H10.313a1.65 1.65 0 0 1-1.65-1.65v-8.25c0-.911.738-1.65 1.65-1.65h12.375c.91 0 1.65.739 1.65 1.65v8.25a1.65 1.65 0 0 1-1.65 1.65",
            fill: "white",
            fillRule: "evenodd",
            clipRule: "evenodd"
        }]
    ], "0 0 33 33"),
    Tq = Pt("video", [
        ["path", {
            d: "M0 2.33594C0 1.76614 0.226353 1.21967 0.629263 0.816763C1.03217 0.413853 1.57864 0.1875 2.14844 0.1875H7.13281C7.70261 0.1875 8.24908 0.413853 8.65199 0.816763C9.0549 1.21967 9.28125 1.76614 9.28125 2.33594V7.66406C9.28125 8.23386 9.0549 8.78033 8.65199 9.18324C8.24908 9.58615 7.70261 9.8125 7.13281 9.8125H2.14844C1.57864 9.8125 1.03217 9.58615 0.629263 9.18324C0.226353 8.78033 0 8.23386 0 7.66406V2.33594ZM11.9993 8.92494L9.96875 7.52278V2.47653L11.9993 1.07472C12.7404 0.563219 13.7514 1.09362 13.7514 1.99425V8.00541C13.7514 8.90603 12.7404 9.43644 11.9993 8.92494Z",
            fill: "white"
        }]
    ], "0 0 14 10"),
    Iq = "" + new URL("onboardingVideoV2-Bgs8KE5Z.mp4", import.meta.url).href;

function jq({
    step: e,
    setStep: t
}) {
    const n = h.useRef(!1),
        r = Cq(Iq),
        i = h.useRef(null),
        s = h.useRef(0),
        a = Us(),
        {
            userInstructionsQuery: o
        } = Zs(a),
        c = h.useMemo(() => {
            const d = o.data;
            if (!d) return null;
            const m = d.instructions.find(p => p.id === d.activeInstructionId)?.displayName;
            return m === "Looking for a job" ? xq : m === "Student" ? wq : m === "Professional" ? yq : L2
        }, [o.data]);
    h.useEffect(() => {
        const d = async () => {
            await Se(`${Fe}#video`, {
                opacity: 1,
                scale: 1
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58,
                delay: .7
            });
            try {
                await i.current?.play()
            } catch {
                console.error("Failed to play onboarding video")
            }
            await De(600)
        }, f = async () => {
            await Se(`${Fe}#video`, {
                translateZ: -50
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            })
        }, m = async () => {
            await De(5e3), await Se(`${Fe}#video`, {
                translateZ: 0
            }, {
                type: "spring",
                stiffness: 600,
                damping: 58
            })
        };
        if (n.current) return;
        async function p() {
            n.current = !0;
            try {
                e === _e.OPEN_VIDEO && await d(), e === _e.LOAD_INSIGHTS && await f(), e === _e.PRE_CALL && await f(), e === _e.POST_CALL && await m()
            } finally {
                n.current = !1
            }
        }
        p()
    }, [e]), h.useEffect(() => {
        const d = i.current;
        if (!d) return;
        d.controls = !1;
        try {
            d.setAttribute("disablepictureinpicture", "true"), d.setAttribute("controlsList", "nodownload noplaybackrate noremoteplayback nofullscreen")
        } catch {}
        const f = () => {
                s.current = d.currentTime
            },
            m = () => {
                Math.abs(d.currentTime - s.current) > .2 && (d.currentTime = s.current)
            },
            p = () => {
                d.ended || d.play().catch(() => {})
            },
            g = () => {
                d.playbackRate !== 1 && (d.playbackRate = 1)
            },
            x = y => {
                if (d.ended) return;
                [" ", "Spacebar", "ArrowLeft", "ArrowRight", "MediaPlayPause", "MediaTrackNext", "MediaTrackPrevious"].includes(y.key) && (y.preventDefault(), y.stopPropagation())
            };
        return d.addEventListener("timeupdate", f), d.addEventListener("seeking", m), d.addEventListener("pause", p), d.addEventListener("ratechange", g), window.addEventListener("keydown", x, {
            capture: !0
        }), () => {
            d.removeEventListener("timeupdate", f), d.removeEventListener("seeking", m), d.removeEventListener("pause", p), d.removeEventListener("ratechange", g), window.removeEventListener("keydown", x, {
                capture: !0
            })
        }
    }, []);
    const u = () => {
        t(_e.OPEN_SUGGESTIONS)
    };
    return l.jsx("div", {
        className: "fixed inset-0 flex justify-center items-start perspective-midrange pt-[145px]",
        children: l.jsxs(V.div, {
            id: "video",
            style: {
                opacity: 0,
                scale: .9
            },
            className: "bg-[#202020] rounded-3xl overflow-hidden w-fit justify-center items-center",
            children: [l.jsxs("div", {
                className: "w-full h-[38px] bg-[#34353C] flex flex-row gap-2.5 px-4 py-[13px] items-center",
                children: [l.jsxs("div", {
                    className: "flex gap-[5px]",
                    children: [l.jsx("div", {
                        className: "size-3 bg-[#595959] rounded-full"
                    }), l.jsx("div", {
                        className: "size-3 bg-[#595959] rounded-full"
                    }), l.jsx("div", {
                        className: "size-3 bg-[#595959] rounded-full"
                    })]
                }), l.jsxs("div", {
                    className: Q("flex items-center px-2.5 py-1.5 bg-[#4D4F5A] rounded-lg gap-2.5 text-xs font-semibold transition-opacity duration-150 ease-out text-white", e >= _e.OPEN_SUGGESTIONS && "opacity-40"),
                    children: [l.jsx(Tq, {
                        className: "h-3 shrink-0"
                    }), "You <> Roy Lee"]
                }), e >= _e.OPEN_SUGGESTIONS && l.jsx(V.div, {
                    initial: {
                        width: 0
                    },
                    animate: {
                        width: 71
                    },
                    className: "flex items-center px-2.5 py-1.5 bg-[#4D4F5A] rounded-lg gap-2.5 text-xs font-semibold overflow-hidden",
                    children: l.jsxs("div", {
                        className: "flex gap-2.5 items-center min-w-fit shrink-0",
                        children: [l.jsx("div", {
                            className: "size-2.5 rounded-full bg-white"
                        }), "Demo"]
                    })
                })]
            }), l.jsx(cb, {
                className: "flex justify-center items-center",
                children: l.jsx("div", {
                    className: "size-full flex justify-center items-center",
                    children: l.jsx(Ke, {
                        mode: "popLayout",
                        children: e >= _e.OPEN_SUGGESTIONS && c ? l.jsx(V.div, {
                            initial: {
                                opacity: 0,
                                scale: .9
                            },
                            animate: {
                                opacity: 1,
                                scale: 1
                            },
                            exit: {
                                opacity: 0,
                                scale: .9
                            },
                            transition: {
                                duration: .16,
                                ease: "easeOut"
                            },
                            className: "flex flex-col size-fit p-4 h-[600px] w-[60vw] max-w-[64rem]",
                            children: l.jsx(c, {})
                        }, "selected-mode") : l.jsxs(V.div, {
                            initial: {
                                opacity: 0,
                                scale: .9
                            },
                            animate: {
                                opacity: 1,
                                scale: 1
                            },
                            exit: {
                                opacity: 0,
                                scale: .9
                            },
                            transition: {
                                duration: .16,
                                ease: "easeOut"
                            },
                            className: "flex flex-col size-fit p-4 gap-2.5 w-[60vw] max-w-[64rem]",
                            children: [l.jsx("video", {
                                ref: i,
                                autoPlay: !1,
                                muted: !1,
                                width: 856,
                                height: 472,
                                id: "video-player",
                                className: "object-cover rounded-[20px] overflow-hidden aspect-video w-full",
                                onEnded: u,
                                playsInline: !0,
                                children: !!r && l.jsx("source", {
                                    src: r,
                                    type: "video/mp4"
                                })
                            }), l.jsxs("div", {
                                className: "flex h-8 justify-between w-full items-center",
                                children: [l.jsx("span", {
                                    className: "font-medium text-white text-base w-[62px]",
                                    children: "Roy Lee"
                                }), l.jsxs("div", {
                                    className: "flex gap-2 items-center",
                                    children: [l.jsx(Nq, {
                                        className: "size-[33px]"
                                    }), l.jsx(kq, {
                                        className: "size-[33px]"
                                    }), l.jsx(Aq, {
                                        className: "size-[33px]"
                                    }), l.jsx(Eq, {
                                        className: "h-[33px] w-12"
                                    })]
                                }), l.jsx("div", {
                                    className: "h-full w-[62px]"
                                })]
                            })]
                        }, "video")
                    })
                })
            })]
        })
    })
}
var _e = (e => (e[e.INITIAL = 0] = "INITIAL", e[e.LOGO_APPEAR = 1] = "LOGO_APPEAR", e[e.EXPAND_MENU = 2] = "EXPAND_MENU", e[e.OPEN_VIDEO = 3] = "OPEN_VIDEO", e[e.PRE_CALL = 4] = "PRE_CALL", e[e.START_INSIGHTS = 5] = "START_INSIGHTS", e[e.LOAD_INSIGHTS = 6] = "LOAD_INSIGHTS", e[e.CLICK_INSIGHT = 7] = "CLICK_INSIGHT", e[e.OPEN_CHAT = 8] = "OPEN_CHAT", e[e.FINISH_CHAT = 9] = "FINISH_CHAT", e[e.POST_CALL = 10] = "POST_CALL", e[e.OPEN_SUGGESTIONS = 11] = "OPEN_SUGGESTIONS", e[e.FINISH_SUGGESTIONS = 12] = "FINISH_SUGGESTIONS", e))(_e || {});
const Mq = se(function() {
    const t = fo();
    return h.useEffect(() => {
        t && Wl(null)
    }, [t]), t ? l.jsx(Rq, {}) : null
});

function Rq() {
    const [e, t] = h.useState(0), n = h.useRef(!1);
    return h.useEffect(() => {
        if (n.current) return;
        const r = async () => {
            Ll.in(1, 1, "easeInOut"), await De(1500), t(1)
        }, i = async () => {
            await De(50), ir.containerIntro(), ir.appear(), await De(1500), Se("#logo-container", {
                top: "50%"
            }, {
                type: "spring",
                stiffness: 300,
                damping: 25
            }), ir.highlight(), ir.dropIn(), await De(50), await ir.shrink(), t(2)
        };
        async function s() {
            n.current = !0, e === 0 && r(), e === 1 && i(), n.current = !1
        }
        s()
    }, [e]), l.jsx(ld, {
        children: l.jsx(sn, {
            className: "absolute inset-0 z-50",
            children: l.jsxs("div", {
                className: "absolute inset-0 text-ob-primary onboarding",
                children: [l.jsx(E1, {
                    className: "background"
                }), l.jsx(jq, {
                    step: e,
                    setStep: t
                }), l.jsx(uq, {
                    step: e,
                    setStep: t
                }), l.jsx(JW, {
                    step: e,
                    setStep: t
                }), l.jsx(ZW, {
                    step: e,
                    setStep: t
                }), l.jsx(zW, {
                    step: e,
                    setStep: t
                }), l.jsx(sq, {
                    step: e
                }), l.jsx(oq, {
                    step: e,
                    setStep: t
                }), l.jsx(ub, {}), l.jsx(dq, {})]
            })
        })
    })
}
be("set-tray-hidden-state", {
    hidden: !1
});
be("set-tray-logged-in-state", {
    loggedIn: !1
});
be("set-tray-in-session-state", {
    inSession: !1
});

function Oq() {
    const e = es(),
        {
            contextService: t
        } = ke(),
        n = cn(en.TRAY_ENABLED);
    h.useEffect(() => {
        n && be("set-tray-initialized", null)
    }, [n]), h.useEffect(() => {
        e ? be("set-tray-hidden-state", {
            hidden: !0
        }) : be("set-tray-hidden-state", {
            hidden: !1
        })
    }, [e]), h.useEffect(() => (be("set-tray-logged-in-state", {
        loggedIn: !0
    }), () => {
        be("set-tray-logged-in-state", {
            loggedIn: !1
        })
    }), []), h.useEffect(() => {
        t?.isInAudioSessionAndNotPaused ? be("set-tray-in-session-state", {
            inSession: !0
        }) : be("set-tray-in-session-state", {
            inSession: !1
        })
    }, [t?.isInAudioSessionAndNotPaused])
}

function mb() {
    return ig() ? l.jsx(Ly, {
        children: l.jsx(Pq, {})
    }) : l.jsxs(l.Fragment, {
        children: [l.jsx(O6, {
            preLoggedIn: !0
        }), l.jsx(n_, {}), l.jsx(U6, {}), l.jsx(Z6, {})]
    })
}
const Pq = se(function() {
    return Oq(), l.jsxs(l.Fragment, {
        children: [l.jsx(RW, {}), l.jsx(O6, {}), l.jsx(TM, {}), l.jsx(K_, {}), l.jsx(rF, {}), l.jsx(t_, {}), l.jsx(U6, {}), l.jsx(Q_, {}), l.jsx(Z6, {}), l.jsx(Mq, {}), l.jsx(GD, {}), l.jsx(nF, {}), l.jsx(jW, {})]
    })
});

function gb({
    className: e,
    children: t
}) {
    const n = es();
    return l.jsx("div", {
        className: Q("w-full h-full transition ease-out duration-75", n && "opacity-0 scale-97", e),
        children: t
    })
}
const Lq = se(function() {
    const t = fo();
    return l.jsx(sg, {
        children: n => l.jsxs(og, {
            children: [!t && l.jsx("div", {
                ref: n.aggroNotifications,
                className: "absolute right-5 top-5 flex flex-col-reverse items-end gap-4"
            }), l.jsx(gb, {
                className: "pointer-events-none",
                children: l.jsxs(O9, {
                    children: [l.jsx("div", {
                        ref: n.fullscreen,
                        className: "absolute inset-0"
                    }), !t && l.jsx("div", {
                        ref: n.notifications,
                        className: "absolute right-5 top-5 flex flex-col-reverse items-end gap-4"
                    }), l.jsx(mb, {})]
                })
            })]
        })
    })
});

function Dq() {
    const e = at();
    h.useEffect(() => Dy(() => {
        e.capture(_y() ? ge.WINDOW_HIDDEN : ge.WINDOW_SHOWN, {
            reason: Fy()
        })
    }), [e])
}
const xb = ({
    params: e,
    path: t,
    route: n,
    posthog: r
}) => {
    if (n === "login") {
        if (!e || !e.code || !e.state || !e.ref) return;
        const i = rl(),
            s = decodeURIComponent(e.state),
            a = decodeURIComponent(e.code),
            o = decodeURIComponent(e.ref);
        Xn("get-login-protocol-state", null).then(({
            state: c
        }) => {
            if (s !== c) {
                console.error("Invalid state for protocol link:", s);
                return
            }
            i.set(Rr, {
                session: {
                    user: null,
                    accessToken: a,
                    refreshToken: o
                }
            })
        })
    } else if (n === "call-command") {
        if (!e || !e.payload) {
            console.warn("[ProtocolLink] Missing payload for call-command route");
            return
        }
        try {
            const i = JSON.parse(decodeURIComponent(e.payload));
            console.log("[ProtocolLink] Received call-command payload:", i), rl().set(A0, i)
        } catch (i) {
            console.warn("[ProtocolLink] Failed to parse call-command payload:", i)
        }
    } else n === "open" && (t === "/customize" && be("set-dashboard-state", {
        state: {
            page: "view",
            modal: "personalize"
        }
    }), t === "/settings" && be("broadcast-to-all-windows", {
        command: "open-dashboard-page",
        page: "/settings/general"
    }), t === "/settings/calendar" && be("broadcast-to-all-windows", {
        params: e,
        command: "open-dashboard-page",
        page: "/settings/calendar"
    }), r?.reloadFeatureFlags())
};
window._deepLink = e => {
    const t = new URL(e);
    xb({
        route: t.hostname,
        path: t.pathname,
        params: Object.fromEntries(t.searchParams)
    })
};

function vb() {
    const e = at();
    gt("protocol-data", t => {
        xb({
            ...t,
            posthog: e
        })
    })
}

function bb() {
    const e = at(),
        t = Gt(Rr).session?.user,
        n = t?.email,
        r = !!t?.organization.excludeFromPosthog,
        i = xc(),
        s = $l(),
        a = t && {
            id: t.id,
            email: t.email,
            firstName: t.firstName,
            lastName: t.lastName,
            isPro: i,
            appVersion: Hi,
            lastSeenAt: new Date().toUTCString(),
            isEnterprise: s,
            ...s ? {
                subscriptionStatus: "enterprise_trial"
            } : {}
        },
        o = h.useRef(a);
    o.current = a, h.useEffect(() => {
        r && e.opt_out_capturing();
        const c = o.current;
        if (n && c) return e.identify(n, c), e.capture("$merge_dangerously", {
            alias: c.id
        }), be("login-user", {
            userEmail: n
        }), console.log("Identified PostHog user", c), () => {
            e.reset(), be("logout-user", null)
        }
    }, [e, n, r]), h.useEffect(() => {
        e.register({
            appVersion: Hi
        })
    }, [e])
}

function _q(e) {
    const t = at(),
        n = e?.email,
        r = !!e?.organization.excludeFromPosthog;
    h.useEffect(() => {
        if (r && t.opt_out_capturing(), n) return t.identify(n), () => t.reset()
    }, [t, n, r])
}

function yb() {
    const e = at(),
        t = cn(en.SESSION_RECORDING);
    return h.useEffect(() => {
        t ? (console.log("[PosthogSessionRecording] Enabling session recording"), e.startSessionRecording()) : (console.log("[PosthogSessionRecording] Disabling session recording"), e.stopSessionRecording())
    }, [t, e]), t
}

function Fq() {
    const e = Ul();
    h.useEffect(() => {
        e && Bt().desktop.stats.report_desktop_app_version.post({
            appVersion: Hi
        })
    }, [e])
}

function zq() {
    F6(!1), vb(), bb(), yb(), Dq(), Fq(), ao()
}
const Bq = se(function() {
        zq();
        const {
            isCommandBarHovered: t,
            setHoverEl: n
        } = Hq(), {
            insightsV3: r,
            legacyCommandBar: i
        } = jt(), s = fo();
        return r ? l.jsx(Lq, {}) : l.jsx(sg, {
            children: a => l.jsxs(og, {
                children: [!s && l.jsx(sn, {
                    children: l.jsx("div", {
                        ref: a.aggroNotifications,
                        className: "absolute right-5 top-5 flex flex-col-reverse items-end gap-4"
                    })
                }), l.jsx(gb, {
                    className: "pointer-events-none",
                    children: l.jsx(Cg, {
                        children: ({
                            x: o,
                            y: c,
                            vOrientation: u
                        }) => l.jsxs(l.Fragment, {
                            children: [l.jsx("div", {
                                ref: a.fullscreen,
                                className: "absolute inset-0"
                            }), !s && l.jsxs(l.Fragment, {
                                children: [l.jsx("div", {
                                    ref: a.notifications,
                                    className: "absolute right-5 top-5 flex flex-col-reverse items-end gap-4"
                                }), l.jsx(Hl, {}), l.jsx(V.div, {
                                    className: Q("absolute left-0 right-0", u === "top" ? "top-21" : "bottom-21"),
                                    style: {
                                        x: o,
                                        y: c
                                    },
                                    children: l.jsx("div", {
                                        ref: a.movableWindows,
                                        className: "relative mx-auto w-fit flex flex-col-reverse items-center gap-4"
                                    })
                                }), l.jsx(V.div, {
                                    className: Q("absolute left-0 right-0 flex justify-center", u === "top" ? "top-5" : "bottom-5"),
                                    style: {
                                        x: o,
                                        y: c
                                    },
                                    children: l.jsxs("div", {
                                        ref: n,
                                        className: "relative",
                                        children: [l.jsx($q, {
                                            ref: a.commandBar
                                        }), !i && l.jsx("div", {
                                            className: Q("absolute left-full top-1/2 translate-x-2 -translate-y-1/2 transition", !t && "opacity-0"),
                                            children: l.jsx(sn, {
                                                children: l.jsx(dr.Inline, {
                                                    ref: a.island,
                                                    fullBorderRadius: !0,
                                                    layoutTransition: !0
                                                })
                                            })
                                        })]
                                    })
                                })]
                            }), l.jsx(mb, {})]
                        })
                    })
                })]
            })
        })
    }),
    $q = se(function({
        ref: t
    }) {
        const {
            legacyCommandBar: n
        } = jt(), [r, i] = h.useState(!1), s = ig(), a = Ei(), o = l.jsxs(dr.Inline, {
            contentClassName: "relative",
            fullBorderRadius: !0,
            layoutTransition: !0,
            children: [l.jsx("div", {
                className: Q("absolute inset-0 rounded-l-full transition duration-100", s && "right-8.5", !n && r && "bg-white/15")
            }), l.jsx("div", {
                ref: t,
                className: "relative rounded-full flex items-center gap-2 h-10",
                onMouseEnter: () => i(!0),
                onMouseLeave: () => i(!1),
                onClick: () => a(!0)
            })]
        });
        return n ? l.jsx(sn, {
            children: l.jsx(X6, {
                allowVDrag: !0,
                children: o
            })
        }) : l.jsx("div", {
            className: Q(!s && "opacity-0 pointer-events-none"),
            children: l.jsx(sn, {
                children: o
            })
        })
    });

function Hq() {
    const [e, t] = h.useState(!1), [n, r] = h.useState(null), i = h.useRef(void 0);
    return h.useEffect(() => {
        if (!n) return;
        const s = () => {
                window.clearTimeout(i.current), i.current = void 0, t(!0)
            },
            a = () => {
                i.current = window.setTimeout(() => {
                    i.current = void 0, t(!1)
                }, 120)
            };
        return n.addEventListener("mouseenter", s), n.addEventListener("mouseleave", a), () => {
            n.removeEventListener("mouseenter", s), n.removeEventListener("mouseleave", a), window.clearTimeout(i.current), i.current = void 0
        }
    }, [n]), {
        isCommandBarHovered: e,
        setHoverEl: r
    }
}
const pa = {
        base: ["relative isolate inline-flex items-baseline justify-center gap-x-2 rounded-lg border text-base/6 font-semibold", "px-[calc(--spacing(3.5)-1px)] py-[calc(--spacing(2.5)-1px)] sm:px-[calc(--spacing(3)-1px)] sm:py-[calc(--spacing(1.5)-1px)] sm:text-sm/6", "focus:outline-hidden data-focus:outline data-focus:outline-2 data-focus:outline-offset-2 data-focus:outline-sky-500", "data-disabled:opacity-50", "*:data-[slot=icon]:-mx-0.5 *:data-[slot=icon]:my-0.5 *:data-[slot=icon]:size-5 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:self-center *:data-[slot=icon]:text-(--btn-icon) sm:*:data-[slot=icon]:my-1 sm:*:data-[slot=icon]:size-4 forced-colors:[--btn-icon:ButtonText] forced-colors:data-hover:[--btn-icon:ButtonText]"],
        solid: ["border-transparent bg-(--btn-border)", "dark:bg-(--btn-bg)", "before:absolute before:inset-0 before:-z-10 before:rounded-[calc(var(--radius-lg)-1px)] before:bg-(--btn-bg)", "before:shadow-sm", "dark:before:hidden", "dark:border-white/5", "after:absolute after:inset-0 after:-z-10 after:rounded-[calc(var(--radius-lg)-1px)]", "after:shadow-[shadow:inset_0_1px_--theme(--color-white/15%)]", "data-active:after:bg-(--btn-hover-overlay) data-hover:after:bg-(--btn-hover-overlay)", "dark:after:-inset-px dark:after:rounded-lg", "data-disabled:before:shadow-none data-disabled:after:shadow-none"],
        outline: ["border-zinc-950/10 text-zinc-950 data-active:bg-zinc-950/[2.5%] data-hover:bg-zinc-950/[2.5%]", "dark:border-white/15 dark:text-white dark:[--btn-bg:transparent] dark:data-active:bg-white/5 dark:data-hover:bg-white/5", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
        plain: ["border-transparent text-zinc-950 data-active:bg-zinc-950/5 data-hover:bg-zinc-950/5", "dark:text-white dark:data-active:bg-white/10 dark:data-hover:bg-white/10", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
        colors: {
            plain: ["text-white [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:text-white dark:[--btn-bg:var(--color-zinc-900)]/40 dark:[--btn-hover-overlay:var(--color-white)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            "dark/zinc": ["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:text-white dark:[--btn-bg:var(--color-zinc-600)] dark:[--btn-hover-overlay:var(--color-white)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            light: ["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/[2.5%] data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15", "dark:text-white dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
            "dark/white": ["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:text-zinc-950 dark:[--btn-bg:white] dark:[--btn-hover-overlay:var(--color-zinc-950)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
            dark: ["text-white bg-[#05091F]/85 [--btn-border:var(--color-sky-900)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:[--btn-hover-overlay:var(--color-white)]/5 dark:bg-[#05091F]/85", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            white: ["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/[2.5%] data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15", "dark:[--btn-hover-overlay:var(--color-zinc-950)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-500)] data-hover:[--btn-icon:var(--color-zinc-500)]"],
            zinc: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-zinc-600)] [--btn-border:var(--color-zinc-700)]/90", "dark:[--btn-hover-overlay:var(--color-white)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            blue: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-sky-600)] [--btn-border:var(--color-sky-700)]/90", "[--btn-icon:var(--color-sky-400)] data-active:[--btn-icon:var(--color-sky-300)] data-hover:[--btn-icon:var(--color-sky-300)]"]
        }
    },
    _l = h.forwardRef(function({
        color: t,
        outline: n,
        plain: r,
        custom: i,
        className: s,
        children: a,
        ...o
    }, c) {
        const u = Q(!i && [pa.base, n ? pa.outline : r ? pa.plain : Q(pa.solid, pa.colors[t ?? "dark/zinc"])]);
        return l.jsx(Ix, {
            ...o,
            className: Q(u, !i && "cursor-pointer"),
            ref: c,
            children: l.jsx(Uq, {
                children: a
            })
        })
    });

function Uq({
    children: e
}) {
    return l.jsxs(l.Fragment, {
        children: [l.jsx("span", {
            className: "absolute top-1/2 left-1/2 size-[max(100%,2.75rem)] -translate-x-1/2 -translate-y-1/2 [@media(pointer:fine)]:hidden",
            "aria-hidden": "true"
        }), e]
    })
}
const wb = h.createContext(!1),
    Vq = () => h.useContext(wb);

function Wq({
    className: e,
    isOnboarding: t
}) {
    const {
        legacyCommandBar: n
    } = jt(), r = fn(), [i, s] = h.useState(!1);
    return l.jsx(wb.Provider, {
        value: !!t,
        children: l.jsxs("div", {
            className: Q("divide-y divide-white/10 justify-center", e),
            children: [l.jsx(Vn, {
                title: "Show / Hide",
                description: `Toggle visibility of ${Be}`,
                children: l.jsx(Un, {
                    accelerator: r.hide,
                    editKey: "hide"
                })
            }), n ? l.jsxs(l.Fragment, {
                children: [l.jsx(Vn, {
                    title: Nr.long.generate,
                    description: `Ask ${Be} about your screen or audio`,
                    children: l.jsx(Un, {
                        accelerator: r.trigger_ai
                    })
                }), l.jsx(Vn, {
                    title: Nr.long.specify,
                    description: `Manually input text for ${Be} to respond to`,
                    children: l.jsx(Un, {
                        accelerator: n1
                    })
                })]
            }) : l.jsx(Vn, {
                title: Nr.long.ask,
                description: `Ask ${Be} about your screen or audio`,
                children: l.jsx(Un, {
                    accelerator: r.trigger_ai,
                    editKey: "trigger_ai"
                })
            }), l.jsx(Vn, {
                title: "Clear",
                description: `Clear the current conversation with ${Be}`,
                children: l.jsx(Un, {
                    accelerator: r.start_over,
                    editKey: "start_over"
                })
            }), !t && l.jsxs(l.Fragment, {
                children: [i && l.jsxs(l.Fragment, {
                    children: [l.jsx(Vn, {
                        title: "Move Window Up",
                        description: "Move the window up by a little bit.",
                        children: l.jsx(Un, {
                            accelerator: r.move_window_up,
                            editKey: "move_window_up"
                        })
                    }), l.jsx(Vn, {
                        title: "Move Window Down",
                        description: "Move the window down by a little bit.",
                        children: l.jsx(Un, {
                            accelerator: r.move_window_down,
                            editKey: "move_window_down"
                        })
                    }), l.jsx(Vn, {
                        title: "Move Window Left",
                        description: "Move the window left by a little bit.",
                        children: l.jsx(Un, {
                            accelerator: r.move_window_left,
                            editKey: "move_window_left"
                        })
                    }), l.jsx(Vn, {
                        title: "Move Window Right",
                        description: "Move the window right by a little bit.",
                        children: l.jsx(Un, {
                            accelerator: r.move_window_right,
                            editKey: "move_window_right"
                        })
                    }), l.jsx(Vn, {
                        title: "Scroll Up",
                        description: "Scroll up a little bit in the response window.",
                        children: l.jsx(Un, {
                            accelerator: r.scroll_response_up,
                            editKey: "scroll_response_up"
                        })
                    }), l.jsx(Vn, {
                        title: "Scroll Down",
                        description: "Scroll down a little bit in the response window.",
                        children: l.jsx(Un, {
                            accelerator: r.scroll_response_down,
                            editKey: "scroll_response_down"
                        })
                    }), l.jsx(Vn, {
                        title: "Start/Stop Session",
                        description: `Start or stop a ${Be} session`,
                        children: l.jsx(Un, {
                            accelerator: r.toggle_session,
                            editKey: "toggle_session"
                        })
                    })]
                }), l.jsx("div", {
                    className: "flex justify-center mt-3",
                    children: l.jsxs("div", {
                        className: "text-white/50 hover:text-white/70 flex items-center gap-1.5 text-sm cursor-pointer",
                        onClick: () => s(a => !a),
                        children: [i ? l.jsx(hg, {
                            className: "size-4"
                        }) : l.jsx(Za, {
                            className: "size-4"
                        }), l.jsxs("div", {
                            children: ["Show ", i ? "Less" : "More"]
                        })]
                    })
                })]
            })]
        })
    })
}
const qq = () => {
        const e = {
            Backslash: "\\",
            IntlBackslash: "\\",
            Slash: "/",
            Equal: "=",
            Comma: ",",
            Period: ".",
            Minus: "-",
            BracketLeft: "[",
            BracketRight: "]",
            Semicolon: ";",
            Quote: '"',
            Backquote: "`",
            ArrowUp: "Up",
            ArrowLeft: "Left",
            ArrowDown: "Down",
            ArrowRight: "Right",
            CapsLock: "Capslock",
            ScrollLock: "Scrolllock",
            NumLock: "Numlock",
            Numpad0: "num0",
            Numpad1: "num1",
            Numpad2: "num2",
            Numpad3: "num3",
            Numpad4: "num4",
            Numpad5: "num5",
            Numpad6: "num6",
            Numpad7: "num7",
            Numpad8: "num8",
            Numpad9: "num9",
            NumpadAdd: "numadd",
            NumpadSubtract: "numsub",
            NumpadMultiply: "nummult",
            NumpadDivide: "numdiv",
            NumpadDecimal: "numdec",
            AudioVolumeUp: "VolumeUp",
            AudioVolumeDown: "VolumeDown",
            AudioVolumeMute: "VolumeMute",
            Enter: "Enter",
            Escape: "Escape",
            Backspace: "Backspace",
            PageUp: "PageUp",
            PageDown: "PageDown",
            Insert: "Insert",
            Delete: "Delete",
            Home: "Home",
            End: "End",
            PrintScreen: "PrintScreen"
        };
        for (let t = 1; t <= 24; t++) e[`F${t}`] = `F${t}`;
        for (const t of "QWERTYUIOPASDFGHJKLZXCVBNM") e[`Key${t}`] = t;
        for (let t = 0; t <= 9; t++) e[`Digit${t}`] = t.toString();
        return e
    },
    Sb = qq(),
    Cb = {
        ShiftLeft: "Shift",
        ShiftRight: "Shift",
        AltLeft: "Alt",
        AltRight: "Alt",
        MetaLeft: "Command",
        MetaRight: "Command",
        OSLeft: "Command",
        OSRight: "Command",
        ControlLeft: "Control",
        ControlRight: "Control"
    };

function Gq(e) {
    return !!(Cb[e] || Sb[e])
}

function D2(e) {
    if (e.size === 0) return;
    const t = [],
        n = [];
    for (const i of Array.from(e)) {
        const s = Cb[i];
        if (s) {
            t.push(s);
            continue
        }
        const a = Sb[i];
        if (a) {
            n.push(a);
            continue
        }
        console.error(`keysToAccelerator received invalid key ${i}, full list = ${Array.from(e)}`);
        return
    }
    const r = {
        Command: 0,
        Control: 1,
        Alt: 2,
        Shift: 3
    };
    return [...j9(t, i => r[i] ?? 0), ...n].join("+")
}

function Yq({
    disabled: e,
    onSave: t,
    onCancel: n,
    defaultValue: r
}) {
    const [i, s] = h.useState(e);
    h.useEffect(() => {
        s(e)
    }, [e]);
    const [a, o] = h.useState(new Set);
    return h.useEffect(() => {
        const c = u => {
            u.preventDefault(), u.stopPropagation(), Gq(u.code) && o(d => d.size >= 6 ? d : new Set([...d, u.code]))
        };
        return be("broadcast-to-all-windows", {
            command: "set-keybinds-is-recording",
            isRecording: !0
        }), document.addEventListener("keydown", c), () => {
            document.removeEventListener("keydown", c), be("broadcast-to-all-windows", {
                command: "set-keybinds-is-recording",
                isRecording: !1
            })
        }
    }, []), l.jsx("div", {
        className: "absolute inset-0 bg-black/50 flex items-center justify-center z-[9999]",
        onClick: n,
        children: l.jsxs("div", {
            className: "bg-white rounded-lg w-[300px] shadow-xl flex flex-col",
            onClick: c => c.stopPropagation(),
            children: [l.jsxs("div", {
                className: "text-black/70 text-sm font-medium leading-none flex justify-between items-center p-4 border-b border-black/5 bg-black/5",
                children: [l.jsx("div", {
                    children: "Edit keybinding"
                }), l.jsx(hr, {
                    className: "size-4 text-black/50 hover:text-black cursor-pointer",
                    onClick: () => n()
                })]
            }), l.jsxs("div", {
                className: "p-4 flex flex-col gap-4",
                children: [l.jsxs("div", {
                    className: Q("flex-1 flex items-center justify-between overflow-hidden p-2.5 text-sm rounded-lg max-w-full min-w-0 gap-2", i ? "ring-2 ring-black/20 bg-black/5" : "ring-2 ring-sky-500"),
                    children: [l.jsx("div", {
                        className: "flex-1 min-w-0 overflow-hidden",
                        children: i ? l.jsx("div", {
                            className: "text-black/30",
                            children: "Shortcut disabled"
                        }) : a.size > 0 ? l.jsx(X.Shortcut, {
                            onWhiteBackground: !0,
                            accelerator: D2(a)
                        }) : l.jsx("div", {
                            className: "text-sky-500/50",
                            children: "Start typing shortcut..."
                        })
                    }), a.size > 0 && l.jsx("button", {
                        className: "self-stretch text-black cursor-pointer rounded-lg outline-none shrink-0",
                        type: "button",
                        onClick: () => o(new Set),
                        children: l.jsx(A8, {
                            className: "size-4"
                        })
                    })]
                }), l.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [l.jsxs("label", {
                        className: "flex items-center gap-1.5",
                        children: [l.jsx("input", {
                            type: "checkbox",
                            checked: i,
                            onChange: c => s(c.target.checked)
                        }), l.jsx("span", {
                            children: "Disable shortcut"
                        })]
                    }), l.jsx("button", {
                        type: "button",
                        className: "self-stretch border border-black/40 text-black/70 font-medium text-xs py-1.5 px-2 leading-none cursor-pointer rounded-lg outline-none",
                        onClick: () => t({
                            accelerator: r,
                            disabled: !1
                        }),
                        children: "Reset to default"
                    })]
                }), l.jsxs("div", {
                    className: "grid grid-cols-2 gap-2",
                    children: [l.jsx("button", {
                        className: "self-stretch bg-black/80 hover:bg-black/75 text-white font-medium text-xs p-2 cursor-pointer rounded-lg outline-none",
                        type: "button",
                        onClick: () => t({
                            disabled: i,
                            accelerator: D2(a)
                        }),
                        children: "Save"
                    }), l.jsx("button", {
                        className: "self-stretch bg-black/20 hover:bg-black/15 p-2 text-black font-medium text-xs cursor-pointer rounded-lg outline-none",
                        type: "button",
                        onClick: () => n(),
                        children: "Cancel"
                    })]
                })]
            })]
        })
    })
}

function Un({
    accelerator: e,
    editKey: t
}) {
    const n = zy(),
        [r, i] = h.useState(!1),
        s = ng(),
        a = Gt(By),
        o = rg(),
        c = Vq();
    if (t && n && !c) {
        const u = !!a[t];
        return l.jsxs(l.Fragment, {
            children: [r && l.jsx(Yq, {
                disabled: u,
                onSave: ({
                    accelerator: d,
                    disabled: f
                }) => {
                    s(t, d), o(t, f), i(!1)
                },
                onCancel: () => i(!1),
                defaultValue: il[t]
            }), l.jsxs("div", {
                className: "flex items-center gap-4 group cursor-pointer",
                onClick: () => i(!0),
                children: [u ? l.jsx("div", {
                    className: "bg-white/10 text-white/35 text-sm font-medium rounded-lg p-2 leading-none opacity-60",
                    children: "Disabled"
                }) : e === void 0 ? l.jsx("div", {
                    className: "bg-white/10 text-white/35 text-sm font-medium rounded-lg p-2 leading-none",
                    children: "No shortcut"
                }) : l.jsx(X.Shortcut, {
                    large: !0,
                    accelerator: e
                }), l.jsx(l9, {
                    className: "text-white/50 group-hover:text-white/70 size-4"
                })]
            })]
        })
    }
    return l.jsx(X.Shortcut, {
        large: !0,
        accelerator: e
    })
}
const Vn = ({
        title: e,
        description: t,
        children: n
    }) => l.jsxs("div", {
        className: "text-left flex justify-between items-center gap-x-24 py-2",
        children: [l.jsxs("div", {
            className: "grid grid-rows-2",
            children: [l.jsx("h2", {
                className: "text-[18px] text-white font-semibold",
                children: e
            }), l.jsx("h3", {
                className: "text-sm text-stone-400",
                children: t
            })]
        }), l.jsx("div", {
            className: "text-stone-400 text-xs",
            children: n
        })]
    }),
    Kq = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",
    Xq = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",
    Zq = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",
    Qq = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=";
async function Jq() {
    return Xn("mac-check-macos-version", null)
}
const _2 = 1,
    Wo = 2,
    kb = 3,
    F2 = 4,
    Qu = 0,
    eG = 1,
    z2 = kb,
    tG = 5e3,
    Fl = {
        className: "bg-gradient-to-t from-sky-950/95 to-black/95",
        style: {
            background: void 0
        }
    },
    nG = e => {
        const [t, n] = h.useState(!1), [r, i] = h.useState(!1), s = h.useCallback(async () => {
            const a = await Xn("request-media-permission", "microphone"),
                o = await Xn("request-media-permission", "screen");
            n(a), i(o)
        }, []);
        return h.useEffect(() => {
            if (!e) return;
            s();
            const a = setInterval(s, tG);
            return () => clearInterval(a)
        }, [e, s]), {
            canListen: t,
            canCapture: r,
            checkPermissions: s
        }
    },
    rG = ({
        show: e,
        windowSize: t,
        back: n,
        next: r,
        children: i
    }) => {
        const [s, a] = h.useState(null);
        return h.useEffect(() => {
            !t?.width || !t.height || be("resize-window", {
                width: t.width,
                height: t.height,
                duration: 450
            })
        }, [t?.width, t?.height]), h.useEffect(() => {
            Ra && Jq().then(o => a(o.isSupported))
        }, []), l.jsx("main", {
            style: {
                appRegion: "drag"
            },
            children: l.jsxs(V.div, {
                className: Q("relative shadow-md inset-ring-1 inset-ring-zinc-400/22 border-[0.5px] border-black/80 text-white", Fl.className),
                style: {
                    borderRadius: 20,
                    ...Fl.style
                },
                transition: {
                    duration: .45
                },
                layout: !0,
                children: [l.jsx(Ke, {
                    mode: "wait",
                    children: e && l.jsx(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .3
                        },
                        className: "absolute right-2 top-2",
                        children: l.jsx(X.HeadlessButton, {
                            style: {
                                appRegion: "no-drag"
                            },
                            className: "p-2 relative z-[500] rounded-xl hover:bg-white/8 transition hover:text-red-400",
                            onClick: () => be("quit-app", null),
                            children: l.jsx(hr, {
                                size: 20
                            })
                        })
                    })
                }), l.jsx("div", {
                    className: "w-screen h-screen"
                }), l.jsx(Ke, {
                    mode: "wait",
                    children: e && l.jsx(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .3
                        },
                        className: "text-center absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full",
                        children: i
                    })
                }), Ra && s !== null && !s ? l.jsxs("div", {
                    className: "text-red-400 font-medium text-center -mt-16 pb-4",
                    children: [Be, " requires macOS ", Bb, ".0 or later. Please update your operating system."]
                }) : l.jsx(Ke, {
                    mode: "wait",
                    children: e && l.jsx(V.div, {
                        initial: {
                            opacity: 0
                        },
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .3
                        },
                        className: "absolute bottom-4 right-4",
                        style: {
                            appRegion: "no-drag"
                        },
                        children: l.jsxs(_l, {
                            onClick: r.onClick,
                            color: r.isLast ? "blue" : "dark",
                            style: {
                                backgroundColor: (r.isLast, void 0)
                            },
                            children: [r.label, r.shortcut && l.jsx(X.Shortcut, {
                                shouldHover: !1,
                                onTrigger: r.onClick,
                                accelerator: r.shortcut
                            })]
                        })
                    })
                }), n && l.jsx("div", {
                    className: "absolute bottom-4 left-4",
                    style: {
                        appRegion: "no-drag"
                    },
                    children: l.jsx(_l, {
                        outline: !0,
                        onClick: n.onClick,
                        children: "Back"
                    })
                })]
            })
        })
    },
    B2 = () => l.jsx(E8, {
        size: 30,
        className: Q("stroke-sky-500"),
        style: {
            stroke: Ya
        }
    }),
    $2 = ({
        providerList: e,
        icon: t,
        title: n,
        children: r
    }) => {
        const {
            canListen: i,
            canCapture: s,
            checkPermissions: a
        } = e, o = () => {
            if (n === "Microphone") return i ? l.jsx(B2, {}) : l.jsx(_l, {
                outline: !0,
                style: {
                    appRegion: "no-drag"
                },
                onClick: () => {
                    be("mac-open-system-settings", {
                        section: "privacy > microphone"
                    }), a()
                },
                children: "Request..."
            });
            if (n === "Screen Recording") return s ? l.jsx(B2, {}) : l.jsx(_l, {
                outline: !0,
                style: {
                    appRegion: "no-drag"
                },
                onClick: () => {
                    be("mac-open-system-settings", {
                        section: "privacy > screen-recording"
                    }), a()
                },
                children: "Request..."
            })
        };
        return l.jsxs("div", {
            className: "text-left flex justify-between items-center gap-x-40",
            children: [l.jsxs("div", {
                className: "flex",
                children: [l.jsx(t, {
                    size: 28,
                    className: "mr-5 mt-2.5 text-stone-200 shadow-inner"
                }), l.jsxs("div", {
                    children: [l.jsx("h2", {
                        className: "text-lg font-semibold",
                        children: n
                    }), l.jsx("div", {
                        className: "text-stone-400 text-xs",
                        children: r
                    })]
                })]
            }), l.jsx(o, {})]
        })
    },
    iG = [{
        title: "Nerdy is your AI-powered Sidekick",
        subtitle: l.jsx(l.Fragment, {
            children: "Click Start and Nerdy helps you master every concept, generates real-time talking points to use in session, and provides step-by-step solutions"
        }),
        image: Kq
    }, {
        title: "Solve problems on your screen",
        subtitle: l.jsx(l.Fragment, {
            children: "Click Get Insights to get solutions to problems on your screen"
        }),
        image: Xq
    }, {
        title: "Ask Nerdy for help on anything",
        subtitle: l.jsx(l.Fragment, {
            children: "Click Customize and ask about anything on your screen or audio and Nerdy will use that context to get you the best answer"
        }),
        image: Zq
    }, {
        title: "Get real-time suggestions",
        subtitle: l.jsx(l.Fragment, {
            children: "Nerdy listens to your conversation and provides real-time suggestions to help you master ideas and better explain concepts"
        }),
        image: Qq
    }];
se(() => {
    const e = at(),
        [t, n] = h.useState(Qu),
        [r, i] = h.useState(!0),
        [s, a] = h.useState(!1);
    h.useEffect(() => {
        e.capture(ge.ONBOARDING_STARTED)
    }, [e]);
    const {
        canListen: o,
        canCapture: c,
        checkPermissions: u
    } = nG(t === Wo);
    h.useEffect(() => {
        const N = setTimeout(() => {
                i(!1), be("resize-window", {
                    width: 640,
                    height: 600,
                    duration: 1e3
                })
            }, 1500),
            j = setTimeout(() => {
                a(!0)
            }, 2e3),
            z = setTimeout(() => {
                n(1)
            }, 2500);
        return () => {
            clearTimeout(N), clearTimeout(j), clearTimeout(z)
        }
    }, []);
    const d = l.jsxs("div", {
            className: "flex flex-col items-center",
            children: [l.jsx(H2, {
                size: 200,
                className: "text-white shadow-xl shadow-sky-900 rounded-full fill-current mb-4"
            }), l.jsx("h1", {
                className: "mb-6 text-8xl tracking-tight font-semibold",
                children: Be
            }), l.jsx("div", {
                className: "text-stone-400 text-base font-base max-w-lg text-balance mx-auto",
                children: $y
            })]
        }),
        f = l.jsxs("div", {
            className: "flex flex-col items-center",
            children: [l.jsx("h1", {
                className: "mb-1 text-5xl tracking-tight font-semibold",
                children: "Permissions"
            }), l.jsxs("span", {
                className: "text-stone-400 text-xl font-base",
                children: ["Give ", Be, " access to see your screen and hear your audio."]
            }), l.jsxs("div", {
                className: "py-26 grid gap-y-7 justify-center",
                children: [l.jsxs($2, {
                    icon: vg,
                    providerList: {
                        canListen: o,
                        canCapture: c,
                        checkPermissions: u
                    },
                    title: "Microphone",
                    children: ["Allows ", Be, " to listen to conversations."]
                }), l.jsxs($2, {
                    icon: o8,
                    providerList: {
                        canListen: o,
                        canCapture: c,
                        checkPermissions: u
                    },
                    title: "Screen Recording",
                    children: ["Allow ", Be, " to see your screen."]
                })]
            }), l.jsx("div", {
                className: "grid justify-center text-[10px] text-stone-400",
                children: l.jsxs("div", {
                    className: Q("text-xs font-medium text-center w-86 mx-auto", "text-sky-300"),
                    style: {
                        color: void 0
                    },
                    children: [Be, " may not be able to update permissions until it is quit. Please restart", " ", Be, " after granting all permissions.", l.jsxs(X.HeadlessButton, {
                        type: "button",
                        className: "mt-1 text-xs text-stone-300 cursor-pointer focus:outline-none",
                        style: {
                            appRegion: "no-drag"
                        },
                        onClick: () => window.open(`https://support.${sd}.com`),
                        children: ["Having issues? Click here ", l.jsx(h8, {
                            className: "inline -ml-0.5 -mt-1",
                            size: 14
                        })]
                    })]
                })
            })]
        }),
        m = l.jsxs("div", {
            className: "flex flex-col items-center",
            children: [l.jsx("h1", {
                className: "mt-14 text-3xl tracking-tight font-semibold",
                children: "Commands we love"
            }), l.jsxs("span", {
                className: "text-stone-300 text-md font-base",
                children: [Be, " works with these easy to remember commands."]
            }), l.jsx(Wq, {
                className: "pb-22 pt-8",
                isOnboarding: !0
            })]
        }),
        [p, g] = h.useState(0),
        x = iG[p];
    x.title, x.subtitle, x.image;
    const y = {
            [_2]: {
                width: 640,
                height: 600
            },
            [Wo]: {
                width: 720,
                height: 550
            },
            [kb]: {
                width: 700,
                height: 500
            },
            [F2]: {
                width: 700,
                height: 500
            }
        },
        b = N => {
            let j = t + N;
            or && j === Wo && (j += N), j === F2 && g(0), n(j)
        },
        w = () => {
            b(-1)
        },
        C = () => {
            t === z2 && (e.capture(ge.ONBOARDING_FINISHED), be("finish-onboarding", null)), b(1)
        },
        E = () => {
            const N = t === Wo && (!o || !c),
                j = t === z2;
            return {
                disabled: N,
                shortcut: N ? void 0 : "CommandOrControl+Enter",
                label: t === _2 ? "Get Started" : j ? `Login to ${Be}` : "Next",
                onClick: C,
                isLast: j
            }
        },
        A = [d, f, m];
    return l.jsx(Ke, {
        children: s ? l.jsx(V.div, {
            className: "pointer-events-auto dark",
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            transition: {
                duration: .5
            },
            children: l.jsx(rG, {
                next: E(),
                show: t !== Qu,
                back: t > eG ? {
                    onClick: w
                } : void 0,
                windowSize: t === Qu ? void 0 : y[t],
                children: A[t - 1]
            })
        }) : l.jsx(V.div, {
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1
            },
            exit: {
                opacity: 0
            },
            transition: {
                duration: .5
            },
            className: Q("h-screen w-screen flex items-center justify-center", Fl.className),
            style: Fl.style,
            children: l.jsx(V.div, {
                initial: {
                    opacity: 0,
                    scale: .2
                },
                animate: {
                    opacity: r ? 1 : 0,
                    scale: r ? 1 : .8
                },
                transition: {
                    duration: .4,
                    ease: [.34, 1.56, .64, 1],
                    scale: {
                        type: "spring",
                        damping: 10,
                        stiffness: 100
                    }
                },
                children: l.jsx(H2, {
                    size: 200,
                    className: "fill-white shadow-xl shadow-sky-900 rounded-full"
                })
            })
        })
    })
});

function H2({
    size: e,
    className: t
}) {
    return l.jsx(pr, {
        size: e,
        className: t
    })
}

function sG({
    ...e
}) {
    return l.jsxs("svg", {
        width: "80",
        height: "80",
        viewBox: "0 0 92 92",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...e,
        children: [l.jsx("title", {
            children: "Cluely"
        }), l.jsx("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M74.2843 17.7157C58.6633 2.09475 33.3367 2.09475 17.7157 17.7157C2.09475 33.3367 2.09475 58.6633 17.7157 74.2843C33.3367 89.9052 58.6633 89.9052 74.2843 74.2843C89.9052 58.6633 89.9052 33.3367 74.2843 17.7157ZM24.1602 24.1602C36.222 12.0985 55.778 12.0985 67.8398 24.1602C79.9015 36.222 79.9015 55.778 67.8398 67.8398C66.4877 69.1918 65.0415 70.3923 63.5222 71.4412L63.5434 71.4201C53.4589 61.3356 53.4589 44.9855 63.5434 34.9011L64.9755 33.469L58.531 27.0245L57.0989 28.4566C47.0145 38.5411 30.6644 38.5411 20.58 28.4566L20.5588 28.4778C21.6077 26.9585 22.8082 25.5123 24.1602 24.1602ZM40.4589 45.0965C31.9617 45.4884 23.3487 42.7943 16.4436 37.0142C13.6647 46.1832 15.2415 56.3899 21.1741 64.3815L40.4589 45.0965ZM27.6185 70.8259C35.6101 76.7585 45.8168 78.3353 54.9858 75.5564C49.2057 68.6514 46.5116 60.0383 46.9035 51.5411L27.6185 70.8259Z",
            fill: "url(#paint0_radial_293_8659)"
        }), l.jsx("g", {
            opacity: "0.56",
            filter: "url(#filter0_f_293_8659)",
            children: l.jsx("path", {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M74.2843 17.7157C58.6633 2.09475 33.3367 2.09475 17.7157 17.7157C2.09475 33.3367 2.09475 58.6633 17.7157 74.2843C33.3367 89.9052 58.6633 89.9052 74.2843 74.2843C89.9052 58.6633 89.9052 33.3367 74.2843 17.7157ZM24.1602 24.1602C36.222 12.0985 55.778 12.0985 67.8398 24.1602C79.9015 36.222 79.9015 55.778 67.8398 67.8398C66.4877 69.1918 65.0415 70.3923 63.5222 71.4412L63.5434 71.4201C53.4589 61.3356 53.4589 44.9855 63.5434 34.9011L64.9755 33.469L58.531 27.0245L57.0989 28.4566C47.0145 38.5411 30.6644 38.5411 20.5799 28.4566L20.5588 28.4778C21.6077 26.9585 22.8082 25.5123 24.1602 24.1602ZM40.4589 45.0965C31.9617 45.4884 23.3487 42.7943 16.4436 37.0142C13.6647 46.1832 15.2415 56.3899 21.1741 64.3815L40.4589 45.0965ZM27.6185 70.8259C35.6101 76.7585 45.8168 78.3353 54.9858 75.5564C49.2057 68.6514 46.5116 60.0383 46.9035 51.5411L27.6185 70.8259Z",
                fill: "url(#paint1_radial_293_8659)"
            })
        }), l.jsxs("defs", {
            children: [l.jsxs("filter", {
                id: "filter0_f_293_8659",
                x: "0",
                y: "0",
                width: "92",
                height: "92",
                filterUnits: "userSpaceOnUse",
                colorInterpolationFilters: "sRGB",
                children: [l.jsx("feFlood", {
                    floodOpacity: "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "BackgroundImageFix",
                    result: "shape"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "3",
                    result: "effect1_foregroundBlur_293_8659"
                })]
            }), l.jsxs("radialGradient", {
                id: "paint0_radial_293_8659",
                cx: "0",
                cy: "0",
                r: "1",
                gradientUnits: "userSpaceOnUse",
                gradientTransform: "translate(46.1262 6) rotate(90) scale(112.558 65.3554)",
                children: [l.jsx("stop", {
                    stopColor: "white"
                }), l.jsx("stop", {
                    offset: "1",
                    stopColor: "#999999"
                })]
            }), l.jsxs("radialGradient", {
                id: "paint1_radial_293_8659",
                cx: "0",
                cy: "0",
                r: "1",
                gradientUnits: "userSpaceOnUse",
                gradientTransform: "translate(46.1262 6) rotate(90) scale(112.558 65.3554)",
                children: [l.jsx("stop", {
                    stopColor: "white"
                }), l.jsx("stop", {
                    offset: "1",
                    stopColor: "#999999"
                })]
            })]
        })]
    })
}

function aG() {
    const e = at(),
        t = Nn(0);
    cg(() => {
        t.set((t.get() + .4) % 360)
    });
    const n = xd`conic-gradient(from ${t}deg at 50% 50%, rgb(62, 66, 190) 69deg, rgb(44, 184, 255) 197deg, rgb(155, 77, 250) 271deg)`;
    return l.jsxs(V.div, {
        initial: "initial",
        animate: "animate",
        exit: "exit",
        transition: {
            delayChildren: Ka(.1, {
                from: "last"
            })
        },
        className: "flex flex-col gap-12 size-full",
        children: [l.jsxs(V.div, {
            className: "flex flex-col items-center",
            children: [l.jsx(V.div, {
                className: "size-fit",
                variants: {
                    ...Ot(1, 0, !0),
                    initial: {},
                    animate: {}
                },
                children: l.jsx(sG, {})
            }), l.jsx(V.h1, {
                variants: Ot(2, 16, !0),
                className: "text-4xl leading-11 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)] text-transparent bg-clip-text bg-[radial-gradient(circle_at_center_top,#FFFFFF_60%,#999999)]",
                children: "Cheat on everything."
            })]
        }), l.jsxs(V.div, {
            className: "flex flex-col gap-4 items-center",
            children: [l.jsxs(Nc, {
                className: "relative",
                containerProps: {
                    variants: Ot(3, 10, !0),
                    style: {
                        background: "radial-gradient(48.62% 58.13% at 76.04% 10.42%, #00A9FE 0%, rgba(220, 221, 230, 0.00) 100%), conic-gradient(from 180deg at 50% 50%, rgba(62, 66, 190, 0.20) 69.23077046871185deg, rgba(44, 184, 255, 0.20) 197.30769395828247deg, rgba(155, 77, 250, 0.20) 271.7307758331299deg), #696B7E"
                    }
                },
                onClick: () => {
                    Ua("google-oauth"), e.capture(ge.ONBOARDING_V2_SIGN_IN_CLICKED, {
                        method: "google"
                    })
                },
                children: [l.jsx(V.div, {
                    className: "absolute inset-px opacity-70 rounded-[inherit]",
                    style: {
                        background: n,
                        filter: "blur(12px)"
                    }
                }), l.jsxs("div", {
                    className: "relative z-10 flex items-center gap-2.5",
                    children: [l.jsx(eq, {
                        children: l.jsx(Hy, {
                            className: "text-white"
                        })
                    }), l.jsx("span", {
                        children: "Sign in with Google"
                    })]
                })]
            }), l.jsx(V.div, {
                className: "size-fit",
                variants: Ot(5, 4, !0),
                children: l.jsxs(X.HeadlessButton, {
                    className: "text-ob-secondary text-xs flex items-center gap-0.5 cursor-pointer group",
                    onClick: () => {
                        Ua("email-signup"), e.capture(ge.ONBOARDING_V2_SIGN_IN_CLICKED, {
                            method: "email"
                        })
                    },
                    children: ["Use email and password", l.jsx(Qa, {
                        className: "size-3 group-hover:translate-x-0.5 transition-transform ease-out"
                    })]
                })
            })]
        })]
    })
}
const U2 = [{
    title: "Looking for a job",
    description: "Interviews, networking calls, career chats",
    titleColor: "#D5E4F5",
    descriptionColor: "#9DBCD9",
    backgroundColor: "#080D12",
    borderGradient: "linear-gradient(207deg, #5FAFE4 30.22%, #0C6098 45.35%, #042032 90.75%)",
    smallAccentGradientColor: "#0C4870",
    largeAccentGradientColor: "#57E2E7",
    shadowInactive: "0 0 0px 0 rgba(4, 189, 245, 0)",
    shadowActive: "0 0 24px 0 rgba(4, 189, 245, 0.50)",
    preset: {
        displayName: "Looking for a job",
        text: "I am interviewing for a job.",
        actionsText: "Be useful for job seekers",
        actionables: []
    }
}, {
    title: "Student",
    description: "Presentations, research help, office hours",
    titleColor: "#EDE9DC",
    descriptionColor: "#CCC3A9",
    backgroundColor: "#0E0E12",
    borderGradient: "linear-gradient(207deg, #DDC06B 30.22%, #98750C 45.35%, #322704 90.75%)",
    smallAccentGradientColor: "#78651F",
    largeAccentGradientColor: "#E77857",
    shadowInactive: "0 0 0px 0 rgba(130, 102, 19, 0)",
    shadowActive: "0 0 24px 0 rgba(130, 102, 19, 0.50)",
    preset: {
        displayName: "Student",
        text: "I am a student.",
        actionsText: "Be useful for students",
        actionables: []
    }
}, {
    title: "Professional",
    description: "Client calls, sales pitches, stakeholder meetings",
    titleColor: "#EDD7EF",
    descriptionColor: "#CC9FCD",
    backgroundColor: "#06080A",
    borderGradient: "linear-gradient(207deg, #E93DBE 30.22%, #980C75 45.35%, #320427 90.75%)",
    smallAccentGradientColor: "#561C56",
    largeAccentGradientColor: "#AB57E7",
    shadowInactive: "0 0 0px 0 rgba(85, 30, 72, 0)",
    shadowActive: "0 0 24px 0 rgba(85, 30, 72, 0.50)",
    preset: {
        displayName: "Professional",
        text: "Client calls, sales pitches, stakeholder meetings",
        actionsText: "I am a professional.",
        actionables: []
    }
}, {
    title: "Curious",
    description: `Explore how ${Be} fits in with your workflow`,
    titleColor: "#D5EFEF",
    descriptionColor: "hsl(166, 33%, 71%)",
    backgroundColor: "#0A0C10",
    borderGradient: "linear-gradient(207deg, #3DE4BE 30.22%, #0C9878 45.35%, #043228 90.75%)",
    smallAccentGradientColor: "#1C7042",
    largeAccentGradientColor: "#57E7C5",
    shadowInactive: "0 0 0px 0 rgba(32, 108, 90, 0)",
    shadowActive: "0 0 24px 0 rgba(32, 108, 90, 0.50)",
    preset: {
        displayName: "Curious",
        text: `I'm exploring how ${Be} fits in with my workflow.`,
        actionsText: "Be useful for curious people",
        actionables: []
    }
}];

function oG() {
    const e = Us(),
        {
            userInstructionsQuery: t,
            setDefaultMutation: n
        } = Zs(e),
        [r, i] = h.useState(null),
        [s, a] = h.useState(!1),
        o = at(),
        c = h.useCallback(m => {
            switch (m) {
                case "Student":
                    return "Student";
                case "Curious":
                    return "Curious";
                case "Professional":
                    return "Professional";
                case "Looking for a job":
                    return "Professional";
                default:
                    return "Curious"
            }
        }, []);
    h.useEffect(() => {
        const m = t.data;
        if (m && r === null) {
            const p = m.instructions.find(x => x.id === m.activeInstructionId),
                g = U2.find(x => x.preset.displayName === p?.displayName);
            g && i(g.preset)
        }
    }, [t.data, r]);
    const u = wg({
            mutationKey: ["create-instruction"],
            mutationFn: async m => {
                const p = t.data;
                if (p) {
                    const x = p.instructions.find(y => y.displayName === m.displayName);
                    if (x) return o.capture(ge.DEBUG_ONBOARDING_V2_MODE_USED_CACHED_INSTRUCTION, x), x.id
                }
                const g = await dn(Bt().dashboard.instructions.post({
                    displayName: m.displayName,
                    text: m.text,
                    actionsText: m.actionsText,
                    actionables: m.actionables
                }));
                return o.capture(ge.DEBUG_ONBOARDING_V2_MODE_CREATED_INSTRUCTION, g), g.id
            },
            retry: 3,
            retryDelay: m => Math.min(1e3 * 2 ** m, 5e3)
        }),
        d = h.useCallback(async m => {
            if (!m) return;
            const p = await u.mutateAsync(m);
            p && (await n.mutateAsync(p), o.capture(ge.DEBUG_ONBOARDING_V2_MODE_SET_DEFAULT_INSTRUCTION, {
                id: p
            }))
        }, [u, n, o]),
        f = h.useCallback(async m => {
            if (!s) {
                o.setPersonProperties({
                    mode: c(m.displayName)
                }), o.capture(ge.DEBUG_ONBOARDING_V2_MODE_SET_PROCESSING, {
                    mode: c(m.displayName)
                }), a(!0), i(m), (m.displayName === "Looking for a job" || m.displayName === "Student") && (be("set-invisible-preference", {
                    invisible: !0
                }), o.capture(ge.DEBUG_ONBOARDING_V2_MODE_SET_INVISIBILITY, {
                    displayName: m.displayName
                }));
                try {
                    await d(m), o.capture(ge.DEBUG_ONBOARDING_V2_MODE_SUBMITTED)
                } catch (p) {
                    console.error("Failed to submit selected preset after retries:", p), a(!1), i(null)
                }
            }
        }, [d, s, o, c]);
    return l.jsxs(V.div, {
        initial: "initial",
        animate: "animate",
        exit: "exit",
        transition: {
            delayChildren: Ka(.1, {
                from: "last"
            })
        },
        className: "flex flex-col gap-12 size-full",
        children: [l.jsxs("div", {
            className: "flex flex-col items-center gap-3",
            children: [l.jsx(V.h1, {
                variants: Ot(1, 24, !0),
                className: "text-4xl leading-11 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)] text-transparent bg-clip-text bg-[radial-gradient(circle_at_center_top,#FFFFFF_60%,#999999)]",
                children: "Which one fits you best?"
            }), l.jsxs(V.p, {
                variants: Ot(2, 16, !0),
                className: "text-ob-secondary text-sm text-balance text-center",
                children: [Be, " adapts to you and your meetings  fitting seamlessly into your daily rhythm."]
            })]
        }), l.jsx("div", {
            className: "grid grid-cols-2 gap-2.5 w-full",
            children: U2.map((m, p) => l.jsx(V.div, {
                variants: Ot(p * .5 + 2, 12, !0),
                children: l.jsx(lG, {
                    ...m,
                    hasSelectedPreset: !!r,
                    isSelected: m.preset.displayName === r?.displayName,
                    onSelect: () => {
                        o.capture(ge.DEBUG_ONBOARDING_V2_MODE_CLICKED, {
                            mode: m.preset.displayName
                        }), f(m.preset)
                    }
                })
            }, m.title))
        })]
    })
}

function lG({
    title: e,
    titleColor: t,
    description: n,
    descriptionColor: r,
    backgroundColor: i,
    borderGradient: s,
    smallAccentGradientColor: a,
    largeAccentGradientColor: o,
    shadowInactive: c,
    shadowActive: u,
    isSelected: d,
    hasSelectedPreset: f,
    onSelect: m
}) {
    return l.jsxs(V.div, {
        className: "rounded-2xl relative w-[193px] h-[130px] cursor-pointer",
        animate: d ? "active" : f ? "inactive" : "idle",
        whileHover: "active",
        variants: {
            idle: {
                background: i,
                boxShadow: c,
                filter: "saturate(1)"
            },
            active: {
                background: i,
                boxShadow: u,
                filter: "saturate(3)",
                opacity: 1
            },
            inactive: {
                opacity: .6
            }
        },
        onClick: m,
        children: [l.jsx("div", {
            className: "absolute -inset-px border border-transparent rounded-[inherit] pointer-events-none",
            style: {
                maskClip: "padding-box, border-box",
                maskComposite: "intersect",
                maskImage: "linear-gradient(transparent, transparent), linear-gradient(#000, #000)"
            },
            children: l.jsx("div", {
                className: "absolute -inset-px rounded-[inherit]",
                style: {
                    background: s
                }
            })
        }), l.jsxs("div", {
            className: "absolute top-0 left-0 w-full h-full overflow-hidden p-4 rounded-2xl pointer-events-none",
            children: [l.jsxs("div", {
                className: "flex flex-col gap-1.5 relative z-10",
                children: [l.jsx("h2", {
                    className: "text-base font-medium tracking-[-0.04px]",
                    style: {
                        color: t
                    },
                    children: e
                }), l.jsx("p", {
                    className: "text-ob-secondary text-[13px]",
                    style: {
                        color: r
                    },
                    children: n
                })]
            }), l.jsx(cG, {
                smallAccentGradientColor: a
            }), l.jsx(uG, {
                largeAccentGradientColor: o
            })]
        })]
    })
}

function cG({
    smallAccentGradientColor: e,
    ...t
}) {
    return l.jsxs("svg", {
        width: "194",
        height: "130",
        viewBox: "0 0 194 130",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        className: "absolute top-0 left-0 pointer-events-none",
        ...t,
        children: [l.jsx("title", {
            children: "Accent Gradient"
        }), l.jsx("g", {
            opacity: "0.8",
            filter: "url(#filter0_f_218_1805)",
            children: l.jsx("path", {
                d: "M207 -15C193.085 125.91 74.4366 131.781 -53 156H207V-15Z",
                fill: e
            })
        }), l.jsx("defs", {
            children: l.jsxs("filter", {
                id: "filter0_f_218_1805",
                x: "-74.3",
                y: "-36.3",
                width: "302.6",
                height: "213.6",
                filterUnits: "userSpaceOnUse",
                "color-interpolation-filters": "sRGB",
                children: [l.jsx("feFlood", {
                    "flood-opacity": "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "BackgroundImageFix",
                    result: "shape"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "10.65",
                    result: "effect1_foregroundBlur_218_1805"
                })]
            })
        })]
    })
}

function uG({
    largeAccentGradientColor: e,
    ...t
}) {
    return l.jsxs("svg", {
        width: "194",
        height: "130",
        viewBox: "0 0 194 130",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        className: "absolute top-0 left-0 pointer-events-none",
        ...t,
        children: [l.jsx("title", {
            children: "Accent Gradient"
        }), l.jsx("g", {
            opacity: "0.8",
            filter: "url(#filter0_f_218_1806)",
            children: l.jsx("path", {
                d: "M193.5 13C184 109 103 113 16 129.5H193.5V13Z",
                fill: e
            })
        }), l.jsx("defs", {
            children: l.jsxs("filter", {
                id: "filter0_f_218_1806",
                x: "-24.4",
                y: "-27.4",
                width: "258.3",
                height: "197.3",
                filterUnits: "userSpaceOnUse",
                "color-interpolation-filters": "sRGB",
                children: [l.jsx("feFlood", {
                    "flood-opacity": "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "BackgroundImageFix",
                    result: "shape"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "20.2",
                    result: "effect1_foregroundBlur_218_1806"
                })]
            })
        })]
    })
}
const dG = [{
        id: "high-school",
        label: "High School"
    }, {
        id: "undergraduate",
        label: "Undergraduate"
    }, {
        id: "graduate",
        label: "Graduate"
    }, {
        id: "trade",
        label: "Trade"
    }],
    fG = [{
        id: "engineering",
        label: "Engineering"
    }, {
        id: "data-analytics",
        label: "Data Analytics"
    }, {
        id: "design",
        label: "Design"
    }, {
        id: "finance",
        label: "Finance"
    }, {
        id: "consulting",
        label: "Consulting"
    }, {
        id: "marketing",
        label: "Marketing"
    }, {
        id: "product",
        label: "Product"
    }, {
        id: "sales-gtm",
        label: "Sales / GTM"
    }, {
        id: "recruiting",
        label: "Recruiting"
    }, {
        id: "legal",
        label: "Legal"
    }, {
        id: "operations",
        label: "Operations"
    }, {
        id: "hr",
        label: "HR"
    }, {
        id: "video-editing",
        label: "Video Editing"
    }, {
        id: "management",
        label: "Management"
    }],
    hG = [{
        id: "engineering",
        label: "Engineering"
    }, {
        id: "design",
        label: "Design"
    }, {
        id: "founder",
        label: "Founder"
    }, {
        id: "finance",
        label: "Finance"
    }, {
        id: "consulting",
        label: "Consulting"
    }, {
        id: "marketing",
        label: "Marketing"
    }, {
        id: "product",
        label: "Product"
    }, {
        id: "sales-gtm",
        label: "Sales / GTM"
    }, {
        id: "recruiting",
        label: "Recruiting"
    }, {
        id: "legal",
        label: "Legal"
    }, {
        id: "operations",
        label: "Operations"
    }, {
        id: "hr",
        label: "HR"
    }, {
        id: "video-editing",
        label: "Video Editing"
    }, {
        id: "management",
        label: "Management"
    }],
    pG = [{
        id: "google",
        label: "Google"
    }, {
        id: "linkedin",
        label: "LinkedIn"
    }, {
        id: "youtube",
        label: "YouTube"
    }, {
        id: "email",
        label: "Email"
    }, {
        id: "twitter-x",
        label: "Twitter / X"
    }, {
        id: "tiktok",
        label: "TikTok"
    }, {
        id: "instagram",
        label: "Instagram"
    }, {
        id: "reddit",
        label: "Reddit"
    }, {
        id: "podcast",
        label: "Podcast"
    }, {
        id: "word-of-mouth",
        label: "Word of mouth"
    }, {
        id: "other-source",
        label: "Other"
    }],
    Eb = e => e === "Student" ? rt.SURVEY_STUDENT : e === "Looking for a job" ? rt.SURVEY_INTERVIEWING : rt.SURVEY_JOB;

function mG() {
    const e = N1(),
        [t, n] = h.useState(null),
        [r, i] = h.useState(null),
        [s, a] = h.useState(""),
        o = h.useMemo(() => Eb(e ?? ""), [e]),
        c = d => {
            a(d), n("other")
        },
        u = h.useCallback(async () => {
            await Se("#setup-container", {
                opacity: 0
            }, {
                duration: .3,
                ease: "easeInOut"
            }), await Se(".onboarding", {
                opacity: 0
            }, {
                duration: .4,
                ease: "easeInOut"
            })
        }, []);
    return l.jsxs(V.div, {
        initial: "initial",
        animate: "animate",
        exit: "exit",
        transition: {
            delayChildren: Ka(.1, {
                from: "last"
            })
        },
        className: "flex flex-col gap-8 size-full",
        children: [l.jsxs("div", {
            className: "flex flex-col items-center gap-3",
            children: [l.jsx(V.h1, {
                variants: Ot(1, 24, !0),
                className: "text-4xl leading-11 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)]",
                style: {
                    background: "radial-gradient(81.69% 140.7% at 50.16% 0%, #FFF 0%, #999 100%)",
                    WebkitBackgroundClip: "text",
                    WebkitTextFillColor: "transparent"
                },
                children: "Tell us more"
            }), l.jsx(V.p, {
                variants: Ot(2, 16, !0),
                className: "text-ob-secondary text-sm text-balance text-center",
                children: "We'll use this to customize your onboarding experience."
            })]
        }), o === rt.SURVEY_STUDENT && l.jsx(Ju, {
            setOption: n,
            setOtherInput: c,
            selectedOption: t,
            options: dG,
            title: "What level of education are you pursuing?"
        }), o === rt.SURVEY_JOB && l.jsx(Ju, {
            setOption: n,
            setOtherInput: c,
            selectedOption: t,
            options: fG,
            title: "What industry are you in?"
        }), o === rt.SURVEY_INTERVIEWING && l.jsx(Ju, {
            setOption: n,
            setOtherInput: c,
            selectedOption: t,
            options: hG,
            title: "What do you do?"
        }), l.jsx(V.div, {
            variants: Ot(3.5, 0, !0),
            className: "w-full",
            children: l.jsxs("div", {
                className: Q("flex flex-col gap-2.5 transition-all duration-200 ease-out", (!t || r) && "opacity-45"),
                children: [l.jsxs("h2", {
                    className: "text-white text-base font-semibold tracking-[-0.04px]",
                    children: ["How did you hear about ", Be, "?"]
                }), l.jsx("div", {
                    className: "flex flex-wrap -m-1.5",
                    children: pG.map((d, f) => l.jsx(Nb, {
                        variants: Ot(f * .05 + 4, 0, !0),
                        isSelected: r === d.id,
                        disabled: !t,
                        onClick: () => {
                            i(d.id), u(), setTimeout(() => {
                                vn.setPersonProperties({
                                    surveyOption: t === "other" ? s : t,
                                    surveySource: d.id
                                }), vn.capture(ge.ONBOARDING_V2_FINISHED), be("finish-onboarding", null)
                            }, 1e3)
                        },
                        children: d.label
                    }, d.id))
                })]
            })
        })]
    })
}
const Ju = ({
        setOption: e,
        selectedOption: t,
        options: n,
        title: r,
        setOtherInput: i
    }) => l.jsx("div", {
        className: "w-full flex flex-col gap-2.5 group",
        children: l.jsxs("div", {
            className: Q("flex flex-col gap-2.5 transition-all duration-200 ease-out", t && "opacity-45"),
            onMouseLeave: s => {
                t && (s.currentTarget.className = Q(s.currentTarget.className, "group-hover:opacity-100"))
            },
            children: [l.jsx(V.h2, {
                variants: Ot(3, 0, !0),
                className: "text-white text-base font-semibold tracking-[-0.04px]",
                children: r
            }), l.jsxs("div", {
                className: "flex flex-wrap -m-1.5",
                children: [n.map((s, a) => l.jsx(Nb, {
                    variants: Ot(a * .05 + 4, 0, !0),
                    isSelected: t === s.id,
                    onClick: () => e(s.id),
                    children: s.label
                }, s.id)), l.jsx(gG, {
                    onChange: i,
                    isSelected: t === "other",
                    variants: Ot((n.length + 1) * .05 + 4, 0, !0),
                    select: () => e("other"),
                    deselect: () => e(null)
                })]
            })]
        })
    }),
    Nb = ({
        children: e,
        isSelected: t,
        onClick: n,
        variants: r,
        disabled: i
    }) => l.jsx(X.HeadlessButton, {
        className: Q("p-[3px] group/pill cursor-pointer", i && "cursor-default !pointer-events-none"),
        disabled: i,
        onClick: n,
        children: l.jsx(V.div, {
            variants: r,
            className: Q("flex px-3 py-1.5 items-center gap-1.5 rounded-full border transition-all duration-200 ease-out group-hover/pill:scale-[1.03] group-active/pill:scale-[0.97] text-sm", i && "cursor-default !pointer-events-none", t ? "bg-blue-2 border-blue-6 text-primary-foreground shadow-lg" : "bg-shade-2 border-shade-6 text-foreground"),
            children: e
        })
    }),
    gG = ({
        onChange: e,
        isSelected: t,
        select: n,
        deselect: r,
        variants: i
    }) => {
        const [s, a] = h.useState(""), [o, c] = h.useState(!1);
        return l.jsx("div", {
            className: "p-[3px] cursor-pointer",
            children: l.jsxs(V.div, {
                variants: i,
                className: Q("rounded-full border relative text-sm h-[34px] transition-all duration-200 ease-out pr-4.5", o ? "bg-shade-1 border-shade-6 text-white shadow-lg" : t ? "bg-blue-2 border-blue-6 text-primary-foreground shadow-lg" : "bg-shade-2 border-shade-6 text-foreground hover:scale-[1.03] active:scale-[0.97]"),
                children: [l.jsxs(V.div, {
                    variants: {
                        hidden: {
                            opacity: 0
                        },
                        visible: {
                            opacity: 1
                        }
                    },
                    initial: !1,
                    animate: o ? "visible" : "hidden",
                    style: {
                        pointerEvents: o ? "auto" : "none"
                    },
                    transition: {
                        duration: .12,
                        ease: "easeOut"
                    },
                    className: "absolute inset-0",
                    children: [l.jsx("input", {
                        className: "min-w-full px-3 py-1.5 rounded-full text-sm absolute inset-0",
                        ref: u => {
                            o && u?.focus()
                        },
                        onChange: u => a(u.target.value),
                        value: s,
                        onKeyDown: u => {
                            u.key === "Enter" && u.target.blur()
                        },
                        onBlur: u => {
                            c(!1);
                            const d = u.target.value;
                            d ? e(d) : r()
                        },
                        maxLength: 25
                    }), l.jsx("div", {
                        className: "opacity-0 mx-px pointer-events-none min-w-full px-3 py-1.5",
                        children: s
                    })]
                }), l.jsx(V.div, {
                    variants: {
                        hidden: {
                            opacity: 0
                        },
                        visible: {
                            opacity: 1
                        }
                    },
                    initial: !1,
                    animate: o ? "hidden" : "visible",
                    transition: {
                        duration: .12,
                        ease: "easeOut"
                    },
                    style: {
                        pointerEvents: o ? "none" : "auto"
                    },
                    children: l.jsxs(X.HeadlessButton, {
                        onClick: () => {
                            c(!0), s && n()
                        },
                        className: "flex h-full cursor-pointer before:cursor-pointer items-center px-3 py-1.5 before:absolute before:-inset-[3px]",
                        children: [l.jsx("span", {
                            children: s || "Other"
                        }), l.jsx(Za, {
                            className: "size-4 absolute right-3 top-1/2 -translate-y-1/2"
                        })]
                    })
                })]
            })
        })
    },
    rt = {
        LANDING: "landing",
        PERMISSIONS: "permissions",
        QUIT: "quit",
        MODE: "mode",
        SURVEY_JOB: "survey-job",
        SURVEY_INTERVIEWING: "survey-interviewing",
        SURVEY_STUDENT: "survey-student",
        UNKNOWN: "unknown"
    };
var sr = (e => (e.UNKNOWN = "unknown", e.GRANTED = "granted", e.DENIED = "denied", e))(sr || {});

function xG() {
    const e = hd(),
        [t, n] = h.useState(!1),
        [r, i] = h.useState(or ? "granted" : "unknown"),
        [s, a] = h.useState(or ? "granted" : "unknown"),
        [o, c] = h.useState(!1),
        u = N1(),
        d = Us(),
        f = $l(),
        m = !d || f;
    return h.useEffect(() => {
        (async () => {
            const x = await Xn("check-mic-permission", null);
            i(x ? "granted" : "unknown")
        })()
    }, []), h.useEffect(() => {
        const g = setTimeout(() => {
            n(!0)
        }, 10);
        return () => clearTimeout(g)
    }, []), {
        step: h.useMemo(() => {
            if (!t) return rt.UNKNOWN;
            if (!e) return rt.LANDING;
            const g = s === "granted" || o;
            return r === "unknown" || !g ? rt.PERMISSIONS : r === "granted" && g && s === "unknown" ? rt.QUIT : m ? rt.SURVEY_JOB : !u || u === "Default" ? rt.MODE : Eb(u)
        }, [e, r, s, o, t, u, m]),
        microphoneStatus: r,
        screenCapStatus: s,
        didAttemptCapture: o,
        setDidAttemptCapture: c,
        setMicrophoneStatus: i,
        setScreenCapStatus: a
    }
}
const Ab = h.createContext({
        microphoneStatus: sr.UNKNOWN,
        screenCapStatus: sr.UNKNOWN,
        didAttemptCapture: !1,
        setDidAttemptCapture: () => {},
        setMicrophoneStatus: () => {},
        setScreenCapStatus: () => {}
    }),
    Tb = () => {
        const e = h.useContext(Ab);
        if (!e) throw new Error("useOnboarding must be used within an OnboardingProvider");
        return e
    },
    vG = Ab.Provider;

function bG() {
    const {
        setDidAttemptCapture: e
    } = Tb(), [t, n] = h.useState(!1);
    return h.useEffect(() => {
        const r = () => {
            t && e(!0)
        };
        return window.addEventListener("focus", r), () => window.removeEventListener("focus", r)
    }, [t, e]), l.jsxs(V.div, {
        initial: "initial",
        animate: "animate",
        exit: "exit",
        transition: {
            delayChildren: Ka(.1, {
                from: "last"
            })
        },
        className: "flex flex-col gap-12 size-full",
        children: [l.jsxs("div", {
            className: "flex flex-col items-center gap-3",
            children: [l.jsx(V.h1, {
                variants: Ot(1, 24, !0),
                className: "text-4xl leading-11 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)] text-transparent bg-clip-text bg-[radial-gradient(circle_at_center_top,#FFFFFF_60%,#999999)]",
                children: "Let's get you set up."
            }), l.jsx(V.p, {
                variants: Ot(2, 16, !0),
                className: "text-ob-secondary text-sm text-balance text-center",
                children: "We'll need permission to access your screen and microphone to continue."
            })]
        }), l.jsxs("div", {
            className: "flex flex-col gap-6 items-center",
            children: [l.jsx(V.div, {
                variants: Ot(3, 10, !0, {
                    initial: {
                        padding: "0 6px"
                    },
                    animate: {
                        padding: "0 0px",
                        transition: {
                            ...Ma(3, !1),
                            padding: {
                                type: "spring",
                                stiffness: 100,
                                damping: 10,
                                delay: 3 * .3
                            }
                        }
                    }
                }),
                className: "w-full",
                children: l.jsx(V2, {
                    type: "microphone"
                })
            }), l.jsx(V.div, {
                variants: Ot(3.2, 10, !0, {
                    initial: {
                        padding: "0 6px"
                    },
                    animate: {
                        padding: "0 0px",
                        transition: {
                            ...Ma(3.2, !1),
                            padding: {
                                type: "spring",
                                stiffness: 200,
                                damping: 19,
                                delay: 3.2 * .3
                            }
                        }
                    }
                }),
                className: "w-full",
                children: l.jsx(V2, {
                    type: "screen",
                    onClick: () => n(!0)
                })
            })]
        })]
    })
}

function V2({
    type: e,
    onClick: t
}) {
    const {
        microphoneStatus: n,
        screenCapStatus: r,
        setMicrophoneStatus: i,
        setScreenCapStatus: s
    } = Tb(), a = {
        screen: l.jsx(E$, {
            className: "size-6"
        }),
        microphone: l.jsx(A$, {
            className: "size-6"
        })
    } [e], o = {
        screen: `Allow ${Be} to view your screen.`,
        microphone: `Allow ${Be} to access your microphone.`
    } [e], c = {
        screen: r === sr.GRANTED,
        microphone: n === sr.GRANTED
    } [e], u = h.useCallback(async () => {
        if (c) return;
        await Xn("request-media-permission", e) ? e === "microphone" ? i(sr.GRANTED) : s(sr.GRANTED) : (e === "microphone" ? i(sr.DENIED) : s(sr.DENIED), be("mac-open-system-settings", {
            section: `privacy > ${e==="microphone"?"microphone":"screen-recording"}`
        })), t?.()
    }, [c, e, t, i, s]);
    return l.jsxs("div", {
        className: "flex justify-between items-center w-full",
        children: [l.jsxs("div", {
            className: "flex items-center gap-2",
            children: [l.jsx("div", {
                className: "size-7",
                children: a
            }), l.jsxs("div", {
                className: "flex flex-col gap-0.5",
                children: [l.jsx("span", {
                    className: "text-ob-primary text-sm font-medium capitalize",
                    children: e
                }), l.jsx("p", {
                    className: "text-ob-secondary text-[11px] text-balance",
                    children: o
                })]
            })]
        }), c != null ? l.jsx(V.div, {
            animate: {
                width: c ? "83px" : "119px"
            },
            transition: {
                type: "spring",
                stiffness: 300,
                damping: 27
            },
            children: l.jsx(Nc, {
                disabled: c,
                onClick: u,
                className: "overflow-hidden w-full",
                containerProps: {
                    style: {
                        width: "100%"
                    }
                },
                children: l.jsx(Ke, {
                    initial: !1,
                    mode: "popLayout",
                    children: l.jsx(V.span, {
                        initial: {
                            x: -2,
                            opacity: 0
                        },
                        animate: {
                            x: 0,
                            opacity: 1
                        },
                        exit: {
                            x: 2,
                            opacity: 0
                        },
                        transition: {
                            duration: .3,
                            ease: "easeOut"
                        },
                        className: "whitespace-nowrap",
                        children: c ? "Granted" : "Grant Access"
                    }, c ? "granted" : "grant")
                })
            })
        }) : l.jsx("div", {
            className: "h-9 w-20"
        })]
    })
}

function yG() {
    return l.jsxs(l.Fragment, {
        children: [l.jsxs(V.div, {
            initial: "initial",
            animate: "animate",
            exit: "exit",
            transition: {
                delayChildren: Ka(.1, {
                    from: "last"
                })
            },
            className: "flex flex-col gap-12 size-full",
            children: [l.jsxs("div", {
                className: "flex flex-col items-center gap-3",
                children: [l.jsx(V.h1, {
                    variants: Ot(1, 24, !0),
                    className: "text-4xl leading-11 tracking-[-0.72px] font-semibold text-shadow-[0_0_8px_rgba(255,255,255,0.2),0_3px_8px_rgba(0,0,0,0.2)]",
                    style: {
                        background: "radial-gradient(81.69% 140.7% at 50.16% 0%, #FFF 0%, #999 100%)",
                        WebkitBackgroundClip: "text",
                        WebkitTextFillColor: "transparent"
                    },
                    children: "Wrapping things up"
                }), l.jsxs(V.p, {
                    variants: Ot(2, 16, !0),
                    className: "text-ob-secondary text-sm text-balance text-center",
                    children: ["Youll need to restart the app to finish setting ", Be, " up."]
                })]
            }), l.jsx(V.div, {
                variants: Ot(5, 0, !0),
                className: "w-full flex justify-center",
                children: l.jsxs(Nc, {
                    containerProps: {
                        style: {
                            background: "linear-gradient(180deg, rgba(174, 34, 36, 0.00) 0%, rgba(174, 34, 36, 0.75) 100%), #4F4158",
                            boxShadow: "0 4px 16.4px 0 rgba(174, 34, 36, 0.25), 0 4px 8px 0 rgba(19, 22, 44, 0.40)"
                        }
                    },
                    style: {
                        background: "radial-gradient(62.55% 48.48% at 50.5% 51.52%, rgba(228, 38, 41, 0.00) 0%, rgba(228, 38, 41, 0.10) 100%), #222433"
                    },
                    onClick: () => {
                        be("quit-app", null)
                    },
                    children: ["Quit ", Be]
                })
            })]
        }), l.jsxs(V.svg, {
            width: "477",
            height: "87",
            viewBox: "0 0 477 87",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            className: "absolute bottom-0 left-0 right-0 origin-bottom pointer-events-none",
            initial: {
                opacity: 0,
                scaleY: 0
            },
            animate: {
                opacity: 1,
                scaleY: 1
            },
            exit: {
                opacity: 0,
                scaleY: 0
            },
            transition: {
                duration: 1,
                ease: "easeOut",
                delay: 1.6
            },
            children: [l.jsx("title", {
                children: "Gradient"
            }), l.jsx("g", {
                filter: "url(#filter0_f_15_1067)",
                children: l.jsx("path", {
                    d: "M291.316 28H186.684C175.213 64.8585 131.156 75.7039 12 84.4746V126H466V84.4746C322.671 81.3585 292.562 66.9505 291.316 28Z",
                    fill: "url(#paint0_linear_15_1067)"
                })
            }), l.jsxs("defs", {
                children: [l.jsxs("filter", {
                    id: "filter0_f_15_1067",
                    x: "-15.9",
                    y: "0.1",
                    width: "509.8",
                    height: "153.8",
                    filterUnits: "userSpaceOnUse",
                    colorInterpolationFilters: "sRGB",
                    children: [l.jsx("feFlood", {
                        floodOpacity: "0",
                        result: "BackgroundImageFix"
                    }), l.jsx("feBlend", {
                        mode: "normal",
                        in: "SourceGraphic",
                        in2: "BackgroundImageFix",
                        result: "shape"
                    }), l.jsx("feGaussianBlur", {
                        stdDeviation: "13.95",
                        result: "effect1_foregroundBlur_15_1067"
                    })]
                }), l.jsxs("linearGradient", {
                    id: "paint0_linear_15_1067",
                    x1: "239",
                    y1: "126",
                    x2: "239",
                    y2: "28",
                    gradientUnits: "userSpaceOnUse",
                    children: [l.jsx("stop", {
                        stopColor: "#EE383B",
                        stopOpacity: "0.5"
                    }), l.jsx("stop", {
                        offset: "1",
                        stopColor: "#EE383B",
                        stopOpacity: "0.05"
                    })]
                })]
            })]
        })]
    })
}
const Ot = (e, t, n = !1, r) => ({
        initial: {
            opacity: 0,
            y: t,
            pointerEvents: "none",
            transition: Ma(e),
            ...r?.initial
        },
        animate: {
            opacity: 1,
            y: 0,
            pointerEvents: "auto",
            transition: Ma(e),
            ...r?.animate
        },
        exit: {
            opacity: 0,
            y: n ? -t : t,
            pointerEvents: "none",
            transition: Ma(e, !0),
            ...r?.exit
        }
    }),
    Ma = (e, t = !1) => ({
        type: "tween",
        duration: t ? .4 : 1.6,
        ease: [.087, .129, .318, 1.026],
        delay: e * (t ? .1 : .3)
    });

function wG({
    step: e,
    setupStep: t
}) {
    const n = h.useMemo(() => {
        switch (t) {
            case rt.LANDING:
                return () => l.jsx(aG, {}, "landing");
            case rt.PERMISSIONS:
                return () => l.jsx(bG, {}, "permissions");
            case rt.QUIT:
                return () => l.jsx(yG, {}, "quit");
            case rt.MODE:
                return () => l.jsx(oG, {}, "mode");
            case rt.SURVEY_JOB:
            case rt.SURVEY_INTERVIEWING:
            case rt.SURVEY_STUDENT:
                return () => l.jsx(mG, {}, "survey");
            default:
                return () => null
        }
    }, [t]);
    return e < tl.MOUNT_SETUP ? null : l.jsx("div", {
        id: "setup-root",
        className: Q("absolute top-0 left-0 w-full h-full flex items-start justify-center pt-36"),
        children: l.jsx("div", {
            id: "setup-container",
            style: {
                opacity: 0
            },
            className: "onboarding-dialog setup-container onboarding-bg onboarding-border rounded-2xl backdrop-blur-sm overflow-hidden w-[477px] relative",
            children: l.jsx(cb, {
                transition: {
                    stiffness: 300,
                    damping: 29
                },
                children: l.jsx("div", {
                    id: "setup-content",
                    className: Q("px-10 py-12 setup-content min-w-[475px]", e === tl.MOUNT_SETUP ? "opacity-0" : ""),
                    children: l.jsx(Ke, {
                        mode: "wait",
                        children: e >= tl.SHOW_CONTENT && l.jsx(n, {}, t)
                    })
                })
            })
        })
    })
}
var tl = (e => (e[e.INITIAL = 0] = "INITIAL", e[e.LOGO_APPEAR = 1] = "LOGO_APPEAR", e[e.MOUNT_SETUP = 2] = "MOUNT_SETUP", e[e.SHOW_CONTENT = 3] = "SHOW_CONTENT", e))(tl || {});
const W2 = {
        [rt.LANDING]: 340,
        [rt.PERMISSIONS]: 343,
        [rt.QUIT]: 260,
        [rt.MODE]: 512,
        [rt.SURVEY_JOB]: 562,
        [rt.SURVEY_INTERVIEWING]: 376,
        [rt.SURVEY_STUDENT]: 482,
        [rt.UNKNOWN]: 0
    },
    SG = se(() => {
        F6(!0), vb(), bb(), yb();
        const [e, t] = Vs(), n = at(), [r, i] = h.useState(0), s = h.useRef(!1), {
            step: a,
            microphoneStatus: o,
            screenCapStatus: c,
            didAttemptCapture: u,
            setDidAttemptCapture: d,
            setMicrophoneStatus: f,
            setScreenCapStatus: m
        } = xG();
        h.useEffect(() => {
            o === sr.GRANTED && n.capture(ge.ONBOARDING_V2_MIC_PERMISSION_GRANTED), c === sr.GRANTED && n.capture(ge.ONBOARDING_V2_SCREEN_PERMISSION_GRANTED)
        }, [o, c, n]), h.useEffect(() => {
            if (a === rt.UNKNOWN) return;
            const g = async () => {
                if (n.capture(ge.ONBOARDING_V2_STARTED), Ll.in(1, 1, "easeInOut"), await De(1500), a !== rt.LANDING) {
                    i(2);
                    return
                }
                i(1)
            }, x = async () => {
                ir.containerIntro(), ir.appear(), await De(1500), t("#logo-container", {
                    top: "50%"
                }, {
                    type: "spring",
                    stiffness: 300,
                    damping: 25
                }), ir.highlight(), ir.dropIn(), await De(200), await ir.shrink(), yt.set("calc(53% + 6rem)", "calc(51% + 12rem)"), await yt.moveTo("calc(53%)", "calc(51%)"), await De(300), yt.click(), ir.click(), await De(50), yt.fadeOut(), await De(100), i(2)
            }, y = async () => {
                await De(100);
                const w = document.getElementById("setup-container");
                if (!w) return;
                if (a !== rt.LANDING) {
                    w.style.height = `${W2[a]}px`, await t("#setup-container", {
                        opacity: [0, 1],
                        y: [12, 0],
                        scale: [.98, 1]
                    }, {
                        type: "spring",
                        stiffness: 300,
                        damping: 26
                    }), i(3), setTimeout(() => {
                        w.style.height = "fit-content"
                    }, 500);
                    return
                }
                const C = 477,
                    E = W2[a];
                w.style.width = "74px", w.style.height = "74px", w.style.borderRadius = "37px", w.style.background = "linear-gradient(30deg, rgba(0, 0, 0, 0.8) 17%, rgba(0, 0, 0, 0.9) 82%)", w.style.borderColor = "rgba(255, 255, 255, 0.6)", w.style.borderWidth = "1px", w.style.borderStyle = "solid", w.style.overflow = "hidden";
                const A = document.getElementById("setup-root"),
                    N = document.getElementById("logo");
                if (!A || !N) return;
                const j = A.getBoundingClientRect(),
                    z = N.getBoundingClientRect(),
                    H = z.left + z.width / 2 - j.left,
                    R = z.top + z.height / 2 - j.top;
                w.style.position = "absolute", w.style.left = `${H-37}px`, w.style.top = `${R-37}px`, w.style.transform = "translate(0, 0)", w.style.opacity = "1", N.style.background = "transparent";
                const _ = (j.width - C) / 2,
                    F = 9 * parseFloat(getComputedStyle(document.documentElement).fontSize || "16");
                t(N.parentElement, {
                    top: "233px"
                }, {
                    type: "spring",
                    stiffness: 300,
                    damping: 25
                }), t(N, {
                    width: 98,
                    height: 98,
                    borderColor: "transparent"
                }, {
                    type: "spring",
                    stiffness: 300,
                    damping: 25
                }), await t("#setup-container", {
                    width: `${C}px`,
                    height: `${E}px`,
                    borderRadius: "16px",
                    left: `${_}px`,
                    top: `${F}px`
                }, {
                    type: "spring",
                    stiffness: 300,
                    damping: 25
                }), i(3), setTimeout(() => {
                    w.style.height = "fit-content"
                }, 500), await t(N, {
                    opacity: 0
                }, {
                    duration: .5
                })
            };
            if (s.current) return;
            async function b() {
                s.current = !0;
                try {
                    r === 0 && await g(), r === 1 && await x(), r === 2 && await y()
                } finally {
                    s.current = !1
                }
            }
            b()
        }, [r, t, a, n]);
        const p = h.useMemo(() => ({
            microphoneStatus: o,
            screenCapStatus: c,
            didAttemptCapture: u,
            setDidAttemptCapture: d,
            setMicrophoneStatus: f,
            setScreenCapStatus: m
        }), [o, c, u, d, f, m]);
        return l.jsxs("div", {
            className: "onboarding fixed inset-0 text-ob-primary",
            ref: e,
            children: [l.jsx(E1, {
                className: "background"
            }), l.jsx(vG, {
                value: p,
                children: l.jsx(wG, {
                    step: r,
                    setupStep: a
                })
            }), l.jsx(db, {}), l.jsx(ub, {})]
        })
    }),
    A1 = fr({
        page: "login"
    });

function CG() {
    const e = Si(A1);
    gt("dashboard-window-state", ({
        state: t
    }) => {
        e(t)
    }), h.useEffect(() => {
        be("get-dashboard-window-state", null)
    }, [])
}
const ma = {
        base: ["relative isolate inline-flex items-baseline justify-center gap-x-2 rounded-lg border text-base/6 font-semibold", "px-[calc(--spacing(3.5)-1px)] py-[calc(--spacing(2.5)-1px)] sm:px-[calc(--spacing(3)-1px)] sm:py-[calc(--spacing(1.5)-1px)] sm:text-sm/6", "focus:not-data-focus:outline-hidden data-focus:outline-2 data-focus:outline-offset-2 data-focus:outline-sky-500", "data-disabled:opacity-50", "*:data-[slot=icon]:-mx-0.5 *:data-[slot=icon]:my-0.5 *:data-[slot=icon]:size-5 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:self-center *:data-[slot=icon]:text-(--btn-icon) sm:*:data-[slot=icon]:my-1 sm:*:data-[slot=icon]:size-4 forced-colors:[--btn-icon:ButtonText] forced-colors:data-hover:[--btn-icon:ButtonText]"],
        solid: ["border-transparent bg-(--btn-border)", "dark:bg-(--btn-bg)", "before:absolute before:inset-0 before:-z-10 before:rounded-[calc(var(--radius-lg)-1px)] before:bg-(--btn-bg)", "before:shadow-sm", "dark:before:hidden", "dark:border-white/5", "after:absolute after:inset-0 after:-z-10 after:rounded-[calc(var(--radius-lg)-1px)]", "after:shadow-[inset_0_1px_--theme(--color-white/15%)]", "data-active:after:bg-(--btn-hover-overlay) data-hover:after:bg-(--btn-hover-overlay)", "dark:after:-inset-px dark:after:rounded-lg", "data-disabled:before:shadow-none data-disabled:after:shadow-none"],
        outline: ["border-zinc-950/10 text-zinc-950 data-active:bg-zinc-950/2.5 data-hover:bg-zinc-950/2.5", "dark:border-white/15 dark:text-white dark:[--btn-bg:transparent] dark:data-active:bg-white/5 dark:data-hover:bg-white/5", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
        plain: ["border-transparent text-zinc-950 data-active:bg-zinc-950/5 data-hover:bg-zinc-950/5", "dark:text-white dark:data-active:bg-white/10 dark:data-hover:bg-white/10", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
        colors: {
            "dark/zinc": ["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:text-white dark:[--btn-bg:var(--color-zinc-600)] dark:[--btn-hover-overlay:var(--color-white)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            light: ["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/2.5 data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15", "dark:text-white dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]", "[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
            "dark/white": ["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:text-zinc-950 dark:[--btn-bg:white] dark:[--btn-hover-overlay:var(--color-zinc-950)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],
            dark: ["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10", "dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            white: ["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/2.5 data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15", "dark:[--btn-hover-overlay:var(--color-zinc-950)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-500)] data-hover:[--btn-icon:var(--color-zinc-500)]"],
            zinc: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-zinc-600)] [--btn-border:var(--color-zinc-700)]/90", "dark:[--btn-hover-overlay:var(--color-white)]/5", "[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],
            indigo: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-indigo-500)] [--btn-border:var(--color-indigo-600)]/90", "[--btn-icon:var(--color-indigo-300)] data-active:[--btn-icon:var(--color-indigo-200)] data-hover:[--btn-icon:var(--color-indigo-200)]"],
            cyan: ["text-cyan-950 [--btn-bg:var(--color-cyan-300)] [--btn-border:var(--color-cyan-400)]/80 [--btn-hover-overlay:var(--color-white)]/25", "[--btn-icon:var(--color-cyan-900)]"],
            red: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-red-600)] [--btn-border:var(--color-red-700)]/90", "[--btn-icon:var(--color-red-300)] data-active:[--btn-icon:var(--color-red-200)] data-hover:[--btn-icon:var(--color-red-200)]"],
            orange: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-orange-500)] [--btn-border:var(--color-orange-600)]/90", "[--btn-icon:var(--color-orange-300)] data-active:[--btn-icon:var(--color-orange-200)] data-hover:[--btn-icon:var(--color-orange-200)]"],
            amber: ["text-amber-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-amber-400)] [--btn-border:var(--color-amber-500)]/80", "[--btn-icon:var(--color-amber-600)]"],
            yellow: ["text-yellow-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-yellow-300)] [--btn-border:var(--color-yellow-400)]/80", "[--btn-icon:var(--color-yellow-600)] data-active:[--btn-icon:var(--color-yellow-700)] data-hover:[--btn-icon:var(--color-yellow-700)]"],
            lime: ["text-lime-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-lime-300)] [--btn-border:var(--color-lime-400)]/80", "[--btn-icon:var(--color-lime-600)] data-active:[--btn-icon:var(--color-lime-700)] data-hover:[--btn-icon:var(--color-lime-700)]"],
            green: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-green-600)] [--btn-border:var(--color-green-700)]/90", "[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],
            emerald: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-emerald-600)] [--btn-border:var(--color-emerald-700)]/90", "[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],
            teal: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-teal-600)] [--btn-border:var(--color-teal-700)]/90", "[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],
            sky: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-sky-500)] [--btn-border:var(--color-sky-600)]/80", "[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],
            blue: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-sky-600)] [--btn-border:var(--color-sky-700)]/90", "[--btn-icon:var(--color-sky-400)] data-active:[--btn-icon:var(--color-sky-300)] data-hover:[--btn-icon:var(--color-sky-300)]"],
            violet: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-violet-500)] [--btn-border:var(--color-violet-600)]/90", "[--btn-icon:var(--color-violet-300)] data-active:[--btn-icon:var(--color-violet-200)] data-hover:[--btn-icon:var(--color-violet-200)]"],
            purple: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-purple-500)] [--btn-border:var(--color-purple-600)]/90", "[--btn-icon:var(--color-purple-300)] data-active:[--btn-icon:var(--color-purple-200)] data-hover:[--btn-icon:var(--color-purple-200)]"],
            fuchsia: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-fuchsia-500)] [--btn-border:var(--color-fuchsia-600)]/90", "[--btn-icon:var(--color-fuchsia-300)] data-active:[--btn-icon:var(--color-fuchsia-200)] data-hover:[--btn-icon:var(--color-fuchsia-200)]"],
            pink: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-pink-500)] [--btn-border:var(--color-pink-600)]/90", "[--btn-icon:var(--color-pink-300)] data-active:[--btn-icon:var(--color-pink-200)] data-hover:[--btn-icon:var(--color-pink-200)]"],
            rose: ["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-rose-500)] [--btn-border:var(--color-rose-600)]/90", "[--btn-icon:var(--color-rose-300)] data-active:[--btn-icon:var(--color-rose-200)] data-hover:[--btn-icon:var(--color-rose-200)]"]
        }
    },
    rd = h.forwardRef(function({
        color: t,
        outline: n,
        plain: r,
        custom: i,
        className: s,
        children: a,
        ...o
    }, c) {
        const u = bn(s, !i && [ma.base, n ? ma.outline : r ? ma.plain : bn(ma.solid, ma.colors[t ?? "white"])]);
        return l.jsx(Ix, {
            ...o,
            className: bn(u, !i && "cursor-pointer"),
            ref: c,
            children: l.jsx(kG, {
                children: a
            })
        })
    });

function kG({
    children: e
}) {
    return l.jsxs(l.Fragment, {
        children: [l.jsx("span", {
            className: "absolute top-1/2 left-1/2 size-[max(100%,2.75rem)] -translate-x-1/2 -translate-y-1/2 pointer-fine:hidden",
            "aria-hidden": "true"
        }), e]
    })
}

function EG(e) {
    return l.jsx(tD, {
        ...e
    })
}

function NG({
    ...e
}) {
    return l.jsx(y6, {
        ...e
    })
}

function AG({
    anchor: e = "bottom",
    className: t,
    ...n
}) {
    return l.jsx(w6, {
        ...n,
        transition: !0,
        anchor: e,
        className: bn(t, "[--anchor-gap:--spacing(2)] [--anchor-padding:--spacing(1)] data-[anchor~=end]:[--anchor-offset:6px] data-[anchor~=start]:[--anchor-offset:-6px] sm:data-[anchor~=end]:[--anchor-offset:4px] sm:data-[anchor~=start]:[--anchor-offset:-4px]", "isolate w-max rounded-lg p-1", "outline outline-transparent focus:outline-hidden", "overflow-y-auto", "bg-white/75 backdrop-blur-xl dark:bg-zinc-800/75", "shadow-lg ring-1 ring-zinc-950/10 dark:ring-white/10 dark:ring-inset", "supports-[grid-template-columns:subgrid]:grid supports-[grid-template-columns:subgrid]:grid-cols-[auto_1fr_1.5rem_0.5rem_auto]", "transition data-leave:duration-100 data-leave:ease-in data-closed:data-leave:opacity-0")
    })
}

function e0({
    className: e,
    danger: t,
    warn: n,
    ...r
}) {
    const i = bn(e, "group cursor-pointer rounded-md px-3.5 py-2.5 focus:outline-hidden sm:px-3 sm:py-1.5", "text-left text-base/6 text-zinc-950 sm:text-sm/6 dark:text-white forced-colors:text-[CanvasText]", "data-focus:bg-black/10 dark:data-focus:bg-white/10", "data-disabled:opacity-50", "forced-color-adjust-none forced-colors:data-focus:bg-[Highlight] forced-colors:data-focus:text-[HighlightText] forced-colors:data-focus:*:data-[slot=icon]:text-[HighlightText]", "col-span-full grid grid-cols-[auto_1fr_1.5rem_0.5rem_auto] items-center supports-[grid-template-columns:subgrid]:grid-cols-subgrid", "*:data-[slot=icon]:col-start-1 *:data-[slot=icon]:row-start-1 *:data-[slot=icon]:mr-2.5 *:data-[slot=icon]:-ml-0.5 *:data-[slot=icon]:size-5 sm:*:data-[slot=icon]:mr-2 sm:*:data-[slot=icon]:size-4", "*:data-[slot=icon]:text-zinc-500 dark:*:data-[slot=icon]:text-zinc-400 data-focus:*:data-[slot=icon]:text-black dark:data-focus:*:data-[slot=icon]:text-white", "*:data-[slot=avatar]:mr-2.5 *:data-[slot=avatar]:-ml-1 *:data-[slot=avatar]:size-6 sm:*:data-[slot=avatar]:mr-2 sm:*:data-[slot=avatar]:size-5", t && "text-red-400! data-focus:bg-red-500! data-focus:text-white! data-focus:*:data-[slot=icon]:text-white", n && "data-focus:bg-red-500! data-focus:text-white! data-focus:*:data-[slot=icon]:text-white");
    return l.jsx(S6, {
        as: "button",
        type: "button",
        ...r,
        className: i
    })
}

function TG({
    className: e,
    ...t
}) {
    return l.jsx("span", {
        ...t,
        className: bn(e, "col-span-full px-3 py-2 text-xs font-semibold -mx-1 mb-1 text-zinc-800 dark:text-zinc-200 group-hover:text-white border-b border-zinc-950/5 dark:border-white/10")
    })
}

function t0({
    className: e,
    ...t
}) {
    return l.jsx("div", {
        ...t,
        "data-slot": "label",
        className: bn(e, "col-start-2 row-start-1"),
        ...t
    })
}
const q2 = "(prefers-color-scheme: dark)",
    G2 = "theme-preference";

function T1() {
    const [e, t] = h.useState(() => localStorage.getItem(G2) || "system"), [n, r] = h.useState(window.matchMedia(q2).matches), i = e === "system" ? n : e === "dark";
    return h.useEffect(() => {
        localStorage.setItem(G2, e)
    }, [e]), h.useEffect(() => {
        const s = window.matchMedia(q2),
            a = o => r(o.matches);
        return s.addEventListener("change", a), () => s.removeEventListener("change", a)
    }, []), gt("broadcast-to-all-windows", s => {
        s.command === "change-theme" && t(s.theme)
    }), {
        isDark: i
    }
}
const Ib = se(function() {
    const t = at(),
        {
            isDark: n
        } = T1(),
        r = Gt(Ta);
    return l.jsx("div", {
        className: Q("absolute top-2 flex items-center gap-2 [-webkit-app-region:no-drag]", or ? "right-[143px]" : "right-[8px]"),
        children: l.jsxs(EG, {
            children: [l.jsx(NG, {
                className: "outline-none",
                children: l.jsx("div", {
                    className: "flex items-center justify-center bg-zinc-200 dark:bg-zinc-900 size-8 cursor-pointer rounded-md",
                    children: l.jsx(s9, {
                        className: "size-4 text-black dark:text-zinc-300"
                    })
                })
            }), l.jsxs(AG, {
                className: bn(n ? "dark" : "light"),
                children: [l.jsxs(TG, {
                    children: [Be, " v", Hi]
                }), l.jsxs(e0, {
                    onClick: () => window.open(`https://support.${sd}.com`),
                    children: [l.jsx(lW, {}), l.jsx(t0, {
                        children: "Help Center"
                    })]
                }), r === "downloaded" && l.jsxs(e0, {
                    warn: !0,
                    onClick: () => {
                        be("install-update", null), t.capture(ge.UPDATE_CLICKED)
                    },
                    children: [l.jsx(nW, {}), l.jsx(t0, {
                        children: "Restart to Update"
                    })]
                }), l.jsxs(e0, {
                    warn: !0,
                    onClick: () => be("quit-app", null),
                    children: [l.jsx(aW, {}), l.jsxs(t0, {
                        children: ["Quit ", Be]
                    })]
                })]
            })]
        })
    })
});

function Pi({
    className: e
}) {
    return l.jsx("div", {
        className: Q("[-webkit-app-region:drag]", e)
    })
}
const IG = fr(0);

function I1() {
    const e = ei({
            queryFn: jG,
            queryKey: ["consumerDashboardPath"]
        }),
        [t, n] = Pr(IG),
        r = h.useCallback(() => {
            e.refetch(), n(i => i + 1)
        }, [e.refetch, n]);
    return {
        iframeSrc: e.data,
        iframeKey: t,
        refetchDashboardPathAndReloadIframe: r
    }
}
async function jG() {
    const e = Hi.split(".").slice(0, 2).join("."),
        t = await fetch(`${R1}/consumer-dashboard/${e}.x`, {
            cache: "no-store"
        });
    if (!t.ok) throw new Error("Failed to fetch latest consumer dashboard version");
    const n = (await t.text()).trim();
    return `${R1}/consumer-dashboard/${n}`
}
const zl = {
    type: "spring",
    stiffness: 260,
    damping: 25
};

function MG() {
    const [e, t] = h.useState(!1), {
        iframeKey: n
    } = I1();
    return h.useEffect(() => {
        t(!1)
    }, [n]), h.useEffect(() => {
        if (!e) {
            const r = setTimeout(() => {
                t(!0)
            }, 5e3);
            return () => clearTimeout(r)
        }
    }, [e]), l.jsxs("div", {
        className: "relative h-full flex flex-col items-center justify-center gap-6",
        children: [l.jsx(Pi, {
            className: "absolute top-0 left-0 right-0 h-10"
        }), l.jsx(V.div, {
            layout: "position",
            transition: zl,
            children: l.jsx(RG, {})
        }), e && l.jsx(OG, {}), l.jsx(Ib, {})]
    })
}

function RG() {
    return l.jsx(V.div, {
        initial: {
            opacity: 0,
            scale: .2
        },
        animate: {
            opacity: 1,
            scale: 1
        },
        transition: {
            ...zl,
            delay: .4
        },
        children: l.jsx(pr, {
            className: "size-20 fill-zinc-300 dark:fill-zinc-500"
        })
    })
}

function OG() {
    const e = Gt(A1),
        {
            refetchDashboardPathAndReloadIframe: t
        } = I1();
    return l.jsxs("div", {
        className: "flex flex-col items-center gap-3",
        children: [l.jsxs(V.p, {
            className: "text-lg text-zinc-400",
            initial: {
                opacity: 0,
                y: 10
            },
            animate: {
                opacity: 1,
                y: 0
            },
            transition: {
                ...zl,
                delay: .5
            },
            children: [Be, " is taking longer than expected to load"]
        }), l.jsx(V.div, {
            initial: {
                opacity: 0,
                scale: .8
            },
            animate: e.page === "view" ? {
                opacity: 1,
                scale: 1
            } : {
                opacity: 0,
                scale: .8
            },
            transition: {
                ...zl,
                delay: 3
            },
            children: l.jsx(rd, {
                color: "light",
                onClick: t,
                children: "Try again"
            })
        })]
    })
}

function PG({
    children: e,
    onClose: t,
    isEnterprise: n,
    isDark: r
}) {
    return l.jsx("div", {
        className: bn(r ? "dark" : "light"),
        children: l.jsx("div", {
            className: "fixed inset-0 flex w-screen justify-center overflow-y-auto px-2 py-2 focus:outline-0 sm:px-6 sm:py-8 lg:px-8 lg:py-16 bg-zinc-100/50 dark:bg-black/50 backdrop-blur-[0.5px]",
            onClick: t,
            children: l.jsx("div", {
                className: "fixed inset-0 w-screen overflow-y-auto pt-6 sm:pt-0",
                children: l.jsx("div", {
                    className: "grid min-h-full sm:p-4 sm:grid-rows-[2.5fr_auto_3fr] justify-items-center",
                    children: l.jsxs("div", {
                        className: "row-start-2 w-full min-w-0 max-w-5xl rounded-t-md sm:rounded-md bg-white dark:bg-zinc-900 shadow-xl ring-1 ring-zinc-950/8 dark:ring-white/10 overflow-hidden relative flex flex-col transition duration-150 will-change-transform",
                        onClick: i => i.stopPropagation(),
                        children: [l.jsx("div", {
                            className: "absolute right-2 top-2",
                            children: l.jsx(hr, {
                                onClick: t,
                                className: bn(n ? "text-black" : "dark:text-white", "size-4.5 cursor-pointer opacity-50 hover:opacity-100")
                            })
                        }), l.jsx("div", {
                            className: "h-[75vh]",
                            children: e
                        })]
                    })
                })
            })
        })
    })
}
const LG = se(({
    isEnterprise: e
}) => {
    const {
        isDark: t
    } = T1(), n = e ? "/desktop/personalize" : `/desktop/personalize-v3?light=${t?"0":"1"}`, r = () => {
        be("set-dashboard-state", {
            state: {
                page: "view",
                modal: null
            }
        })
    };
    return l.jsx(PG, {
        onClose: r,
        isEnterprise: e,
        isDark: t,
        children: l.jsx("iframe", {
            className: "size-full",
            src: Es + n,
            allow: "clipboard-read; clipboard-write"
        })
    })
});

function DG(e, t, n, r) {
    const i = Uy(),
        {
            current: s
        } = h.useRef([]),
        a = t != null && n,
        o = Ui(u => {
            if (a) try {
                const {
                    origin: d
                } = new URL(t);
                e.current?.contentWindow?.postMessage(u, d)
            } catch (d) {
                console.error("Failed to post message to dashboard iframe:", d)
            } else s.push(u)
        });
    h.useEffect(() => {
        a && (s.forEach(o), s.length = 0)
    }, [a, o]);
    const {
        current: c
    } = h.useRef(new Set);
    gt("broadcast-to-all-windows", u => {
        u.command === "audio-session-stopped" && (o({
            type: "open-session",
            sessionId: u.sessionId
        }), o({
            type: "mutate-session",
            sessionId: u.sessionId
        })), u.command === "session-state-change" && (o({
            type: "mutate-session",
            sessionId: u.sessionId
        }), u.state === "ongoing" && u.hasAudio && !c.has(u.sessionId) && (c.add(u.sessionId), o({
            type: "open-session",
            sessionId: u.sessionId
        }))), u.command === "dashboard-show-listen-button" && o({
            type: "show-listen-button"
        }), u.command === "dashboard-hide-listen-button" && o({
            type: "hide-listen-button"
        }), u.command === "open-dashboard-page" && o({
            type: "open-page",
            page: u.page,
            params: u.params
        })
    }), gt("updater-state", u => {
        _6(u) && (u = {
            state: "none"
        }), o({
            type: "updater-state",
            payload: u
        })
    }), gt("invisible-changed", ({
        invisible: u
    }) => {
        o({
            type: "invisible-changed",
            invisible: u
        })
    }), gt("send-keybindings-to-dashboard", () => {
        o({
            type: "keybindings-changed",
            keybindings: i
        })
    }), gt("dashboard-ready", () => {
        r(!0)
    }), h.useEffect(() => {
        const u = () => {
            o({
                type: "mutate-session",
                sessionId: null
            })
        };
        return window.addEventListener("focus", u), () => window.removeEventListener("focus", u)
    }, [o])
}
const _G = se(function({
    hasLoadedDashboard: t,
    setHasLoadedDashboard: n
}) {
    const r = h.useRef(null),
        {
            iframeSrc: i,
            iframeKey: s
        } = I1();
    return DG(r, i, t, n), i ? l.jsxs("div", {
        className: "relative h-full",
        children: [l.jsx("iframe", {
            ref: r,
            src: `${i}/sessions`,
            className: "size-full bg-[#F4F4F5] dark:bg-[#121213]",
            allow: "clipboard-read; clipboard-write"
        }, s), l.jsx(FG, {})]
    }) : null
});

function FG() {
    return Ra ? l.jsxs(l.Fragment, {
        children: [l.jsx(Pi, {
            className: "absolute top-0 left-0 w-[73px] h-10"
        }), l.jsx(Pi, {
            className: "absolute top-0 left-[140px] w-[calc(50%-365px)] h-10"
        }), l.jsx(Pi, {
            className: "absolute top-0 right-[135px] w-[calc(50%-360px)] h-10"
        })]
    }) : l.jsxs(l.Fragment, {
        children: [l.jsx(Pi, {
            className: "absolute top-0 left-[120px] w-[calc(50%-345px)] h-10"
        }), l.jsx(Pi, {
            className: "absolute top-0 right-[271px] w-[calc(50%-495px)] h-10"
        })]
    })
}

function zG(e) {
    return Yt({
        attr: {
            version: "1.1",
            x: "0px",
            y: "0px",
            viewBox: "0 0 48 48",
            enableBackground: "new 0 0 48 48"
        },
        child: [{
            tag: "path",
            attr: {
                fill: "#FFC107",
                d: `M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`
            },
            child: []
        }, {
            tag: "path",
            attr: {
                fill: "#FF3D00",
                d: `M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`
            },
            child: []
        }, {
            tag: "path",
            attr: {
                fill: "#4CAF50",
                d: `M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`
            },
            child: []
        }, {
            tag: "path",
            attr: {
                fill: "#1976D2",
                d: `M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`
            },
            child: []
        }]
    })(e)
}
const BG = () => l.jsxs("svg", {
        width: "134",
        height: "135",
        viewBox: "0 0 134 135",
        fill: "none",
        children: [l.jsxs("g", {
            filter: "url(#filter0_d_1372_4155)",
            children: [l.jsx("path", {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M111.194 20.8058C86.7864 -3.60195 47.2136 -3.60195 22.8058 20.8058C-1.60195 45.2136 -1.60195 84.7864 22.8058 109.194C47.2136 133.602 86.7864 133.602 111.194 109.194C135.602 84.7864 135.602 45.2136 111.194 20.8058ZM32.8753 30.8753C51.7218 12.0289 82.2782 12.0289 101.125 30.8753C119.971 49.7218 119.971 80.2782 101.125 99.1247C99.012 101.237 96.7524 103.113 94.3785 104.752L94.4115 104.719C78.6546 88.9619 78.6546 63.4149 94.4115 47.6579L96.6492 45.4202L86.5797 35.3508L84.3421 37.5884C68.5851 53.3454 43.0381 53.3454 27.2812 37.5884L27.2481 37.6215C28.887 35.2476 30.7628 32.988 32.8753 30.8753ZM58.3421 63.5883C45.0652 64.2006 31.6073 59.9911 20.8182 50.9596C16.4761 65.2862 18.9399 81.2342 28.2095 93.721L58.3421 63.5883ZM38.279 103.791C50.7658 113.06 66.7138 115.524 81.0403 111.182C72.0089 100.393 67.7994 86.9348 68.4117 73.6579L38.279 103.791Z",
                fill: "url(#paint0_linear_1372_4155)"
            }), l.jsx("path", {
                d: "M23.2002 21.2002C47.39 -2.98967 86.61 -2.98967 110.8 21.2002C134.99 45.39 134.99 84.61 110.8 108.8C86.61 132.99 47.39 132.99 23.2002 108.8C-0.989675 84.61 -0.989675 45.39 23.2002 21.2002ZM68.0176 73.2637L37.8848 103.396L37.4268 103.854L37.9463 104.238C50.5789 113.616 66.7111 116.108 81.2021 111.716L82.0098 111.471L81.4678 110.823C72.5296 100.145 68.3626 86.8258 68.9688 73.6836L69.0352 72.2451L68.0176 73.2637ZM101.52 30.4805C82.4551 11.4161 51.5449 11.4161 32.4805 30.4805C30.344 32.6171 28.4471 34.9032 26.7891 37.3047L27.2119 37.6572L26.8867 37.9834C42.8615 53.9579 68.7615 53.9578 84.7363 37.9834L86.5801 36.1396L95.8604 45.4199L94.0166 47.2637C78.0421 63.2385 78.0421 89.1385 94.0166 105.113L94.3418 104.787L94.6953 105.211C97.0968 103.553 99.3829 101.656 101.52 99.5195C120.584 80.4551 120.584 49.5449 101.52 30.4805ZM20.2842 50.7979C15.8923 65.2889 18.3839 81.4211 27.7617 94.0537L28.1465 94.5732L28.6045 94.1152L58.7363 63.9824L59.7549 62.9648L58.3164 63.0312C45.1742 63.6374 31.8546 59.4704 21.1768 50.5322L20.5293 49.9902L20.2842 50.7979Z",
                stroke: "#A8BDE6",
                strokeWidth: "1.11607"
            })]
        }), l.jsxs("defs", {
            children: [l.jsxs("filter", {
                id: "filter0_d_1372_4155",
                x: "0.0357141",
                y: "0.267857",
                width: "133.929",
                height: "133.929",
                filterUnits: "userSpaceOnUse",
                colorInterpolationFilters: "sRGB",
                children: [l.jsx("feFlood", {
                    floodOpacity: "0",
                    result: "BackgroundImageFix"
                }), l.jsx("feColorMatrix", {
                    in: "SourceAlpha",
                    type: "matrix",
                    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
                    result: "hardAlpha"
                }), l.jsx("feOffset", {
                    dy: "2.23214"
                }), l.jsx("feGaussianBlur", {
                    stdDeviation: "2.23214"
                }), l.jsx("feComposite", {
                    in2: "hardAlpha",
                    operator: "out"
                }), l.jsx("feColorMatrix", {
                    type: "matrix",
                    values: "0 0 0 0 0.0964143 0 0 0 0 0.297204 0 0 0 0 0.730488 0 0 0 0.25 0"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in2: "BackgroundImageFix",
                    result: "effect1_dropShadow_1372_4155"
                }), l.jsx("feBlend", {
                    mode: "normal",
                    in: "SourceGraphic",
                    in2: "effect1_dropShadow_1372_4155",
                    result: "shape"
                })]
            }), l.jsxs("linearGradient", {
                id: "paint0_linear_1372_4155",
                x1: "101.907",
                y1: "2.5",
                x2: "30.4308",
                y2: "127.5",
                gradientUnits: "userSpaceOnUse",
                children: [l.jsx("stop", {
                    stopColor: "#CCDBF7"
                }), l.jsx("stop", {
                    offset: "1",
                    stopColor: "#85A3E0"
                })]
            })]
        })]
    }),
    $G = se(function() {
        const t = at(),
            n = () => {
                Ua("google-oauth"), t.capture(ge.LOG_IN_CLICKED)
            },
            r = () => {
                Ua(), t.capture(ge.LOG_IN_CLICKED)
            },
            i = s => {
                window.open(`https://${sd}.com/${s}`, "_blank")
            };
        return l.jsxs("div", {
            className: "relative h-screen flex flex-col items-center justify-center p-8",
            children: [l.jsx(Pi, {
                className: "absolute top-0 left-0 right-0 h-16"
            }), l.jsxs("div", {
                className: "max-w-md w-full h-full flex flex-col items-center justify-between",
                children: [l.jsxs("div", {
                    className: "h-full flex flex-col items-center justify-center gap-8",
                    children: [l.jsxs(V.div, {
                        className: "text-center space-y-6",
                        initial: {
                            opacity: 0,
                            y: 10
                        },
                        animate: {
                            opacity: 1,
                            y: 0
                        },
                        transition: {
                            duration: .6,
                            delay: .1
                        },
                        children: [l.jsx("div", {
                            className: "flex justify-center",
                            children: l.jsx(V.div, {
                                initial: {
                                    opacity: 0,
                                    y: 10
                                },
                                animate: {
                                    opacity: 1,
                                    y: 0
                                },
                                transition: {
                                    duration: .4,
                                    delay: .05
                                },
                                children: l.jsx(BG, {})
                            })
                        }), l.jsxs("div", {
                            className: "flex flex-col gap-y-2",
                            children: [l.jsxs("h2", {
                                className: "text-black dark:text-white text-5xl font-medium tracking-tight",
                                children: ["Welcome to ", Be]
                            }), l.jsx("p", {
                                className: "text-zinc-600 dark:text-zinc-300 text-2xl",
                                children: "Your AI meeting assistant"
                            })]
                        })]
                    }), l.jsxs(V.div, {
                        className: "space-y-4 w-[75%]",
                        initial: {
                            opacity: 0,
                            y: 10
                        },
                        animate: {
                            opacity: 1,
                            y: 0
                        },
                        transition: {
                            duration: .6,
                            delay: .7
                        },
                        children: [l.jsxs(rd, {
                            onClick: n,
                            color: "dark",
                            className: "w-full h-12! items-center",
                            children: [l.jsx(zG, {
                                className: "size-6"
                            }), l.jsx("span", {
                                className: "text-xl!",
                                children: "Continue with Google"
                            })]
                        }), l.jsxs(rd, {
                            onClick: r,
                            color: "light",
                            className: "w-full items-center",
                            children: [l.jsx(wd, {
                                className: "size-4.5"
                            }), l.jsx("span", {
                                className: "text-lg! font-medium!",
                                children: "Sign in with email"
                            })]
                        })]
                    })]
                }), l.jsx(V.div, {
                    className: "",
                    initial: {
                        opacity: 0,
                        y: 10
                    },
                    animate: {
                        opacity: 1,
                        y: 0
                    },
                    transition: {
                        duration: .6,
                        delay: .8
                    },
                    children: l.jsxs("p", {
                        className: "text-xs text-zinc-400 dark:text-zinc-500",
                        children: ["By signing in, you agree to our", " ", l.jsx("button", {
                            className: "underline cursor-pointer",
                            type: "button",
                            onClick: () => i("terms"),
                            children: "Terms of Service"
                        }), " ", "and", " ", l.jsx("button", {
                            className: "underline cursor-pointer",
                            type: "button",
                            onClick: () => i("privacy-policy"),
                            children: "Privacy Policy"
                        })]
                    })
                })]
            }), l.jsx(Ib, {})]
        })
    }),
    HG = se(function() {
        CG();
        const {
            isDark: t
        } = T1(), n = Gt(A1), {
            data: r
        } = B6({
            enabled: n.page === "view"
        }), i = r?.organization.enterpriseSeatCount != null;
        _q(r);
        const [s, a] = h.useState(!1);
        h.useEffect(() => {
            n.page !== "view" && a(!1)
        }, [n.page]);
        const o = n.page === "logging-in" || n.page === "view" && !s;
        return l.jsx("div", {
            className: bn("size-full", t ? "dark" : "light"),
            children: l.jsxs("div", {
                className: "relative size-full bg-[#F4F4F5] dark:bg-[#121213]",
                children: [n.page === "login" && l.jsx($G, {}), n.page === "view" && l.jsx(_G, {
                    hasLoadedDashboard: s,
                    setHasLoadedDashboard: a
                }), l.jsx(Ke, {
                    children: o && l.jsx(V.div, {
                        className: "absolute inset-0",
                        animate: {
                            opacity: 1
                        },
                        exit: {
                            opacity: 0
                        },
                        transition: {
                            duration: .1
                        },
                        children: l.jsx(MG, {})
                    })
                }), n.page === "view" && n.modal === "personalize" && l.jsx(LG, {
                    isEnterprise: i
                }), l.jsx(UG, {})]
            })
        })
    });

function UG() {
    return Yl ? l.jsx(VG, {
        className: "bg-emerald-500/15 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-400 inset-ring-emerald-400/10",
        children: "Dev build"
    }) : null
}

function VG({
    className: e,
    children: t
}) {
    return l.jsx("div", {
        className: "absolute bottom-2 right-2 hover:opacity-0 transition duration-200 group",
        children: l.jsx("div", {
            className: Q("inline-flex items-center gap-x-1.5 rounded-full px-2 py-0.5 text-xs/5 font-medium tracking-tight inset-ring group-hover:pointer-events-none", e),
            children: t
        })
    })
}

function WG(e) {
    return l.jsx(Vy, {
        client: fd,
        children: l.jsx(Wy, {
            apiKey: Hb,
            options: {
                api_host: $b,
                disable_session_recording: !0,
                autocapture: !1,
                capture_exceptions: {
                    capture_console_errors: !0,
                    capture_unhandled_errors: !0,
                    capture_unhandled_rejections: !0
                }
            },
            children: e.children
        })
    })
}
const qG = document.getElementById("root"),
    GG = Ub.createRoot(qG),
    YG = new URLSearchParams(window.location.search).has(Vb),
    {
        hasOnboarded: KG
    } = await Xn("request-has-onboarded", null),
    XG = SG;
GG.render(l.jsx(h.StrictMode, {
    children: l.jsx(WG, {
        children: YG ? l.jsx(HG, {}) : KG ? l.jsx(Bq, {}) : l.jsx(XG, {})
    })
}));
//# sourceMappingURL=main-BzAPKaqF.js.map