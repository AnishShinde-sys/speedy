import{r as s,j as e,t as p,A as u,f}from"./globals-DXbuEYWf.js";function m({display:t,ipcChannel:a}){const[i,l]=s.useState(!1),[r,o]=s.useState(!1);s.useEffect(()=>{const d=()=>l(!0),c=()=>l(!1);return window.addEventListener("highlight",d),window.addEventListener("unhighlight",c),()=>{window.removeEventListener("highlight",d),window.removeEventListener("unhighlight",c)}},[]);const n=()=>{window.electron?.ipcRenderer?(console.log(`[DisplayOverlay] Sending click event for display ${t.id} on channel ${a}`),window.electron.ipcRenderer.send(a)):console.error("[DisplayOverlay] IPC renderer not available")};return e.jsx("button",{type:"button",className:p("w-full h-full flex flex-col justify-center items-center","font-sans text-white cursor-pointer transition-all duration-200 ease-in-out","bg-black/30 border-none outline-none focus:outline-none",r&&"bg-sky-500/40",i&&"bg-sky-500/60"),onClick:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e.jsxs("div",{className:"text-center pointer-events-none",children:[e.jsxs("div",{className:"text-2xl font-semibold mb-2 drop-shadow-lg",children:["Click to move ",u]}),e.jsx("div",{className:"text-base opacity-80 drop-shadow-md mb-0",children:t.label}),e.jsxs("div",{className:"text-base opacity-80 drop-shadow-md",children:[t.bounds.width," Ã— ",t.bounds.height]})]})})}function y(){const[t,a]=s.useState(null),[i,l]=s.useState(null);return s.useEffect(()=>{try{const o=new URLSearchParams(window.location.search).get("displayData");if(!o)throw new Error("No display data provided in URL parameters");const n=JSON.parse(decodeURIComponent(o));if(!n.display||!n.ipcChannel)throw new Error("Invalid display data structure");console.log("[DisplayOverlayApp] Loaded display data:",n),a({display:n.display,ipcChannel:n.ipcChannel})}catch(r){console.error("Failed to parse display data:",r),l(r instanceof Error?r.message:"Unknown error")}},[]),i?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-500/30 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-semibold mb-2",children:"Error"}),e.jsx("div",{className:"text-sm opacity-70",children:i})]})}):t?e.jsx(m,{display:t.display,ipcChannel:t.ipcChannel}):null}const h=document.getElementById("overlay-root");if(!h)throw new Error("Overlay root element not found");const w=f.createRoot(h);w.render(e.jsx(s.StrictMode,{children:e.jsx(y,{})}));
//# sourceMappingURL=overlay-tJbh8CZ_.js.map
