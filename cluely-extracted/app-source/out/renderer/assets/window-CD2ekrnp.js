const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browser-Dpr88_Po.js","./globals-DXbuEYWf.js","./globals-C4zKyubz.css"])))=>i.map(i=>d[i]);
import{r as j,j as ne,i as T$,g as Su,a as $$,R as at,k as dr,l as Hy,A as Vn,c as O$,m as C$,I as P$,t as Be}from"./globals-DXbuEYWf.js";function R$(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const ih=j.createContext({});function Bs(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const sh=typeof window<"u",Wy=sh?j.useLayoutEffect:j.useEffect,xu=j.createContext(null);function oh(t,e){t.indexOf(e)===-1&&t.push(e)}function po(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const er=(t,e,n)=>n>e?e:n<t?t:n;let ah=()=>{};const tr={},Ky=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Jy(t){return typeof t=="object"&&t!==null}const Xy=t=>/^0[^.\s]+$/u.test(t);function uh(t){let e;return()=>(e===void 0&&(e=t()),e)}const sn=t=>t,D$=(t,e)=>n=>e(t(n)),mo=(...t)=>t.reduce(D$),Ui=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ch{constructor(){this.subscriptions=[]}add(e){return oh(this.subscriptions,e),()=>po(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hn=t=>t*1e3,$n=t=>t/1e3;function Yy(t,e){return e?t*(1e3/e):0}const N$=(t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t},Qy=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j$=1e-7,U$=12;function L$(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=Qy(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>j$&&++a<U$);return o}function go(t,e,n,i){if(t===e&&n===i)return sn;const r=s=>L$(s,0,1,t,n);return s=>s===0||s===1?s:Qy(r(s),e,i)}const eb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tb=t=>e=>1-t(1-e),nb=go(.33,1.53,.69,.99),lh=tb(nb),rb=eb(lh),ib=t=>(t*=2)<1?.5*lh(t):.5*(2-Math.pow(2,-10*(t-1))),dh=t=>1-Math.sin(Math.acos(t)),sb=tb(dh),ob=eb(dh),M$=go(.42,0,1,1),z$=go(0,0,.58,1),ab=go(.42,0,.58,1),ub=t=>Array.isArray(t)&&typeof t[0]!="number";function cb(t,e){return ub(t)?t[N$(0,t.length,e)]:t}const lb=t=>Array.isArray(t)&&typeof t[0]=="number",F$={linear:sn,easeIn:M$,easeInOut:ab,easeOut:z$,circIn:dh,circInOut:ob,circOut:sb,backIn:lh,backInOut:rb,backOut:nb,anticipate:ib},B$=t=>typeof t=="string",Gm=t=>{if(lb(t)){ah(t.length===4);const[e,n,i,r]=t;return go(e,n,i,r)}else if(B$(t))return F$[t];return t},Mo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V$(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(c){o.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,d=!1,f=!1)=>{const g=f&&r?n:i;return d&&o.add(c),g.has(c)||g.add(c),c},cancel:c=>{i.delete(c),o.delete(c)},process:c=>{if(a=c,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),n.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const q$=40;function db(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Mo.reduce((E,T)=>(E[T]=V$(s),E),{}),{setup:a,read:u,resolveKeyframes:l,preUpdate:c,update:d,preRender:f,render:p,postRender:g}=o,b=()=>{const E=tr.useManualTiming?r.timestamp:performance.now();n=!1,tr.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,q$),1)),r.timestamp=E,r.isProcessing=!0,a.process(r),u.process(r),l.process(r),c.process(r),d.process(r),f.process(r),p.process(r),g.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(b))},w=()=>{n=!0,i=!0,r.isProcessing||t(b)};return{schedule:Mo.reduce((E,T)=>{const k=o[T];return E[T]=(P,C=!1,R=!1)=>(n||w(),k.schedule(P,C,R)),E},{}),cancel:E=>{for(let T=0;T<Mo.length;T++)o[Mo[T]].cancel(E)},state:r,steps:o}}const{schedule:We,cancel:vr,state:_t,steps:Sc}=db(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let pa;function G$(){pa=void 0}const Lt={now:()=>(pa===void 0&&Lt.set(_t.isProcessing||tr.useManualTiming?_t.timestamp:performance.now()),pa),set:t=>{pa=t,queueMicrotask(G$)}},hb=t=>e=>typeof e=="string"&&e.startsWith(t),hh=hb("--"),Z$=hb("var(--"),fh=t=>Z$(t)?H$.test(t.split("/*")[0].trim()):!1,H$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vs={...es,transform:t=>er(0,1,t)},zo={...es,default:1},Os=t=>Math.round(t*1e5)/1e5,ph=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W$(t){return t==null}const K$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mh=(t,e)=>n=>!!(typeof n=="string"&&K$.test(n)&&n.startsWith(t)||e&&!W$(n)&&Object.prototype.hasOwnProperty.call(n,e)),fb=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(ph);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},J$=t=>er(0,255,t),xc={...es,transform:t=>Math.round(J$(t))},Fr={test:mh("rgb","red"),parse:fb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+xc.transform(t)+", "+xc.transform(e)+", "+xc.transform(n)+", "+Os(Vs.transform(i))+")"};function X$(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Sl={test:mh("#"),parse:X$,transform:Fr.transform},vo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cr=vo("deg"),On=vo("%"),le=vo("px"),Y$=vo("vh"),Q$=vo("vw"),Zm={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},xi={test:mh("hsl","hue"),parse:fb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+On.transform(Os(e))+", "+On.transform(Os(n))+", "+Os(Vs.transform(i))+")"},ot={test:t=>Fr.test(t)||Sl.test(t)||xi.test(t),parse:t=>Fr.test(t)?Fr.parse(t):xi.test(t)?xi.parse(t):Sl.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fr.transform(t):xi.transform(t),getAnimatableNone:t=>{const e=ot.parse(t);return e.alpha=0,ot.transform(e)}},eO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tO(t){return isNaN(t)&&typeof t=="string"&&(t.match(ph)?.length||0)+(t.match(eO)?.length||0)>0}const pb="number",mb="color",nO="var",rO="var(",Hm="${}",iO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qs(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(iO,u=>(ot.test(u)?(i.color.push(s),r.push(mb),n.push(ot.parse(u))):u.startsWith(rO)?(i.var.push(s),r.push(nO),n.push(u)):(i.number.push(s),r.push(pb),n.push(parseFloat(u))),++s,Hm)).split(Hm);return{values:n,split:a,indexes:i,types:r}}function gb(t){return qs(t).values}function vb(t){const{split:e,types:n}=qs(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===pb?s+=Os(r[o]):a===mb?s+=ot.transform(r[o]):s+=r[o]}return s}}const sO=t=>typeof t=="number"?0:ot.test(t)?ot.getAnimatableNone(t):t;function oO(t){const e=gb(t);return vb(t)(e.map(sO))}const _r={test:tO,parse:gb,createTransformer:vb,getAnimatableNone:oO};function kc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aO({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=kc(u,a,t+1/3),s=kc(u,a,t),o=kc(u,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Ia(t,e){return n=>n>0?e:t}const He=(t,e,n)=>t+(e-t)*n,Ic=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},uO=[Sl,Fr,xi],cO=t=>uO.find(e=>e.test(t));function Wm(t){const e=cO(t);if(!e)return!1;let n=e.parse(t);return e===xi&&(n=aO(n)),n}const Km=(t,e)=>{const n=Wm(t),i=Wm(e);if(!n||!i)return Ia(t,e);const r={...n};return s=>(r.red=Ic(n.red,i.red,s),r.green=Ic(n.green,i.green,s),r.blue=Ic(n.blue,i.blue,s),r.alpha=He(n.alpha,i.alpha,s),Fr.transform(r))},xl=new Set(["none","hidden"]);function lO(t,e){return xl.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dO(t,e){return n=>He(t,e,n)}function gh(t){return typeof t=="number"?dO:typeof t=="string"?fh(t)?Ia:ot.test(t)?Km:pO:Array.isArray(t)?_b:typeof t=="object"?ot.test(t)?Km:hO:Ia}function _b(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>gh(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function hO(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=gh(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function fO(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}const pO=(t,e)=>{const n=_r.createTransformer(e),i=qs(t),r=qs(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?xl.has(t)&&!r.values.length||xl.has(e)&&!i.values.length?lO(t,e):mo(_b(fO(i,r),r.values),n):Ia(t,e)};function yb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?He(t,e,n):gh(t)(t,e)}const mO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>vr(e),now:()=>_t.isProcessing?_t.timestamp:Lt.now()}},bb=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ea=2e4;function vh(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ea;)e+=n,i=t.next(e);return e>=Ea?1/0:e}function wb(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(vh(i),Ea);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:$n(r)}}const gO=5;function Sb(t,e,n){const i=Math.max(e-gO,0);return Yy(n-t(i),e-i)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ec=.001;function vO({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:i=Ye.mass}){let r,s,o=1-e;o=er(Ye.minDamping,Ye.maxDamping,o),t=er(Ye.minDuration,Ye.maxDuration,$n(t)),o<1?(r=l=>{const c=l*o,d=c*t,f=c-n,p=kl(l,o),g=Math.exp(-d);return Ec-f/p*g},s=l=>{const d=l*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-d),b=kl(Math.pow(l,2),o);return(-r(l)+Ec>0?-1:1)*((f-p)*g)/b}):(r=l=>{const c=Math.exp(-l*t),d=(l-n)*t+1;return-Ec+c*d},s=l=>{const c=Math.exp(-l*t),d=(n-l)*(t*t);return c*d});const a=5/t,u=yO(r,s,a);if(t=hn(t),isNaN(u))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const l=Math.pow(u,2)*i;return{stiffness:l,damping:o*2*Math.sqrt(i*l),duration:t}}}const _O=12;function yO(t,e,n){let i=n;for(let r=1;r<_O;r++)i=i-t(i)/e(i);return i}function kl(t,e){return t*Math.sqrt(1-e*e)}const bO=["duration","bounce"],wO=["stiffness","damping","mass"];function Jm(t,e){return e.some(n=>t[n]!==void 0)}function SO(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!Jm(t,wO)&&Jm(t,bO))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*er(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ye.mass,stiffness:r,damping:s}}else{const n=vO(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function Gs(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=SO({...n,velocity:-$n(n.velocity||0)}),g=f||0,b=l/(2*Math.sqrt(u*c)),w=o-s,S=$n(Math.sqrt(u/c)),x=Math.abs(w)<5;i||(i=x?Ye.restSpeed.granular:Ye.restSpeed.default),r||(r=x?Ye.restDelta.granular:Ye.restDelta.default);let E;if(b<1){const k=kl(S,b);E=P=>{const C=Math.exp(-b*S*P);return o-C*((g+b*S*w)/k*Math.sin(k*P)+w*Math.cos(k*P))}}else if(b===1)E=k=>o-Math.exp(-S*k)*(w+(g+S*w)*k);else{const k=S*Math.sqrt(b*b-1);E=P=>{const C=Math.exp(-b*S*P),R=Math.min(k*P,300);return o-C*((g+b*S*w)*Math.sinh(R)+k*w*Math.cosh(R))/k}}const T={calculatedDuration:p&&d||null,next:k=>{const P=E(k);if(p)a.done=k>=d;else{let C=k===0?g:0;b<1&&(C=k===0?hn(g):Sb(E,k,P));const R=Math.abs(C)<=i,D=Math.abs(o-P)<=r;a.done=R&&D}return a.value=a.done?o:P,a},toString:()=>{const k=Math.min(vh(T),Ea),P=bb(C=>T.next(k*C).value,k,30);return k+"ms "+P},toTransition:()=>{}};return T}Gs.applyToOptions=t=>{const e=wb(t,100,Gs);return t.ease=e.ease,t.duration=hn(e.duration),t.type="keyframes",t};function Il({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:l=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},p=R=>a!==void 0&&R<a||u!==void 0&&R>u,g=R=>a===void 0?u:u===void 0||Math.abs(a-R)<Math.abs(u-R)?a:u;let b=n*e;const w=d+b,S=o===void 0?w:o(w);S!==w&&(b=S-d);const x=R=>-b*Math.exp(-R/i),E=R=>S+x(R),T=R=>{const D=x(R),N=E(R);f.done=Math.abs(D)<=l,f.value=f.done?S:N};let k,P;const C=R=>{p(f.value)&&(k=R,P=Gs({keyframes:[f.value,g(f.value)],velocity:Sb(E,R,f.value),damping:r,stiffness:s,restDelta:l,restSpeed:c}))};return C(0),{calculatedDuration:null,next:R=>{let D=!1;return!P&&k===void 0&&(D=!0,T(R),C(R)),k!==void 0&&R>=k?P.next(R-k):(!D&&T(R),f)}}}function xO(t,e,n){const i=[],r=n||tr.mix||yb,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||sn:e;a=mo(u,a)}i.push(a)}return i}function kO(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(ah(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=xO(e,i,r),u=a.length,l=c=>{if(o&&c<t[0])return e[0];let d=0;if(u>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Ui(t[d],t[d+1],c);return a[d](f)};return n?c=>l(er(t[0],t[s-1],c)):l}function xb(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Ui(0,e,i);t.push(He(n,1,r))}}function kb(t){const e=[0];return xb(e,t.length-1),e}function IO(t,e){return t.map(n=>n*e)}function EO(t,e){return t.map(()=>e||ab).splice(0,t.length-1)}function Cs({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=ub(i)?i.map(Gm):Gm(i),s={done:!1,value:e[0]},o=IO(n&&n.length===e.length?n:kb(e),t),a=kO(o,e,{ease:Array.isArray(r)?r:EO(e,r)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const AO=t=>t!==null;function _h(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(AO),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const TO={decay:Il,inertia:Il,tween:Cs,keyframes:Cs,spring:Gs};function Ib(t){typeof t.type=="string"&&(t.type=TO[t.type])}class yh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $O=t=>t/100;class bh extends yh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ib(e);const{type:n=Cs,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const u=n||Cs;u!==Cs&&typeof a[0]!="number"&&(this.mixKeyframes=mo($O,yb(a[0],a[1])),a=[0,100]);const l=u({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=vh(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=l}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let E=this.currentTime,T=i;if(d){const R=Math.min(this.currentTime,r)/a;let D=Math.floor(R),N=R%1;!N&&R>=1&&(N=1),N===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(f==="reverse"?(N=1-N,p&&(N-=p/a)):f==="mirror"&&(T=o)),E=er(0,1,N)*a}const k=x?{done:!1,value:c[0]}:T.next(E);s&&(k.value=s(k.value));let{done:P}=k;!x&&u!==null&&(P=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&g!==Il&&(k.value=_h(c,this.options,w,this.speed)),b&&b(k.value),C&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return $n(this.calculatedDuration)}get time(){return $n(this.currentTime)}set time(e){e=hn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$n(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mO,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function OO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Br=t=>t*180/Math.PI,El=t=>{const e=Br(Math.atan2(t[1],t[0]));return Al(e)},CO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:El,rotateZ:El,skewX:t=>Br(Math.atan(t[1])),skewY:t=>Br(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Al=t=>(t=t%360,t<0&&(t+=360),t),Xm=El,Ym=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Qm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),PO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ym,scaleY:Qm,scale:t=>(Ym(t)+Qm(t))/2,rotateX:t=>Al(Br(Math.atan2(t[6],t[5]))),rotateY:t=>Al(Br(Math.atan2(-t[2],t[0]))),rotateZ:Xm,rotate:Xm,skewX:t=>Br(Math.atan(t[4])),skewY:t=>Br(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Tl(t){return t.includes("scale")?1:0}function $l(t,e){if(!t||t==="none")return Tl(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=PO,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=CO,r=a}if(!r)return Tl(e);const s=i[e],o=r[1].split(",").map(DO);return typeof s=="function"?s(o):o[s]}const RO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $l(n,e)};function DO(t){return parseFloat(t.trim())}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ns=new Set(ts),eg=t=>t===es||t===le,NO=new Set(["x","y","z"]),jO=ts.filter(t=>!NO.has(t));function UO(t){const e=[];return jO.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$l(e,"x"),y:(t,{transform:e})=>$l(e,"y")};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const Hr=new Set;let Ol=!1,Cl=!1,Pl=!1;function Eb(){if(Cl){const t=Array.from(Hr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=UO(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{i.getValue(s)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cl=!1,Ol=!1,Hr.forEach(t=>t.complete(Pl)),Hr.clear()}function Ab(){Hr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cl=!0)})}function LO(){Pl=!0,Ab(),Eb(),Pl=!1}class wh{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hr.add(this),Ol||(Ol=!0,We.read(Ab),We.resolveKeyframes(Eb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}OO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hr.delete(this)}cancel(){this.state==="scheduled"&&(Hr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MO=t=>t.startsWith("--");function zO(t,e,n){MO(e)?t.style.setProperty(e,n):t.style[e]=n}const FO=uh(()=>window.ScrollTimeline!==void 0),BO={};function VO(t,e){const n=uh(t);return()=>BO[e]??n()}const Tb=VO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_s=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,tg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_s([0,.65,.55,1]),circOut:_s([.55,0,1,.45]),backIn:_s([.31,.01,.66,-.59]),backOut:_s([.33,1.53,.69,.99])};function $b(t,e){if(t)return typeof t=="function"?Tb()?bb(t,e):"ease-out":lb(t)?_s(t):Array.isArray(t)?t.map(n=>$b(n,e)||tg.easeOut):tg[t]}function qO(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},l=void 0){const c={[e]:n};u&&(c.offset=u);const d=$b(a,r);Array.isArray(d)&&(c.easing=d);const f={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),t.animate(c,f)}function Sh(t){return typeof t=="function"&&"applyToOptions"in t}function GO({type:t,...e}){return Sh(t)&&Tb()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZO extends yh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,ah(typeof e.type!="string");const l=GO(e);this.animation=qO(n,i,r,l,s),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=_h(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):zO(n,i,c),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return $n(Number(e))}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&FO()?(this.animation.timeline=e,sn):n(this)}}const Ob={anticipate:ib,backInOut:rb,circInOut:ob};function HO(t){return t in Ob}function WO(t){typeof t.ease=="string"&&HO(t.ease)&&(t.ease=Ob[t.ease])}const ng=10;class KO extends ZO{constructor(e){WO(e),Ib(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new bh({...o,autoplay:!1}),u=hn(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-ng).value,a.sample(u).value,ng),a.stop()}}const rg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_r.test(t)||t==="0")&&!t.startsWith("url("));function JO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XO(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=rg(r,e),a=rg(s,e);return!o||!a?!1:JO(t)||(n==="spring"||Sh(n))&&i}const YO=new Set(["opacity","clipPath","filter","transform"]),QO=uh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eC(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=e.owner.getProps();return QO()&&n&&YO.has(n)&&(n!=="transform"||!l)&&!u&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const tC=40;class nC extends yh{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:u,motionValue:l,element:c,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lt.now();const f={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:u,motionValue:l,element:c,...d},p=c?.KeyframeResolver||wh;this.keyframeResolver=new p(a,(g,b,w)=>this.onKeyframesResolved(g,b,f,!w),u,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:u,isHandoff:l,onUpdate:c}=i;this.resolvedAt=Lt.now(),XO(e,s,o,a)||((tr.instantAnimations||!u)&&c?.(_h(e,i,n)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>tC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},p=!l&&eC(f)?new KO({...f,element:f.motionValue.owner.current}):new bh(f);p.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),LO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class rC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e){const n=this.animations.map(i=>i.attachTimeline(e));return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iC extends rC{then(e,n){return this.finished.finally(e).then(()=>{})}}const sC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oC(t){const e=sC.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function Cb(t,e,n=1){const[i,r]=oC(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Ky(o)?parseFloat(o):o}return fh(r)?Cb(r,e,n+1):r}function xh(t,e){return t?.[e]??t?.default??t}const Pb=new Set(["width","height","top","left","right","bottom",...ts]),aC={test:t=>t==="auto",parse:t=>t},Rb=t=>e=>e.test(t),Db=[es,le,On,cr,Q$,Y$,aC],ig=t=>Db.find(Rb(t));function uC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Xy(t):!0}const cC=new Set(["brightness","contrast","saturate","opacity"]);function lC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ph)||[];if(!i)return t;const r=n.replace(i,"");let s=cC.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const dC=/\b([a-z-]*)\(.*?\)/gu,Rl={..._r,getAnimatableNone:t=>{const e=t.match(dC);return e?e.map(lC).join(" "):t}},sg={...es,transform:Math.round},hC={rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:zo,scaleX:zo,scaleY:zo,scaleZ:zo,skew:cr,skewX:cr,skewY:cr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Vs,originX:Zm,originY:Zm,originZ:le},kh={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...hC,zIndex:sg,fillOpacity:Vs,strokeOpacity:Vs,numOctaves:sg},fC={...kh,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Rl,WebkitFilter:Rl},Nb=t=>fC[t];function jb(t,e){let n=Nb(t);return n!==Rl&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pC=new Set(["auto","none","0"]);function mC(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!pC.has(s)&&qs(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=jb(n,r)}class gC extends wh{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let l=e[u];if(typeof l=="string"&&(l=l.trim(),fh(l))){const c=Cb(l,n.current);c!==void 0&&(e[u]=c),u===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Pb.has(i)||e.length!==2)return;const[r,s]=e,o=ig(r),a=ig(s);if(o!==a)if(eg(o)&&eg(a))for(let u=0;u<e.length;u++){const l=e[u];typeof l=="string"&&(e[u]=parseFloat(l))}else Zr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||uC(e[r]))&&i.push(r);i.length&&mC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,u])=>{e.getValue(a).set(u)}),this.resolveNoneKeyframes()}}function Ub(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Lb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Mb(t){return Jy(t)&&"offsetHeight"in t}const og=30,vC=t=>!isNaN(parseFloat(t)),ag={current:void 0};class _C{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Lt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ch);const i=this.events[e].add(n);return e==="change"?()=>{i(),We.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ag.current&&ag.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>og)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,og);return Yy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Li(t,e){return new _C(t,e)}const{schedule:Ih}=db(queueMicrotask,!1),cn={x:!1,y:!1};function zb(){return cn.x||cn.y}function yC(t){return t==="x"||t==="y"?cn[t]?null:(cn[t]=!0,()=>{cn[t]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}function Fb(t,e){const n=Ub(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function ug(t){return!(t.pointerType==="touch"||zb())}function bC(t,e,n={}){const[i,r,s]=Fb(t,n),o=a=>{if(!ug(a))return;const{target:u}=a,l=e(u,a);if(typeof l!="function"||!u)return;const c=d=>{ug(d)&&(l(d),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const Bb=(t,e)=>e?t===e?!0:Bb(t,e.parentElement):!1,Eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SC(t){return wC.has(t.tagName)||t.tabIndex!==-1}const ma=new WeakSet;function cg(t){return e=>{e.key==="Enter"&&t(e)}}function Ac(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xC=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=cg(()=>{if(ma.has(n))return;Ac(n,"down");const r=cg(()=>{Ac(n,"up")}),s=()=>Ac(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function lg(t){return Eh(t)&&!zb()}function kC(t,e,n={}){const[i,r,s]=Fb(t,n),o=a=>{const u=a.currentTarget;if(!lg(a))return;ma.add(u);const l=e(u,a),c=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),ma.has(u)&&ma.delete(u),lg(p)&&typeof l=="function"&&l(p,{success:g})},d=p=>{c(p,u===window||u===document||n.useGlobalTarget||Bb(u,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),Mb(a)&&(a.addEventListener("focus",l=>xC(l,r)),!SC(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Ah(t){return Jy(t)&&"ownerSVGElement"in t}function Vb(t){return Ah(t)&&t.tagName==="svg"}const pt=t=>!!(t&&t.getVelocity),IC=[...Db,ot,_r],EC=t=>IC.find(Rb(t)),Th=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AC extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=Mb(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TC({children:t,isPresent:e,anchorX:n,root:i}){const r=j.useId(),s=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=j.useContext(Th);return j.useInsertionEffect(()=>{const{width:u,height:l,top:c,left:d,right:f}=o.current;if(e||!s.current||!u||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");a&&(g.nonce=a);const b=i??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[e]),ne.jsx(AC,{isPresent:e,childRef:s,sizeRef:o,children:j.cloneElement(t,{ref:s})})}const $C=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:u})=>{const l=Bs(OC),c=j.useId();let d=!0,f=j.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:r,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;i&&i()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,i]);return s&&d&&(f={...f}),j.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),j.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=ne.jsx(TC,{isPresent:n,anchorX:a,root:u,children:t})),ne.jsx(xu.Provider,{value:f,children:t})};function OC(){return new Map}function qb(t=!0){const e=j.useContext(xu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=j.useId();j.useEffect(()=>{if(t)return r(s)},[t]);const o=j.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Fo=t=>t.key||"";function dg(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const CC=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:u})=>{const[l,c]=qb(o),d=j.useMemo(()=>dg(t),[t]),f=o&&!l?[]:d.map(Fo),p=j.useRef(!0),g=j.useRef(d),b=Bs(()=>new Map),[w,S]=j.useState(d),[x,E]=j.useState(d);Wy(()=>{p.current=!1,g.current=d;for(let P=0;P<x.length;P++){const C=Fo(x[P]);f.includes(C)?b.delete(C):b.get(C)!==!0&&b.set(C,!1)}},[x,f.length,f.join("-")]);const T=[];if(d!==w){let P=[...d];for(let C=0;C<x.length;C++){const R=x[C],D=Fo(R);f.includes(D)||(P.splice(C,0,R),T.push(R))}return s==="wait"&&T.length&&(P=T),E(dg(P)),S(d),null}const{forceRender:k}=j.useContext(ih);return ne.jsx(ne.Fragment,{children:x.map(P=>{const C=Fo(P),R=o&&!l?!1:d===x||f.includes(C),D=()=>{if(b.has(C))b.set(C,!0);else return;let N=!0;b.forEach(F=>{F||(N=!1)}),N&&(k?.(),E(g.current),o&&c?.(),i&&i())};return ne.jsx($C,{isPresent:R,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:u,onExitComplete:R?void 0:D,anchorX:a,children:P},C)})})},Gb=j.createContext({strict:!1}),hg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mi={};for(const t in hg)Mi[t]={isEnabled:e=>hg[t].some(n=>!!e[n])};function PC(t){for(const e in t)Mi[e]={...Mi[e],...t[e]}}const RC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Aa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RC.has(t)}let Zb=t=>!Aa(t);function DC(t){typeof t=="function"&&(Zb=e=>e.startsWith("on")?!Aa(e):t(e))}try{DC(require("@emotion/is-prop-valid").default)}catch{}function NC(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Zb(r)||n===!0&&Aa(r)||!e&&!Aa(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const ku=j.createContext({});function Iu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zs(t){return typeof t=="string"||Array.isArray(t)}const $h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oh=["initial",...$h];function Eu(t){return Iu(t.animate)||Oh.some(e=>Zs(t[e]))}function Hb(t){return!!(Eu(t)||t.variants)}function jC(t,e){if(Eu(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Zs(n)?n:void 0,animate:Zs(i)?i:void 0}}return t.inherit!==!1?e:{}}function UC(t){const{initial:e,animate:n}=jC(t,j.useContext(ku));return j.useMemo(()=>({initial:e,animate:n}),[fg(e),fg(n)])}function fg(t){return Array.isArray(t)?t.join(" "):t}const Hs={};function LC(t){for(const e in t)Hs[e]=t[e],hh(e)&&(Hs[e].isCSSVariable=!0)}function Wb(t,{layout:e,layoutId:n}){return ns.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hs[t]||t==="opacity")}const MC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zC=ts.length;function FC(t,e,n){let i="",r=!0;for(let s=0;s<zC;s++){const o=ts[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const l=Lb(a,kh[o]);if(!u){r=!1;const c=MC[o]||o;i+=`${c}(${l}) `}n&&(e[o]=l)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Ch(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const l=e[u];if(ns.has(u)){o=!0;continue}else if(hh(u)){r[u]=l;continue}else{const c=Lb(l,kh[u]);u.startsWith("origin")?(a=!0,s[u]=c):i[u]=c}}if(e.transform||(o||n?i.transform=FC(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:u="50%",originY:l="50%",originZ:c=0}=s;i.transformOrigin=`${u} ${l} ${c}`}}const Ph=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kb(t,e,n){for(const i in e)!pt(e[i])&&!Wb(i,n)&&(t[i]=e[i])}function BC({transformTemplate:t},e){return j.useMemo(()=>{const n=Ph();return Ch(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VC(t,e){const n=t.style||{},i={};return Kb(i,n,t),Object.assign(i,BC(t,e)),i}function qC(t,e){const n={},i=VC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const GC={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZC={offset:"strokeDashoffset",array:"strokeDasharray"};function HC(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?GC:ZC;t[s.offset]=le.transform(-i);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function Jb(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},u,l,c){if(Ch(t,a,l),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=c?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),r!==void 0&&HC(d,r,s,o,!1)}const Xb=()=>({...Ph(),attrs:{}}),Yb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WC(t,e,n,i){const r=j.useMemo(()=>{const s=Xb();return Jb(s,e,Yb(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Kb(s,t.style,t),r.style={...s,...r.style}}return r}const KC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rh(t){return typeof t!="string"||t.includes("-")?!1:!!(KC.indexOf(t)>-1||/[A-Z]/u.test(t))}function JC(t,e,n,{latestValues:i},r,s=!1){const a=(Rh(t)?WC:qC)(e,i,r,t),u=NC(e,typeof t=="string",s),l=t!==j.Fragment?{...u,...a,ref:n}:{},{children:c}=e,d=j.useMemo(()=>pt(c)?c.get():c,[c]);return j.createElement(t,{...l,children:d})}function pg(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Dh(t,e,n,i){if(typeof e=="function"){const[r,s]=pg(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=pg(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function ga(t){return pt(t)?t.get():t}function XC({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:YC(n,i,r,t),renderState:e()}}function YC(t,e,n,i){const r={},s=i(t,{});for(const f in s)r[f]=ga(s[f]);let{initial:o,animate:a}=t;const u=Eu(t),l=Hb(t);e&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Iu(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=Dh(t,f[p]);if(g){const{transitionEnd:b,transition:w,...S}=g;for(const x in S){let E=S[x];if(Array.isArray(E)){const T=c?E.length-1:0;E=E[T]}E!==null&&(r[x]=E)}for(const x in b)r[x]=b[x]}}}return r}const Qb=t=>(e,n)=>{const i=j.useContext(ku),r=j.useContext(xu),s=()=>XC(t,e,i,r);return n?s():Bs(s)};function Nh(t,e,n){const{style:i}=t,r={};for(const s in i)(pt(i[s])||e.style&&pt(e.style[s])||Wb(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}const QC=Qb({scrapeMotionValuesFromProps:Nh,createRenderState:Ph});function e0(t,e,n){const i=Nh(t,e,n);for(const r in t)if(pt(t[r])||pt(e[r])){const s=ts.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const e1=Qb({scrapeMotionValuesFromProps:e0,createRenderState:Xb}),t1=Symbol.for("motionComponentSymbol");function ki(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n1(t,e,n){return j.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ki(n)&&(n.current=i))},[e])}const jh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r1="framerAppearId",t0="data-"+jh(r1),n0=j.createContext({});function i1(t,e,n,i,r){const{visualElement:s}=j.useContext(ku),o=j.useContext(Gb),a=j.useContext(xu),u=j.useContext(Th).reducedMotion,l=j.useRef(null);i=i||o.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const c=l.current,d=j.useContext(n0);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&s1(l.current,n,r,d);const f=j.useRef(!1);j.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const p=n[t0],g=j.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Wy(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),g.current&&c.animationState&&c.animationState.animateChanges())}),j.useEffect(()=>{c&&(!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),g.current=!1))}),c}function s1(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:r0(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&ki(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:u,layoutRoot:l})}function r0(t){if(t)return t.options.allowProjection!==!1?t.projection:r0(t.parent)}function Tc(t,{forwardMotionProps:e=!1}={},n,i){n&&PC(n);const r=Rh(t)?e1:QC;function s(a,u){let l;const c={...j.useContext(Th),...a,layoutId:o1(a)},{isStatic:d}=c,f=UC(a),p=r(a,d);if(!d&&sh){a1();const g=u1(c);l=g.MeasureLayout,f.visualElement=i1(t,p,c,i,g.ProjectionNode)}return ne.jsxs(ku.Provider,{value:f,children:[l&&f.visualElement?ne.jsx(l,{visualElement:f.visualElement,...c}):null,JC(t,a,n1(p,f.visualElement,u),p,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=j.forwardRef(s);return o[t1]=t,o}function o1({layoutId:t}){const e=j.useContext(ih).id;return e&&t!==void 0?e+"-"+t:t}function a1(t,e){j.useContext(Gb).strict}function u1(t){const{drag:e,layout:n}=Mi;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function c1(t,e){if(typeof Proxy>"u")return Tc;const n=new Map,i=(s,o)=>Tc(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,Tc(o,void 0,t,e)),n.get(o))})}function i0({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function l1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d1(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $c(t){return t===void 0||t===1}function Dl({scale:t,scaleX:e,scaleY:n}){return!$c(t)||!$c(e)||!$c(n)}function Ur(t){return Dl(t)||s0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s0(t){return mg(t.x)||mg(t.y)}function mg(t){return t&&t!=="0%"}function Ta(t,e,n){const i=t-n,r=e*i;return n+r}function gg(t,e,n,i,r){return r!==void 0&&(t=Ta(t,r,i)),Ta(t,n,i)+e}function Nl(t,e=0,n=1,i,r){t.min=gg(t.min,e,n,i,r),t.max=gg(t.max,e,n,i,r)}function o0(t,{x:e,y:n}){Nl(t.x,e.translate,e.scale,e.originPoint),Nl(t.y,n.translate,n.scale,n.originPoint)}const vg=.999999999999,_g=1.0000000000001;function h1(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ei(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,o0(t,o)),i&&Ur(s.latestValues)&&Ei(t,s.latestValues))}e.x<_g&&e.x>vg&&(e.x=1),e.y<_g&&e.y>vg&&(e.y=1)}function Ii(t,e){t.min=t.min+e,t.max=t.max+e}function yg(t,e,n,i,r=.5){const s=He(t.min,t.max,r);Nl(t,e,n,s,i)}function Ei(t,e){yg(t.x,e.x,e.scaleX,e.scale,e.originX),yg(t.y,e.y,e.scaleY,e.scale,e.originY)}function a0(t,e){return i0(d1(t.getBoundingClientRect(),e))}function f1(t,e,n){const i=a0(t,n),{scroll:r}=e;return r&&(Ii(i.x,r.offset.x),Ii(i.y,r.offset.y)),i}const bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ai=()=>({x:bg(),y:bg()}),wg=()=>({min:0,max:0}),Xe=()=>({x:wg(),y:wg()}),jl={current:null},u0={current:!1};function p1(){if(u0.current=!0,!!sh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jl.current=t.matches;t.addEventListener("change",e),e()}else jl.current=!1}const Ws=new WeakMap;function m1(t,e,n){for(const i in e){const r=e[i],s=n[i];if(pt(r))t.addValue(i,r);else if(pt(s))t.addValue(i,Li(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Li(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c0{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Lt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,We.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Eu(n),this.isVariantNode=Hb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];u[f]!==void 0&&pt(p)&&p.set(u[f],!1)}}mount(e){this.current=e,Ws.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),u0.current||p1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ns.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mi){const n=Mi[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Sg.length;i++){const r=Sg[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=m1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Li(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ky(i)||Xy(i))?i=parseFloat(i):!EC(i)&&_r.test(n)&&(i=jb(e,n)),this.setBaseTarget(e,pt(i)?i.get():i)),pt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=Dh(this.props,n,this.presenceContext?.custom);s&&(i=s[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!pt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ch),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ih.render(this.render)}}class l0 extends c0{constructor(){super(...arguments),this.KeyframeResolver=gC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function d0(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function g1(t){return window.getComputedStyle(t)}class h0 extends l0{constructor(){super(...arguments),this.type="html",this.renderInstance=d0}readValueFromInstance(e,n){if(ns.has(n))return this.projection?.isProjecting?Tl(n):RO(e,n);{const i=g1(e),r=(hh(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a0(e,n)}build(e,n,i){Ch(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Nh(e,n,i)}}const f0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v1(t,e,n,i){d0(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(f0.has(r)?r:jh(r),e.attrs[r])}class p0 extends l0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ns.has(n)){const i=Nb(n);return i&&i.default||0}return n=f0.has(n)?n:jh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return e0(e,n,i)}build(e,n,i){Jb(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){v1(e,n,i,r)}mount(e){this.isSVGTag=Yb(e.tagName),super.mount(e)}}const _1=(t,e)=>Rh(t)?new p0(e):new h0(e,{allowProjection:t!==j.Fragment});function Ks(t,e,n){const i=t.getProps();return Dh(i,e,n!==void 0?n:i.custom,t)}const Ul=t=>Array.isArray(t);function y1(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Li(n))}function b1(t){return Ul(t)?t[t.length-1]||0:t}function w1(t,e){const n=Ks(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=b1(s[o]);y1(t,o,a)}}function S1(t){return!!(pt(t)&&t.add)}function Ll(t,e){const n=t.getValue("willChange");if(S1(n))return n.add(e);if(!n&&tr.WillChange){const i=new tr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function m0(t){return t.props[t0]}const x1=t=>t!==null;function k1(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(x1),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[s]}const I1={type:"spring",stiffness:500,damping:25,restSpeed:10},E1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A1={type:"keyframes",duration:.8},T1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$1=(t,{keyframes:e})=>e.length>2?A1:ns.has(t)?t.startsWith("scale")?E1(e[1]):I1:T1;function O1({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const Uh=(t,e,n,i={},r,s)=>o=>{const a=xh(i,t)||{},u=a.delay||i.delay||0;let{elapsed:l=0}=i;l=l-hn(u);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};O1(a)||Object.assign(c,$1(t,c)),c.duration&&(c.duration=hn(c.duration)),c.repeatDelay&&(c.repeatDelay=hn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(tr.instantAnimations||tr.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=k1(c.keyframes,a);if(f!==void 0){We.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new bh(c):new nC(c)};function C1({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Lh(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const u=[],l=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||l&&C1(l,c))continue;const p={delay:n,...xh(s||{},c)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=m0(t);if(S){const x=window.MotionHandoffAnimation(S,c,We);x!==null&&(p.startTime=x,b=!0)}}Ll(t,c),d.start(Uh(c,d,f,t.shouldReduceMotion&&Pb.has(c)?{type:!1}:p,t,b));const w=d.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{We.update(()=>{o&&w1(t,o)})}),u}function Ml(t,e,n={}){const i=Ks(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(Lh(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:c,staggerDirection:d}=r;return P1(t,e,u,l,c,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,l]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>l())}else return Promise.all([s(),o(n.delay)])}function P1(t,e,n=0,i=0,r=0,s=1,o){const a=[],u=t.variantChildren.size,l=(u-1)*r,c=typeof i=="function",d=c?f=>i(f,u):s===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(R1).forEach((f,p)=>{f.notify("AnimationStart",e),a.push(Ml(f,e,{...o,delay:n+(c?0:i)+d(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function R1(t,e){return t.sortNodePosition(e)}function D1(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Ml(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Ml(t,e,n);else{const r=typeof e=="function"?Ks(t,e,n.custom):e;i=Promise.all(Lh(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function g0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const N1=Oh.length;function v0(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?v0(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N1;n++){const i=Oh[n],r=t.props[i];(Zs(r)||r===!1)&&(e[i]=r)}return e}const j1=[...$h].reverse(),U1=$h.length;function L1(t){return e=>Promise.all(e.map(({animation:n,options:i})=>D1(t,n,i)))}function M1(t){let e=L1(t),n=xg(),i=!0;const r=u=>(l,c)=>{const d=Ks(t,c,u==="exit"?t.presenceContext?.custom:void 0);if(d){const{transition:f,transitionEnd:p,...g}=d;l={...l,...g,...p}}return l};function s(u){e=u(t)}function o(u){const{props:l}=t,c=v0(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let w=0;w<U1;w++){const S=j1[w],x=n[S],E=l[S]!==void 0?l[S]:c[S],T=Zs(E),k=S===u?x.isActive:null;k===!1&&(g=w);let P=E===c[S]&&E!==l[S]&&T;if(P&&i&&t.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...p},!x.isActive&&k===null||!E&&!x.prevProp||Iu(E)||typeof E=="boolean")continue;const C=z1(x.prevProp,E);let R=C||S===u&&x.isActive&&!P&&T||w>g&&T,D=!1;const N=Array.isArray(E)?E:[E];let F=N.reduce(r(S),{});k===!1&&(F={});const{prevResolvedValues:V={}}=x,oe={...V,...F},he=Z=>{R=!0,f.has(Z)&&(D=!0,f.delete(Z)),x.needsAnimating[Z]=!0;const ee=t.getValue(Z);ee&&(ee.liveStyle=!1)};for(const Z in oe){const ee=F[Z],ae=V[Z];if(p.hasOwnProperty(Z))continue;let se=!1;Ul(ee)&&Ul(ae)?se=!g0(ee,ae):se=ee!==ae,se?ee!=null?he(Z):f.add(Z):ee!==void 0&&f.has(Z)?he(Z):x.protectedKeys[Z]=!0}x.prevProp=E,x.prevResolvedValues=F,x.isActive&&(p={...p,...F}),i&&t.blockInitialAnimation&&(R=!1),R&&(!(P&&C)||D)&&d.push(...N.map(Z=>({animation:Z,options:{type:S}})))}if(f.size){const w={};if(typeof l.initial!="boolean"){const S=Ks(t,Array.isArray(l.initial)?l.initial[0]:l.initial);S&&S.transition&&(w.transition=S.transition)}f.forEach(S=>{const x=t.getBaseTarget(S),E=t.getValue(S);E&&(E.liveStyle=!0),w[S]=x??null}),d.push({animation:w})}let b=!!d.length;return i&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(d):Promise.resolve()}function a(u,l){if(n[u].isActive===l)return Promise.resolve();t.variantChildren?.forEach(d=>d.animationState?.setActive(u,l)),n[u].isActive=l;const c=o(u);for(const d in n)n[d].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=xg(),i=!0}}}function z1(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!g0(e,t):!1}function Cr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xg(){return{animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()}}class wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F1 extends wr{constructor(e){super(e),e.animationState||(e.animationState=M1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Iu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let B1=0;class V1 extends wr{constructor(){super(...arguments),this.id=B1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const q1={animation:{Feature:F1},exit:{Feature:V1}};function Js(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function _o(t){return{point:{x:t.pageX,y:t.pageY}}}const G1=t=>e=>Eh(e)&&t(e,_o(e));function Ps(t,e,n,i){return Js(t,e,G1(n),i)}const _0=1e-4,Z1=1-_0,H1=1+_0,y0=.01,W1=0-y0,K1=0+y0;function Rt(t){return t.max-t.min}function J1(t,e,n){return Math.abs(t-e)<=n}function kg(t,e,n,i=.5){t.origin=i,t.originPoint=He(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=He(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Z1&&t.scale<=H1||isNaN(t.scale))&&(t.scale=1),(t.translate>=W1&&t.translate<=K1||isNaN(t.translate))&&(t.translate=0)}function Rs(t,e,n,i){kg(t.x,e.x,n.x,i?i.originX:void 0),kg(t.y,e.y,n.y,i?i.originY:void 0)}function Ig(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function X1(t,e,n){Ig(t.x,e.x,n.x),Ig(t.y,e.y,n.y)}function Eg(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function Ds(t,e,n){Eg(t.x,e.x,n.x),Eg(t.y,e.y,n.y)}function Yt(t){return[t("x"),t("y")]}const b0=({current:t})=>t?t.ownerDocument.defaultView:null,Ag=(t,e)=>Math.abs(t-e);function Y1(t,e){const n=Ag(t.x,e.x),i=Ag(t.y,e.y);return Math.sqrt(n**2+i**2)}class w0{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Cc(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Y1(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:b}=f,{timestamp:w}=_t;this.history.push({...b,timestamp:w});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Oc(p,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Cc(f.type==="pointercancel"?this.lastMoveEventInfo:Oc(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,S),b&&b(f,S)},!Eh(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=_o(e),u=Oc(a,this.transformPagePoint),{point:l}=u,{timestamp:c}=_t;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Cc(u,this.history)),this.removeListeners=mo(Ps(this.contextWindow,"pointermove",this.handlePointerMove),Ps(this.contextWindow,"pointerup",this.handlePointerUp),Ps(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function Oc(t,e){return e?{point:e(t.point)}:t}function Tg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cc({point:t},e){return{point:t,delta:Tg(t,S0(e)),offset:Tg(t,Q1(e)),velocity:eP(e,.1)}}function Q1(t){return t[0]}function S0(t){return t[t.length-1]}function eP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=S0(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>hn(e)));)n--;if(!i)return{x:0,y:0};const s=$n(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?He(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?He(n,t,i.max):Math.min(t,n)),t}function $g(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nP(t,{top:e,left:n,bottom:i,right:r}){return{x:$g(t.x,n,r),y:$g(t.y,e,i)}}function Og(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function rP(t,e){return{x:Og(t.x,e.x),y:Og(t.y,e.y)}}function iP(t,e){let n=.5;const i=Rt(t),r=Rt(e);return r>i?n=Ui(e.min,e.max-i,t.min):i>r&&(n=Ui(t.min,t.max-r,e.min)),er(0,1,n)}function sP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zl=.35;function oP(t=zl){return t===!1?t=0:t===!0&&(t=zl),{x:Cg(t,"left","right"),y:Cg(t,"top","bottom")}}function Cg(t,e,n){return{min:Pg(t,e),max:Pg(t,n)}}function Pg(t,e){return typeof t=="number"?t:t[e]||0}const aP=new WeakMap;class uP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_o(d).point)},o=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:b}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yC(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(S=>{let x=this.getAxisMotionValue(S).get()||0;if(On.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[S];T&&(x=Rt(T)*(parseFloat(x)/100))}}this.originPoint[S]=x}),b&&We.postRender(()=>b(d,f)),Ll(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:b,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(g&&this.currentDirection===null){this.currentDirection=cP(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),w&&w(d,f)},u=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>Yt(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new w0(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:b0(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&We.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Bo(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=tP(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ki(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=nP(i.layoutBox,e):this.constraints=!1,this.elastic=oP(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=sP(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ki(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=f1(i,r.root,this.visualElement.getTransformPagePoint());let o=rP(r.layout.layoutBox,s);if(n){const a=n(l1(o));this.hasMutatedConstraints=!!a,a&&(o=i0(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=Yt(c=>{if(!Bo(c,n,this.currentDirection))return;let d=u&&u[c]||{};o&&(d={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,g={type:"inertia",velocity:i?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ll(this.visualElement,e),i.start(Uh(e,i,0,n,this.visualElement,!1))}stopAnimation(){Yt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Yt(n=>{const{drag:i}=this.getProps();if(!Bo(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-He(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ki(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();r[o]=iP({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Yt(o=>{if(!Bo(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];a.set(He(u,l,r[o]))})}addListeners(){if(!this.visualElement.current)return;aP.set(this.visualElement,this);const e=this.visualElement.current,n=Ps(e,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();ki(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),We.read(i);const o=Js(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Yt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=u[c].translate,d.set(d.get()+u[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=zl,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lP extends wr{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new uP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rg=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class dP extends wr{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new w0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Rg(e),onStart:Rg(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&We.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Ps(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ls={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Dg(t,e.target.x),i=Dg(t,e.target.y);return`${n}% ${i}%`}},hP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=_r.parse(t);if(r.length>5)return i;const s=_r.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=u;const l=He(a,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=l),typeof r[3+o]=="number"&&(r[3+o]/=l),s(r)}};let Ng=!1;class fP extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;LC(pP),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),Ng&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),va.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,Ng=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ih.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x0(t){const[e,n]=qb(),i=j.useContext(ih);return ne.jsx(fP,{...t,layoutGroup:i,switchLayoutGroup:j.useContext(n0),isPresent:e,safeToRemove:n})}const pP={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:hP};function k0(t,e,n){const i=pt(t)?t:Li(t);return i.start(Uh("",i,e,n)),i.animation}const mP=(t,e)=>t.depth-e.depth;class gP{constructor(){this.children=[],this.isDirty=!1}add(e){oh(this.children,e),this.isDirty=!0}remove(e){po(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mP),this.isDirty=!1,this.children.forEach(e)}}function vP(t,e){const n=Lt.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(vr(i),t(s-e))};return We.setup(i,!0),()=>vr(i)}const I0=["TopLeft","TopRight","BottomLeft","BottomRight"],_P=I0.length,jg=t=>typeof t=="string"?parseFloat(t):t,Ug=t=>typeof t=="number"||le.test(t);function yP(t,e,n,i,r,s){r?(t.opacity=He(0,n.opacity??1,bP(i)),t.opacityExit=He(e.opacity??1,0,wP(i))):s&&(t.opacity=He(e.opacity??1,n.opacity??1,i));for(let o=0;o<_P;o++){const a=`border${I0[o]}Radius`;let u=Lg(e,a),l=Lg(n,a);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||Ug(u)===Ug(l)?(t[a]=Math.max(He(jg(u),jg(l),i),0),(On.test(l)||On.test(u))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=He(e.rotate||0,n.rotate||0,i))}function Lg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bP=E0(0,.5,sb),wP=E0(.5,.95,sn);function E0(t,e,n){return i=>i<t?0:i>e?1:n(Ui(t,e,i))}function Mg(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){Mg(t.x,e.x),Mg(t.y,e.y)}function zg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Fg(t,e,n,i,r){return t-=e,t=Ta(t,1/n,i),r!==void 0&&(t=Ta(t,1/r,i)),t}function SP(t,e=0,n=1,i=.5,r,s=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=He(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=He(s.min,s.max,i);t===s&&(a-=e),t.min=Fg(t.min,e,n,a,r),t.max=Fg(t.max,e,n,a,r)}function Bg(t,e,[n,i,r],s,o){SP(t,e[n],e[i],e[r],e.scale,s,o)}const xP=["x","scaleX","originX"],kP=["y","scaleY","originY"];function Vg(t,e,n,i){Bg(t.x,e,xP,n?n.x:void 0,i?i.x:void 0),Bg(t.y,e,kP,n?n.y:void 0,i?i.y:void 0)}function qg(t){return t.translate===0&&t.scale===1}function A0(t){return qg(t.x)&&qg(t.y)}function Gg(t,e){return t.min===e.min&&t.max===e.max}function IP(t,e){return Gg(t.x,e.x)&&Gg(t.y,e.y)}function Zg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function T0(t,e){return Zg(t.x,e.x)&&Zg(t.y,e.y)}function Hg(t){return Rt(t.x)/Rt(t.y)}function Wg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class EP{constructor(){this.members=[]}add(e){oh(this.members,e),e.scheduleRender()}remove(e){if(po(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AP(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:c,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;l&&(i=`perspective(${l}px) ${i}`),c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(i+=`scale(${a}, ${u})`),i||"none"}const Pc=["","X","Y","Z"],TP=1e3;let $P=0;function Rc(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=m0(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$0(i)}function O0({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e?.()){this.id=$P++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PP),this.nodes.forEach(jP),this.nodes.forEach(UP),this.nodes.forEach(RP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new gP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ch),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ah(o)&&!Vb(o),this.instance=o;const{layoutId:a,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;We.read(()=>{d=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,c&&c(),c=vP(f,250),va.hasAnimatedSinceResize&&(va.hasAnimatedSinceResize=!1,this.nodes.forEach(Xg)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||BP,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=l.getProps(),S=!this.targetLayout||!T0(this.targetLayout,p),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...xh(g,"layout"),onPlay:b,onComplete:w};(l.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(c,x)}else d||Xg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NP),this.nodes.forEach(OP),this.nodes.forEach(CP)):this.nodes.forEach(Jg),this.clearAllSnapshots();const a=Lt.now();_t.delta=er(0,1e3/60,a-_t.timestamp),_t.timestamp=a,_t.isProcessing=!0,Sc.update.process(_t),Sc.preRender.process(_t),Sc.render.process(_t),_t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ih.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DP),this.sharedNodes.forEach(MP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!A0(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ur(this.latestValues)||c)&&(r(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),VP(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xe();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qP))){const{scroll:l}=this.root;l&&(Ii(a.x,l.offset.x),Ii(a.y,l.offset.y))}return a}removeElementScroll(o){const a=Xe();if(Xt(a,o),this.scroll?.wasRoot)return a;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:c,options:d}=l;l!==this.root&&c&&d.layoutScroll&&(c.wasRoot&&Xt(a,o),Ii(a.x,c.offset.x),Ii(a.y,c.offset.y))}return a}applyTransform(o,a=!1){const u=Xe();Xt(u,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ei(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ur(c.latestValues)&&Ei(u,c.latestValues)}return Ur(this.latestValues)&&Ei(u,this.latestValues),u}removeTransform(o){const a=Xe();Xt(a,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Ur(l.latestValues))continue;Dl(l.latestValues)&&l.updateSnapshot();const c=Xe(),d=l.measurePageBox();Xt(c,d),Vg(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Ur(this.latestValues)&&Vg(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=_t.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Ds(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),o0(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Ds(this.relativeTargetOrigin,this.target,f.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dl(this.parent.latestValues)||s0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_t.timestamp&&(u=!1),u)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;Xt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;h1(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xe());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zg(this.prevProjectionDelta.x,this.projectionDelta.x),zg(this.prevProjectionDelta.y,this.projectionDelta.y)),Rs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Wg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ai(),this.projectionDelta=Ai(),this.projectionDeltaWithTransform=Ai()}setAnimationOrigin(o,a=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},d=Ai();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Xe(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,b=p!==g,w=this.getStack(),S=!w||w.members.length<=1,x=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(FP));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const k=T/1e3;Yg(d.x,o.x,k),Yg(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ds(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zP(this.relativeTarget,this.relativeTargetOrigin,f,k),E&&IP(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Xe()),Xt(E,this.relativeTarget)),b&&(this.animationValues=c,yP(c,l,this.latestValues,k,x,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{va.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Li(0)),this.currentAnimation=k0(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=o;if(!(!a||!u||!l)){if(this!==o&&this.layout&&l&&C0(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||Xe();const d=Rt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const f=Rt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+f}Xt(a,u),Ei(a,c),Rs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EP),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const l={};u.z&&Rc("z",o,l,this.animationValues);for(let c=0;c<Pc.length;c++)Rc(`rotate${Pc[c]}`,o,l,this.animationValues),Rc(`skew${Pc[c]}`,o,l,this.animationValues);o.render();for(const c in l)o.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ga(a?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ga(a?.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=AP(this.projectionDeltaWithTransform,this.treeScale,c);u&&(d=u(c,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,l.animationValues?o.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in Hs){if(c[g]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:S}=Hs[g],x=d==="none"?c[g]:b(c[g],l);if(w){const E=w.length;for(let T=0;T<E;T++)o[w[T]]=x}else S?this.options.visualElement.renderState.vars[g]=x:o[g]=x}this.options.layoutId&&(o.pointerEvents=l===this?ga(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Kg),this.root.sharedNodes.clear()}}}function OP(t){t.updateLayout()}function CP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,s=e.source!==t.layout.source;r==="size"?Yt(c=>{const d=s?e.measuredBox[c]:e.layoutBox[c],f=Rt(d);d.min=n[c].min,d.max=d.min+f}):C0(r,e.layoutBox,n)&&Yt(c=>{const d=s?e.measuredBox[c]:e.layoutBox[c],f=Rt(n[c]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+f)});const o=Ai();Rs(o,n,e.layoutBox);const a=Ai();s?Rs(a,t.applyTransform(i,!0),e.measuredBox):Rs(a,n,e.layoutBox);const u=!A0(o);let l=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:d,layout:f}=c;if(d&&f){const p=Xe();Ds(p,e.layoutBox,d.layoutBox);const g=Xe();Ds(g,n,f.layoutBox),T0(p,g)||(l=!0),c.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function PP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DP(t){t.clearSnapshot()}function Kg(t){t.clearMeasurements()}function Jg(t){t.isLayoutDirty=!1}function NP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jP(t){t.resolveTargetDelta()}function UP(t){t.calcProjection()}function LP(t){t.resetSkewAndRotation()}function MP(t){t.removeLeadSnapshot()}function Yg(t,e,n){t.translate=He(e.translate,0,n),t.scale=He(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qg(t,e,n,i){t.min=He(e.min,n.min,i),t.max=He(e.max,n.max,i)}function zP(t,e,n,i){Qg(t.x,e.x,n.x,i),Qg(t.y,e.y,n.y,i)}function FP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BP={duration:.45,ease:[.4,0,.1,1]},ev=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tv=ev("applewebkit/")&&!ev("chrome/")?Math.round:sn;function nv(t){t.min=tv(t.min),t.max=tv(t.max)}function VP(t){nv(t.x),nv(t.y)}function C0(t,e,n){return t==="position"||t==="preserve-aspect"&&!J1(Hg(e),Hg(n),.2)}function qP(t){return t!==t.root&&t.scroll?.wasRoot}const GP=O0({attachResizeListener:(t,e)=>Js(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dc={current:void 0},P0=O0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dc.current){const t=new GP({});t.mount(window),t.setOptions({layoutScroll:!0}),Dc.current=t}return Dc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZP={pan:{Feature:dP},drag:{Feature:lP,ProjectionNode:P0,MeasureLayout:x0}};function rv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&We.postRender(()=>s(e,_o(e)))}class HP extends wr{mount(){const{current:e}=this.node;e&&(this.unmount=bC(e,(n,i)=>(rv(this.node,i,"Start"),r=>rv(this.node,r,"End"))))}unmount(){}}class WP extends wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mo(Js(this.node.current,"focus",()=>this.onFocus()),Js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&We.postRender(()=>s(e,_o(e)))}class KP extends wr{mount(){const{current:e}=this.node;e&&(this.unmount=kC(e,(n,i)=>(iv(this.node,i,"Start"),(r,{success:s})=>iv(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fl=new WeakMap,Nc=new WeakMap,JP=t=>{const e=Fl.get(t.target);e&&e(t)},XP=t=>{t.forEach(JP)};function YP({root:t,...e}){const n=t||document;Nc.has(n)||Nc.set(n,{});const i=Nc.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(XP,{root:t,...e})),i[r]}function QP(t,e,n){const i=YP(e);return Fl.set(t,n),i.observe(t),()=>{Fl.delete(t),i.unobserve(t)}}const eR={some:0,all:1};class tR extends wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:eR[r]},a=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=l?c:d;f&&f(u)};return QP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nR(e,n))&&this.startObserver()}unmount(){}}function nR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rR={inView:{Feature:tR},tap:{Feature:KP},focus:{Feature:WP},hover:{Feature:HP}},iR={layout:{ProjectionNode:P0,MeasureLayout:x0}},sR={...q1,...rR,...ZP,...iR},Xs=c1(sR,_1);function oR(t){return j.useEffect(()=>()=>t(),[])}function Mh(t){return typeof t=="object"&&!Array.isArray(t)}function R0(t,e,n,i){return typeof t=="string"&&Mh(e)?Ub(t,n,i):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function aR(t,e,n){return t*(e+1)}function sv(t,e,n,i){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):i.get(e)??t}function uR(t,e,n){for(let i=0;i<t.length;i++){const r=t[i];r.at>e&&r.at<n&&(po(t,r),i--)}}function cR(t,e,n,i,r,s){uR(t,r,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:He(r,s,i[o]),easing:cb(n,o)})}function lR(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function dR(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const hR="easeInOut";function fR(t,{defaultTransition:e={},...n}={},i,r){const s=e.duration||.3,o=new Map,a=new Map,u={},l=new Map;let c=0,d=0,f=0;for(let p=0;p<t.length;p++){const g=t[p];if(typeof g=="string"){l.set(g,d);continue}else if(!Array.isArray(g)){l.set(g.name,sv(d,g.at,c,l));continue}let[b,w,S={}]=g;S.at!==void 0&&(d=sv(d,S.at,c,l));let x=0;const E=(T,k,P,C=0,R=0)=>{const D=pR(T),{delay:N=0,times:F=kb(D),type:V="keyframes",repeat:oe,repeatType:he,repeatDelay:U=0,...q}=k;let{ease:Z=e.ease||"easeOut",duration:ee}=k;const ae=typeof N=="function"?N(C,R):N,se=D.length,ke=Sh(V)?V:r?.[V||"keyframes"];if(se<=2&&ke){let ve=100;if(se===2&&vR(D)){const Ke=D[1]-D[0];ve=Math.abs(Ke)}const Ae={...q};ee!==void 0&&(Ae.duration=hn(ee));const Re=wb(Ae,ve,ke);Z=Re.ease,ee=Re.duration}ee??(ee=s);const ue=d+ae;F.length===1&&F[0]===0&&(F[1]=1);const Ue=F.length-D.length;if(Ue>0&&xb(F,Ue),D.length===1&&D.unshift(null),oe){ee=aR(ee,oe);const ve=[...D],Ae=[...F];Z=Array.isArray(Z)?[...Z]:[Z];const Re=[...Z];for(let Ke=0;Ke<oe;Ke++){D.push(...ve);for(let ze=0;ze<ve.length;ze++)F.push(Ae[ze]+(Ke+1)),Z.push(ze===0?"linear":cb(Re,ze-1))}lR(F,oe)}const ye=ue+ee;cR(P,D,Z,F,ue,ye),x=Math.max(ae+ee,x),f=Math.max(ye,f)};if(pt(b)){const T=ov(b,a);E(w,S,av("default",T))}else{const T=R0(b,w,i,u),k=T.length;for(let P=0;P<k;P++){w=w,S=S;const C=T[P],R=ov(C,a);for(const D in w)E(w[D],mR(S,D),av(D,R),P,k)}}c=d,d+=x}return a.forEach((p,g)=>{for(const b in p){const w=p[b];w.sort(dR);const S=[],x=[],E=[];for(let k=0;k<w.length;k++){const{at:P,value:C,easing:R}=w[k];S.push(C),x.push(Ui(0,f,P)),E.push(R||"easeOut")}x[0]!==0&&(x.unshift(0),S.unshift(S[0]),E.unshift(hR)),x[x.length-1]!==1&&(x.push(1),S.push(null)),o.has(g)||o.set(g,{keyframes:{},transition:{}});const T=o.get(g);T.keyframes[b]=S,T.transition[b]={...e,duration:f,ease:E,times:x,...n}}}),o}function ov(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function av(t,e){return e[t]||(e[t]=[]),e[t]}function pR(t){return Array.isArray(t)?t:[t]}function mR(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const gR=t=>typeof t=="number",vR=t=>t.every(gR);function _R(t,e){return t in e}class yR extends c0{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(_R(n,e)){const i=e[n];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Xe()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function bR(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Ah(t)&&!Vb(t)?new p0(e):new h0(e);n.mount(t),Ws.set(t,n)}function wR(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new yR(e);n.mount(t),Ws.set(t,n)}function SR(t,e){return pt(t)||typeof t=="number"||typeof t=="string"&&!Mh(e)}function D0(t,e,n,i){const r=[];if(SR(t,e))r.push(k0(t,Mh(e)&&e.default||e,n&&(n.default||n)));else{const s=R0(t,e,i),o=s.length;for(let a=0;a<o;a++){const u=s[a],l=u instanceof Element?bR:wR;Ws.has(u)||l(u);const c=Ws.get(u),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),r.push(...Lh(c,{...e,transition:d},{}))}}return r}function xR(t,e,n){const i=[];return fR(t,e,n,{spring:Gs}).forEach(({keyframes:s,transition:o},a)=>{i.push(...D0(a,s,o))}),i}function kR(t){return Array.isArray(t)&&t.some(Array.isArray)}function N0(t){function e(n,i,r){let s=[];kR(n)?s=xR(n,i,t):s=D0(n,i,r,t);const o=new iC(s);return t&&(t.animations.push(o),o.finished.then(()=>{po(t.animations,o)})),o}return e}const x3=N0();function IR(){const t=Bs(()=>({current:null,animations:[]})),e=Bs(()=>N0(t));return oR(()=>{t.animations.forEach(n=>n.stop()),t.animations.length=0}),[t,e]}function Te(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var ER={};function Au(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ER}var j0=Object.assign,$a=Object.getOwnPropertyDescriptor,Cn=Object.defineProperty,Tu=Object.prototype,Bl=[];Object.freeze(Bl);var zh={};Object.freeze(zh);var AR=typeof Proxy<"u",TR=Object.toString();function U0(){AR||Te("Proxy not available")}function L0(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Ti=function(){};function gn(t){return typeof t=="function"}function Kr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function $u(t){return t!==null&&typeof t=="object"}function nr(t){if(!$u(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===TR}function M0(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function yo(t,e,n){Cn(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function z0(t,e,n){Cn(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function oi(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return $u(i)&&i[n]===!0}}function rs(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function $R(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function Hn(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var F0=typeof Object.getOwnPropertySymbols<"u";function OR(t){var e=Object.keys(t);if(!F0)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return Tu.propertyIsEnumerable.call(t,i)})):e}var zi=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:F0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function B0(t){return t===null?null:typeof t=="object"?""+t:t}function Xn(t,e){return Tu.hasOwnProperty.call(t,e)}var CR=Object.getOwnPropertyDescriptors||function(e){var n={};return zi(e).forEach(function(i){n[i]=$a(e,i)}),n};function Vt(t,e){return!!(t&e)}function qt(t,e,n){return n?t|=e:t&=~e,t}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function PR(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,DR(i.key),i)}}function is(t,e,n){return e&&PR(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $i(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=NR(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(){return Jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jr.apply(null,arguments)}function V0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vl(t,e)}function Vl(t,e){return Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vl(t,e)}function RR(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DR(t){var e=RR(t,"string");return typeof e=="symbol"?e:e+""}function NR(t,e){if(t){if(typeof t=="string")return uv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(t,e):void 0}}var In=Symbol("mobx-stored-annotations");function Pn(t){function e(n,i){if(wo(i))return t.decorate_20223_(n,i);bo(n,i,t)}return Object.assign(e,t)}function bo(t,e,n){Xn(t,In)||yo(t,In,Jr({},t[In])),BR(n)||(t[In][e]=n)}function jR(t){return Xn(t,In)||yo(t,In,Jr({},t[In])),t[In]}function wo(t){return typeof t=="object"&&typeof t.kind=="string"}var de=Symbol("mobx administration"),Sr=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return ow(this)},e.reportChanged=function(){nn(),aw(this),rn()},e.toString=function(){return this.name_},is(t,[{key:"isBeingObserved",get:function(){return Vt(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=qt(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Vt(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=qt(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Vt(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=qt(this.flags_,t.diffValueMask_,i===1)}}])}();Sr.isBeingObservedMask_=1;Sr.isPendingUnobservationMask_=2;Sr.diffValueMask_=4;var Fh=oi("Atom",Sr);function q0(t,e,n){e===void 0&&(e=Ti),n===void 0&&(n=Ti);var i=new Sr(t);return e!==Ti&&qD(i,e),n!==Ti&&pw(i,n),i}function UR(t,e){return Aw(t,e)}function LR(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Fi={structural:UR,default:LR};function Xr(t,e,n){return yw(t)?t:Array.isArray(t)?we.array(t,{name:n}):nr(t)?we.object(t,void 0,{name:n}):rs(t)?we.map(t,{name:n}):Hn(t)?we.set(t,{name:n}):typeof t=="function"&&!Qs(t)&&!eo(t)?M0(t)?Bi(t):Ys(n,t):t}function MR(t,e,n){if(t==null||ju(t)||Nu(t)||ui(t)||kn(t))return t;if(Array.isArray(t))return we.array(t,{name:n,deep:!1});if(nr(t))return we.object(t,void 0,{name:n,deep:!1});if(rs(t))return we.map(t,{name:n,deep:!1});if(Hn(t))return we.set(t,{name:n,deep:!1})}function Ou(t){return t}function zR(t,e){return Aw(t,e)?e:t}var FR="override";function BR(t){return t.annotationType_===FR}function So(t,e){return{annotationType_:t,options_:e,make_:VR,extend_:qR,decorate_20223_:GR}}function VR(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(Qs(n.value))return 1;var s=G0(t,this,e,n,!1);return Cn(i,e,s),2}function qR(t,e,n,i){var r=G0(t,this,e,n);return t.defineProperty_(e,r,i)}function GR(t,e){var n=e.kind,i=e.name,r=e.addInitializer,s=this,o=function(l){var c,d,f,p;return Yr((c=(d=s.options_)==null?void 0:d.name)!=null?c:i.toString(),l,(f=(p=s.options_)==null?void 0:p.autoAction)!=null?f:!1)};if(n=="field")return function(u){var l,c=u;return Qs(c)||(c=o(c)),(l=s.options_)!=null&&l.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return Qs(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&r(function(){var u=this,l=u[i].bind(u);l.isMobxAction=!0,u[i]=l}),t}Te("Cannot apply '"+s.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function ZR(t,e,n,i){e.annotationType_,i.value}function G0(t,e,n,i,r){var s,o,a,u,l,c,d;r===void 0&&(r=X.safeDescriptors),ZR(t,e,n,i);var f=i.value;if((s=e.options_)!=null&&s.bound){var p;f=f.bind((p=t.proxy_)!=null?p:t.target_)}return{value:Yr((o=(a=e.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(u=(l=e.options_)==null?void 0:l.autoAction)!=null?u:!1,(c=e.options_)!=null&&c.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function Z0(t,e){return{annotationType_:t,options_:e,make_:HR,extend_:WR,decorate_20223_:KR}}function HR(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!Xn(t.target_,e)||!eo(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(eo(n.value))return 1;var s=H0(t,this,e,n,!1,!1);return Cn(i,e,s),2}function WR(t,e,n,i){var r,s=H0(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,s,i)}function KR(t,e){var n,i=e.name,r=e.addInitializer;return eo(t)||(t=Bi(t)),(n=this.options_)!=null&&n.bound&&r(function(){var s=this,o=s[i].bind(s);o.isMobXFlow=!0,s[i]=o}),t}function JR(t,e,n,i){e.annotationType_,i.value}function H0(t,e,n,i,r,s){s===void 0&&(s=X.safeDescriptors),JR(t,e,n,i);var o=i.value;if(eo(o)||(o=Bi(o)),r){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Bh(t,e){return{annotationType_:t,options_:e,make_:XR,extend_:YR,decorate_20223_:QR}}function XR(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function YR(t,e,n,i){return eD(t,this,e,n),t.defineComputedProperty_(e,Jr({},this.options_,{get:n.get,set:n.set}),i)}function QR(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var s=ci(this)[de],o=Jr({},n.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+i.toString()),s.values_.set(i,new vn(o))}),function(){return this[de].getObservablePropValue_(i)}}function eD(t,e,n,i){e.annotationType_,i.get}function Cu(t,e){return{annotationType_:t,options_:e,make_:tD,extend_:nD,decorate_20223_:rD}}function tD(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function nD(t,e,n,i){var r,s;return iD(t,this),t.defineObservableProperty_(e,n.value,(r=(s=this.options_)==null?void 0:s.enhancer)!=null?r:Xr,i)}function rD(t,e){var n=this,i=e.kind,r=e.name,s=new WeakSet;function o(a,u){var l,c,d=ci(a)[de],f=new Wr(u,(l=(c=n.options_)==null?void 0:c.enhancer)!=null?l:Xr,"ObservableObject."+r.toString(),!1);d.values_.set(r,f),s.add(a)}if(i=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[de].getObservablePropValue_(r)},set:function(u){return s.has(this)||o(this,u),this[de].setObservablePropValue_(r,u)},init:function(u){return s.has(this)||o(this,u),u}}}function iD(t,e,n,i){e.annotationType_}var sD="true",oD=W0();function W0(t){return{annotationType_:sD,options_:t,make_:aD,extend_:uD,decorate_20223_:cD}}function aD(t,e,n,i){var r,s;if(n.get)return ut.make_(t,e,n,i);if(n.set){var o=Yr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:X.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(Cn(i,e,{configurable:!0,set:o}),2)}if(i!==t.target_&&typeof n.value=="function"){var a;if(M0(n.value)){var u,l=(u=this.options_)!=null&&u.autoBind?Bi.bound:Bi;return l.make_(t,e,n,i)}var c=(a=this.options_)!=null&&a.autoBind?Ys.bound:Ys;return c.make_(t,e,n,i)}var d=((r=this.options_)==null?void 0:r.deep)===!1?we.ref:we;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=t.proxy_)!=null?f:t.target_)}return d.make_(t,e,n,i)}function uD(t,e,n,i){var r,s;if(n.get)return ut.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:X.safeDescriptors?t.isPlainObject_:!0,set:Yr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var o;n.value=n.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?we.ref:we;return a.extend_(t,e,n,i)}function cD(t,e){Te("'"+this.annotationType_+"' cannot be used as a decorator")}var lD="observable",dD="observable.ref",hD="observable.shallow",fD="observable.struct",K0={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(K0);function Vo(t){return t||K0}var ql=Cu(lD),pD=Cu(dD,{enhancer:Ou}),mD=Cu(hD,{enhancer:MR}),gD=Cu(fD,{enhancer:zR}),J0=Pn(ql);function qo(t){return t.deep===!0?Xr:t.deep===!1?Ou:_D(t.defaultDecorator)}function vD(t){var e;return t?(e=t.defaultDecorator)!=null?e:W0(t):void 0}function _D(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Xr}function X0(t,e,n){if(wo(e))return ql.decorate_20223_(t,e);if(Kr(e)){bo(t,e,ql);return}return yw(t)?t:nr(t)?we.object(t,e,n):Array.isArray(t)?we.array(t,e):rs(t)?we.map(t,e):Hn(t)?we.set(t,e):typeof t=="object"&&t!==null?t:we.box(t,e)}j0(X0,J0);var yD={box:function(e,n){var i=Vo(n);return new Wr(e,qo(i),i.name,!0,i.equals)},array:function(e,n){var i=Vo(n);return(X.useProxies===!1||i.proxy===!1?fN:rN)(e,qo(i),i.name)},map:function(e,n){var i=Vo(n);return new ww(e,qo(i),i.name)},set:function(e,n){var i=Vo(n);return new Sw(e,qo(i),i.name)},object:function(e,n,i){return xr(function(){return gw(X.useProxies===!1||i?.proxy===!1?ci({},i):eN({},i),e,n)})},ref:Pn(pD),shallow:Pn(mD),deep:J0,struct:Pn(gD)},we=j0(X0,yD),Y0="computed",bD="computed.struct",Gl=Bh(Y0),wD=Bh(bD,{equals:Fi.structural}),ut=function(e,n){if(wo(n))return Gl.decorate_20223_(e,n);if(Kr(n))return bo(e,n,Gl);if(nr(e))return Pn(Bh(Y0,e));var i=nr(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new vn(i)};Object.assign(ut,Gl);ut.struct=Pn(wD);var cv,lv,Oa=0,SD=1,xD=(cv=(lv=$a(function(){},"name"))==null?void 0:lv.configurable)!=null?cv:!1,dv={value:"action",configurable:!0,writable:!1,enumerable:!1};function Yr(t,e,n,i){n===void 0&&(n=!1);function r(){return Q0(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},xD&&(dv.value=t,Cn(r,"name",dv)),r}function Q0(t,e,n,i,r){var s=kD(t,e);try{return n.apply(i,r)}catch(o){throw s.error_=o,o}finally{ID(s)}}function kD(t,e,n,i){var r=!1,s=0,o=X.trackingDerivation,a=!e||!o;nn();var u=X.allowStateChanges;a&&(ai(),u=Pu(!0));var l=Vh(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:r,startTime_:s,actionId_:SD++,parentActionId_:Oa};return Oa=c.actionId_,c}function ID(t){Oa!==t.actionId_&&Te(30),Oa=t.parentActionId_,t.error_!==void 0&&(X.suppressReactionErrors=!0),Ru(t.prevAllowStateChanges_),Ns(t.prevAllowStateReads_),rn(),t.runAsAction_&&Yn(t.prevDerivation_),X.suppressReactionErrors=!1}function ED(t,e){var n=Pu(t);try{return e()}finally{Ru(n)}}function Pu(t){var e=X.allowStateChanges;return X.allowStateChanges=t,e}function Ru(t){X.allowStateChanges=t}var Wr=function(t){function e(i,r,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=Fi.default),u=t.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=r,u.name_=s,u.equals=a,u.value_=r(i,void 0,s),u}V0(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==X.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(en(this)){var s=tn(this,{object:this,type:Rn,newValue:r});if(!s)return X.UNCHANGED;r=s.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?X.UNCHANGED:r},n.setNewValue_=function(r){var s=this.value_;this.value_=r,this.reportChanged(),fn(this)&&pn(this,{type:Rn,object:this,newValue:r,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return xo(this,r)},n.observe_=function(r,s){return s&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Rn,newValue:this.value_,oldValue:void 0}),ko(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return B0(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Sr),vn=function(){function t(n){this.dependenciesState_=Ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Pa(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ca.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Te(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Yr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Fi.structural:Fi.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){CD(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Te(32,this.name_,this.derivation),X.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Zl(this)&&(this.warnAboutUntrackedRead_(),nn(),this.value_=this.computeValue_(!1),rn());else if(ow(this),Zl(this)){var i=X.trackingContext;this.keepAlive_&&!i&&(X.trackingContext=this),this.trackAndCompute()&&OD(this),X.trackingContext=i}var r=this.value_;if(_a(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Te(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Te(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Ce.NOT_TRACKING_,s=this.computeValue_(!0),o=r||_a(i)||_a(s)||!this.equals_(i,s);return o&&(this.value_=s),o},e.computeValue_=function(i){this.isComputing=!0;var r=Pu(!1),s;if(i)s=ew(this,this.derivation,this.scope_);else if(X.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Pa(o)}return Ru(r),this.isComputing=!1,s},e.suspend_=function(){this.keepAlive_||(Hl(this),this.value_=void 0)},e.observe_=function(i,r){var s=this,o=!0,a=void 0;return Da(function(){var u=s.get();if(!o||r){var l=ai();i({observableKind:"computed",debugObjectName:s.name_,type:Rn,object:s,newValue:u,oldValue:a}),Yn(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return B0(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},is(t,[{key:"isComputing",get:function(){return Vt(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=qt(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return Vt(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=qt(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return Vt(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=qt(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Vt(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=qt(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Vt(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=qt(this.flags_,t.diffValueMask_,i===1)}}])}();vn.isComputingMask_=1;vn.isRunningSetterMask_=2;vn.isBeingObservedMask_=4;vn.isPendingUnobservationMask_=8;vn.diffValueMask_=16;var Du=oi("ComputedValue",vn),Ce;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ce||(Ce={}));var Ca;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Ca||(Ca={}));var Pa=function(e){this.cause=void 0,this.cause=e};function _a(t){return t instanceof Pa}function Zl(t){switch(t.dependenciesState_){case Ce.UP_TO_DATE_:return!1;case Ce.NOT_TRACKING_:case Ce.STALE_:return!0;case Ce.POSSIBLY_STALE_:{for(var e=Vh(!0),n=ai(),i=t.observing_,r=i.length,s=0;s<r;s++){var o=i[s];if(Du(o)){if(X.disableErrorBoundaries)o.get();else try{o.get()}catch{return Yn(n),Ns(e),!0}if(t.dependenciesState_===Ce.STALE_)return Yn(n),Ns(e),!0}}return nw(t),Yn(n),Ns(e),!1}}}function ew(t,e,n){var i=Vh(!0);nw(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++X.runId;var r=X.trackingDerivation;X.trackingDerivation=t,X.inBatch++;var s;if(X.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(o){s=new Pa(o)}return X.inBatch--,X.trackingDerivation=r,AD(t),Ns(i),s}function AD(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ce.UP_TO_DATE_,r=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,r!==o&&(n[r]=a),r++),a.dependenciesState_>i&&(i=a.dependenciesState_)}for(n.length=r,t.newObserving_=null,s=e.length;s--;){var u=e[s];u.diffValue===0&&iw(u,t),u.diffValue=0}for(;r--;){var l=n[r];l.diffValue===1&&(l.diffValue=0,$D(l,t))}i!==Ce.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function Hl(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)iw(e[n],t);t.dependenciesState_=Ce.NOT_TRACKING_}function tw(t){var e=ai();try{return t()}finally{Yn(e)}}function ai(){var t=X.trackingDerivation;return X.trackingDerivation=null,t}function Yn(t){X.trackingDerivation=t}function Vh(t){var e=X.allowStateReads;return X.allowStateReads=t,e}function Ns(t){X.allowStateReads=t}function nw(t){if(t.dependenciesState_!==Ce.UP_TO_DATE_){t.dependenciesState_=Ce.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ce.UP_TO_DATE_}}var ya=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ba=!0,rw=!1,X=function(){var t=Au();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(ba=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new ya().version&&(ba=!1),ba?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new ya):(setTimeout(function(){rw||Te(35)},1),new ya)}();function TD(){if((X.pendingReactions.length||X.inBatch||X.isRunningReactions)&&Te(36),rw=!0,ba){var t=Au();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),X=new ya}}function $D(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function iw(t,e){t.observers_.delete(e),t.observers_.size===0&&sw(t)}function sw(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,X.pendingUnobservations.push(t))}function nn(){X.inBatch++}function rn(){if(--X.inBatch===0){uw();for(var t=X.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof vn&&n.suspend_())}X.pendingUnobservations=[]}}function ow(t){var e=X.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&X.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&X.inBatch>0&&sw(t),!1)}function aw(t){t.lowestObserverState_!==Ce.STALE_&&(t.lowestObserverState_=Ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ce.STALE_}))}function OD(t){t.lowestObserverState_!==Ce.STALE_&&(t.lowestObserverState_=Ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.POSSIBLY_STALE_?e.dependenciesState_=Ce.STALE_:e.dependenciesState_===Ce.UP_TO_DATE_&&(t.lowestObserverState_=Ce.UP_TO_DATE_)}))}function CD(t){t.lowestObserverState_===Ce.UP_TO_DATE_&&(t.lowestObserverState_=Ce.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.UP_TO_DATE_&&(e.dependenciesState_=Ce.POSSIBLY_STALE_,e.onBecomeStale_())}))}var jn=function(){function t(n,i,r,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ce.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ca.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,X.pendingReactions.push(this),uw())},e.runReaction_=function(){if(!this.isDisposed){nn(),this.isScheduled=!1;var i=X.trackingContext;if(X.trackingContext=this,Zl(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}X.trackingContext=i,rn()}},e.track=function(i){if(!this.isDisposed){nn(),this.isRunning=!0;var r=X.trackingContext;X.trackingContext=this;var s=ew(this,i,void 0);X.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Hl(this),_a(s)&&this.reportExceptionInDerivation_(s.cause),rn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(X.disableErrorBoundaries)throw i;var s="[mobx] uncaught error in '"+this+"'";X.suppressReactionErrors||console.error(s,i),X.globalReactionErrorHandlers.forEach(function(o){return o(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(nn(),Hl(this),rn()))},e.getDisposer_=function(i){var r=this,s=function o(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",o)};return i==null||i.addEventListener==null||i.addEventListener("abort",s),s[de]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},is(t,[{key:"isDisposed",get:function(){return Vt(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=qt(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return Vt(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=qt(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return Vt(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=qt(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return Vt(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=qt(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return Vt(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=qt(this.flags_,t.diffValueMask_,i===1)}}])}();jn.isDisposedMask_=1;jn.isScheduledMask_=2;jn.isTrackPendingMask_=4;jn.isRunningMask_=8;jn.diffValueMask_=16;var PD=100,Wl=function(e){return e()};function uw(){X.inBatch>0||X.isRunningReactions||Wl(RD)}function RD(){X.isRunningReactions=!0;for(var t=X.pendingReactions,e=0;t.length>0;){++e===PD&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}X.isRunningReactions=!1}var Ra=oi("Reaction",jn);function DD(t){var e=Wl;Wl=function(i){return t(function(){return e(i)})}}function js(){return!1}function ND(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var cw="action",jD="action.bound",lw="autoAction",UD="autoAction.bound",dw="<unnamed action>",Kl=So(cw),LD=So(jD,{bound:!0}),Jl=So(lw,{autoAction:!0}),MD=So(UD,{autoAction:!0,bound:!0});function hw(t){var e=function(i,r){if(gn(i))return Yr(i.name||dw,i,t);if(gn(r))return Yr(i,r,t);if(wo(r))return(t?Jl:Kl).decorate_20223_(i,r);if(Kr(r))return bo(i,r,t?Jl:Kl);if(Kr(i))return Pn(So(t?lw:cw,{name:i,autoAction:t}))};return e}var be=hw(!1);Object.assign(be,Kl);var Ys=hw(!0);Object.assign(Ys,Jl);be.bound=Pn(LD);Ys.bound=Pn(MD);function At(t){return Q0(t.name||dw,!1,t,this,void 0)}function Qs(t){return gn(t)&&t.isMobxAction===!0}function Da(t,e){var n,i,r,s;e===void 0&&(e=zh);var o=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",a=!e.scheduler&&!e.delay,u;if(a)u=new jn(o,function(){this.track(d)},e.onError,e.requiresObservable);else{var l=fw(e),c=!1;u=new jn(o,function(){c||(c=!0,l(function(){c=!1,u.isDisposed||u.track(d)}))},e.onError,e.requiresObservable)}function d(){t(u)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||u.schedule_(),u.getDisposer_((s=e)==null?void 0:s.signal)}var zD=function(e){return e()};function fw(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:zD}function En(t,e,n){var i,r,s;n===void 0&&(n=zh);var o=(i=n.name)!=null?i:"Reaction",a=be(o,n.onError?FD(n.onError,e):e),u=!n.scheduler&&!n.delay,l=fw(n),c=!0,d=!1,f,p=n.compareStructural?Fi.structural:n.equals||Fi.default,g=new jn(o,function(){c||u?b():d||(d=!0,l(b))},n.onError,n.requiresObservable);function b(){if(d=!1,!g.isDisposed){var w=!1,S=f;g.track(function(){var x=ED(!1,function(){return t(g)});w=c||!p(f,x),f=x}),(c&&n.fireImmediately||!c&&w)&&a(f,S,g),c=!1}}return(r=n)!=null&&(r=r.signal)!=null&&r.aborted||g.schedule_(),g.getDisposer_((s=n)==null?void 0:s.signal)}function FD(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var BD="onBO",VD="onBUO";function qD(t,e,n){return mw(BD,t,e,n)}function pw(t,e,n){return mw(VD,t,e,n)}function mw(t,e,n,i){var r=Ua(e),s=gn(i)?i:n,o=t+"L";return r[o]?r[o].add(s):r[o]=new Set([s]),function(){var a=r[o];a&&(a.delete(s),a.size===0&&delete r[o])}}var GD="never",Go="always",ZD="observed";function HD(t){t.isolateGlobalState===!0&&TD();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(X.useProxies=e===Go?!0:e===GD?!1:typeof Proxy<"u"),e==="ifavailable"&&(X.verifyProxies=!0),n!==void 0){var i=n===Go?Go:n===ZD;X.enforceActions=i,X.allowStateChanges=!(i===!0||i===Go)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(X[r]=!!t[r])}),X.allowStateReads=!X.observableRequiresReaction,t.reactionScheduler&&DD(t.reactionScheduler)}function gw(t,e,n,i){var r=CR(e);return xr(function(){var s=ci(t,i)[de];zi(r).forEach(function(o){s.extend_(o,r[o],n&&o in n?n[o]:!0)})}),t}function WD(t,e){return vw(Ua(t,e))}function vw(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=KD(t.observing_).map(vw)),e}function KD(t){return Array.from(new Set(t))}var JD=0;function _w(){this.message="FLOW_CANCELLED"}_w.prototype=Object.create(Error.prototype);var jc=Z0("flow"),XD=Z0("flow.bound",{bound:!0}),Bi=Object.assign(function(e,n){if(wo(n))return jc.decorate_20223_(e,n);if(Kr(n))return bo(e,n,jc);var i=e,r=i.name||"<unnamed flow>",s=function(){var a=this,u=arguments,l=++JD,c=be(r+" - runid: "+l+" - init",i).apply(a,u),d,f=void 0,p=new Promise(function(g,b){var w=0;d=b;function S(T){f=void 0;var k;try{k=be(r+" - runid: "+l+" - yield "+w++,c.next).call(c,T)}catch(P){return b(P)}E(k)}function x(T){f=void 0;var k;try{k=be(r+" - runid: "+l+" - yield "+w++,c.throw).call(c,T)}catch(P){return b(P)}E(k)}function E(T){if(gn(T?.then)){T.then(E,b);return}return T.done?g(T.value):(f=Promise.resolve(T.value),f.then(S,x))}S(void 0)});return p.cancel=be(r+" - runid: "+l+" - cancel",function(){try{f&&hv(f);var g=c.return(void 0),b=Promise.resolve(g.value);b.then(Ti,Ti),hv(b),d(new _w)}catch(w){d(w)}}),p};return s.isMobXFlow=!0,s},jc);Bi.bound=Pn(XD);function hv(t){gn(t.cancel)&&t.cancel()}function eo(t){return t?.isMobXFlow===!0}function YD(t,e){return t?ju(t)||!!t[de]||Fh(t)||Ra(t)||Du(t):!1}function yw(t){return YD(t)}function Wn(t,e){e===void 0&&(e=void 0),nn();try{return t.apply(e)}finally{rn()}}function _i(t){return t[de]}var QD={has:function(e,n){return _i(e).has_(n)},get:function(e,n){return _i(e).get_(n)},set:function(e,n,i){var r;return Kr(n)?(r=_i(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return Kr(n)?(i=_i(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=_i(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return _i(e).ownKeys_()},preventExtensions:function(e){Te(13)}};function eN(t,e){var n,i;return U0(),t=ci(t,e),(i=(n=t[de]).proxy_)!=null?i:n.proxy_=new Proxy(t,QD)}function en(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function xo(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),L0(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function tn(t,e){var n=ai();try{for(var i=[].concat(t.interceptors_||[]),r=0,s=i.length;r<s&&(e=i[r](e),e&&!e.type&&Te(14),!!e);r++);return e}finally{Yn(n)}}function fn(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function ko(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),L0(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function pn(t,e){var n=ai(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,s=i.length;r<s;r++)i[r](e);Yn(n)}}function Ft(t,e,n){return xr(function(){var i,r=ci(t,n)[de];(i=e)!=null||(e=jR(t)),zi(e).forEach(function(s){return r.make_(s,e[s])})}),t}var Uc=Symbol("mobx-keys");function qh(t,e,n){return nr(t)?gw(t,t,e,n):(xr(function(){var i=ci(t,n)[de];if(!t[Uc]){var r=Object.getPrototypeOf(t),s=new Set([].concat(zi(t),zi(r)));s.delete("constructor"),s.delete(de),yo(r,Uc,s)}t[Uc].forEach(function(o){return i.make_(o,e&&o in e?e[o]:!0)})}),t)}var fv="splice",Rn="update",tN=1e4,nN={get:function(e,n){var i=e[de];return n===de?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Xn(Na,n)?Na[n]:e[n]},set:function(e,n,i){var r=e[de];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){Te(15)}},Gh=function(){function t(n,i,r,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=s,this.atom_=new Sr(n),this.enhancer_=function(o,a){return i(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return xo(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ko(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Te("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var s=new Array(i-r),o=0;o<i-r;o++)s[o]=void 0;this.spliceWithArray_(r,0,s)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Te(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Ew(i+r+1)},e.spliceWithArray_=function(i,r,s){var o=this;this.atom_;var a=this.values_.length;if(i===void 0?i=0:i>a?i=a:i<0&&(i=Math.max(0,a+i)),arguments.length===1?r=a-i:r==null?r=0:r=Math.max(0,Math.min(r,a-i)),s===void 0&&(s=Bl),en(this)){var u=tn(this,{object:this.proxy_,type:fv,index:i,removedCount:r,added:s});if(!u)return Bl;r=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=s.length-r;this.updateArrayLength_(a,l)}var c=this.spliceItemsIntoValues_(i,r,s);return(r!==0||s.length!==0)&&this.notifyArraySplice_(i,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(i,r,s){if(s.length<tN){var o;return(o=this.values_).splice.apply(o,[i,r].concat(s))}else{var a=this.values_.slice(i,i+r),u=this.values_.slice(i+r);this.values_.length+=s.length-r;for(var l=0;l<s.length;l++)this.values_[i+l]=s[l];for(var c=0;c<u.length;c++)this.values_[i+s.length+c]=u[c];return a}},e.notifyArrayChildUpdate_=function(i,r,s){var o=!this.owned_&&js(),a=fn(this),u=a||o?{observableKind:"array",object:this.proxy_,type:Rn,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:s}:null;this.atom_.reportChanged(),a&&pn(this,u)},e.notifyArraySplice_=function(i,r,s){var o=!this.owned_&&js(),a=fn(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:fv,index:i,removed:s,added:r,removedCount:s.length,addedCount:r.length}:null;this.atom_.reportChanged(),a&&pn(this,u)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var s=this.values_;if(this.legacyMode_&&i>s.length&&Te(17,i,s.length),i<s.length){this.atom_;var o=s[i];if(en(this)){var a=tn(this,{type:Rn,object:this.proxy_,index:i,newValue:r});if(!a)return;r=a.newValue}r=this.enhancer_(r,o);var u=r!==o;u&&(s[i]=r,this.notifyArrayChildUpdate_(i,r,o))}else{for(var l=new Array(i+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=r,this.spliceWithArray_(s.length,0,l)}},t}();function rN(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),U0(),xr(function(){var r=new Gh(n,e,i,!1);z0(r.values_,de,r);var s=new Proxy(r.values_,nN);return r.proxy_=s,t&&t.length&&r.spliceWithArray_(0,0,t),s})}var Na={clear:function(){return this.splice(0)},replace:function(e){var n=this[de];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];var o=this[de];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,n)}return o.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[de].spliceWithArray_(e,n,i)},push:function(){for(var e=this[de],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[de].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[de],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return X.trackingDerivation&&Te(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){X.trackingDerivation&&Te(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[de],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Le("at",Jt);Le("concat",Jt);Le("flat",Jt);Le("includes",Jt);Le("indexOf",Jt);Le("join",Jt);Le("lastIndexOf",Jt);Le("slice",Jt);Le("toString",Jt);Le("toLocaleString",Jt);Le("toSorted",Jt);Le("toSpliced",Jt);Le("with",Jt);Le("every",bn);Le("filter",bn);Le("find",bn);Le("findIndex",bn);Le("findLast",bn);Le("findLastIndex",bn);Le("flatMap",bn);Le("forEach",bn);Le("map",bn);Le("some",bn);Le("toReversed",bn);Le("reduce",bw);Le("reduceRight",bw);function Le(t,e){typeof Array.prototype[t]=="function"&&(Na[t]=e(t))}function Jt(t){return function(){var e=this[de];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function bn(t){return function(e,n){var i=this,r=this[de];r.atom_.reportObserved();var s=r.dehanceValues_(r.values_);return s[t](function(o,a){return e.call(n,o,a,i)})}}function bw(t){return function(){var e=this,n=this[de];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(s,o,a){return r(s,o,a,e)},i[t].apply(i,arguments)}}var iN=oi("ObservableArrayAdministration",Gh);function Nu(t){return $u(t)&&iN(t[de])}var sN={},hr="add",ja="delete",ww=function(){function t(n,i,r){var s=this;i===void 0&&(i=Xr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[de]=sN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,gn(Map)||Te(18),xr(function(){s.keysAtom_=q0("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!X.trackingDerivation)return this.has_(i);var s=this.hasMap_.get(i);if(!s){var o=s=new Wr(this.has_(i),Ou,"ObservableMap.key?",!1);this.hasMap_.set(i,o),pw(o,function(){return r.hasMap_.delete(i)})}return s.get()},e.set=function(i,r){var s=this.has_(i);if(en(this)){var o=tn(this,{type:s?Rn:hr,object:this,newValue:r,name:i});if(!o)return this;r=o.newValue}return s?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,en(this)){var s=tn(this,{type:ja,object:this,name:i});if(!s)return!1}if(this.has_(i)){var o=js(),a=fn(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:ja,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Wn(function(){var l;r.keysAtom_.reportChanged(),(l=r.hasMap_.get(i))==null||l.setNewValue_(!1);var c=r.data_.get(i);c.setNewValue_(void 0),r.data_.delete(i)}),a&&pn(this,u),!0}return!1},e.updateValue_=function(i,r){var s=this.data_.get(i);if(r=s.prepareNewValue_(r),r!==X.UNCHANGED){var o=js(),a=fn(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Rn,object:this,oldValue:s.value_,name:i,newValue:r}:null;s.setNewValue_(r),a&&pn(this,u)}},e.addValue_=function(i,r){var s=this;this.keysAtom_,Wn(function(){var l,c=new Wr(r,s.enhancer_,"ObservableMap.key",!1);s.data_.set(i,c),r=c.value_,(l=s.hasMap_.get(i))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=js(),a=fn(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:hr,object:this,name:i,newValue:r}:null;a&&pn(this,u)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return pv({next:function(){var o=r.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:i.get(u)}}})},e.entries=function(){var i=this,r=this.keys();return pv({next:function(){var o=r.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,i.get(u)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var s=$i(this),o;!(o=s()).done;){var a=o.value,u=a[0],l=a[1];i.call(r,l,u,this)}},e.merge=function(i){var r=this;return ui(i)&&(i=new Map(i)),Wn(function(){nr(i)?OR(i).forEach(function(s){return r.set(s,i[s])}):Array.isArray(i)?i.forEach(function(s){var o=s[0],a=s[1];return r.set(o,a)}):rs(i)?($R(i)||Te(19,i),i.forEach(function(s,o){return r.set(o,s)})):i!=null&&Te(20,i)}),this},e.clear=function(){var i=this;Wn(function(){tw(function(){for(var r=$i(i.keys()),s;!(s=r()).done;){var o=s.value;i.delete(o)}})})},e.replace=function(i){var r=this;return Wn(function(){for(var s=oN(i),o=new Map,a=!1,u=$i(r.data_.keys()),l;!(l=u()).done;){var c=l.value;if(!s.has(c)){var d=r.delete(c);if(d)a=!0;else{var f=r.data_.get(c);o.set(c,f)}}}for(var p=$i(s.entries()),g;!(g=p()).done;){var b=g.value,w=b[0],S=b[1],x=r.data_.has(w);if(r.set(w,S),r.data_.has(w)){var E=r.data_.get(w);o.set(w,E),x||(a=!0)}}if(!a)if(r.data_.size!==o.size)r.keysAtom_.reportChanged();else for(var T=r.data_.keys(),k=o.keys(),P=T.next(),C=k.next();!P.done;){if(P.value!==C.value){r.keysAtom_.reportChanged();break}P=T.next(),C=k.next()}r.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return ko(this,i)},e.intercept_=function(i){return xo(this,i)},is(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ui=oi("ObservableMap",ww);function pv(t){return t[Symbol.toStringTag]="MapIterator",Hh(t)}function oN(t){if(rs(t)||ui(t))return t;if(Array.isArray(t))return new Map(t);if(nr(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Te(21,t)}var aN={},Sw=function(){function t(n,i,r){var s=this;i===void 0&&(i=Xr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[de]=aN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,gn(Set)||Te(22),this.enhancer_=function(o,a){return i(o,a,r)},xr(function(){s.atom_=q0(s.name_),n&&s.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;Wn(function(){tw(function(){for(var r=$i(i.data_.values()),s;!(s=r()).done;){var o=s.value;i.delete(o)}})})},e.forEach=function(i,r){for(var s=$i(this),o;!(o=s()).done;){var a=o.value;i.call(r,a,a,this)}},e.add=function(i){var r=this;if(this.atom_,en(this)){var s=tn(this,{type:hr,object:this,newValue:i});if(!s)return this;i=s.newValue}if(!this.has(i)){Wn(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var o=!1,a=fn(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:hr,object:this,newValue:i}:null;a&&pn(this,u)}return this},e.delete=function(i){var r=this;if(en(this)){var s=tn(this,{type:ja,object:this,oldValue:i});if(!s)return!1}if(this.has(i)){var o=!1,a=fn(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:ja,object:this,oldValue:i}:null;return Wn(function(){r.atom_.reportChanged(),r.data_.delete(i)}),a&&pn(this,u),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return mv({next:function(){var s=i.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return mv({next:function(){var o=r.next(),a=o.value,u=o.done;return u?{value:void 0,done:u}:{value:i.dehanceValue_(a),done:u}}})},e.intersection=function(i){if(Hn(i)&&!kn(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(Hn(i)&&!kn(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Hn(i)&&!kn(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Hn(i)&&!kn(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return kn(i)&&(i=new Set(i)),Wn(function(){Array.isArray(i)?(r.clear(),i.forEach(function(s){return r.add(s)})):Hn(i)?(r.clear(),i.forEach(function(s){return r.add(s)})):i!=null&&Te("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return ko(this,i)},e.intercept_=function(i){return xo(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},is(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),kn=oi("ObservableSet",Sw);function mv(t){return t[Symbol.toStringTag]="SetIterator",Hh(t)}var gv=Object.create(null),vv="remove",xw=function(){function t(n,i,r,s){i===void 0&&(i=new Map),s===void 0&&(s=oD),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=s,this.keysAtom_=new Sr("ObservableObject.keys"),this.isPlainObject_=nr(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var s=this.values_.get(i);if(s instanceof vn)return s.set(r),!0;if(en(this)){var o=tn(this,{type:Rn,object:this.proxy_||this.target_,name:i,newValue:r});if(!o)return null;r=o.newValue}if(r=s.prepareNewValue_(r),r!==X.UNCHANGED){var a=fn(this),u=!1,l=a||u?{type:Rn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:i,newValue:r}:null;s.setNewValue_(r),a&&pn(this,l)}return!0},e.get_=function(i){return X.trackingDerivation&&!Xn(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,s){return s===void 0&&(s=!1),Xn(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):s?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(i){if(!X.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new Wr(i in this.target_,Ou,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var s;if((s=this.target_[In])!=null&&s[i])return;Te(1,r.annotationType_,this.name_+"."+i.toString())}for(var o=this.target_;o&&o!==Tu;){var a=$a(o,i);if(a){var u=r.make_(this,i,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}yv(this,r,i)}},e.extend_=function(i,r,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(i,r,o);var a=s.extend_(this,i,r,o);return a&&yv(this,s,i),a},e.defineProperty_=function(i,r,s){s===void 0&&(s=!1),this.keysAtom_;try{nn();var o=this.delete_(i);if(!o)return o;if(en(this)){var a=tn(this,{object:this.proxy_||this.target_,name:i,type:hr,newValue:r.value});if(!a)return null;var u=a.newValue;r.value!==u&&(r=Jr({},r,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Cn(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{rn()}return!0},e.defineObservableProperty_=function(i,r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{nn();var a=this.delete_(i);if(!a)return a;if(en(this)){var u=tn(this,{object:this.proxy_||this.target_,name:i,type:hr,newValue:r});if(!u)return null;r=u.newValue}var l=_v(i),c={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,i,c))return!1}else Cn(this.target_,i,c);var d=new Wr(r,s,"ObservableObject.key",!1);this.values_.set(i,d),this.notifyPropertyAddition_(i,d.value_)}finally{rn()}return!0},e.defineComputedProperty_=function(i,r,s){s===void 0&&(s=!1),this.keysAtom_;try{nn();var o=this.delete_(i);if(!o)return o;if(en(this)){var a=tn(this,{object:this.proxy_||this.target_,name:i,type:hr,newValue:void 0});if(!a)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var u=_v(i),l={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,i,l))return!1}else Cn(this.target_,i,l);this.values_.set(i,new vn(r)),this.notifyPropertyAddition_(i,void 0)}finally{rn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!Xn(this.target_,i))return!0;if(en(this)){var s=tn(this,{object:this.proxy_||this.target_,name:i,type:vv});if(!s)return null}try{var o;nn();var a=fn(this),u=!1,l=this.values_.get(i),c=void 0;if(!l&&(a||u)){var d;c=(d=$a(this.target_,i))==null?void 0:d.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(l&&(this.values_.delete(i),l instanceof Wr&&(c=l.value_),aw(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(i in this.target_),a||u){var f={type:vv,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:i};a&&pn(this,f)}}finally{rn()}return!0},e.observe_=function(i,r){return ko(this,i)},e.intercept_=function(i){return xo(this,i)},e.notifyPropertyAddition_=function(i,r){var s,o=fn(this),a=!1;if(o||a){var u=o||a?{type:hr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;o&&pn(this,u)}(s=this.pendingKeys_)==null||(s=s.get(i))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),zi(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function ci(t,e){var n;if(Xn(t,de))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new xw(t,new Map,String(i),vD(e));return yo(t,de,r),t}var uN=oi("ObservableObjectAdministration",xw);function _v(t){return gv[t]||(gv[t]={get:function(){return this[de].getObservablePropValue_(t)},set:function(n){return this[de].setObservablePropValue_(t,n)}})}function ju(t){return $u(t)?uN(t[de]):!1}function yv(t,e,n){var i;(i=t.target_[In])==null||delete i[n]}var cN=Iw(0),lN=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Lc=0,kw=function(){};function dN(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}dN(kw,Array.prototype);var Zh=function(t){function e(i,r,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=t.call(this)||this,xr(function(){var u=new Gh(s,r,o,!0);u.proxy_=a,z0(a,de,u),i&&i.length&&a.spliceWithArray(0,0,i),lN&&Object.defineProperty(a,"0",cN)}),a}V0(e,t);var n=e.prototype;return n.concat=function(){this[de].atom_.reportObserved();for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return Nu(a)?a.slice():a}))},n[Symbol.iterator]=function(){var i=this,r=0;return Hh({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},is(e,[{key:"length",get:function(){return this[de].getArrayLength_()},set:function(r){this[de].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(kw);Object.entries(Na).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&yo(Zh.prototype,e,n)});function Iw(t){return{enumerable:!1,configurable:!0,get:function(){return this[de].get_(t)},set:function(n){this[de].set_(t,n)}}}function hN(t){Cn(Zh.prototype,""+t,Iw(t))}function Ew(t){if(t>Lc){for(var e=Lc;e<t+100;e++)hN(e);Lc=t}}Ew(1e3);function fN(t,e,n){return new Zh(t,e,n)}function Ua(t,e){if(typeof t=="object"&&t!==null){if(Nu(t))return e!==void 0&&Te(23),t[de].atom_;if(kn(t))return t.atom_;if(ui(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Te(25,e,Xl(t)),n}if(ju(t)){if(!e)return Te(26);var i=t[de].values_.get(e);return i||Te(27,e,Xl(t)),i}if(Fh(t)||Du(t)||Ra(t))return t}else if(gn(t)&&Ra(t[de]))return t[de];Te(28)}function pN(t,e){if(t||Te(29),Fh(t)||Du(t)||Ra(t)||ui(t)||kn(t))return t;if(t[de])return t[de];Te(24,t)}function Xl(t,e){var n;if(e!==void 0)n=Ua(t,e);else{if(Qs(t))return t.name;ju(t)||ui(t)||kn(t)?n=pN(t):n=Ua(t)}return n.name_}function xr(t){var e=ai(),n=Pu(!0);nn();try{return t()}finally{rn(),Ru(n),Yn(e)}}var bv=Tu.toString;function Aw(t,e,n){return n===void 0&&(n=-1),Yl(t,e,n)}function Yl(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=bv.call(t);if(o!==bv.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=wv(t),e=wv(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(gn(u)&&u instanceof u&&gn(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var c=i.length;c--;)if(i[c]===t)return r[c]===e;if(i.push(t),r.push(e),a){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!Yl(t[c],e[c],n-1,i,r))return!1}else{var d=Object.keys(t),f=d.length;if(Object.keys(e).length!==f)return!1;for(var p=0;p<f;p++){var g=d[p];if(!(Xn(e,g)&&Yl(t[g],e[g],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function wv(t){return Nu(t)?t.slice():rs(t)||ui(t)||Hn(t)||kn(t)?Array.from(t.entries()):t}var Sv,mN=((Sv=Au().Iterator)==null?void 0:Sv.prototype)||{};function Hh(t){return t[Symbol.iterator]=gN,Object.assign(Object.create(mN),t)}function gN(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Au();typeof e[t]>"u"&&Te("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ND,extras:{getDebugName:Xl},$mobx:de});if(!j.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ft)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var kr=T$();const k3=Su(kr);function vN(t){t()}function _N(t){t||(t=vN),HD({reactionScheduler:t})}function yN(t){return WD(t)}var bN=1e4,wN=1e4,SN=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=bN),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(s,o){r-s.registeredAt>=i&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,wN))}}),t}(),xN=typeof FinalizationRegistry<"u"?FinalizationRegistry:SN,Ql=new xN(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Mc={exports:{}},zc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function kN(){if(xv)return zc;xv=1;var t=$$();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var p=f(),g=i({inst:{value:p,getSnapshot:f}}),b=g[0].inst,w=g[1];return s(function(){b.value=p,b.getSnapshot=f,u(b)&&w({inst:b})},[d,p,f]),r(function(){return u(b)&&w({inst:b}),d(function(){u(b)&&w({inst:b})})},[d]),o(p),p}function u(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function l(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return zc.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,zc}var kv;function IN(){return kv||(kv=1,Mc.exports=kN()),Mc.exports}var EN=IN();function Iv(t){t.reaction=new jn("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function AN(t,e){e===void 0&&(e="observed");var n=at.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return Ql.unregister(i),i.onStoreChange=a,i.reaction||(Iv(i),i.stateVersion=Symbol()),function(){var u;i.onStoreChange=null,(u=i.reaction)===null||u===void 0||u.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(Iv(r),Ql.register(n,r,r)),at.useDebugValue(r.reaction,yN),EN.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var s,o;if(r.reaction.track(function(){try{s=t()}catch(a){o=a}}),o)throw o;return s}var Fc,Bc,Tw=typeof Symbol=="function"&&Symbol.for,TN=(Bc=(Fc=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Fc===void 0?void 0:Fc.configurable)!==null&&Bc!==void 0?Bc:!1,Ev=Tw?Symbol.for("react.forward_ref"):typeof j.forwardRef=="function"&&j.forwardRef(function(t){return null}).$$typeof,Av=Tw?Symbol.for("react.memo"):typeof j.memo=="function"&&j.memo(function(t){return null}).$$typeof;function I3(t,e){var n;if(Av&&t.$$typeof===Av)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,s=t.displayName||t.name;if(Ev&&t.$$typeof===Ev&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,u){return AN(function(){return r(a,u)},s)};return o.displayName=t.displayName,TN&&Object.defineProperty(o,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(o.contextTypes=t.contextTypes),i&&(o=j.forwardRef(o)),o=j.memo(o),ON(t,o),o}var $N={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function ON(t,e){Object.keys(t).forEach(function(n){$N[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Vc;_N(kr.unstable_batchedUpdates);Vc=Ql.finalizeAllImmediately;const ys={},Tv=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,$v=t=>"init"in t,qc=t=>!!t.write,Ov=t=>"v"in t||"e"in t,Zo=t=>{if("e"in t)throw t.e;if((ys?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},La=new WeakMap,Cv=t=>{var e;return Ma(t)&&!!((e=La.get(t))!=null&&e[0])},CN=t=>{const e=La.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(n=>n()))},$w=(t,e)=>{let n=La.get(t);if(!n){n=[!0,new Set],La.set(t,n);const i=()=>{n[0]=!1};t.then(i,i)}n[1].add(e)},Ma=t=>typeof t?.then=="function",Ow=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Gc=(t,e,n)=>{const i=n(t),r="v"in i,s=i.v;if(Ma(e))for(const o of i.d.keys())Ow(t,e,n(o));i.v=e,delete i.e,(!r||!Object.is(s,i.v))&&(++i.n,Ma(s)&&CN(s))},Pv=(t,e,n)=>{var i;const r=new Set;for(const s of((i=n.get(t))==null?void 0:i.t)||[])n.has(s)&&r.add(s);for(const s of e.p)r.add(s);return r},PN=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},Zc=()=>{const t={},e=new WeakMap,n=i=>{var r,s;(r=e.get(t))==null||r.forEach(o=>o(i)),(s=e.get(i))==null||s.forEach(o=>o())};return n.add=(i,r)=>{const s=i||t,o=(e.has(s)?e:e.set(s,new Set)).get(s);return o.add(r),()=>{o?.delete(r),o.size||e.delete(s)}},n},RN=t=>(t.c||(t.c=Zc()),t.m||(t.m=Zc()),t.u||(t.u=Zc()),t.f||(t.f=PN()),t),DN=Symbol(),NN=(t=new WeakMap,e=new WeakMap,n=new WeakMap,i=new Set,r=new Set,s=new Set,o={},a=(f,...p)=>f.read(...p),u=(f,...p)=>f.write(...p),l=(f,p)=>{var g;return(g=f.unstable_onInit)==null?void 0:g.call(f,p)},c=(f,p)=>{var g;return(g=f.onMount)==null?void 0:g.call(f,p)},...d)=>{const f=d[0]||(C=>{if((ys?"production":void 0)!=="production"&&!C)throw new Error("Atom is undefined or null");let R=t.get(C);return R||(R={d:new Map,p:new Set,n:0},t.set(C,R),l?.(C,P)),R}),p=d[1]||(()=>{const C=[],R=D=>{try{D()}catch(N){C.push(N)}};do{o.f&&R(o.f);const D=new Set,N=D.add.bind(D);i.forEach(F=>{var V;return(V=e.get(F))==null?void 0:V.l.forEach(N)}),i.clear(),s.forEach(N),s.clear(),r.forEach(N),r.clear(),D.forEach(R),i.size&&g()}while(i.size||s.size||r.size);if(C.length)throw new AggregateError(C)}),g=d[2]||(()=>{const C=[],R=new WeakSet,D=new WeakSet,N=Array.from(i);for(;N.length;){const F=N[N.length-1],V=f(F);if(D.has(F)){N.pop();continue}if(R.has(F)){if(n.get(F)===V.n)C.push([F,V]);else if((ys?"production":void 0)!=="production"&&n.has(F))throw new Error("[Bug] invalidated atom exists");D.add(F),N.pop();continue}R.add(F);for(const oe of Pv(F,V,e))R.has(oe)||N.push(oe)}for(let F=C.length-1;F>=0;--F){const[V,oe]=C[F];let he=!1;for(const U of oe.d.keys())if(U!==V&&i.has(U)){he=!0;break}he&&(b(V),x(V)),n.delete(V)}}),b=d[3]||(C=>{var R;const D=f(C);if(Ov(D)&&(e.has(C)&&n.get(C)!==D.n||Array.from(D.d).every(([Z,ee])=>b(Z).n===ee)))return D;D.d.clear();let N=!0;const F=()=>{e.has(C)&&(x(C),g(),p())},V=Z=>{var ee;if(Tv(C,Z)){const se=f(Z);if(!Ov(se))if($v(Z))Gc(Z,Z.init,f);else throw new Error("no atom init");return Zo(se)}const ae=b(Z);try{return Zo(ae)}finally{D.d.set(Z,ae.n),Cv(D.v)&&Ow(C,D.v,ae),(ee=e.get(Z))==null||ee.t.add(C),N||F()}};let oe,he;const U={get signal(){return oe||(oe=new AbortController),oe.signal},get setSelf(){return(ys?"production":void 0)!=="production"&&!qc(C)&&console.warn("setSelf function cannot be used with read-only atom"),!he&&qc(C)&&(he=(...Z)=>{if((ys?"production":void 0)!=="production"&&N&&console.warn("setSelf function cannot be called in sync"),!N)try{return S(C,...Z)}finally{g(),p()}}),he}},q=D.n;try{const Z=a(C,V,U);return Gc(C,Z,f),Ma(Z)&&($w(Z,()=>oe?.abort()),Z.then(F,F)),D}catch(Z){return delete D.v,D.e=Z,++D.n,D}finally{N=!1,q!==D.n&&n.get(C)===q&&(n.set(C,D.n),i.add(C),(R=o.c)==null||R.call(o,C))}}),w=d[4]||(C=>{const R=[C];for(;R.length;){const D=R.pop(),N=f(D);for(const F of Pv(D,N,e)){const V=f(F);n.set(F,V.n),R.push(F)}}}),S=d[5]||((C,...R)=>{let D=!0;const N=V=>Zo(b(V)),F=(V,...oe)=>{var he;const U=f(V);try{if(Tv(C,V)){if(!$v(V))throw new Error("atom not writable");const q=U.n,Z=oe[0];Gc(V,Z,f),x(V),q!==U.n&&(i.add(V),(he=o.c)==null||he.call(o,V),w(V));return}else return S(V,...oe)}finally{D||(g(),p())}};try{return u(C,N,F,...R)}finally{D=!1}}),x=d[6]||(C=>{var R;const D=f(C),N=e.get(C);if(N&&!Cv(D.v)){for(const[F,V]of D.d)if(!N.d.has(F)){const oe=f(F);E(F).t.add(C),N.d.add(F),V!==oe.n&&(i.add(F),(R=o.c)==null||R.call(o,F),w(F))}for(const F of N.d||[])if(!D.d.has(F)){N.d.delete(F);const V=T(F);V?.t.delete(C)}}}),E=d[7]||(C=>{var R;const D=f(C);let N=e.get(C);if(!N){b(C);for(const F of D.d.keys())E(F).t.add(C);if(N={l:new Set,d:new Set(D.d.keys()),t:new Set},e.set(C,N),(R=o.m)==null||R.call(o,C),qc(C)){const F=()=>{let V=!0;const oe=(...he)=>{try{return S(C,...he)}finally{V||(g(),p())}};try{const he=c(C,oe);he&&(N.u=()=>{V=!0;try{he()}finally{V=!1}})}finally{V=!1}};r.add(F)}}return N}),T=d[8]||(C=>{var R;const D=f(C);let N=e.get(C);if(N&&!N.l.size&&!Array.from(N.t).some(F=>{var V;return(V=e.get(F))==null?void 0:V.d.has(C)})){N.u&&s.add(N.u),N=void 0,e.delete(C),(R=o.u)==null||R.call(o,C);for(const F of D.d.keys()){const V=T(F);V?.t.delete(C)}return}return N}),k=[t,e,n,i,r,s,o,a,u,l,c,f,p,g,b,w,S,x,E,T],P={get:C=>Zo(b(C)),set:(C,...R)=>{try{return S(C,...R)}finally{g(),p()}},sub:(C,R)=>{const N=E(C).l;return N.add(R),p(),()=>{N.delete(R),T(C),p()}}};return Object.defineProperty(P,DN,{value:k}),P},Cw=NN,jN=RN,Rv=$w,Wh={};let UN=0;function rr(t,e){const n=`atom${++UN}`,i={toString(){return(Wh?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?i.read=t:(i.init=t,i.read=LN,i.write=MN),e&&(i.write=e),i}function LN(t){return t(this)}function MN(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const zN=()=>{let t=0;const e=jN({}),n=new WeakMap,i=new WeakMap,r=Cw(n,i,void 0,void 0,void 0,void 0,e,void 0,(a,u,l,...c)=>t?l(a,...c):a.write(u,l,...c)),s=new Set;return e.m.add(void 0,a=>{s.add(a);const u=n.get(a);u.m=i.get(a)}),e.u.add(void 0,a=>{s.delete(a);const u=n.get(a);delete u.m}),Object.assign(r,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:a=>{const u={read:()=>null,write:(l,c)=>{++t;try{for(const[d,f]of a)"init"in d&&c(d,f)}finally{--t}}};r.set(u)}})};function FN(){return(Wh?"production":void 0)!=="production"?zN():Cw()}let ds;function li(){return ds||(ds=FN(),(Wh?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ds),globalThis.__JOTAI_DEFAULT_STORE__!==ds&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ds}const BN={},VN=j.createContext(void 0);function Pw(t){return j.useContext(VN)||li()}const ed=t=>typeof t?.then=="function",td=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},qN=at.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(td(t),t)}),Hc=new WeakMap,Dv=(t,e)=>{let n=Hc.get(t);return n||(n=new Promise((i,r)=>{let s=t;const o=l=>c=>{s===l&&i(c)},a=l=>c=>{s===l&&r(c)},u=()=>{try{const l=e();ed(l)?(Hc.set(l,n),s=l,l.then(o(l),a(l)),Rv(l,u)):i(l)}catch(l){r(l)}};t.then(o(t),a(t)),Rv(t,u)}),Hc.set(t,n)),n};function _n(t,e){const{delay:n,unstable_promiseStatus:i=!at.use}={},r=Pw(),[[s,o,a],u]=j.useReducer(c=>{const d=r.get(t);return Object.is(c[0],d)&&c[1]===r&&c[2]===t?c:[d,r,t]},void 0,()=>[r.get(t),r,t]);let l=s;if((o!==r||a!==t)&&(u(),l=r.get(t)),j.useEffect(()=>{const c=r.sub(t,()=>{if(i)try{const d=r.get(t);ed(d)&&td(Dv(d,()=>r.get(t)))}catch{}if(typeof n=="number"){setTimeout(u,n);return}u()});return u(),c},[r,t,n,i]),j.useDebugValue(l),ed(l)){const c=Dv(l,()=>r.get(t));return i&&td(c),qN(c)}return l}function Io(t,e){const n=Pw();return j.useCallback((...r)=>{if((BN?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...r)},[n,t])}function Kh(t,e){return[_n(t),Io(t)]}var z=typeof window<"u"?window:void 0,Mt=typeof globalThis<"u"?globalThis:z,Rw=Array.prototype,Nv=Rw.forEach,jv=Rw.indexOf,Ht=Mt?.navigator,te=Mt?.document,Ut=Mt?.location,nd=Mt?.fetch,rd=Mt!=null&&Mt.XMLHttpRequest&&"withCredentials"in new Mt.XMLHttpRequest?Mt.XMLHttpRequest:void 0,Uv=Mt?.AbortController,Nt=Ht?.userAgent,fe=z??{},Zn={DEBUG:!1,LIB_VERSION:"1.257.2"},Wc="$copy_autocapture",GN=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],Kn=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),ZN=["fatal","error","warning","log","info","debug"];function Ee(t,e){return t.indexOf(e)!==-1}var Uu=function(t){return t.trim()},id=function(t){return t.replace(/^\$/,"")},HN=Array.isArray,Dw=Object.prototype,Nw=Dw.hasOwnProperty,Lu=Dw.toString,Ze=HN||function(t){return Lu.call(t)==="[object Array]"},on=t=>typeof t=="function",Qe=t=>t===Object(t)&&!Ze(t),Oi=t=>{if(Qe(t)){for(var e in t)if(Nw.call(t,e))return!1;return!0}return!1},Y=t=>t===void 0,et=t=>Lu.call(t)=="[object String]",sd=t=>et(t)&&t.trim().length===0,Ir=t=>t===null,Pe=t=>Y(t)||Ir(t),Et=t=>Lu.call(t)=="[object Number]",An=t=>Lu.call(t)==="[object Boolean]",WN=t=>t instanceof FormData,KN=t=>Ee(GN,t),jw=t=>{var e={t:function(n){if(z&&(Zn.DEBUG||fe.POSTHOG_DEBUG)&&!Y(z.console)&&z.console){for(var i=("__rrweb_original__"in z.console[n])?z.console[n].__rrweb_original__:z.console[n],r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];i(t,...s)}},info:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("log",...i)},warn:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("warn",...i)},error:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("error",...i)},critical:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console.error(t,...i)},uninitializedWarning:n=>{e.error("You must initialize PostHog before calling "+n)},createLogger:n=>jw(t+" "+n)};return e},re=jw("[PostHog.js]"),mt=re.createLogger,JN=mt("[ExternalScriptsLoader]"),Lv=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return JN.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var i=te?.querySelectorAll("script");if(i){for(var r=0;r<i.length;r++)if(i[r].src===e)return n()}var s=()=>{if(!te)return n("document not found");var o=te.createElement("script");if(o.type="text/javascript",o.crossOrigin="anonymous",o.src=e,o.onload=l=>n(void 0,l),o.onerror=l=>n(l),t.config.prepare_external_dependency_script&&(o=t.config.prepare_external_dependency_script(o)),!o)return n("prepare_external_dependency_script returned null");var a,u=te.querySelectorAll("body > script");u.length>0?(a=u[0].parentNode)==null||a.insertBefore(o,u[0]):te.body.appendChild(o)};te!=null&&te.body?s():te?.addEventListener("DOMContentLoaded",s)};function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q.apply(null,arguments)}function Uw(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}fe.__PosthogExtensions__=fe.__PosthogExtensions__||{},fe.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var i="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(i="/array/"+t.config.token+"/config.js"),e==="toolbar"){var r=3e5;i=i+"&t="+Math.floor(Date.now()/r)*r}var s=t.requestRouter.endpointFor("assets",i);Lv(t,s,n)},fe.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var i=t.requestRouter.endpointFor("api",e);Lv(t,i,n)};var za={};function pr(t,e,n){if(Ze(t)){if(Nv&&t.forEach===Nv)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===za)return}}}function je(t,e,n){if(!Pe(t)){if(Ze(t))return pr(t,e,n);if(WN(t)){for(var i of t.entries())if(e.call(n,i[1],i[0])===za)return}else for(var r in t)if(Nw.call(t,r)&&e.call(n,t[r],r)===za)return}}var rt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return pr(n,function(r){for(var s in r)r[s]!==void 0&&(t[s]=r[s])}),t},Mu=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return pr(n,function(r){pr(r,function(s){t.push(s)})}),t};function wa(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i}var Mv=function(t){try{return t()}catch{return}},XN=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(this,n)}catch(r){re.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),re.critical(r)}}},Jh=function(t){var e={};return je(t,function(n,i){(et(n)&&n.length>0||Et(n))&&(e[i]=n)}),e};function YN(t,e){return n=t,i=s=>et(s)&&!Ir(e)?s.slice(0,e):s,r=new Set,function s(o,a){return o!==Object(o)?i?i(o,a):o:r.has(o)?void 0:(r.add(o),Ze(o)?(u=[],pr(o,l=>{u.push(s(l))})):(u={},je(o,(l,c)=>{r.has(l)||(u[c]=s(l,c))})),u);var u}(n);var n,i,r}var QN=["herokuapp.com","vercel.app","netlify.app"];function ej(t){var e=t?.hostname;if(!et(e))return!1;var n=e.split(".").slice(-2).join(".");for(var i of QN)if(n===i)return!1;return!0}function Lw(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function Je(t,e,n,i){var{capture:r=!1,passive:s=!0}=i??{};t?.addEventListener(e,n,{capture:r,passive:s})}var Mw="$people_distinct_id",bs="__alias",ws="__timers",zv="$autocapture_disabled_server_side",od="$heatmaps_enabled_server_side",Fv="$exception_capture_enabled_server_side",ad="$error_tracking_suppression_rules",Bv="$web_vitals_enabled_server_side",zw="$dead_clicks_enabled_server_side",Vv="$web_vitals_allowed_metrics",ud="$session_recording_enabled_server_side",qv="$console_log_recording_enabled_server_side",Gv="$session_recording_network_payload_capture",Zv="$session_recording_masking",Hv="$session_recording_canvas_recording",Wv="$replay_sample_rate",Kv="$replay_minimum_duration",Jv="$replay_script_config",Fa="$sesid",Ss="$session_is_sampled",cd="$session_recording_url_trigger_activated_session",ld="$session_recording_event_trigger_activated_session",Ci="$enabled_feature_flags",Sa="$early_access_features",dd="$feature_flag_details",xs="$stored_person_properties",Lr="$stored_group_properties",hd="$surveys",Ho="$surveys_activated",Ba="$flag_call_reported",qn="$user_state",fd="$client_session_props",pd="$capture_rate_limit",md="$initial_campaign_params",gd="$initial_referrer_info",Va="$initial_person_info",qa="$epp",Fw="__POSTHOG_TOOLBAR__",Wo="$posthog_cookieless",tj=[Mw,bs,"__cmpns",ws,ud,od,Fa,Ci,ad,qn,Sa,dd,Lr,xs,hd,Ba,fd,pd,md,gd,qa,Va];function Xv(t){return t instanceof Element&&(t.id===Fw||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function zu(t){return!!t&&t.nodeType===1}function mr(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Bw(t){return!!t&&t.nodeType===3}function Vw(t){return!!t&&t.nodeType===11}function Xh(t){return t?Uu(t).split(/\s+/):[]}function Yv(t){var e=z?.location.href;return!!(e&&t&&t.some(n=>e.match(n)))}function Ga(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Xh(e)}function qw(t){return Pe(t)?null:Uu(t).split(/(\s+)/).filter(e=>Vi(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Fu(t){var e="";return _d(t)&&!Hw(t)&&t.childNodes&&t.childNodes.length&&je(t.childNodes,function(n){var i;Bw(n)&&n.textContent&&(e+=(i=qw(n.textContent))!==null&&i!==void 0?i:"")}),Uu(e)}function Gw(t){return Y(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var vd=["a","button","form","input","select","textarea","label"];function Zw(t){var e=t.parentNode;return!(!e||!zu(e))&&e}function nj(t,e,n,i,r){var s,o,a;if(n===void 0&&(n=void 0),!z||!t||mr(t,"html")||!zu(t)||(s=n)!=null&&s.url_allowlist&&!Yv(n.url_allowlist)||(o=n)!=null&&o.url_ignorelist&&Yv(n.url_ignorelist))return!1;if((a=n)!=null&&a.dom_event_allowlist){var u=n.dom_event_allowlist;if(u&&!u.some(w=>e.type===w))return!1}for(var l=!1,c=[t],d=!0,f=t;f.parentNode&&!mr(f,"body");)if(Vw(f.parentNode))c.push(f.parentNode.host),f=f.parentNode.host;else{if(!(d=Zw(f)))break;if(i||vd.indexOf(d.tagName.toLowerCase())>-1)l=!0;else{var p=z.getComputedStyle(d);p&&p.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(d),f=d}if(!function(w,S){var x=S?.element_allowlist;if(Y(x))return!0;var E,T=function(P){if(x.some(C=>P.tagName.toLowerCase()===C))return{v:!0}};for(var k of w)if(E=T(k))return E.v;return!1}(c,n)||!function(w,S){var x=S?.css_selector_allowlist;if(Y(x))return!0;var E,T=function(P){if(x.some(C=>P.matches(C)))return{v:!0}};for(var k of w)if(E=T(k))return E.v;return!1}(c,n))return!1;var g=z.getComputedStyle(t);if(g&&g.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var b=t.tagName.toLowerCase();switch(b){case"html":return!1;case"form":return(r||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(e.type)>=0;default:return l?(r||["click"]).indexOf(e.type)>=0:(r||["click"]).indexOf(e.type)>=0&&(vd.indexOf(b)>-1||t.getAttribute("contenteditable")==="true")}}function _d(t){for(var e=t;e.parentNode&&!mr(e,"body");e=e.parentNode){var n=Ga(e);if(Ee(n,"ph-sensitive")||Ee(n,"ph-no-capture"))return!1}if(Ee(Ga(t),"ph-include"))return!0;var i=t.type||"";if(et(i))switch(i.toLowerCase()){case"hidden":case"password":return!1}var r=t.name||t.id||"";return!(et(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function Hw(t){return!!(mr(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||mr(t,"select")||mr(t,"textarea")||t.getAttribute("contenteditable")==="true")}var Ww="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",rj=new RegExp("^(?:"+Ww+")$"),ij=new RegExp(Ww),Kw="\\d{3}-?\\d{2}-?\\d{4}",sj=new RegExp("^("+Kw+")$"),oj=new RegExp("("+Kw+")");function Vi(t,e){return e===void 0&&(e=!0),!(Pe(t)||et(t)&&(t=Uu(t),(e?rj:ij).test((t||"").replace(/[- ]/g,""))||(e?sj:oj).test(t)))}function Jw(t){var e=Fu(t);return Vi(e=(e+" "+Xw(t)).trim())?e:""}function Xw(t){var e="";return t&&t.childNodes&&t.childNodes.length&&je(t.childNodes,function(n){var i;if(n&&((i=n.tagName)==null?void 0:i.toLowerCase())==="span")try{var r=Fu(n);e=(e+" "+r).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+Xw(n)).trim())}catch(s){re.error("[AutoCapture]",s)}}),e}function aj(t){return function(e){var n=e.map(i=>{var r,s,o="";if(i.tag_name&&(o+=i.tag_name),i.attr_class)for(var a of(i.attr_class.sort(),i.attr_class))o+="."+a.replace(/"/g,"");var u=Q({},i.text?{text:i.text}:{},{"nth-child":(r=i.nth_child)!==null&&r!==void 0?r:0,"nth-of-type":(s=i.nth_of_type)!==null&&s!==void 0?s:0},i.href?{href:i.href}:{},i.attr_id?{attr_id:i.attr_id}:{},i.attributes),l={};return wa(u).sort((c,d)=>{var[f]=c,[p]=d;return f.localeCompare(p)}).forEach(c=>{var[d,f]=c;return l[Qv(d.toString())]=Qv(f.toString())}),o+=":",o+=wa(l).map(c=>{var[d,f]=c;return d+'="'+f+'"'}).join("")});return n.join(";")}(function(e){return e.map(n=>{var i,r,s={text:(i=n.$el_text)==null?void 0:i.slice(0,400),tag_name:n.tag_name,href:(r=n.attr__href)==null?void 0:r.slice(0,2048),attr_class:uj(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return wa(n).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,u]=o;return s.attributes[a]=u}),s})}(t))}function Qv(t){return t.replace(/"|\\"/g,'\\"')}function uj(t){var e=t.attr__class;return e?Ze(e)?e:Xh(e):void 0}class Yw{constructor(){this.clicks=[]}isRageClick(e,n,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(n-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:i}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:i}];return!1}}var cj=["localhost","127.0.0.1"],qi=t=>{var e=te?.createElement("a");return Y(e)?null:(e.href=t,e)},lj=function(t,e){var n,i;e===void 0&&(e="&");var r=[];return je(t,function(s,o){Y(s)||Y(o)||o==="undefined"||(n=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),i=encodeURIComponent(o),r[r.length]=i+"="+n)}),r.join(e)},Za=function(t,e){for(var n,i=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),r=0;r<i.length;r++){var s=i[r].split("=");if(s[0]===e){n=s;break}}if(!Ze(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{re.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Yh=function(t,e,n){if(!t||!e||!e.length)return t;for(var i=t.split("#"),r=i[0]||"",s=i[1],o=r.split("?"),a=o[1],u=o[0],l=(a||"").split("&"),c=[],d=0;d<l.length;d++){var f=l[d].split("=");Ze(f)&&(e.includes(f[0])?c.push(f[0]+"="+n):c.push(l[d]))}var p=u;return a!=null&&(p+="?"+c.join("&")),s!=null&&(p+="#"+s),p},Ha=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},e_=mt("[AutoCapture]");function Kc(t,e){return e.length>t?e.slice(0,t)+"...":e}function dj(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!zu(e));return e}function hj(t,e,n,i){var r=t.tagName.toLowerCase(),s={tag_name:r};vd.indexOf(r)>-1&&!n&&(r.toLowerCase()==="a"||r.toLowerCase()==="button"?s.$el_text=Kc(1024,Jw(t)):s.$el_text=Kc(1024,Fu(t)));var o=Ga(t);o.length>0&&(s.classes=o.filter(function(c){return c!==""})),je(t.attributes,function(c){var d;if((!Hw(t)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(i==null||!i.includes(c.name))&&!e&&Vi(c.value)&&(d=c.name,!et(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var f=c.value;c.name==="class"&&(f=Xh(f).join(" ")),s["attr__"+c.name]=Kc(1024,f)}});for(var a=1,u=1,l=t;l=dj(l);)a++,l.tagName===t.tagName&&u++;return s.nth_child=a,s.nth_of_type=u,s}function fj(t,e){for(var n,i,{e:r,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:u}=e,l=[t],c=t;c.parentNode&&!mr(c,"body");)Vw(c.parentNode)?(l.push(c.parentNode.host),c=c.parentNode.host):(l.push(c.parentNode),c=c.parentNode);var d,f=[],p={},g=!1,b=!1;if(je(l,T=>{var k=_d(T);T.tagName.toLowerCase()==="a"&&(g=T.getAttribute("href"),g=k&&g&&Vi(g)&&g),Ee(Ga(T),"ph-no-capture")&&(b=!0),f.push(hj(T,s,o,a));var P=function(C){if(!_d(C))return{};var R={};return je(C.attributes,function(D){if(D.name&&D.name.indexOf("data-ph-capture-attribute")===0){var N=D.name.replace("data-ph-capture-attribute-",""),F=D.value;N&&F&&Vi(F)&&(R[N]=F)}}),R}(T);rt(p,P)}),b)return{props:{},explicitNoCapture:b};if(o||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?f[0].$el_text=Jw(t):f[0].$el_text=Fu(t)),g){var w,S;f[0].attr__href=g;var x=(w=qi(g))==null?void 0:w.host,E=z==null||(S=z.location)==null?void 0:S.host;x&&E&&x!==E&&(d=g)}return{props:rt({$event_type:r.type,$ce_version:1},u?{}:{$elements:f},{$elements_chain:aj(f)},(n=f[0])!=null&&n.$el_text?{$el_text:(i=f[0])==null?void 0:i.$el_text}:{},d&&r.type==="click"?{$external_click_url:d}:{},p)}}class pj{constructor(e){this.i=!1,this.o=null,this.rageclicks=new Yw,this.h=!1,this.instance=e,this.m=null}get S(){var e,n,i=Qe(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=(e=i.url_allowlist)==null?void 0:e.map(r=>new RegExp(r)),i.url_ignorelist=(n=i.url_ignorelist)==null?void 0:n.map(r=>new RegExp(r)),i}$(){if(this.isBrowserSupported()){if(z&&te){var e=i=>{i=i||z?.event;try{this.k(i)}catch(r){e_.error("Failed to capture event",r)}};if(Je(te,"submit",e,{capture:!0}),Je(te,"change",e,{capture:!0}),Je(te,"click",e,{capture:!0}),this.S.capture_copied_text){var n=i=>{i=i||z?.event,this.k(i,Wc)};Je(te,"copy",n,{capture:!0}),Je(te,"cut",n,{capture:!0})}}}else e_.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[zv]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var n,i=[];return(n=this.m)==null||n.forEach(r=>{var s=te?.querySelectorAll(r);s?.forEach(o=>{e===o&&i.push(r)})}),i}get isEnabled(){var e,n,i=(e=this.instance.persistence)==null?void 0:e.props[zv],r=this.o;if(Ir(r)&&!An(i)&&!this.instance.I())return!1;var s=(n=this.o)!==null&&n!==void 0?n:!!i;return!!this.instance.config.autocapture&&!s}k(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var i,r=Gw(e);Bw(r)&&(r=r.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var s=n===Wc;if(r&&nj(r,e,this.S,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=fj(r,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var u=this.getElementSelectors(r);if(u&&u.length>0&&(o.$element_selectors=u),n===Wc){var l,c=qw(z==null||(l=z.getSelection())==null?void 0:l.toString()),d=e.type||"clipboard";if(!c)return!1;o.$selected_content=c,o.$copy_type=d}return this.instance.capture(n,o),!0}}}isBrowserSupported(){return on(te?.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Et(t)&&isFinite(t)&&Math.floor(t)===t});var t_="0123456789abcdef";class Wa{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,i,r){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||n<0||i<0||r<0||e>0xffffffffffff||n>4095||i>1073741823||r>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|n>>>8,s[7]=n,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new Wa(s)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+t_.charAt(this.bytes[n]>>>4)+t_.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Wa(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var i=this.bytes[n]-e.bytes[n];if(i!==0)return Math.sign(i)}return 0}}class mj{constructor(){this.P=0,this.R=0,this.T=new gj}generate(){var e=this.generateOrAbort();if(Y(e)){this.P=0;var n=this.generateOrAbort();if(Y(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.M();else{if(!(e+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.M())}return Wa.fromFieldsV7(this.P,Math.trunc(this.R/Math.pow(2,30)),this.R&Math.pow(2,30)-1,this.T.nextUint32())}M(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}}var n_,Qw=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};z&&!Y(z.crypto)&&crypto.getRandomValues&&(Qw=t=>crypto.getRandomValues(t));class gj{constructor(){this.C=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.C.length&&(Qw(this.C),this.F=0),this.C[this.F++]}}var fr=()=>vj().toString(),vj=()=>(n_||(n_=new mj)).generate(),hs="",_j=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function yj(t,e){if(e){var n=function(r,s){if(s===void 0&&(s=te),hs)return hs;if(!s||["localhost","127.0.0.1"].includes(r))return"";for(var o=r.split("."),a=Math.min(o.length,8),u="dmn_chk_"+fr();!hs&&a--;){var l=o.slice(a).join("."),c=u+"=1;domain=."+l+";path=/";s.cookie=c+";max-age=3",s.cookie.includes(u)&&(s.cookie=c+";max-age=0",hs=l)}return hs}(t);if(!n){var i=(r=>{var s=r.match(_j);return s?s[0]:""})(t);i!==n&&re.info("Warning: cookie subdomain discovery mismatch",i,n),n=i}return n?"; domain=."+n:""}return""}var Dn={O:()=>!!te,A:function(t){re.error("cookieStore error: "+t)},D:function(t){if(te){try{for(var e=t+"=",n=te.cookie.split(";").filter(s=>s.length),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return decodeURIComponent(r.substring(e.length,r.length))}}catch{}return null}},L:function(t){var e;try{e=JSON.parse(Dn.D(t))||{}}catch{}return e},j:function(t,e,n,i,r){if(te)try{var s="",o="",a=yj(te.location.hostname,i);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),s="; expires="+u.toUTCString()}r&&(o="; secure");var l=t+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+a+o;return l.length>3686.4&&re.warn("cookieStore warning: large cookie, len="+l.length),te.cookie=l,l}catch{return}},N:function(t,e){try{Dn.j(t,"",-1,e)}catch{return}}},Jc=null,lt={O:function(){if(!Ir(Jc))return Jc;var t=!0;if(Y(z))t=!1;else try{var e="__mplssupport__";lt.j(e,"xyz"),lt.D(e)!=='"xyz"'&&(t=!1),lt.N(e)}catch{t=!1}return t||re.error("localStorage unsupported; falling back to cookie store"),Jc=t,t},A:function(t){re.error("localStorage error: "+t)},D:function(t){try{return z?.localStorage.getItem(t)}catch(e){lt.A(e)}return null},L:function(t){try{return JSON.parse(lt.D(t))||{}}catch{}return null},j:function(t,e){try{z?.localStorage.setItem(t,JSON.stringify(e))}catch(n){lt.A(n)}},N:function(t){try{z?.localStorage.removeItem(t)}catch(e){lt.A(e)}}},bj=["distinct_id",Fa,Ss,qa,Va],Ko=Q({},lt,{L:function(t){try{var e={};try{e=Dn.L(t)||{}}catch{}var n=rt(e,JSON.parse(lt.D(t)||"{}"));return lt.j(t,n),n}catch{}return null},j:function(t,e,n,i,r,s){try{lt.j(t,e,void 0,void 0,s);var o={};bj.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&Dn.j(t,o,n,i,r,s)}catch(a){lt.A(a)}},N:function(t,e){try{z?.localStorage.removeItem(t),Dn.N(t,e)}catch(n){lt.A(n)}}}),Jo={},wj={O:function(){return!0},A:function(t){re.error("memoryStorage error: "+t)},D:function(t){return Jo[t]||null},L:function(t){return Jo[t]||null},j:function(t,e){Jo[t]=e},N:function(t){delete Jo[t]}},Pr=null,yt={O:function(){if(!Ir(Pr))return Pr;if(Pr=!0,Y(z))Pr=!1;else try{var t="__support__";yt.j(t,"xyz"),yt.D(t)!=='"xyz"'&&(Pr=!1),yt.N(t)}catch{Pr=!1}return Pr},A:function(t){re.error("sessionStorage error: ",t)},D:function(t){try{return z?.sessionStorage.getItem(t)}catch(e){yt.A(e)}return null},L:function(t){try{return JSON.parse(yt.D(t))||null}catch{}return null},j:function(t,e){try{z?.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){yt.A(n)}},N:function(t){try{z?.sessionStorage.removeItem(t)}catch(e){yt.A(e)}}},yi=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class Sj{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.U()?yi.DENIED:this.q}isOptedOut(){return this.consent===yi.DENIED||this.consent===yi.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.B.j(this.H,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:e,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+e}get q(){var e=this.B.D(this.H);return e==="1"?yi.GRANTED:e==="0"?yi.DENIED:yi.PENDING}get B(){if(!this.W){var e=this.S.opt_out_capturing_persistence_type;this.W=e==="localStorage"?lt:Dn;var n=e==="localStorage"?Dn:lt;n.D(this.H)&&(this.W.D(this.H)||this.optInOut(n.D(this.H)==="1"),n.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!Lw([Ht?.doNotTrack,Ht?.msDoNotTrack,fe.doNotTrack],e=>Ee([!0,1,"1","yes"],e))}}var Xo=mt("[Dead Clicks]"),xj=()=>!0,kj=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property(zw)),i=t.instance.config.capture_dead_clicks;return An(i)?i:n};class eS{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,n,i){this.instance=e,this.isEnabled=n,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[zw]:e?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(e){var n,i;(n=fe.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"dead-clicks-autocapture",r=>{r?Xo.error("failed to load script",r):e()})}V(){var e;if(te){if(!this.G&&(e=fe.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=Qe(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.G=fe.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.G.start(te),Xo.info("starting...")}}else Xo.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,Xo.info("stopping..."))}}function Wt(t,e,n,i,r){return e>n&&(re.warn("min cannot be greater than max."),e=n),Et(t)?t>n?(i&&re.warn(i+" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(i&&re.warn(i+" cannot be less than min: "+e+". Using min value instead."),e):t:(i&&re.warn(i+" must be a number. using max or fallback. max: "+n+", fallback: "+r),Wt(r||n,e,n,i))}class tS{constructor(e){this.K={},this.Y=()=>{Object.keys(this.K).forEach(n=>{var i=this.X(n)+this.Z;i>=this.tt?delete this.K[n]:this.it(n,i)})},this.X=n=>this.K[String(n)],this.it=(n,i)=>{this.K[String(n)]=i},this.consumeRateLimit=n=>{var i,r=(i=this.X(n))!==null&&i!==void 0?i:this.tt;if((r=Math.max(r-1,0))===0)return!0;this.it(n,r);var s,o=r===0;return o&&((s=this.et)==null||s.call(this,n)),o},this.rt=e,this.et=this.rt.et,this.tt=Wt(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=Wt(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=Wt(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}}var Yo=mt("[ExceptionAutocapture]");class Ij{constructor(e){var n,i,r;this.nt=()=>{var s;if(z&&this.isEnabled&&(s=fe.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=fe.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=fe.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,u=fe.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=o(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=a(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=u(this.captureException.bind(this)))}catch(l){Yo.error("failed to start",l),this.ht()}}},this._instance=e,this.dt=!((n=this._instance.persistence)==null||!n.props[Fv]),this.S=this.vt(),this.ct=new tS({refillRate:(i=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&i!==void 0?i:1,bucketSize:(r=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&r!==void 0?r:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Qe(e)?n=Q({},n,e):(Y(e)?this.dt:e)&&(n=Q({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Yo.info("enabled"),this.J(this.nt))}J(e){var n,i;(n=fe.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"exception-autocapture",r=>{if(r)return Yo.error("failed to load script",r);e()})}ht(){var e,n,i;(e=this.ot)==null||e.call(this),this.ot=void 0,(n=this.lt)==null||n.call(this),this.lt=void 0,(i=this.ut)==null||i.call(this),this.ut=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.dt=!!n||!1,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[Fv]:this.dt}),this.startIfEnabled()}captureException(e){var n,i=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=i+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var r=(n=e.$exception_list[0].type)!==null&&n!==void 0?n:"Exception";this.ct.consumeRateLimit(r)?Yo.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function nS(t){return!Y(Event)&&rS(t,Event)}function rS(t,e){try{return t instanceof e}catch{return!1}}function iS(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return rS(t,Error)}}function xa(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Xc(t){return xa(t,"DOMError")}var r_=/\(error: (.*)\)/,i_=50,Pi="?";function Yc(t,e,n,i){var r={platform:"web:javascript",filename:t,function:e==="<anonymous>"?Pi:e,in_app:!0};return Y(n)||(r.lineno=n),Y(i)||(r.colno=i),r}var Ej=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Aj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tj=/\((\S*)(?::(\d+))(?::(\d+))\)/,$j=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Oj=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Cj=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return function(r,s){s===void 0&&(s=0);for(var o=[],a=r.split(`
`),u=s;u<a.length;u++){var l=a[u];if(!(l.length>1024)){var c=r_.test(l)?l.replace(r_,"$1"):l;if(!c.match(/\S*Error: /)){for(var d of i){var f=d(c);if(f){o.push(f);break}}if(o.length>=i_)break}}}return function(p){if(!p.length)return[];var g=Array.from(p);return g.reverse(),g.slice(0,i_).map(b=>Q({},b,{filename:b.filename||Pj(g).filename,function:b.function||Pi}))}(o)}}([30,t=>{var e=Ej.exec(t);if(e){var[,n,i,r]=e;return Yc(n,Pi,+i,+r)}var s=Aj.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){var o=Tj.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,u]=o_(s[1]||Pi,s[2]);return Yc(u,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,t=>{var e=$j.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var n=Oj.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}var i=e[3],r=e[1]||Pi;return[r,i]=o_(r,i),Yc(i,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function Pj(t){return t[t.length-1]||{}}var Qo,s_,Qc,o_=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:Pi,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},Rj=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Qh(t,e){e===void 0&&(e=0);var n=t.stacktrace||t.stack||"",i=function(o){return o&&Dj.test(o.message)?1:0}(t);try{var r=Cj,s=function(o,a){var u=function(l){var c=globalThis._posthogChunkIds;if(!c)return{};var d=Object.keys(c);return Qc&&d.length===s_||(s_=d.length,Qc=d.reduce((f,p)=>{Qo||(Qo={});var g=Qo[p];if(g)f[g[0]]=g[1];else for(var b=l(p),w=b.length-1;w>=0;w--){var S=b[w],x=S?.filename,E=c[p];if(x&&E){f[x]=E,Qo[p]=[x,E];break}}return f},{})),Qc}(a);return o.forEach(l=>{l.filename&&(l.chunk_id=u[l.filename])}),o}(r(n,i),r);return s.slice(0,s.length-e)}catch{}return[]}var Dj=/Minified React error #\d+;/i;function Nj(t,e){var n,i,r=Qh(t),s=(n=e?.handled)===null||n===void 0||n,o=(i=e?.synthetic)!==null&&i!==void 0&&i;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(a){var u=a.message;return u.error&&typeof u.error.message=="string"?String(u.error.message):String(u)}(t),stacktrace:{frames:r,type:"raw"},mechanism:{handled:s,synthetic:o}}}function sS(t,e){var n=Nj(t,e);return t.cause&&iS(t.cause)&&t.cause!==t?[n,...sS(t.cause,{handled:e?.handled,synthetic:e?.synthetic})]:[n]}function el(t,e){return{$exception_list:sS(t,e),$exception_level:"error"}}function tl(t,e){var n,i,r,s=(n=e?.handled)===null||n===void 0||n,o=(i=e?.synthetic)===null||i===void 0||i,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(r=e?.defaultExceptionType)!==null&&r!==void 0?r:"Error",value:t||e?.defaultExceptionMessage,mechanism:{handled:s,synthetic:o}};if(e!=null&&e.syntheticException){var u=Qh(e.syntheticException,1);u.length&&(a.stacktrace={frames:u,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function jj(t){return et(t)&&!sd(t)&&ZN.indexOf(t)>=0}function Uj(t,e){var n,i,r=(n=e?.handled)===null||n===void 0||n,s=(i=e?.synthetic)===null||i===void 0||i,o=e!=null&&e.overrideExceptionType?e.overrideExceptionType:nS(t)?t.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(c,d){d===void 0&&(d=40);var f=Object.keys(c);if(f.sort(),!f.length)return"[object has no keys]";for(var p=f.length;p>0;p--){var g=f.slice(0,p).join(", ");if(!(g.length>d))return p===f.length||g.length<=d?g:g.slice(0,d)+"..."}return""}(t),u={type:o,value:a,mechanism:{handled:r,synthetic:s}};if(e!=null&&e.syntheticException){var l=Qh(e?.syntheticException,1);l.length&&(u.stacktrace={frames:l,type:"raw"})}return{$exception_list:[u],$exception_level:jj(t.level)?t.level:"error"}}function Lj(t,e){var{error:n,event:i}=t,r={$exception_list:[]},s=n||i;if(Xc(s)||function(f){return xa(f,"DOMException")}(s)){var o=s;if(function(f){return"stack"in f}(s))r=el(s,e);else{var a=o.name||(Xc(o)?"DOMError":"DOMException"),u=o.message?a+": "+o.message:a;r=tl(u,Q({},e,{overrideExceptionType:Xc(o)?"DOMError":"DOMException",defaultExceptionMessage:u}))}return"code"in o&&(r.$exception_DOMException_code=""+o.code),r}if(function(f){return xa(f,"ErrorEvent")}(s)&&s.error)return el(s.error,e);if(iS(s))return el(s,e);if(function(f){return xa(f,"Object")}(s)||nS(s))return Uj(s,e);if(Y(n)&&et(i)){var l="Error",c=i,d=i.match(Rj);return d&&(l=d[1],c=d[2]),tl(c,Q({},e,{overrideExceptionType:l,defaultExceptionMessage:c}))}return tl(s,e)}function a_(t,e,n){try{if(!(e in t))return()=>{};var i=t[e],r=n(i);return on(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=r,()=>{t[e]=i}}catch{return()=>{}}}class Mj{constructor(e){var n;this._instance=e,this.ft=(z==null||(n=z.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(re.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.gt&&this.gt(),this.gt=void 0,re.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(z&&z.history){var i=this;(e=z.history.pushState)!=null&&e.__posthog_wrapped__||a_(z.history,"pushState",r=>function(s,o,a){r.call(this,s,o,a),i._t("pushState")}),(n=z.history.replaceState)!=null&&n.__posthog_wrapped__||a_(z.history,"replaceState",r=>function(s,o,a){r.call(this,s,o,a),i._t("replaceState")}),this.bt()}}_t(e){try{var n,i=z==null||(n=z.location)==null?void 0:n.pathname;if(!i)return;i!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ft=i}catch(r){re.error("Error capturing "+e+" pageview",r)}}bt(){if(!this.gt){var e=()=>{this._t("popstate")};Je(z,"popstate",e),this.gt=()=>{z&&z.removeEventListener("popstate",e)}}}}function Ka(t){var e,n;return((e=JSON.stringify(t,(n=[],function(i,r){if(Qe(r)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(r)?"[Circular]":(n.push(r),r)}return r})))==null?void 0:e.length)||0}function yd(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var n=Math.floor(t.data.length/2),i=t.data.slice(0,n),r=t.data.slice(n);return[yd({size:Ka(i),data:i,sessionId:t.sessionId,windowId:t.windowId}),yd({size:Ka(r),data:r,sessionId:t.sessionId,windowId:t.windowId})].flatMap(s=>s)}return[t]}var Gn=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Gn||{}),ln=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ln||{}),bd="[SessionRecording]",wd="redacted",ea={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},zj=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Fj=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],Bj=["/s/","/e/","/i/"];function u_(t,e,n,i){if(Pe(t))return t;var r=e?.["content-length"]||function(s){return new Blob([s]).size}(t);return et(r)&&(r=parseInt(r)),r>n?bd+" "+i+" body too large to record ("+r+" bytes)":t}function c_(t,e){if(Pe(t))return t;var n=t;return Vi(n,!1)||(n=bd+" "+e+" body "+wd),je(Fj,i=>{var r,s;(r=n)!=null&&r.length&&((s=n)==null?void 0:s.indexOf(i))!==-1&&(n=bd+" "+e+" body "+wd+" as might contain: "+i)}),n}var Vj=(t,e)=>{var n,i,r,s={payloadSizeLimitBytes:ea.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ea.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...ea.payloadHostDenyList]},o=t.session_recording.recordHeaders!==!1&&e.recordHeaders,a=t.session_recording.recordBody!==!1&&e.recordBody,u=t.capture_performance!==!1&&e.recordPerformance,l=(n=s,r=Math.min(1e6,(i=n.payloadSizeLimitBytes)!==null&&i!==void 0?i:1e6),f=>(f!=null&&f.requestBody&&(f.requestBody=u_(f.requestBody,f.requestHeaders,r,"Request")),f!=null&&f.responseBody&&(f.responseBody=u_(f.responseBody,f.responseHeaders,r,"Response")),f)),c=f=>{return l(((b,w)=>{var S,x=qi(b.name),E=w.indexOf("http")===0?(S=qi(w))==null?void 0:S.pathname:w;E==="/"&&(E="");var T=x?.pathname.replace(E||"","");if(!(x&&T&&Bj.some(k=>T.indexOf(k)===0)))return b})((g=(p=f).requestHeaders,Pe(g)||je(Object.keys(g??{}),b=>{zj.includes(b.toLowerCase())&&(g[b]=wd)}),p),t.api_host));var p,g},d=on(t.session_recording.maskNetworkRequestFn);return d&&on(t.session_recording.maskCapturedNetworkRequestFn)&&re.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(t.session_recording.maskCapturedNetworkRequestFn=f=>{var p=t.session_recording.maskNetworkRequestFn({url:f.name});return Q({},f,{name:p?.url})}),s.maskRequestFn=on(t.session_recording.maskCapturedNetworkRequestFn)?f=>{var p,g=c(f);return g&&(p=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(g))!==null&&p!==void 0?p:void 0}:f=>function(p){if(!Y(p))return p.requestBody=c_(p.requestBody,"Request"),p.responseBody=c_(p.responseBody,"Response"),p}(c(f)),Q({},ea,s,{recordHeaders:o,recordBody:a,recordPerformance:u,recordInitialRequests:u})};class qj{constructor(e,n){var i,r;n===void 0&&(n={}),this.yt={},this.wt=s=>{if(!this.yt[s]){var o,a;this.yt[s]=!0;var u=this.St(s);(o=(a=this.rt).onBlockedNode)==null||o.call(a,s,u)}},this.$t=s=>{var o=this.St(s);if(o?.nodeName!=="svg"&&o instanceof Element){var a=o.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[s,o]},this.St=s=>this._rrweb.mirror.getNode(s),this.kt=s=>{var o,a,u,l,c,d,f,p;return((o=(a=s.removes)==null?void 0:a.length)!==null&&o!==void 0?o:0)+((u=(l=s.attributes)==null?void 0:l.length)!==null&&u!==void 0?u:0)+((c=(d=s.texts)==null?void 0:d.length)!==null&&c!==void 0?c:0)+((f=(p=s.adds)==null?void 0:p.length)!==null&&f!==void 0?f:0)},this.throttleMutations=s=>{if(s.type!==3||s.data.source!==0)return s;var o=s.data,a=this.kt(o);o.attributes&&(o.attributes=o.attributes.filter(l=>{var[c]=this.$t(l.id);return!this.ct.consumeRateLimit(c)&&l}));var u=this.kt(o);return u!==0||a===u?s:void 0},this._rrweb=e,this.rt=n,this.ct=new tS({bucketSize:(i=this.rt.bucketSize)!==null&&i!==void 0?i:100,refillRate:(r=this.rt.refillRate)!==null&&r!==void 0?r:10,refillInterval:1e3,et:this.wt})}}var an=Uint8Array,zt=Uint16Array,Gi=Uint32Array,ef=new an([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tf=new an([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l_=new an([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oS=function(t,e){for(var n=new zt(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];var r=new Gi(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},aS=oS(ef,2),Gj=aS[0],Sd=aS[1];Gj[28]=258,Sd[258]=28;for(var d_=oS(tf,0)[1],uS=new zt(32768),Ve=0;Ve<32768;++Ve){var Rr=(43690&Ve)>>>1|(21845&Ve)<<1;Rr=(61680&(Rr=(52428&Rr)>>>2|(13107&Rr)<<2))>>>4|(3855&Rr)<<4,uS[Ve]=((65280&Rr)>>>8|(255&Rr)<<8)>>>1}var Us=function(t,e,n){for(var i=t.length,r=0,s=new zt(e);r<i;++r)++s[t[r]-1];var o,a=new zt(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;for(o=new zt(i),r=0;r<i;++r)o[r]=uS[a[t[r]-1]++]>>>15-t[r];return o},Qr=new an(288);for(Ve=0;Ve<144;++Ve)Qr[Ve]=8;for(Ve=144;Ve<256;++Ve)Qr[Ve]=9;for(Ve=256;Ve<280;++Ve)Qr[Ve]=7;for(Ve=280;Ve<288;++Ve)Qr[Ve]=8;var Ja=new an(32);for(Ve=0;Ve<32;++Ve)Ja[Ve]=5;var Zj=Us(Qr,9),Hj=Us(Ja,5),cS=function(t){return(t/8>>0)+(7&t&&1)},lS=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof zt?zt:t instanceof Gi?Gi:an)(n-e);return i.set(t.subarray(e,n)),i},Bn=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},fs=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},nl=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return[new an(0),0];if(r==1){var o=new an(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(k,P){return k.f-P.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=r-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var f=s[0].s;for(i=1;i<r;++i)s[i].s>f&&(f=s[i].s);var p=new zt(f+1),g=xd(n[c-1],p,0);if(g>e){i=0;var b=0,w=g-e,S=1<<w;for(s.sort(function(k,P){return p[P.s]-p[k.s]||k.f-P.f});i<r;++i){var x=s[i].s;if(!(p[x]>e))break;b+=S-(1<<g-p[x]),p[x]=e}for(b>>>=w;b>0;){var E=s[i].s;p[E]<e?b-=1<<e-p[E]++-1:++i}for(;i>=0&&b;--i){var T=s[i].s;p[T]==e&&(--p[T],++b)}g=e}return[new an(p),g]},xd=function(t,e,n){return t.s==-1?Math.max(xd(t.l,e,n+1),xd(t.r,e,n+1)):e[t.s]=n},h_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new zt(++e),i=0,r=t[0],s=1,o=function(u){n[i++]=u},a=1;a<=e;++a)if(t[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=t[a]}return[n.subarray(0,i),e]},ps=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},kd=function(t,e,n){var i=n.length,r=cS(e+2);t[r]=255&i,t[r+1]=i>>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var s=0;s<i;++s)t[r+s+4]=n[s];return 8*(r+4+i)},f_=function(t,e,n,i,r,s,o,a,u,l,c){Bn(e,c++,n),++r[256];for(var d=nl(r,15),f=d[0],p=d[1],g=nl(s,15),b=g[0],w=g[1],S=h_(f),x=S[0],E=S[1],T=h_(b),k=T[0],P=T[1],C=new zt(19),R=0;R<x.length;++R)C[31&x[R]]++;for(R=0;R<k.length;++R)C[31&k[R]]++;for(var D=nl(C,7),N=D[0],F=D[1],V=19;V>4&&!N[l_[V-1]];--V);var oe,he,U,q,Z=l+5<<3,ee=ps(r,Qr)+ps(s,Ja)+o,ae=ps(r,f)+ps(s,b)+o+14+3*V+ps(C,N)+(2*C[16]+3*C[17]+7*C[18]);if(Z<=ee&&Z<=ae)return kd(e,c,t.subarray(u,u+l));if(Bn(e,c,1+(ae<ee)),c+=2,ae<ee){oe=Us(f,p),he=f,U=Us(b,w),q=b;var se=Us(N,F);for(Bn(e,c,E-257),Bn(e,c+5,P-1),Bn(e,c+10,V-4),c+=14,R=0;R<V;++R)Bn(e,c+3*R,N[l_[R]]);c+=3*V;for(var ke=[x,k],ue=0;ue<2;++ue){var Ue=ke[ue];for(R=0;R<Ue.length;++R){var ye=31&Ue[R];Bn(e,c,se[ye]),c+=N[ye],ye>15&&(Bn(e,c,Ue[R]>>>5&127),c+=Ue[R]>>>12)}}}else oe=Zj,he=Qr,U=Hj,q=Ja;for(R=0;R<a;++R)if(i[R]>255){ye=i[R]>>>18&31,fs(e,c,oe[ye+257]),c+=he[ye+257],ye>7&&(Bn(e,c,i[R]>>>23&31),c+=ef[ye]);var ve=31&i[R];fs(e,c,U[ve]),c+=q[ve],ve>3&&(fs(e,c,i[R]>>>5&8191),c+=tf[ve])}else fs(e,c,oe[i[R]]),c+=he[i[R]];return fs(e,c,oe[256]),c+he[256]},Wj=new Gi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kj=function(){for(var t=new Gi(256),e=0;e<256;++e){for(var n=e,i=9;--i;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),Jj=function(){var t=4294967295;return{p:function(e){for(var n=t,i=0;i<e.length;++i)n=Kj[255&n^e[i]]^n>>>8;t=n},d:function(){return 4294967295^t}}},Xj=function(t,e,n,i,r){return function(s,o,a,u,l,c){var d=s.length,f=new an(u+d+5*(1+Math.floor(d/7e3))+l),p=f.subarray(u,f.length-l),g=0;if(!o||d<8)for(var b=0;b<=d;b+=65535){var w=b+65535;w<d?g=kd(p,g,s.subarray(b,w)):(p[b]=c,g=kd(p,g,s.subarray(b,d)))}else{for(var S=Wj[o-1],x=S>>>13,E=8191&S,T=(1<<a)-1,k=new zt(32768),P=new zt(T+1),C=Math.ceil(a/3),R=2*C,D=function(v){return(s[v]^s[v+1]<<C^s[v+2]<<R)&T},N=new Gi(25e3),F=new zt(288),V=new zt(32),oe=0,he=0,U=(b=0,0),q=0,Z=0;b<d;++b){var ee=D(b),ae=32767&b,se=P[ee];if(k[ae]=se,P[ee]=ae,q<=b){var ke=d-b;if((oe>7e3||U>24576)&&ke>423){g=f_(s,p,0,N,F,V,he,U,Z,b-Z,g),U=oe=he=0,Z=b;for(var ue=0;ue<286;++ue)F[ue]=0;for(ue=0;ue<30;++ue)V[ue]=0}var Ue=2,ye=0,ve=E,Ae=ae-se&32767;if(ke>2&&ee==D(b-Ae))for(var Re=Math.min(x,ke)-1,Ke=Math.min(32767,b),ze=Math.min(258,ke);Ae<=Ke&&--ve&&ae!=se;){if(s[b+Ue]==s[b+Ue-Ae]){for(var xt=0;xt<ze&&s[b+xt]==s[b+xt-Ae];++xt);if(xt>Ue){if(Ue=xt,ye=Ae,xt>Re)break;var mi=Math.min(Ae,xt-2),Bt=0;for(ue=0;ue<mi;++ue){var gt=b-Ae+ue+32768&32767,sr=gt-k[gt]+32768&32767;sr>Bt&&(Bt=sr,se=gt)}}}Ae+=(ae=se)-(se=k[ae])+32768&32767}if(ye){N[U++]=268435456|Sd[Ue]<<18|d_[ye];var Ar=31&Sd[Ue],A=31&d_[ye];he+=ef[Ar]+tf[A],++F[257+Ar],++V[A],q=b+Ue,++oe}else N[U++]=s[b],++F[s[b]]}}g=f_(s,p,c,N,F,V,he,U,Z,b-Z,g)}return lS(f,0,u+cS(g)+l)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,i,!0)},Id=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Yj=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Id(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var i=0;i<=n.length;++i)t[i+10]=n.charCodeAt(i)}},Qj=function(t){return 10+(t.filename&&t.filename.length+1||0)};function dS(t,e){e===void 0&&(e={});var n=Jj(),i=t.length;n.p(t);var r=Xj(t,e,Qj(e),8),s=r.length;return Yj(r,e),Id(r,s-8,n.d()),Id(r,s-4,i),r}function hS(t,e){var n=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var i=new an(t.length+(t.length>>>1)),r=0,s=function(l){i[r++]=l},o=0;o<n;++o){if(r+5>i.length){var a=new an(r+8+(n-o<<1));a.set(i),i=a}var u=t.charCodeAt(o);u<128||e?s(u):u<2048?(s(192|u>>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++o))>>>18),s(128|u>>>12&63),s(128|u>>>6&63),s(128|63&u)):(s(224|u>>>12),s(128|u>>>6&63),s(128|63&u))}return lS(i,0,r)}function eU(t,e){return function(n){for(var i=0,r=0;r<n.length;r++)i=(i<<5)-i+n.charCodeAt(r),i|=0;return Math.abs(i)}(t)%100<Wt(100*e,0,100)}var yr="disabled",nf="sampled",Xa="active",ei="buffering",rf="paused",sf="trigger",Nn=sf+"_activated",Tt=sf+"_pending",Un=sf+"_"+yr;function p_(t,e){return e.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))}class fS{constructor(e){this.xt=e}triggerStatus(e){var n=this.xt.map(i=>i.triggerStatus(e));return n.includes(Nn)?Nn:n.includes(Tt)?Tt:Un}stop(){this.xt.forEach(e=>e.stop())}}class pS{constructor(e){this.xt=e}triggerStatus(e){var n=new Set;for(var i of this.xt)n.add(i.triggerStatus(e));switch(n.delete(Un),n.size){case 0:return Un;case 1:return Array.from(n)[0];default:return Tt}}stop(){this.xt.forEach(e=>e.stop())}}class tU{triggerStatus(){return Tt}stop(){}}class nU{constructor(e){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var n,i;this.Et=((n=e.sessionRecording)==null?void 0:n.urlTriggers)||[],this.It=((i=e.sessionRecording)==null?void 0:i.urlBlocklist)||[]}Pt(e){var n;return this.Et.length===0?Un:((n=this._instance)==null?void 0:n.get_property(cd))===e?Nn:Tt}triggerStatus(e){var n=this.Pt(e),i=n===Nn?Nn:n===Tt?Tt:Un;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:i}),i}checkUrlTriggerConditions(e,n,i){if(z!==void 0&&z.location.href){var r=z.location.href,s=this.urlBlocked,o=p_(r,this.It);s&&o||(o&&!s?e():!o&&s&&n(),p_(r,this.Et)&&i("url"))}}stop(){}}class rU{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=e}triggerStatus(){var e=Tt;return Pe(this.linkedFlag)&&(e=Un),this.linkedFlagSeen&&(e=Nn),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,n){var i;if(this.linkedFlag=((i=e.sessionRecording)==null?void 0:i.linkedFlag)||null,!Pe(this.linkedFlag)&&!this.linkedFlagSeen){var r=et(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=et(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((o,a)=>{var u=!1;if(Qe(a)&&r in a){var l=a[r];u=An(l)?l===!0:s?l===s:!!l}this.linkedFlagSeen=u,u&&n(r,s)})}}stop(){this.Rt()}}class iU{constructor(e){this.Tt=[],this._instance=e}onRemoteConfig(e){var n;this.Tt=((n=e.sessionRecording)==null?void 0:n.eventTriggers)||[]}Mt(e){var n;return this.Tt.length===0?Un:((n=this._instance)==null?void 0:n.get_property(ld))===e?Nn:Tt}triggerStatus(e){var n=this.Mt(e),i=n===Nn?Nn:n===Tt?Tt:Un;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:i}),i}stop(){}}function sU(t){return t.isRecordingEnabled?ei:yr}function oU(t){if(!t.receivedFlags)return ei;if(!t.isRecordingEnabled)return yr;if(t.urlTriggerMatching.urlBlocked)return rf;var e=t.isSampled===!0,n=new fS([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?nf:n===Nn?Xa:n===Tt?ei:t.isSampled===!1?yr:Xa}function aU(t){if(!t.receivedFlags)return ei;if(!t.isRecordingEnabled)return yr;if(t.urlTriggerMatching.urlBlocked)return rf;var e=new pS([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),n=e!==Un,i=An(t.isSampled);return n&&e===Tt?ei:n&&e===Un||i&&!t.isSampled?yr:t.isSampled===!0?nf:Xa}var ks="[SessionRecording]",kt=mt(ks);function ta(){var t;return fe==null||(t=fe.__PosthogExtensions__)==null||(t=t.rrweb)==null?void 0:t.record}var uU=3e5,cU=[ln.MouseMove,ln.MouseInteraction,ln.Scroll,ln.ViewportResize,ln.Input,ln.TouchMove,ln.MediaInteraction,ln.Drag],m_=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Dr(t){return function(e,n){for(var i="",r=0;r<e.length;){var s=e[r++];i+=String.fromCharCode(s)}return i}(dS(hS(JSON.stringify(t))))}function g_(t){return t.type===Gn.Custom&&t.data.tag==="sessionIdle"}class lU{get sessionId(){return this.Ct}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw new Error(ks+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var e,n;return this.Lt.triggerStatus(this.sessionId)===Tt?6e4:(e=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&e!==void 0?e:uU}get jt(){var e=this._instance.get_property(Ss);return An(e)?e:null}get Nt(){var e,n,i=(e=this.C)==null?void 0:e.data[((n=this.C)==null?void 0:n.data.length)-1],{sessionStartTimestamp:r}=this.At.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get zt(){var e=!!this._instance.get_property(ud),n=!this._instance.config.disable_session_recording;return z&&e&&n}get Ut(){var e=!!this._instance.get_property(qv),n=this._instance.config.enable_recording_console_log;return n??e}get qt(){var e,n,i,r,s,o,a=this._instance.config.session_recording.captureCanvas,u=this._instance.get_property(Hv),l=(e=(n=a?.recordCanvas)!==null&&n!==void 0?n:u?.enabled)!==null&&e!==void 0&&e,c=(i=(r=a?.canvasFps)!==null&&r!==void 0?r:u?.fps)!==null&&i!==void 0?i:4,d=(s=(o=a?.canvasQuality)!==null&&o!==void 0?o:u?.quality)!==null&&s!==void 0?s:.4;if(typeof d=="string"){var f=parseFloat(d);d=isNaN(f)?.4:f}return{enabled:l,fps:Wt(c,0,12,"canvas recording fps",4),quality:Wt(d,0,1,"canvas recording quality",.4)}}get Bt(){var e,n,i=this._instance.get_property(Gv),r={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},s=r?.recordHeaders||i?.recordHeaders,o=r?.recordBody||i?.recordBody,a=Qe(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,u=!!(An(a)?a:i?.capturePerformance);return s||o||u?{recordHeaders:s,recordBody:o,recordPerformance:u}:void 0}get Ht(){var e,n,i,r,s,o,a=this._instance.get_property(Zv),u={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(i=this._instance.config.session_recording)==null?void 0:i.blockSelector},l=(r=u?.maskAllInputs)!==null&&r!==void 0?r:a?.maskAllInputs,c=(s=u?.maskTextSelector)!==null&&s!==void 0?s:a?.maskTextSelector,d=(o=u?.blockSelector)!==null&&o!==void 0?o:a?.blockSelector;return Y(l)&&Y(c)&&Y(d)?void 0:{maskAllInputs:l==null||l,maskTextSelector:c,blockSelector:d}}get Wt(){var e=this._instance.get_property(Wv);return Et(e)?e:null}get Gt(){var e=this._instance.get_property(Kv);return Et(e)?e:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.jt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):ei}constructor(e){if(this.Vt=sU,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.Lt=new tU,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(te!=null&&te.visibilityState){var r="window "+te.visibilityState;this.ui(r,{})}},this._instance=e,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw kt.error("started without valid sessionManager"),new Error(ks+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(ks+" cannot be used with __preview_experimental_cookieless_mode.");this.Xt=new rU(this._instance),this.Kt=new nU(this._instance),this.Yt=new iU(this._instance);var{sessionId:n,windowId:i}=this.At.checkAndGetSessionAndWindowId();this.Ct=n,this.fi=i,this.C=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&kt.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.zt?(this.gi(e),Je(z,"beforeunload",this.oi),Je(z,"offline",this.li),Je(z,"online",this.hi),Je(z,"visibilitychange",this.di),this.mi(),this.bi(),Pe(this.ii)&&(this.ii=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var i=n!=null&&n.properties.$current_url?this.yi(n?.properties.$current_url):"";if(!i)return;this.ui("$pageview",{href:i})}}catch(r){kt.error("Could not add $pageview to rrweb session",r)}})),this.ei||(this.ei=this.At.onSessionId((n,i,r)=>{var s,o;r&&(this.ui("$session_id_change",{sessionId:n,windowId:i,changeReason:r}),(s=this._instance)==null||(s=s.persistence)==null||s.unregister(ld),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(cd))}))):this.stopRecording()}stopRecording(){var e,n,i,r;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,z?.removeEventListener("beforeunload",this.oi),z?.removeEventListener("offline",this.li),z?.removeEventListener("online",this.hi),z?.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),(e=this.ii)==null||e.call(this),this.ii=void 0,(n=this.ni)==null||n.call(this),this.ni=void 0,(i=this.ei)==null||i.call(this),this.ei=void 0,(r=this.si)==null||r.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),kt.info("stopped"))}Si(){var e;(e=this._instance.persistence)==null||e.unregister(Ss)}$i(e){var n,i=this.Ct!==e,r=this.Wt;if(Et(r)){var s=this.jt,o=i||!An(s),a=o?eU(e,r):s;o&&(a?this.ki(nf):kt.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:r,isSampled:a})),(n=this._instance.persistence)==null||n.register({[Ss]:a})}else this.Si()}onRemoteConfig(e){var n,i,r,s;this.ui("$remote_config_received",e),this.xi(e),(n=e.sessionRecording)!=null&&n.endpoint&&(this.vi=(s=e.sessionRecording)==null?void 0:s.endpoint),this.mi(),((i=e.sessionRecording)==null?void 0:i.triggerMatchType)==="any"?(this.Vt=oU,this.Lt=new fS([this.Yt,this.Kt])):(this.Vt=aU,this.Lt=new pS([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(r=e.sessionRecording)==null?void 0:r.triggerMatchType}),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e),this.Xt.onRemoteConfig(e,(o,a)=>{this.ki("linked_flag_matched",{flag:o,variant:a})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){Et(this.Wt)&&Pe(this.si)&&(this.si=this.At.onSessionId(e=>{this.$i(e)}))}xi(e){if(this._instance.persistence){var n,i=this._instance.persistence,r=()=>{var s,o,a,u,l,c,d,f,p,g=(s=e.sessionRecording)==null?void 0:s.sampleRate,b=Pe(g)?null:parseFloat(g);Pe(b)&&this.Si();var w=(o=e.sessionRecording)==null?void 0:o.minimumDurationMilliseconds;i.register({[ud]:!!e.sessionRecording,[qv]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[Gv]:Q({capturePerformance:e.capturePerformance},(u=e.sessionRecording)==null?void 0:u.networkPayloadCapture),[Zv]:(l=e.sessionRecording)==null?void 0:l.masking,[Hv]:{enabled:(c=e.sessionRecording)==null?void 0:c.recordCanvas,fps:(d=e.sessionRecording)==null?void 0:d.canvasFps,quality:(f=e.sessionRecording)==null?void 0:f.canvasQuality},[Wv]:b,[Kv]:Y(w)?null:w,[Jv]:(p=e.sessionRecording)==null?void 0:p.scriptConfig})};r(),(n=this.ri)==null||n.call(this),this.ri=this.At.onSessionId(r)}}log(e,n){var i;n===void 0&&(n="log"),(i=this._instance.sessionRecording)==null||i.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}gi(e){if(!Y(Object.assign)&&!Y(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),ta()?this.Ei():(n=fe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.Ii,i=>{if(i)return kt.error("could not load recorder",i);this.Ei()}),kt.info("starting"),this.status===Xa&&this.ki(e||"recording_initialized")}}get Ii(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Jv))==null?void 0:e.script)||"recorder"}Pi(e){var n;return e.type===3&&cU.indexOf((n=e.data)==null?void 0:n.source)!==-1}Ri(e){var n=this.Pi(e);n||this.Zt||e.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.C.data.length,bufferSize:this.C.size}),this.ai());var i=!1;if(n&&(this.ti=e.timestamp,this.Zt)){var r=this.Zt==="unknown";this.Zt=!1,r||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:e.type}),i=!0)}if(!this.Zt){var{windowId:s,sessionId:o}=this.At.checkAndGetSessionAndWindowId(!n,e.timestamp),a=this.Ct!==o,u=this.fi!==s;this.fi=s,this.Ct=o,a||u?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):i&&this.Ti()}}Mi(e){try{return e.rrwebMethod(),!0}catch(n){return this.Qt.length<10?this.Qt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):kt.warn("could not emit queued rrweb event.",n,e),!1}}ui(e,n){return this.Mi(m_(()=>ta().addCustomEvent(e,n)))}Ci(){return this.Mi(m_(()=>ta().takeFullSnapshot()))}Ei(){var e,n,i,r,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,u]of Object.entries(o||{}))a in s&&(a==="maskInputOptions"?s.maskInputOptions=Q({password:!0},u):s[a]=u);this.qt&&this.qt.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.qt.fps},s.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(s.maskAllInputs=(n=this.Ht.maskAllInputs)===null||n===void 0||n,s.maskTextSelector=(i=this.Ht.maskTextSelector)!==null&&i!==void 0?i:void 0,s.blockSelector=(r=this.Ht.blockSelector)!==null&&r!==void 0?r:void 0);var l=ta();if(l){this.Fi=(e=this.Fi)!==null&&e!==void 0?e:new qj(l,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(d,f)=>{var p="Too many mutations on node '"+d+"'. Rate limiting. This could be due to SVG animations or something similar";kt.info(p,{node:f}),this.log(ks+" "+p,"warn")}});var c=this.Oi();this.ci=l(Q({emit:d=>{this.onRRwebEmit(d)},plugins:c},s)),this.ti=Date.now(),this.Zt=An(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:s,activePlugins:c.map(d=>d?.name)}),this.ui("$posthog_config",{config:this._instance.config})}else kt.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),this.Zt!==!0){var e=this.Dt;e&&(this.wi=setInterval(()=>{this.Ci()},e))}}Oi(){var e,n,i=[],r=(e=fe.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;r&&this.Ut&&i.push(r());var s=(n=fe.__PosthogExtensions__)==null||(n=n.rrwebPlugins)==null?void 0:n.getRecordNetworkPlugin;return this.Bt&&on(s)&&(!cj.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?i.push(s(Vj(this._instance.config,this.Bt))):kt.info("NetworkCapture not started because we are on localhost.")),i}onRRwebEmit(e){var n;if(this.Ai(),e&&Qe(e)){if(e.type===Gn.Meta){var i=this.yi(e.data.href);if(this.Di=i,!i)return;e.data.href=i}else this.Li();if(this.Kt.checkUrlTriggerConditions(()=>this.ji(),()=>this.Ni(),f=>this.zi(f)),!this.Kt.urlBlocked||(r=e).type===Gn.Custom&&r.data.tag==="recording paused"){var r;e.type===Gn.FullSnapshot&&this.Ti(),e.type===Gn.FullSnapshot&&this.Jt&&this.Lt.triggerStatus(this.sessionId)===Tt&&this.pi();var s=this.Fi?this.Fi.throttleMutations(e):e;if(s){var o=function(f){var p=f;if(p&&Qe(p)&&p.type===6&&Qe(p.data)&&p.data.plugin==="rrweb/console@1"){p.data.payload.payload.length>10&&(p.data.payload.payload=p.data.payload.payload.slice(0,10),p.data.payload.payload.push("...[truncated]"));for(var g=[],b=0;b<p.data.payload.payload.length;b++)p.data.payload.payload[b]&&p.data.payload.payload[b].length>2e3?g.push(p.data.payload.payload[b].slice(0,2e3)+"...[truncated]"):g.push(p.data.payload.payload[b]);return p.data.payload.payload=g,f}return f}(s);if(this.Ri(o),this.Zt!==!0||g_(o)){if(g_(o)){var a=o.data.payload;if(a){var u=a.lastActivityTimestamp,l=a.threshold;o.timestamp=u+l}}var c=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(f){if(Ka(f)<1024)return f;try{if(f.type===Gn.FullSnapshot)return Q({},f,{data:Dr(f.data),cv:"2024-10"});if(f.type===Gn.IncrementalSnapshot&&f.data.source===ln.Mutation)return Q({},f,{cv:"2024-10",data:Q({},f.data,{texts:Dr(f.data.texts),attributes:Dr(f.data.attributes),removes:Dr(f.data.removes),adds:Dr(f.data.adds)})});if(f.type===Gn.IncrementalSnapshot&&f.data.source===ln.StyleSheetRule)return Q({},f,{cv:"2024-10",data:Q({},f.data,{adds:f.data.adds?Dr(f.data.adds):void 0,removes:f.data.removes?Dr(f.data.removes):void 0})})}catch(p){kt.error("could not compress event - will use uncompressed event",p)}return f}(o):o,d={$snapshot_bytes:Ka(c),$snapshot_data:c,$session_id:this.Ct,$window_id:this.fi};this.status!==yr?this.Ui(d):this.pi()}}}}}Li(){if(!this._instance.config.capture_pageview&&z){var e=this.yi(z.location.href);this.Di!==e&&(this.ui("$url_changed",{href:e}),this.Di=e)}}Ai(){if(this.Qt.length){var e=[...this.Qt];this.Qt=[],e.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.Mi(n)})}}yi(e){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var i,r={url:e};return(i=r=n.maskNetworkRequestFn(r))==null?void 0:i.url}return e}pi(){return this.C={size:0,data:[],sessionId:this.Ct,windowId:this.fi},this.C}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var e=this.Gt,n=this.Nt,i=Et(n)&&n>=0,r=Et(e)&&i&&n<e;return this.status===ei||this.status===rf||this.status===yr||r?(this.qi=setTimeout(()=>{this.ai()},2e3),this.C):(this.C.data.length>0&&yd(this.C).forEach(s=>{this.Bi({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId,$lib:"web",$lib_version:Zn.LIB_VERSION})}),this.pi())}Ui(e){var n,i=2+(((n=this.C)==null?void 0:n.data.length)||0);!this.Zt&&(this.C.size+e.$snapshot_bytes+i>943718.4||this.C.sessionId!==this.Ct)&&(this.C=this.ai()),this.C.size+=e.$snapshot_bytes,this.C.data.push(e.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var n;this.Lt.triggerStatus(this.sessionId)===Tt&&((n=this._instance)==null||(n=n.persistence)==null||n.register({[e==="url"?cd:ld]:this.Ct}),this.ai(),this.ki(e+"_trigger_matched"))}ji(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),kt.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Ci(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),kt.info("recording resumed"))}bi(){this.Yt.Tt.length!==0&&Pe(this.ni)&&(this.ni=this._instance.on("eventCaptured",e=>{try{this.Yt.Tt.includes(e.event)&&this.zi("event")}catch(n){kt.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Ci(),this.ki("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[Ss]:!0}),this.Ci(),this.ki("sampling_overridden")}overrideTrigger(e){this.zi(e)}ki(e,n){this._instance.register_for_session({$session_recording_start_reason:e}),kt.info(e.replace("_"," "),n),Ee(["recording_initialized","session_id_changed"],e)||this.ui(e,n)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.C.data.length,$sdk_debug_replay_internal_buffer_size:this.C.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}}var rl=mt("[SegmentIntegration]");function dU(t,e){var n=t.config.segment;if(!n)return e();(function(i,r){var s=i.config.segment;if(!s)return r();var o=u=>{var l=()=>u.anonymousId()||fr();i.config.get_device_id=l,u.id()&&(i.register({distinct_id:u.id(),$device_id:l()}),i.persistence.set_property(qn,"identified")),r()},a=s.user();"then"in a&&on(a.then)?a.then(u=>o(u)):o(a)})(t,()=>{n.register((i=>{Promise&&Promise.resolve||rl.warn("This browser does not have Promise support, and can not use the segment integration");var r=(s,o)=>{if(!o)return s;s.event.userId||s.event.anonymousId===i.get_distinct_id()||(rl.info("No userId set, resetting PostHog"),i.reset()),s.event.userId&&s.event.userId!==i.get_distinct_id()&&(rl.info("UserId set, identifying with PostHog"),i.identify(s.event.userId));var a=i.calculateEventProperties(o,s.event.properties);return s.event.properties=Object.assign({},a,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>r(s,s.event.event),page:s=>r(s,"$pageview"),identify:s=>r(s,"$identify"),screen:s=>r(s,"$screen")}})(t)).then(()=>{e()})})}var mS="posthog-js";function gS(t,e){var{organization:n,projectId:i,prefix:r,severityAllowList:s=["error"]}=e===void 0?{}:e;return o=>{var a,u,l,c,d;if(!(s==="*"||s.includes(o.level))||!t.__loaded)return o;o.tags||(o.tags={});var f=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());o.tags["PostHog Person URL"]=f,t.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var p=((a=o.exception)==null?void 0:a.values)||[],g=p.map(w=>Q({},w,{stacktrace:w.stacktrace?Q({},w.stacktrace,{type:"raw",frames:(w.stacktrace.frames||[]).map(S=>Q({},S,{platform:"web:javascript"}))}):void 0})),b={$exception_message:((u=p[0])==null?void 0:u.value)||o.message,$exception_type:(l=p[0])==null?void 0:l.type,$exception_personURL:f,$exception_level:o.level,$exception_list:g,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((c=p[0])==null?void 0:c.value)||o.message,$sentry_exception_type:(d=p[0])==null?void 0:d.type,$sentry_tags:o.tags};return n&&i&&(b.$sentry_url=(r||"https://sentry.io/organizations/")+n+"/issues/?project="+i+"&query="+o.event_id),t.exceptions.sendExceptionEvent(b),o}}class hU{constructor(e,n,i,r,s){this.name=mS,this.setupOnce=function(o){o(gS(e,{organization:n,projectId:i,prefix:r,severityAllowList:s}))}}}var fU=z!=null&&z.location?Ha(z.location.hash,"__posthog")||Ha(location.hash,"state"):null,v_="_postHogToolbarParams",__=mt("[Toolbar]"),lr=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(lr||{});class pU{constructor(e){this.instance=e}Hi(e){fe.ph_toolbar_state=e}Wi(){var e;return(e=fe.ph_toolbar_state)!==null&&e!==void 0?e:lr.UNINITIALIZED}maybeLoadToolbar(e,n,i){if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),i===void 0&&(i=void 0),!z||!te)return!1;e=e??z.location,i=i??z.history;try{if(!n){try{z.localStorage.setItem("test","test"),z.localStorage.removeItem("test")}catch{return!1}n=z?.localStorage}var r,s=fU||Ha(e.hash,"__posthog")||Ha(e.hash,"state"),o=s?Mv(()=>JSON.parse(atob(decodeURIComponent(s))))||Mv(()=>JSON.parse(decodeURIComponent(s))):null;return o&&o.action==="ph_authorize"?((r=o).source="url",r&&Object.keys(r).length>0&&(o.desiredHash?e.hash=o.desiredHash:i?i.replaceState(i.state,"",e.pathname+e.search):e.hash="")):((r=JSON.parse(n.getItem(v_)||"{}")).source="localstorage",delete r.userIntent),!(!r.token||this.instance.config.token!==r.token)&&(this.loadToolbar(r),!0)}catch{return!1}}Gi(e){var n=fe.ph_load_toolbar||fe.ph_load_editor;!Pe(n)&&on(n)?n(e,this.instance):__.warn("No toolbar load function found")}loadToolbar(e){var n=!(te==null||!te.getElementById(Fw));if(!z||n)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,r=Q({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(z.localStorage.setItem(v_,JSON.stringify(Q({},r,{source:void 0}))),this.Wi()===lr.LOADED)this.Gi(r);else if(this.Wi()===lr.UNINITIALIZED){var s;this.Hi(lr.LOADING),(s=fe.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return __.error("[Toolbar] Failed to load",o),void this.Hi(lr.UNINITIALIZED);this.Hi(lr.LOADED),this.Gi(r)}),Je(z,"turbolinks:load",()=>{this.Hi(lr.UNINITIALIZED),this.loadToolbar(r)})}return!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,i){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),i===void 0&&(i=void 0),this.maybeLoadToolbar(e,n,i)}}var mU=mt("[TracingHeaders]");class gU{constructor(e){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var n,i;Y(this.Vi)&&((n=fe.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Y(this.Ki)&&((i=fe.__PosthogExtensions__)==null||(i=i.tracingHeadersPatchFns)==null||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}J(e){var n,i;(n=fe.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"tracing-headers",r=>{if(r)return mU.error("failed to load script",r);e()})}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.J(this.nt):((e=this.Vi)==null||e.call(this),(n=this.Ki)==null||n.call(this),this.Vi=void 0,this.Ki=void 0)}}var or=mt("[Web Vitals]"),y_=9e5;class vU{constructor(e){var n;this.Yi=!1,this.i=!1,this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),this.C.metrics.length!==0&&(this._instance.capture("$web_vitals",this.C.metrics.reduce((i,r)=>Q({},i,{["$web_vitals_"+r.name+"_event"]:Q({},r),["$web_vitals_"+r.name+"_value"]:r.value}),{})),this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=i=>{var r,s=(r=this._instance.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0);if(Y(s))or.error("Could not read session ID. Dropping metrics!");else{this.C=this.C||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.te();Y(o)||(Pe(i?.name)||Pe(i?.value)?or.error("Invalid metric received",i):this.ie&&i.value>=this.ie?or.error("Ignoring metric with value >= "+this.ie,i):(this.C.url!==o&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),Y(this.C.url)&&(this.C.url=o),this.C.firstMetricTimestamp=Y(this.C.firstMetricTimestamp)?Date.now():this.C.firstMetricTimestamp,i.attribution&&i.attribution.interactionTargetElement&&(i.attribution.interactionTargetElement=void 0),this.C.metrics.push(Q({},i,{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.C.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var i,r,s,o,a=fe.__PosthogExtensions__;Y(a)||Y(a.postHogWebVitalsCallbacks)||({onLCP:i,onCLS:r,onFCP:s,onINP:o}=a.postHogWebVitalsCallbacks),i&&r&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&i(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&r(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Zi.bind(this)),this.i=!0):or.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Yi=!((n=this._instance.persistence)==null||!n.props[Bv]),this.startIfEnabled()}get allowedMetrics(){var e,n,i=Qe(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return Y(i)?((n=this._instance.persistence)==null?void 0:n.props[Vv])||["CLS","FCP","INP","LCP"]:i}get flushToCaptureTimeoutMs(){return(Qe(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var e=Qe(this._instance.config.capture_performance)&&Et(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:y_;return 0<e&&e<=6e4?y_:e}get isEnabled(){var e=Ut?.protocol;if(e!=="http:"&&e!=="https:")return or.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Qe(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:An(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return An(n)?n:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(or.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(e){var n=Qe(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=Qe(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Bv]:n}),this._instance.persistence.register({[Vv]:i})),this.Yi=n,this.startIfEnabled()}J(e){var n,i;(n=fe.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"web-vitals",r=>{r?or.error("failed to load script",r):e()})}te(){var e=z?z.location.href:void 0;return e||or.error("Could not determine current URL"),e}}var _U=mt("[Heatmaps]");function b_(t){return Qe(t)&&"clientX"in t&&"clientY"in t&&Et(t.clientX)&&Et(t.clientY)}class yU{constructor(e){var n;this.rageclicks=new Yw,this.Yi=!1,this.i=!1,this.ee=null,this.instance=e,this.Yi=!((n=this.instance.persistence)==null||!n.props[od])}get flushIntervalMilliseconds(){var e=5e3;return Qe(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return Y(this.instance.config.capture_heatmaps)?Y(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;_U.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds)}else{var e,n;clearInterval((e=this.ee)!==null&&e!==void 0?e:void 0),(n=this.ne)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[od]:n}),this.Yi=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.C;return this.C=void 0,e}oe(e){this.ae(e.originalEvent,"deadclick")}re(){z&&te&&(Je(z,"beforeunload",this.se.bind(this)),Je(te,"click",e=>this.ae(e||z?.event),{capture:!0}),Je(te,"mousemove",e=>this.le(e||z?.event),{capture:!0}),this.ne=new eS(this.instance,xj,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(e,n){var i=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,u,l){for(var c=a;c&&zu(c)&&!mr(c,"body");){if(c===l)return!1;if(Ee(u,z?.getComputedStyle(c).position))return!0;c=Zw(c)}return!1}(Gw(e),["fixed","sticky"],s);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:i),target_fixed:o,type:n}}ae(e,n){var i;if(n===void 0&&(n="click"),!Xv(e.target)&&b_(e)){var r=this.ue(e,n);(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.he(Q({},r,{type:"rageclick"})),this.he(r)}}le(e){!Xv(e.target)&&b_(e)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(e,"mousemove"))},500))}he(e){if(z){var n=z.location.href;this.C=this.C||{},this.C[n]||(this.C[n]=[]),this.C[n].push(e)}}se(){this.C&&!Oi(this.C)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class bU{constructor(e){this._instance=e}doPageView(e,n){var i,r=this.ve(e,n);return this.ce={pathname:(i=z?.location.pathname)!==null&&i!==void 0?i:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var n;return this.ve(e,(n=this.ce)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.ce)==null?void 0:e.pageViewId}}ve(e,n){var i=this.ce;if(!i)return{$pageview_id:n};var r={$pageview_id:n,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:u,maxContentHeight:l,lastContentY:c,maxContentY:d}=s;if(!(Y(o)||Y(a)||Y(u)||Y(l)||Y(c)||Y(d))){o=Math.ceil(o),a=Math.ceil(a),u=Math.ceil(u),l=Math.ceil(l),c=Math.ceil(c),d=Math.ceil(d);var f=o<=1?1:Wt(a/o,0,1),p=o<=1?1:Wt(u/o,0,1),g=l<=1?1:Wt(c/l,0,1),b=l<=1?1:Wt(d/l,0,1);r=rt(r,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:f,$prev_pageview_max_scroll:u,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:b})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}var wU=function(t){var e,n,i,r,s="";for(e=n=0,i=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<i;r++){var o=t.charCodeAt(r),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Ir(a)||(n>e&&(s+=t.substring(e,n)),s+=a,e=n=r+1)}return n>e&&(s+=t.substring(e,t.length)),s},SU=!!rd||!!nd,w_="text/plain",Ya=(t,e)=>{var[n,i]=t.split("?"),r=Q({},e);i?.split("&").forEach(o=>{var[a]=o.split("=");delete r[a]});var s=lj(r);return n+"?"+(s=s?(i?i+"&":"")+s:i)},Is=(t,e)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,e),il=t=>{var{data:e,compression:n}=t;if(e){if(n===Kn.GZipJS){var i=dS(hS(Is(e)),{mtime:0}),r=new Blob([i],{type:w_});return{contentType:w_,body:r,estimatedSize:r.size}}if(n===Kn.Base64){var s=function(u){var l,c,d,f,p,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=0,w=0,S="",x=[];if(!u)return u;u=wU(u);do l=(p=u.charCodeAt(b++)<<16|u.charCodeAt(b++)<<8|u.charCodeAt(b++))>>18&63,c=p>>12&63,d=p>>6&63,f=63&p,x[w++]=g.charAt(l)+g.charAt(c)+g.charAt(d)+g.charAt(f);while(b<u.length);switch(S=x.join(""),u.length%3){case 1:S=S.slice(0,-2)+"==";break;case 2:S=S.slice(0,-1)+"="}return S}(Is(e)),o=(u=>"data="+encodeURIComponent(typeof u=="string"?u:Is(u)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=Is(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Ls=[];nd&&Ls.push({transport:"fetch",method:t=>{var e,n,{contentType:i,body:r,estimatedSize:s}=(e=il(t))!==null&&e!==void 0?e:{},o=new Headers;je(t.headers,function(c,d){o.append(d,c)}),i&&o.append("Content-Type",i);var a=t.url,u=null;if(Uv){var l=new Uv;u={signal:l.signal,timeout:setTimeout(()=>l.abort(),t.timeout)}}nd(a,Q({method:t?.method||"GET",headers:o,keepalive:t.method==="POST"&&(s||0)<52428.8,body:r,signal:(n=u)==null?void 0:n.signal},t.fetchOptions)).then(c=>c.text().then(d=>{var f={statusCode:c.status,text:d};if(c.status===200)try{f.json=JSON.parse(d)}catch(p){re.error(p)}t.callback==null||t.callback(f)})).catch(c=>{re.error(c),t.callback==null||t.callback({statusCode:0,text:c})}).finally(()=>u?clearTimeout(u.timeout):null)}}),rd&&Ls.push({transport:"XHR",method:t=>{var e,n=new rd;n.open(t.method||"GET",t.url,!0);var{contentType:i,body:r}=(e=il(t))!==null&&e!==void 0?e:{};je(t.headers,function(s,o){n.setRequestHeader(o,s)}),i&&n.setRequestHeader("Content-Type",i),t.timeout&&(n.timeout=t.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s={statusCode:n.status,text:n.responseText};if(n.status===200)try{s.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(s)}},n.send(r)}}),Ht!=null&&Ht.sendBeacon&&Ls.push({transport:"sendBeacon",method:t=>{var e=Ya(t.url,{beacon:"1"});try{var n,{contentType:i,body:r}=(n=il(t))!==null&&n!==void 0?n:{},s=typeof r=="string"?new Blob([r],{type:i}):r;Ht.sendBeacon(e,s)}catch{}}});var Zi=function(t,e){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function S_(t,e,n){return Is({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}var xU={exact:(t,e)=>e.some(n=>t.some(i=>n===i)),is_not:(t,e)=>e.every(n=>t.every(i=>n!==i)),regex:(t,e)=>e.some(n=>t.some(i=>Zi(n,i))),not_regex:(t,e)=>e.every(n=>t.every(i=>!Zi(n,i))),icontains:(t,e)=>e.map(na).some(n=>t.map(na).some(i=>n.includes(i))),not_icontains:(t,e)=>e.map(na).every(n=>t.map(na).every(i=>!n.includes(i)))},na=t=>t.toLowerCase(),kU=mt("[Error tracking]");class IU{constructor(e){var n,i;this.fe=[],this._instance=e,this.fe=(n=(i=this._instance.persistence)==null?void 0:i.get_property(ad))!==null&&n!==void 0?n:[]}onRemoteConfig(e){var n,i,r=(n=(i=e.errorTracking)==null?void 0:i.suppressionRules)!==null&&n!==void 0?n:[];this.fe=r,this._instance.persistence&&this._instance.persistence.register({[ad]:this.fe})}sendExceptionEvent(e){if(!this.pe(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});kU.info("Skipping exception capture because a suppression rule matched")}pe(e){var n=e.$exception_list;if(!n||!Ze(n)||n.length===0)return!1;var i=n.reduce((r,s)=>{var{type:o,value:a}=s;return et(o)&&o.length>0&&r.$exception_types.push(o),et(a)&&a.length>0&&r.$exception_values.push(a),r},{$exception_types:[],$exception_values:[]});return this.fe.some(r=>{var s=r.values.map(o=>{var a,u=xU[o.operator],l=Ze(o.value)?o.value:[o.value],c=(a=i[o.key])!==null&&a!==void 0?a:[];return l.length>0&&u(l,c)});return r.type==="OR"?s.some(Boolean):s.every(Boolean)})}}var un="Mobile",Qa="iOS",Tn="Android",to="Tablet",vS=Tn+" "+to,_S="iPad",yS="Apple",bS=yS+" Watch",no="Safari",Hi="BlackBerry",wS="Samsung",SS=wS+"Browser",xS=wS+" Internet",ti="Chrome",EU=ti+" OS",kS=ti+" "+Qa,of="Internet Explorer",IS=of+" "+un,af="Opera",AU=af+" Mini",uf="Edge",ES="Microsoft "+uf,Di="Firefox",AS=Di+" "+Qa,ro="Nintendo",io="PlayStation",Ni="Xbox",TS=Tn+" "+un,$S=un+" "+no,Es="Windows",Ed=Es+" Phone",x_="Nokia",Ad="Ouya",OS="Generic",TU=OS+" "+un.toLowerCase(),CS=OS+" "+to.toLowerCase(),Td="Konqueror",Ot="(\\d+(\\.\\d+)?)",sl=new RegExp("Version/"+Ot),$U=new RegExp(Ni,"i"),OU=new RegExp(io+" \\w+","i"),CU=new RegExp(ro+" \\w+","i"),cf=new RegExp(Hi+"|PlayBook|BB10","i"),PU={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},RU=(t,e)=>e&&Ee(e,yS)||function(n){return Ee(n,no)&&!Ee(n,ti)&&!Ee(n,Tn)}(t),PS=function(t,e){return e=e||"",Ee(t," OPR/")&&Ee(t,"Mini")?AU:Ee(t," OPR/")?af:cf.test(t)?Hi:Ee(t,"IE"+un)||Ee(t,"WPDesktop")?IS:Ee(t,SS)?xS:Ee(t,uf)||Ee(t,"Edg/")?ES:Ee(t,"FBIOS")?"Facebook "+un:Ee(t,"UCWEB")||Ee(t,"UCBrowser")?"UC Browser":Ee(t,"CriOS")?kS:Ee(t,"CrMo")||Ee(t,ti)?ti:Ee(t,Tn)&&Ee(t,no)?TS:Ee(t,"FxiOS")?AS:Ee(t.toLowerCase(),Td.toLowerCase())?Td:RU(t,e)?Ee(t,un)?$S:no:Ee(t,Di)?Di:Ee(t,"MSIE")||Ee(t,"Trident/")?of:Ee(t,"Gecko")?Di:""},DU={[IS]:[new RegExp("rv:"+Ot)],[ES]:[new RegExp(uf+"?\\/"+Ot)],[ti]:[new RegExp("("+ti+"|CrMo)\\/"+Ot)],[kS]:[new RegExp("CriOS\\/"+Ot)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ot)],[no]:[sl],[$S]:[sl],[af]:[new RegExp("(Opera|OPR)\\/"+Ot)],[Di]:[new RegExp(Di+"\\/"+Ot)],[AS]:[new RegExp("FxiOS\\/"+Ot)],[Td]:[new RegExp("Konqueror[:/]?"+Ot,"i")],[Hi]:[new RegExp(Hi+" "+Ot),sl],[TS]:[new RegExp("android\\s"+Ot,"i")],[xS]:[new RegExp(SS+"\\/"+Ot)],[of]:[new RegExp("(rv:|MSIE )"+Ot)],Mozilla:[new RegExp("rv:"+Ot)]},NU=function(t,e){var n=PS(t,e),i=DU[n];if(Y(i))return null;for(var r=0;r<i.length;r++){var s=i[r],o=t.match(s);if(o)return parseFloat(o[o.length-2])}return null},k_=[[new RegExp(Ni+"; "+Ni+" (.*?)[);]","i"),t=>[Ni,t&&t[1]||""]],[new RegExp(ro,"i"),[ro,""]],[new RegExp(io,"i"),[io,""]],[cf,[Hi,""]],[new RegExp(Es,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Ed,""];if(new RegExp(un).test(e)&&!/IEMobile\b/.test(e))return[Es+" "+un,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var i=n[1],r=PU[i]||"";return/arm/i.test(e)&&(r="RT"),[Es,r]}return[Es,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[Qa,e.join(".")]}return[Qa,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=Y(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Tn+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Tn+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Tn,e.join(".")]}return[Tn,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[EU,""]],[/Linux|debian/i,["Linux",""]]],I_=function(t){return CU.test(t)?ro:OU.test(t)?io:$U.test(t)?Ni:new RegExp(Ad,"i").test(t)?Ad:new RegExp("("+Ed+"|WPDesktop)","i").test(t)?Ed:/iPad/.test(t)?_S:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?bS:cf.test(t)?Hi:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(x_,"i").test(t)?x_:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(un).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Tn:vS:Tn:new RegExp("(pda|"+un+")","i").test(t)?TU:new RegExp(to,"i").test(t)&&!new RegExp(to+" pc","i").test(t)?CS:""},ra="https?://(.*)",Bu=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],jU=Mu(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Bu),lf="<masked>",UU=["li_fat_id"];function RS(t,e,n){if(!te)return{};var i,r=e?Mu([],Bu,n||[]):[],s=DS(Yh(te.URL,r,lf),t),o=(i={},je(UU,function(a){var u=Dn.D(a);i[a]=u||null}),i);return rt(o,s)}function DS(t,e){var n=jU.concat(e||[]),i={};return je(n,function(r){var s=Za(t,r);i[r]=s||null}),i}function NS(t){var e=function(s){return s?s.search(ra+"google.([^/?]*)")===0?"google":s.search(ra+"bing.com")===0?"bing":s.search(ra+"yahoo.com")===0?"yahoo":s.search(ra+"duckduckgo.com")===0?"duckduckgo":null:null}(t),n=e!="yahoo"?"q":"p",i={};if(!Ir(e)){i.$search_engine=e;var r=te?Za(te.referrer,n):"";r.length&&(i.ph_keyword=r)}return i}function E_(){return navigator.language||navigator.userLanguage}function jS(){return te?.referrer||"$direct"}function US(t,e){var n=t?Mu([],Bu,e||[]):[],i=Ut?.href.substring(0,1e3);return{r:jS().substring(0,1e3),u:i?Yh(i,n,lf):void 0}}function LS(t){var e,{r:n,u:i}=t,r={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=qi(n))==null?void 0:e.host};if(i){r.$current_url=i;var s=qi(i);r.$host=s?.host,r.$pathname=s?.pathname;var o=DS(i);rt(r,o)}if(n){var a=NS(n);rt(r,a)}return r}function MS(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function LU(){try{return new Date().getTimezoneOffset()}catch{return}}function MU(t,e){if(!Nt)return{};var n,i,r,s=t?Mu([],Bu,e||[]):[],[o,a]=function(u){for(var l=0;l<k_.length;l++){var[c,d]=k_[l],f=c.exec(u),p=f&&(on(d)?d(f,u):d);if(p)return p}return["",""]}(Nt);return rt(Jh({$os:o,$os_version:a,$browser:PS(Nt,navigator.vendor),$device:I_(Nt),$device_type:(i=Nt,r=I_(i),r===_S||r===vS||r==="Kobo"||r==="Kindle Fire"||r===CS?to:r===ro||r===Ni||r===io||r===Ad?"Console":r===bS?"Wearable":r?un:"Desktop"),$timezone:MS(),$timezone_offset:LU()}),{$current_url:Yh(Ut?.href,s,lf),$host:Ut?.host,$pathname:Ut?.pathname,$raw_user_agent:Nt.length>1e3?Nt.substring(0,997)+"...":Nt,$browser_version:NU(Nt,navigator.vendor),$browser_language:E_(),$browser_language_prefix:(n=E_(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:z?.screen.height,$screen_width:z?.screen.width,$viewport_height:z?.innerHeight,$viewport_width:z?.innerWidth,$lib:"web",$lib_version:Zn.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Sn=mt("[FeatureFlags]"),ol="$active_feature_flags",bi="$override_feature_flags",A_="$feature_flag_payloads",ms="$override_feature_flag_payloads",T_="$feature_flag_request_id",$_=t=>{var e={};for(var[n,i]of wa(t||{}))i&&(e[n]=i);return e},zU=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(n=>{var i;return[n,(i=e[n].variant)!==null&&i!==void 0?i:e[n].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(n=>e[n].enabled).filter(n=>{var i;return(i=e[n].metadata)==null?void 0:i.payload}).map(n=>{var i;return[n,(i=e[n].metadata)==null?void 0:i.payload]}))):Sn.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},FU=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class BU{constructor(e){this.ge=!1,this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.we=!0;else{var e=!this.$e&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ke({disableFlags:e})}}get hasLoadedFlags(){return this._e}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(dd),n=this._instance.get_property(bi),i=this._instance.get_property(ms);if(!i&&!n)return e||{};var r=rt({},e||{}),s=[...new Set([...Object.keys(i||{}),...Object.keys(n||{})])];for(var o of s){var a,u,l=r[o],c=n?.[o],d=Y(c)?(a=l?.enabled)!==null&&a!==void 0&&a:!!c,f=Y(c)?l.variant:typeof c=="string"?c:void 0,p=i?.[o],g=Q({},l,{enabled:d,variant:d?f??l?.variant:void 0});d!==l?.enabled&&(g.original_enabled=l?.enabled),f!==l?.variant&&(g.original_variant=l?.variant),p&&(g.metadata=Q({},l?.metadata,{payload:p,original_payload:l==null||(u=l.metadata)==null?void 0:u.payload})),r[o]=g}return this.ge||(Sn.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this.ge=!0),r}getFlagVariants(){var e=this._instance.get_property(Ci),n=this._instance.get_property(bi);if(!n)return e||{};for(var i=rt({},e),r=Object.keys(n),s=0;s<r.length;s++)i[r[s]]=n[r[s]];return this.ge||(Sn.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:i}),this.ge=!0),i}getFlagPayloads(){var e=this._instance.get_property(A_),n=this._instance.get_property(ms);if(!n)return e||{};for(var i=rt({},e||{}),r=Object.keys(n),s=0;s<r.length;s++)i[r[s]]=n[r[s]];return this.ge||(Sn.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:i}),this.ge=!0),i}reloadFeatureFlags(){this.be||this._instance.config.advanced_disable_feature_flags||this.$e||(this.$e=setTimeout(()=>{this.ke()},5))}xe(){clearTimeout(this.$e),this.$e=void 0}ensureFlagsLoaded(){this._e||this.me||this.$e||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.be=e}ke(e){var n;if(this.xe(),!this._instance.I())if(this.me)this.ye=!0;else{var i={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Q({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(xs)||{}),group_properties:this._instance.get_property(Lr)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0);var r=this._instance.config.__preview_remote_config,s=r?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",s+o);r&&(i.timezone=MS()),this.me=!0,this._instance.Ee({method:"POST",url:a,data:i,compression:this._instance.config.disable_compression?void 0:Kn.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var l,c,d=!0;if(u.statusCode===200&&(this.ye||(this.$anon_distinct_id=void 0),d=!1),this.me=!1,this.we||(this.we=!0,this._instance.Ie((c=u.json)!==null&&c!==void 0?c:{})),!i.disable_flags||this.ye)if(this.Se=!d,u.json&&(l=u.json.quotaLimited)!=null&&l.includes(FU.FeatureFlags))Sn.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var f;i.disable_flags||this.receivedFeatureFlags((f=u.json)!==null&&f!==void 0?f:{},d),this.ye&&(this.ye=!1,this.ke())}}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this._e||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=""+i,s=this._instance.get_property(T_)||void 0,o=this._instance.get_property(Ba)||{};if((n.send_event||!("send_event"in n))&&(!(e in o)||!o[e].includes(r))){var a,u,l,c,d,f,p,g,b;Ze(o[e])?o[e].push(r):o[e]=[r],(a=this._instance.persistence)==null||a.register({[Ba]:o});var w=this.getFeatureFlagDetails(e),S={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[e])||null,$feature_flag_bootstrapped_payload:((l=this._instance.config.bootstrap)==null||(l=l.featureFlagPayloads)==null?void 0:l[e])||null,$used_bootstrap_value:!this.Se};Y(w==null||(c=w.metadata)==null?void 0:c.version)||(S.$feature_flag_version=w.metadata.version);var x,E=(d=w==null||(f=w.reason)==null?void 0:f.description)!==null&&d!==void 0?d:w==null||(p=w.reason)==null?void 0:p.code;E&&(S.$feature_flag_reason=E),w!=null&&(g=w.metadata)!=null&&g.id&&(S.$feature_flag_id=w.metadata.id),Y(w?.original_variant)&&Y(w?.original_enabled)||(S.$feature_flag_original_response=Y(w.original_variant)?w.original_enabled:w.original_variant),w!=null&&(b=w.metadata)!=null&&b.original_payload&&(S.$feature_flag_original_payload=w==null||(x=w.metadata)==null?void 0:x.original_payload),this._instance.capture("$feature_flag_called",S)}return i}Sn.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var i=this._instance.config.token;this._instance.Ee({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:i},compression:this._instance.config.disable_compression?void 0:Kn.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var s,o=(s=r.json)==null?void 0:s.featureFlagPayloads;n(o?.[e]||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this._e||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);Sn.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==e)}receivedFeatureFlags(e,n){if(this._instance.persistence){this._e=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(o,a,u,l,c){u===void 0&&(u={}),l===void 0&&(l={}),c===void 0&&(c={});var d=zU(o),f=d.flags,p=d.featureFlags,g=d.featureFlagPayloads;if(p){var b=o.requestId;if(Ze(p)){Sn.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(p)for(var S=0;S<p.length;S++)w[p[S]]=!0;a&&a.register({[ol]:p,[Ci]:w})}else{var x=p,E=g,T=f;o.errorsWhileComputingFlags&&(x=Q({},u,x),E=Q({},l,E),T=Q({},c,T)),a&&a.register(Q({[ol]:Object.keys($_(x)),[Ci]:x||{},[A_]:E||{},[dd]:T||{}},b?{[T_]:b}:{}))}}})(e,this._instance.persistence,i,r,s),this.Pe(n)}}override(e,n){n===void 0&&(n=!1),Sn.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return Sn.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(bi),this._instance.persistence.unregister(ms),void this.Pe();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,i=e;if(this.ge=!!((n=i.suppressWarning)!==null&&n!==void 0&&n),"flags"in i){if(i.flags===!1)this._instance.persistence.unregister(bi);else if(i.flags)if(Ze(i.flags)){for(var r={},s=0;s<i.flags.length;s++)r[i.flags[s]]=!0;this._instance.persistence.register({[bi]:r})}else this._instance.persistence.register({[bi]:i.flags})}return"payloads"in i&&(i.payloads===!1?this._instance.persistence.unregister(ms):i.payloads&&this._instance.persistence.register({[ms]:i.payloads})),void this.Pe()}this.Pe()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._e){var{flags:n,flagVariants:i}=this.Re();e(n,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n){var i,r=(this._instance.get_property(Sa)||[]).find(u=>u.flagKey===e),s={["$feature_enrollment/"+e]:n},o={$feature_flag:e,$feature_enrollment:n,$set:s};r&&(o.$early_access_feature_name=r.name),this._instance.capture("$feature_enrollment_update",o),this.setPersonPropertiesForFlags(s,!1);var a=Q({},this.getFlagVariants(),{[e]:n});(i=this._instance.persistence)==null||i.register({[ol]:Object.keys($_(a)),[Ci]:a}),this.Pe()}getEarlyAccessFeatures(e,n,i){n===void 0&&(n=!1);var r=this._instance.get_property(Sa),s=i?"&"+i.map(o=>"stage="+o).join("&"):"";if(r&&!n)return e(r);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:o=>{var a;if(o.json){var u=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.register({[Sa]:u}),e(u)}}})}Re(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(i=>n[i]),flagVariants:Object.keys(n).filter(i=>n[i]).reduce((i,r)=>(i[r]=n[r],i),{})}}Pe(e){var{flags:n,flagVariants:i}=this.Re();this.featureFlagEventHandlers.forEach(r=>r(n,i,{errorsLoading:e}))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var i=this._instance.get_property(xs)||{};this._instance.register({[xs]:Q({},i,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(xs)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var i=this._instance.get_property(Lr)||{};Object.keys(i).length!==0&&Object.keys(i).forEach(r=>{i[r]=Q({},i[r],e[r]),delete e[r]}),this._instance.register({[Lr]:Q({},i,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(Lr)||{};this._instance.register({[Lr]:Q({},n,{[e]:{}})})}else this._instance.unregister(Lr)}reset(){this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$anon_distinct_id=void 0,this.xe(),this.ge=!1}}var VU=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class al{constructor(e,n){this.S=e,this.props={},this.Te=!1,this.Me=(i=>{var r="";return i.token&&(r=i.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),i.persistence_name?"ph_"+i.persistence_name:"ph_"+r+"_posthog"})(e),this.B=this.Ce(e),this.load(),e.debug&&re.info("Persistence loaded",e.persistence,Q({},this.props)),this.update_config(e,e,n),this.save()}isDisabled(){return!!this.Fe}Ce(e){VU.indexOf(e.persistence.toLowerCase())===-1&&(re.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&lt.O()?lt:n==="localstorage+cookie"&&Ko.O()?Ko:n==="sessionstorage"&&yt.O()?yt:n==="memory"?wj:n==="cookie"?Dn:Ko.O()?Ko:Dn}properties(){var e={};return je(this.props,function(n,i){if(i===Ci&&Qe(n))for(var r=Object.keys(n),s=0;s<r.length;s++)e["$feature/"+r[s]]=n[r[s]];else a=i,u=!1,(Ir(o=tj)?u:jv&&o.indexOf===jv?o.indexOf(a)!=-1:(je(o,function(l){if(u||(u=l===a))return za}),u))||(e[i]=n);var o,a,u}),e}load(){if(!this.Fe){var e=this.B.L(this.Me);e&&(this.props=rt({},e))}}save(){this.Fe||this.B.j(this.Me,this.props,this.Oe,this.Ae,this.De,this.S.debug)}remove(){this.B.N(this.Me,!1),this.B.N(this.Me,!0)}clear(){this.remove(),this.props={}}register_once(e,n,i){if(Qe(e)){Y(n)&&(n="None"),this.Oe=Y(i)?this.Le:i;var r=!1;if(je(e,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,r=!0)}),r)return this.save(),!0}return!1}register(e,n){if(Qe(e)){this.Oe=Y(n)?this.Le:n;var i=!1;if(je(e,(r,s)=>{e.hasOwnProperty(s)&&this.props[s]!==r&&(this.props[s]=r,i=!0)}),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Te){var e=RS(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);Oi(Jh(e))||this.register(e),this.Te=!0}}update_search_keyword(){var e;this.register((e=te?.referrer)?NS(e):{})}update_referrer_info(){var e;this.register_once({$referrer:jS(),$referring_domain:te!=null&&te.referrer&&((e=qi(te.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[md]||this.props[gd]||this.register_once({[Va]:US(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};je([gd,md],o=>{var a=this.props[o];a&&je(a,function(u,l){e["$initial_"+id(l)]=u})});var n,i,r=this.props[Va];if(r){var s=(n=LS(r),i={},je(n,function(o,a){i["$initial_"+id(a)]=o}),i);rt(e,s)}return e}safe_merge(e){return je(this.props,function(n,i){i in e||(e[i]=n)}),e}update_config(e,n,i){if(this.Le=this.Oe=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!i),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var r=this.Ce(e),s=this.props;this.clear(),this.B=r,this.props=s,this.save()}}set_disabled(e){this.Fe=e,this.Fe?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ae&&(this.Ae=e,this.remove(),this.save())}set_secure(e){e!==this.De&&(this.De=e,this.remove(),this.save())}set_event_timer(e,n){var i=this.props[ws]||{};i[e]=n,this.props[ws]=i,this.save()}remove_event_timer(e){var n=(this.props[ws]||{})[e];return Y(n)||(delete this.props[ws][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}class zS{constructor(){this.je={},this.je={}}on(e,n){return this.je[e]||(this.je[e]=[]),this.je[e].push(n),()=>{this.je[e]=this.je[e].filter(i=>i!==n)}}emit(e,n){for(var i of this.je[e]||[])i(n);for(var r of this.je["*"]||[])r(e,n)}}class Mr{constructor(e){this.Ne=new zS,this.ze=(n,i)=>this.Ue(n,i)&&this.qe(n,i)&&this.Be(n,i),this.Ue=(n,i)=>i==null||!i.event||n?.event===i?.event,this._instance=e,this.He=new Set,this.We=new Set}init(){var e;if(!Y((e=this._instance)==null?void 0:e.Ge)){var n;(n=this._instance)==null||n.Ge((i,r)=>{this.on(i,r)})}}register(e){var n,i;if(!Y((n=this._instance)==null?void 0:n.Ge)&&(e.forEach(o=>{var a,u;(a=this.We)==null||a.add(o),(u=o.steps)==null||u.forEach(l=>{var c;(c=this.He)==null||c.add(l?.event||"")})}),(i=this._instance)!=null&&i.autocapture)){var r,s=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(u=>{u!=null&&u.selector&&s.add(u?.selector)})}),(r=this._instance)==null||r.autocapture.setElementSelectors(s)}}on(e,n){var i;n!=null&&e.length!=0&&(this.He.has(e)||this.He.has(n?.event))&&this.We&&((i=this.We)==null?void 0:i.size)>0&&this.We.forEach(r=>{this.Je(n,r)&&this.Ne.emit("actionCaptured",r.name)})}Ve(e){this.onAction("actionCaptured",n=>e(n))}Je(e,n){if(n?.steps==null)return!1;for(var i of n.steps)if(this.ze(e,i))return!0;return!1}onAction(e,n){return this.Ne.on(e,n)}qe(e,n){if(n!=null&&n.url){var i,r=e==null||(i=e.properties)==null?void 0:i.$current_url;if(!r||typeof r!="string"||!Mr.Ke(r,n?.url,n?.url_matching||"contains"))return!1}return!0}static Ke(e,n,i){switch(i){case"regex":return!!z&&Zi(e,n);case"exact":return n===e;case"contains":var r=Mr.Ye(n).replace(/_/g,".").replace(/%/g,".*");return Zi(e,r);default:return!1}}static Ye(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Be(e,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.Xe(e).some(s=>!(n!=null&&n.href&&!Mr.Ke(s.href||"",n?.href,n?.href_matching||"exact"))&&(n==null||!n.tag_name||s.tag_name===n?.tag_name)&&!(n!=null&&n.text&&!Mr.Ke(s.text||"",n?.text,n?.text_matching||"exact")&&!Mr.Ke(s.$el_text||"",n?.text,n?.text_matching||"exact"))))return!1;if(n!=null&&n.selector){var i,r=e==null||(i=e.properties)==null?void 0:i.$element_selectors;if(!r||!r.includes(n?.selector))return!1}return!0}Xe(e){return e?.properties.$elements==null?[]:e?.properties.$elements}}var ft=mt("[Surveys]"),$d="seenSurvey_",qU=(t,e)=>{var n="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(n="$survey_"+e+"/"+t.id+"/"+t.current_iteration),n};class GU{constructor(e){this._instance=e,this.Qe=new Map,this.Ze=new Map}register(e){var n;Y((n=this._instance)==null?void 0:n.Ge)||(this.tr(e),this.ir(e))}ir(e){var n=e.filter(i=>{var r,s;return((r=i.conditions)==null?void 0:r.actions)&&((s=i.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0});n.length!==0&&(this.er==null&&(this.er=new Mr(this._instance),this.er.init(),this.er.Ve(i=>{this.onAction(i)})),n.forEach(i=>{var r,s,o,a,u;i.conditions&&(r=i.conditions)!=null&&r.actions&&(s=i.conditions)!=null&&(s=s.actions)!=null&&s.values&&((o=i.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.er)==null||a.register(i.conditions.actions.values),(u=i.conditions)==null||(u=u.actions)==null||(u=u.values)==null||u.forEach(l=>{if(l&&l.name){var c=this.Ze.get(l.name);c&&c.push(i.id),this.Ze.set(l.name,c||[i.id])}}))}))}tr(e){var n;e.filter(i=>{var r,s;return((r=i.conditions)==null?void 0:r.events)&&((s=i.conditions)==null||(s=s.events)==null||(s=s.values)==null?void 0:s.length)>0}).length!==0&&((n=this._instance)==null||n.Ge((i,r)=>{this.onEvent(i,r)}),e.forEach(i=>{var r;(r=i.conditions)==null||(r=r.events)==null||(r=r.values)==null||r.forEach(s=>{if(s&&s.name){var o=this.Qe.get(s.name);o&&o.push(i.id),this.Qe.set(s.name,o||[i.id])}})}))}onEvent(e,n){var i,r=((i=this._instance)==null||(i=i.persistence)==null?void 0:i.props[Ho])||[];if(e==="survey shown"&&n&&r.length>0){var s;ft.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:r});var o=n==null||(s=n.properties)==null?void 0:s.$survey_id;if(o){var a=r.indexOf(o);a>=0&&(r.splice(a,1),this.rr(r))}}else this.Qe.has(e)&&(ft.info("survey event matched, updating activated surveys",{event:e,surveys:this.Qe.get(e)}),this.rr(r.concat(this.Qe.get(e)||[])))}onAction(e){var n,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Ho])||[];this.Ze.has(e)&&this.rr(i.concat(this.Ze.get(e)||[]))}rr(e){var n;(n=this._instance)==null||(n=n.persistence)==null||n.register({[Ho]:[...new Set(e)]})}getSurveys(){var e,n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Ho];return n||[]}getEventToSurveys(){return this.Qe}sr(){return this.er}}class ZU{constructor(e){this.nr=void 0,this.ar=null,this.lr=!1,this.ur=!1,this.hr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var n=e.surveys;if(Pe(n))return ft.warn("Flags not loaded yet. Not loading surveys.");var i=Ze(n);this.nr=i?n.length>0:n,ft.info("flags response received, isSurveysEnabled: "+this.nr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var i=localStorage.key(n);(i!=null&&i.startsWith($d)||i!=null&&i.startsWith("inProgressSurvey_"))&&e.push(i)}e.forEach(r=>localStorage.removeItem(r))}loadIfEnabled(){if(!this.ar)if(this.ur)ft.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)ft.info("Disabled. Not loading surveys.");else{var e=fe?.__PosthogExtensions__;if(e){var n=this.nr;if(!Y(n)){this.ur=!0;try{var i=e.generateSurveys;if(i)return void this.dr(i,n);var r=e.loadExternalDependency;if(!r)return void this.vr("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",s=>{s||!e.generateSurveys?this.vr("Could not load surveys script",s):this.dr(e.generateSurveys,n)})}catch(s){throw this.vr("Error initializing surveys",s),s}finally{this.ur=!1}}}else ft.error("PostHog Extensions not found.")}}dr(e,n){this.ar=e(this._instance,n),this._surveyEventReceiver=new GU(this._instance),ft.info("Surveys loaded successfully"),this.cr({isLoaded:!0})}vr(e,n){ft.error(e,n),this.cr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.hr.push(e),this.ar&&this.cr({isLoaded:!0}),()=>{this.hr=this.hr.filter(n=>n!==e)}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return ft.info("Disabled. Not loading surveys."),e([]);var i=this._instance.get_property(hd);if(i&&!n)return e(i,{isLoaded:!0});if(this.lr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.lr=!0,this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:r=>{var s;this.lr=!1;var o=r.statusCode;if(o!==200||!r.json){var a="Surveys API could not be loaded, status: "+o;return ft.error(a),e([],{isLoaded:!1,error:a})}var u,l=r.json.surveys||[],c=l.filter(d=>function(f){return!(!f.start_date||f.end_date)}(d)&&(function(f){var p;return!((p=f.conditions)==null||(p=p.events)==null||(p=p.values)==null||!p.length)}(d)||function(f){var p;return!((p=f.conditions)==null||(p=p.actions)==null||(p=p.values)==null||!p.length)}(d)));return c.length>0&&((u=this._surveyEventReceiver)==null||u.register(c)),(s=this._instance.persistence)==null||s.register({[hd]:l}),e(l,{isLoaded:!0})}})}catch(r){throw this.lr=!1,r}}cr(e){for(var n of this.hr)try{e.isLoaded?this.getSurveys(n):n([],e)}catch(i){ft.error("Error in survey callback",i)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!Pe(this.ar))return this.ar.getActiveMatchingSurveys(e,n);ft.warn("init was not called")}pr(e){var n=null;return this.getSurveys(i=>{var r;n=(r=i.find(s=>s.id===e))!==null&&r!==void 0?r:null}),n}gr(e){if(Pe(this.ar))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this.pr(e):e;return n?this.ar.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Pe(this.ar))return ft.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.gr(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return Pe(this.ar)?(ft.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(i=>{this.getSurveys(r=>{var s,o=(s=r.find(u=>u.id===e))!==null&&s!==void 0?s:null;if(o){var a=this.gr(o);i({visible:a.eligible,disabledReason:a.reason})}else i({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(e,n){if(Pe(this.ar))ft.warn("init was not called");else{var i=this.pr(e),r=te?.querySelector(n);i?r?this.ar.renderSurvey(i,r):ft.warn("Survey element not found"):ft.warn("Survey not found")}}}(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});(function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t})({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var ul=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t}({}),O_=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t}({}),C_=mt("[RateLimiter]");class HU{constructor(e){var n,i;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=r=>{var s=r.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{C_.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void C_.warn('could not rate limit - continuing. Error: "'+o?.message+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((i=e.config.rate_limiting)==null?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,i,r;e===void 0&&(e=!1);var s=new Date().getTime(),o=(n=(i=this.instance.persistence)==null?void 0:i.get_property(pd))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)==null||r.set_property(pd,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Nr=mt("[RemoteConfig]");class WU{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=fe._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}_r(e){var n,i;(n=fe.__PosthogExtensions__)!=null&&n.loadExternalDependency?(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Nr.error("PostHog Extensions not found. Cannot load remote config."),e())}mr(e){this._instance.Ee({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return Nr.info("Using preloaded remote config",this.remoteConfig),void this.Ie(this.remoteConfig);if(this._instance.I())return void Nr.warn("Remote config is disabled. Falling back to local config.");this._r(e=>{if(!e)return Nr.info("No config found after loading remote JS config. Falling back to JSON."),void this.mr(n=>{this.Ie(n)});this.Ie(e)})}catch(e){Nr.error("Error loading remote config",e)}}Ie(e){e?this._instance.config.__preview_remote_config?(this._instance.Ie(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Nr.info("__preview_remote_config is disabled. Logging config instead",e):Nr.error("Failed to fetch remote config from PostHog.")}}var Od=3e3;class KU{constructor(e,n){this.br=!0,this.yr=[],this.wr=Wt(n?.flush_interval_ms||Od,250,5e3,"flush interval",Od),this.Sr=e}enqueue(e){this.yr.push(e),this.$r||this.kr()}unload(){this.Er();var e=this.yr.length>0?this.Ir():{},n=Object.values(e);[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)].map(i=>{this.Sr(Q({},i,{transport:"sendBeacon"}))})}enable(){this.br=!1,this.kr()}kr(){var e=this;this.br||(this.$r=setTimeout(()=>{if(this.Er(),this.yr.length>0){var n=this.Ir(),i=function(){var s=n[r],o=new Date().getTime();s.data&&Ze(s.data)&&je(s.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.Sr(s)};for(var r in n)i()}},this.wr))}Er(){clearTimeout(this.$r),this.$r=void 0}Ir(){var e={};return je(this.yr,n=>{var i,r=n,s=(r?r.batchKey:null)||r.url;Y(e[s])&&(e[s]=Q({},r,{data:[]})),(i=e[s].data)==null||i.push(r.data)}),this.yr=[],e}}var JU=["retriesPerformedSoFar"];class XU{constructor(e){this.Pr=!1,this.Rr=3e3,this.yr=[],this._instance=e,this.yr=[],this.Tr=!0,!Y(z)&&"onLine"in z.navigator&&(this.Tr=z.navigator.onLine,Je(z,"online",()=>{this.Tr=!0,this.se()}),Je(z,"offline",()=>{this.Tr=!1}))}get length(){return this.yr.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,i=Uw(e,JU);Et(n)&&n>0&&(i.url=Ya(i.url,{retry_count:n})),this._instance.Ee(Q({},i,{callback:r=>{r.statusCode!==200&&(r.statusCode<400||r.statusCode>=500)&&(n??0)<10?this.Mr(Q({retriesPerformedSoFar:n},i)):i.callback==null||i.callback(r)}}))}Mr(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var i=function(o){var a=3e3*Math.pow(2,o),u=a/2,l=Math.min(18e5,a),c=(Math.random()-.5)*(l-u);return Math.ceil(l+c)}(n),r=Date.now()+i;this.yr.push({retryAt:r,requestOptions:e});var s="Enqueued failed request for retry in "+i;navigator.onLine||(s+=" (Browser is offline)"),re.warn(s),this.Pr||(this.Pr=!0,this.Cr())}Cr(){this.Fr&&clearTimeout(this.Fr),this.Fr=setTimeout(()=>{this.Tr&&this.yr.length>0&&this.se(),this.Cr()},this.Rr)}se(){var e=Date.now(),n=[],i=this.yr.filter(s=>s.retryAt<e||(n.push(s),!1));if(this.yr=n,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.Fr&&(clearTimeout(this.Fr),this.Fr=void 0),this.yr))try{this._instance.Ee(Q({},e,{transport:"sendBeacon"}))}catch(n){re.error(n)}this.yr=[]}}class YU{constructor(e){this.Or=()=>{var n,i,r,s;this.Ar||(this.Ar={});var o=this.scrollElement(),a=this.scrollY(),u=o?Math.max(0,o.scrollHeight-o.clientHeight):0,l=a+(o?.clientHeight||0),c=o?.scrollHeight||0;this.Ar.lastScrollY=Math.ceil(a),this.Ar.maxScrollY=Math.max(a,(n=this.Ar.maxScrollY)!==null&&n!==void 0?n:0),this.Ar.maxScrollHeight=Math.max(u,(i=this.Ar.maxScrollHeight)!==null&&i!==void 0?i:0),this.Ar.lastContentY=l,this.Ar.maxContentY=Math.max(l,(r=this.Ar.maxContentY)!==null&&r!==void 0?r:0),this.Ar.maxContentHeight=Math.max(c,(s=this.Ar.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.Ar}resetContext(){var e=this.Ar;return setTimeout(this.Or,0),e}startMeasuringScrollPosition(){Je(z,"scroll",this.Or,{capture:!0}),Je(z,"scrollend",this.Or,{capture:!0}),Je(z,"resize",this.Or)}scrollElement(){if(!this._instance.config.scroll_root_selector)return z?.document.documentElement;var e=Ze(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var i=z?.document.querySelector(n);if(i)return i}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return z&&(z.scrollY||z.pageYOffset||z.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return z&&(z.scrollX||z.pageXOffset||z.document.documentElement.scrollLeft)||0}}var QU=t=>US(t?.config.mask_personal_data_properties,t?.config.custom_personal_data_properties);class eL{constructor(e,n,i,r){this.Dr=s=>{var o=this.Lr();if(!o||o.sessionId!==s){var a={sessionId:s,props:this.jr(this._instance)};this.Nr.register({[fd]:a})}},this._instance=e,this.zr=n,this.Nr=i,this.jr=r||QU,this.zr.onSessionId(this.Dr)}Lr(){return this.Nr.props[fd]}getSetOnceProps(){var e,n=(e=this.Lr())==null?void 0:e.props;return n?"r"in n?LS(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return je(Jh(this.getSetOnceProps()),(n,i)=>{i==="$current_url"&&(i="url"),e["$session_entry_"+id(i)]=n}),e}}var P_=mt("[SessionId]");class tL{constructor(e,n,i){var r;if(this.Ur=[],!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Nr=e.persistence,this.fi=void 0,this.Ct=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.qr=n||fr,this.Br=i||fr;var s=this.S.persistence_name||this.S.token,o=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Wt(o,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Hr(),this.Wr="ph_"+s+"_window_id",this.Gr="ph_"+s+"_primary_window_exists",this.Jr()){var a=yt.L(this.Wr),u=yt.L(this.Gr);a&&!u?this.fi=a:yt.N(this.Wr),yt.j(this.Gr,!0)}if((r=this.S.bootstrap)!=null&&r.sessionID)try{var l=(c=>{var d=c.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Vr(this.S.bootstrap.sessionID,new Date().getTime(),l)}catch(c){P_.error("Invalid sessionID in bootstrap",c)}this.Kr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return Y(this.Ur)&&(this.Ur=[]),this.Ur.push(e),this.Ct&&e(this.Ct,this.fi),()=>{this.Ur=this.Ur.filter(n=>n!==e)}}Jr(){return this.S.persistence!=="memory"&&!this.Nr.Fe&&yt.O()}Yr(e){e!==this.fi&&(this.fi=e,this.Jr()&&yt.j(this.Wr,e))}Xr(){return this.fi?this.fi:this.Jr()?yt.L(this.Wr):null}Vr(e,n,i){e===this.Ct&&n===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=n,this.Ct=e,this.Nr.register({[Fa]:[n,e,i]}))}Qr(){if(this.Ct&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ct,this._sessionStartTimestamp];var e=this.Nr.props[Fa];return Ze(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Vr(null,null,null)}Kr(){Je(z,"beforeunload",()=>{this.Jr()&&yt.N(this.Gr)},{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var i=n||new Date().getTime(),[r,s,o]=this.Qr(),a=this.Xr(),u=Et(o)&&o>0&&Math.abs(i-o)>864e5,l=!1,c=!s,d=!e&&Math.abs(i-r)>this.sessionTimeoutMs;c||d||u?(s=this.qr(),a=this.Br(),P_.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:u}}),o=i,l=!0):a||(a=this.Br(),l=!0);var f=r===0||!e||u?i:r,p=o===0?new Date().getTime():o;return this.Yr(a),this.Vr(s,f,p),e||this.Hr(),l&&this.Ur.forEach(g=>g(s,a,l?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:u}:void 0)),{sessionId:s,windowId:a,sessionStartTimestamp:p,changeReason:l?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:u}:void 0,lastActivityTimestamp:r}}Hr(){clearTimeout(this.Zr),this.Zr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var nL=["$set_once","$set"],ar=mt("[SiteApps]");class rL{constructor(e){this._instance=e,this.ts=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}es(e,n){if(n){var i=this.globalsForEvent(n);this.ts.push(i),this.ts.length>1e3&&(this.ts=this.ts.slice(10))}}get siteAppLoaders(){var e;return(e=fe._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ge(this.es.bind(this));this.rs=()=>{e(),this.ts=[],this.rs=void 0}}}globalsForEvent(e){var n,i,r,s,o,a,u;if(!e)throw new Error("Event payload is required");var l={},c=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[f,p]of Object.entries(d))l[f]={id:c[f],type:f,properties:p};var{$set_once:g,$set:b}=e;return{event:Q({},Uw(e,nL),{properties:Q({},e.properties,b?{$set:Q({},(n=(i=e.properties)==null?void 0:i.$set)!==null&&n!==void 0?n:{},b)}:{},g?{$set_once:Q({},(r=(s=e.properties)==null?void 0:s.$set_once)!==null&&r!==void 0?r:{},g)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(u=e.properties)==null?void 0:u.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var n=this.apps[e.id],i=()=>{var a;!n.errored&&this.ts.length&&(ar.info("Processing "+this.ts.length+" events for site app with id "+e.id),this.ts.forEach(u=>n.processEvent==null?void 0:n.processEvent(u)),n.processedBuffer=!0),Object.values(this.apps).every(u=>u.processedBuffer||u.errored)&&((a=this.rs)==null||a.call(this))},r=!1,s=a=>{n.errored=!a,n.loaded=!0,ar.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),r&&i()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{s(a)}});o&&(n.processEvent=o),r=!0}catch(a){ar.error("Error while initializing PostHog app with config id "+e.id,a),s(!1)}if(r&&n.loaded)try{i()}catch(a){ar.error("Error while processing buffered events PostHog app with config id "+e.id,a),n.errored=!0}}ss(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}ns(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{i.processEvent==null||i.processEvent(n)}catch(r){ar.error("Error while processing event "+e.event+" for site app "+i.id,r)}}}onRemoteConfig(e){var n,i,r,s=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.ss(),void this._instance.on("eventCaptured",l=>this.ns(l))):void ar.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((i=this.rs)==null||i.call(this),(r=e.siteApps)!=null&&r.length)if(this.isEnabled){var o=function(l){var c;fe["__$$ph_site_app_"+l]=s._instance,(c=fe.__PosthogExtensions__)==null||c.loadSiteApp==null||c.loadSiteApp(s._instance,u,d=>{if(d)return ar.error("Error while initializing PostHog app with config id "+l,d)})};for(var{id:a,url:u}of e.siteApps)o(a)}else ar.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var iL=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],R_=function(t,e){if(!t)return!1;var n=t.toLowerCase();return iL.concat(e||[]).some(i=>{var r=i.toLowerCase();return n.indexOf(r)!==-1})},FS=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&R_(n,e))return!0;try{var i=t?.userAgentData;if(i!=null&&i.brands&&i.brands.some(r=>R_(r?.brand,e)))return!0}catch{}return!!t.webdriver},As=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),D_="i.posthog.com";class sL{constructor(e){this.os={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+D_,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.os[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=As.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=As.EU:this.os[this.apiHost]=As.CUSTOM),this.os[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(this.region===As.CUSTOM)return this.apiHost+n;var i=D_+n;switch(e){case"assets":return"https://"+this.region+"-assets."+i;case"api":return"https://"+this.region+"."+i}}}var oL={icontains:(t,e)=>!!z&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!z&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!z&&Zi(e.href,t),not_regex:(t,e)=>!!z&&!Zi(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};let aL=class Ct{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(i){i===void 0&&(i=!1),n.getWebExperiments(r=>{Ct.ls("retrieved web experiments from the server"),n.us=new Map,r.forEach(s=>{if(s.feature_flag_key){var o;n.us&&(Ct.ls("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=n.us)==null||o.set(s.feature_flag_key,s));var a=n._instance.getFeatureFlag(s.feature_flag_key);et(a)&&s.variants[a]&&n.hs(s.name,a,s.variants[a].transforms)}else if(s.variants)for(var u in s.variants){var l=s.variants[u];Ct.ds(l)&&n.hs(s.name,u,l.transforms)}})},i)},this._instance=e,this._instance.onFeatureFlags(i=>{this.onFeatureFlags(i)})}onFeatureFlags(e){if(this._is_bot())Ct.ls("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Pe(this.us))return this.us=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Ct.ls("applying feature flags",e),e.forEach(n=>{var i;if(this.us&&(i=this.us)!=null&&i.has(n)){var r,s=this._instance.getFeatureFlag(n),o=(r=this.us)==null?void 0:r.get(n);s&&o!=null&&o.variants[s]&&this.hs(o.name,s,o.variants[s].transforms)}})}}previewWebExperiment(){var e=Ct.getWindowLocation();if(e!=null&&e.search){var n=Za(e?.search,"__experiment_id"),i=Za(e?.search,"__experiment_variant");n&&i&&(Ct.ls("previewing web experiments "+n+" && "+i),this.getWebExperiments(r=>{this.vs(parseInt(n),i,r)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,i){if(this._instance.config.disable_web_experiments&&!i)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!n)return e(r);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var o=s.json.experiments||[];return e(o)}})}vs(e,n,i){var r=i.filter(s=>s.id===e);r&&r.length>0&&(Ct.ls("Previewing web experiment ["+r[0].name+"] with variant ["+n+"]"),this.hs(r[0].name,n,r[0].variants[n].transforms))}static ds(e){return!Pe(e.conditions)&&Ct.cs(e)&&Ct.fs(e)}static cs(e){var n;if(Pe(e.conditions)||Pe((n=e.conditions)==null?void 0:n.url))return!0;var i,r,s,o=Ct.getWindowLocation();return!!o&&((i=e.conditions)==null||!i.url||oL[(r=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&r!==void 0?r:"icontains"](e.conditions.url,o))}static getWindowLocation(){return z?.location}static fs(e){var n;if(Pe(e.conditions)||Pe((n=e.conditions)==null?void 0:n.utm))return!0;var i=RS();if(i.utm_source){var r,s,o,a,u,l,c,d,f=(r=e.conditions)==null||(r=r.utm)==null||!r.utm_campaign||((s=e.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==i.utm_campaign,p=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==i.utm_source,g=(u=e.conditions)==null||(u=u.utm)==null||!u.utm_medium||((l=e.conditions)==null||(l=l.utm)==null?void 0:l.utm_medium)==i.utm_medium,b=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_term||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_term)==i.utm_term;return f&&g&&b&&p}return!1}static ls(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];re.info("[WebExperiments] "+e,i)}hs(e,n,i){this._is_bot()?Ct.ls("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?i.forEach(r=>{if(r.selector){var s;Ct.ls("applying transform of variant "+n+" for experiment "+e+" ",r);var o=(s=document)==null?void 0:s.querySelectorAll(r.selector);o?.forEach(a=>{var u=a;r.html&&(u.innerHTML=r.html),r.css&&u.setAttribute("style",r.css)})}}):Ct.ls("Control variants leave the page unmodified.")}_is_bot(){return Ht&&this._instance?FS(Ht,this._instance.config.custom_blocked_useragents):void 0}};var uL=mt("[PostHog ExternalIntegrations]"),cL={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class lL{constructor(e){this._instance=e}J(e,n){var i;(i=fe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,e,r=>{if(r)return uL.error("failed to load script",r);n()})}startIfEnabledOrStop(){var e=this,n=function(o){var a,u,l;!r||(a=fe.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.J(cL[o],()=>{var c;(c=fe.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.start(e._instance)}),!r&&(u=fe.__PosthogExtensions__)!=null&&(u=u.integrations)!=null&&u[o]&&((l=fe.__PosthogExtensions__)==null||(l=l.integrations)==null||(l=l[o])==null||l.stop())};for(var[i,r]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;n(i)}}}var Ms={},Cd=()=>{},wi="posthog",BS=!SU&&Nt?.indexOf("MSIE")===-1&&Nt?.indexOf("Mozilla")===-1,N_=t=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:ej(te?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Cd,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:t!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:t??"unset",debug:Ut&&et(Ut?.search)&&Ut.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(z==null||(e=z.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var i="Bad HTTP status: "+n.statusCode+" "+n.text;re.error(i)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Od},error_tracking:{},_onCapture:Cd}},j_=t=>{var e={};Y(t.process_person)||(e.person_profiles=t.process_person),Y(t.xhr_headers)||(e.request_headers=t.xhr_headers),Y(t.cookie_name)||(e.persistence_name=t.cookie_name),Y(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),Y(t.store_google)||(e.save_campaign_params=t.store_google),Y(t.verbose)||(e.debug=t.verbose);var n=rt({},e,t);return Ze(t.property_blacklist)&&(Y(t.property_denylist)?n.property_denylist=t.property_blacklist:Ze(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:re.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class dL{constructor(){this.__forceAllowLocalhost=!1}get ps(){return this.__forceAllowLocalhost}set ps(e){re.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}let VS=class qS{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new dL,this.gs=!1,this.version=Zn.LIB_VERSION,this._s=new zS,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=N_(),this.SentryIntegration=hU,this.sentryIntegration=e=>function(n,i){var r=gS(n,i);return{name:mS,processEvent:s=>r(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.bs=!1,this.ys=null,this.ws=null,this.Ss=null,this.featureFlags=new BU(this),this.toolbar=new pU(this),this.scrollManager=new YU(this),this.pageViewManager=new bU(this),this.surveys=new ZU(this),this.experiments=new aL(this),this.exceptions=new IU(this),this.rateLimiter=new HU(this),this.requestRouter=new sL(this),this.consent=new Sj(this),this.externalIntegrations=new lL(this),this.people={set:(e,n,i)=>{var r=et(e)?{[e]:n}:e;this.setPersonProperties(r),i?.({})},set_once:(e,n,i)=>{var r=et(e)?{[e]:n}:e;this.setPersonProperties(void 0,r),i?.({})}},this.on("eventCaptured",e=>re.info('send "'+e?.event+'"',e))}init(e,n,i){if(i&&i!==wi){var r,s=(r=Ms[i])!==null&&r!==void 0?r:new qS;return s._init(e,n,i),Ms[i]=s,Ms[wi][i]=s,s}return this._init(e,n,i)}_init(e,n,i){var r,s;if(n===void 0&&(n={}),Y(e)||sd(e))return re.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return re.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.$s=n,this.ks=[],n.person_profiles&&(this.ws=n.person_profiles),this.set_config(rt({},N_(n.defaults),j_(n),{name:i,token:e})),this.config.on_xhr_error&&re.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:Kn.GZipJS;var o=this.xs();this.persistence=new al(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new al(Q({},this.config,{persistence:"sessionStorage"}),o);var a=Q({},this.persistence.props),u=Q({},this.sessionPersistence.props);if(this.register({$initialization_time:new Date().toISOString()}),this.Es=new KU(x=>this.Is(x),this.config.request_queue_config),this.Ps=new XU(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new tL(this),this.sessionPropsManager=new eL(this,this.sessionManager,this.persistence)),new gU(this).startIfEnabledOrStop(),this.siteApps=new rL(this),(r=this.siteApps)==null||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new lU(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new pj(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new yU(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new vU(this),this.exceptionObserver=new Ij(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new eS(this,kj),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Mj(this),this.historyAutocapture.startIfEnabled(),Zn.DEBUG=Zn.DEBUG||this.config.debug,Zn.DEBUG&&re.info("Starting in debug mode",{this:this,config:n,thisC:Q({},this.config),p:a,s:u}),((s=n.bootstrap)==null?void 0:s.distinctID)!==void 0){var l,c,d=this.config.get_device_id(fr()),f=(l=n.bootstrap)!=null&&l.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(qn,(c=n.bootstrap)!=null&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:f})}if(this.Rs()){var p,g,b=Object.keys(((p=n.bootstrap)==null?void 0:p.featureFlags)||{}).filter(x=>{var E;return!((E=n.bootstrap)==null||(E=E.featureFlags)==null||!E[x])}).reduce((x,E)=>{var T;return x[E]=((T=n.bootstrap)==null||(T=T.featureFlags)==null?void 0:T[E])||!1,x},{}),w=Object.keys(((g=n.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter(x=>b[x]).reduce((x,E)=>{var T,k;return(T=n.bootstrap)!=null&&(T=T.featureFlagPayloads)!=null&&T[E]&&(x[E]=(k=n.bootstrap)==null||(k=k.featureFlagPayloads)==null?void 0:k[E]),x},{});this.featureFlags.receivedFeatureFlags({featureFlags:b,featureFlagPayloads:w})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Wo,$device_id:null},"");else if(!this.get_distinct_id()){var S=this.config.get_device_id(fr());this.register_once({distinct_id:S,$device_id:S},""),this.persistence.set_property(qn,"anonymous")}return Je(z,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?dU(this,()=>this.Ts()):this.Ts(),on(this.config._onCapture)&&this.config._onCapture!==Cd&&(re.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",x=>this.config._onCapture(x.event,x))),this.config.ip&&re.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ie(e){var n,i,r,s,o,a,u,l;if(!te||!te.body)return re.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ie(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Ee(e.supportedCompression,Kn.GZipJS)?Kn.GZipJS:Ee(e.supportedCompression,Kn.Base64)?Kn.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ws?this.ws:"identified_only"}),(i=this.siteApps)==null||i.onRemoteConfig(e),(r=this.sessionRecording)==null||r.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(u=this.exceptionObserver)==null||u.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(l=this.deadClicksAutocapture)==null||l.onRemoteConfig(e)}Ts(){try{this.config.loaded(this)}catch(e){re.critical("`loaded` function failed",e)}this.Ms(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Cs()},1),new WU(this).load(),this.featureFlags.flags()}Ms(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.Es)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||pr(this.__request_queue,e=>this.Is(e)),this.__request_queue=[],this.Ms()}_handle_unload(){var e,n;this.config.request_batching?(this.Fs()&&this.capture("$pageleave"),(e=this.Es)==null||e.unload(),(n=this.Ps)==null||n.unload()):this.Fs()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Ee(e){this.__loaded&&(BS?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Ya(e.url,{ip:this.config.ip?1:0}),e.headers=Q({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var i,r,s,o=Q({},n);o.timeout=o.timeout||6e4,o.url=Ya(o.url,{_:new Date().getTime().toString(),ver:Zn.LIB_VERSION,compression:o.compression});var a=(i=o.transport)!==null&&i!==void 0?i:"fetch",u=(r=(s=Lw(Ls,l=>l.transport===a))==null?void 0:s.method)!==null&&r!==void 0?r:Ls[0].method;if(!u)throw new Error("No available transport method");u(o)})(Q({},e,{callback:n=>{var i,r;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(r=this.config).on_request_error)==null||i.call(r,n)),e.callback==null||e.callback(n)}}))))}Is(e){this.Ps?this.Ps.retriableRequest(e):this.Ee(e)}_execute_array(e){var n,i=[],r=[],s=[];pr(e,a=>{a&&(n=a[0],Ze(n)?s.push(a):on(a)?a.call(this):Ze(a)&&n==="alias"?i.push(a):Ze(a)&&n.indexOf("capture")!==-1&&on(this[n])?s.push(a):r.push(a))});var o=function(a,u){pr(a,function(l){if(Ze(l[0])){var c=u;je(l,function(d){c=c[d[0]].apply(c,d.slice(1))})}else this[l[0]].apply(this,l.slice(1))},u)};o(i,this),o(r,this),o(s,this)}Rs(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Es){if(!this.consent.isOptedOut())if(!Y(e)&&et(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=i!=null&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){n!=null&&n.$current_url&&!et(n?.$current_url)&&(re.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=i?.timestamp||o,u=fr(),l={uuid:u,event:e,properties:this.calculateEventProperties(e,n||{},a,u)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),i?.$set&&(l.$set=i?.$set);var c,d,f=this.Os(i?.$set_once);if(f&&(l.$set_once=f),(l=YN(l,i!=null&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,Y(i?.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=o),e===ul.DISMISSED||e===ul.SENT){var p=n?.[O_.SURVEY_ID],g=n?.[O_.SURVEY_ITERATION];localStorage.setItem((d=""+$d+(c={id:p,current_iteration:g}).id,c.current_iteration&&c.current_iteration>0&&(d=""+$d+c.id+"_"+c.current_iteration),d),"true"),l.$set=Q({},l.$set,{[qU({id:p,current_iteration:g},e===ul.SENT?"responded":"dismissed")]:!0})}var b=Q({},l.properties.$set,l.$set);if(Oi(b)||this.setPersonPropertiesForFlags(b),!Pe(this.config.before_send)){var w=this.As(l);if(!w)return;l=w}this._s.emit("eventCaptured",l);var S={method:"POST",url:(r=i?._url)!==null&&r!==void 0?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:i?._batchKey};return!this.config.request_batching||i&&(i==null||!i._batchKey)||i!=null&&i.send_instantly?this.Is(S):this.Es.enqueue(S),l}re.critical("This capture call is ignored due to client rate limiting.")}}else re.error("No event name provided to posthog.capture")}else re.uninitializedWarning("posthog.capture")}Ge(e){return this.on("eventCaptured",n=>e(n.event,n))}calculateEventProperties(e,n,i,r,s){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return n;var o=s?void 0:this.persistence.remove_event_timer(e),a=Q({},n);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),e==="$snapshot"){var u=Q({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=u.distinct_id,(!et(a.distinct_id)&&!Et(a.distinct_id)||sd(a.distinct_id))&&re.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var l,c=MU(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId(s,i.getTime());a.$session_id=d,a.$window_id=f}this.sessionPropsManager&&rt(a,this.sessionPropsManager.getSessionProps());try{var p;this.sessionRecording&&rt(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(p=this.Ps)==null?void 0:p.length}catch(S){a.$sdk_debug_error_capturing_properties=String(S)}if(this.requestRouter.region===As.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),l=e!=="$pageview"||s?e!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(i):this.pageViewManager.doPageView(i,r),a=rt(a,l),e==="$pageview"&&te&&(a.title=te.title),!Y(o)){var g=i.getTime()-o;a.$duration=parseFloat((g/1e3).toFixed(3))}Nt&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=rt({},c,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),Ze(this.config.property_denylist)?je(this.config.property_denylist,function(S){delete a[S]}):re.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var b=this.config.sanitize_properties;b&&(re.error("sanitize_properties is deprecated. Use before_send instead"),a=b(a,e));var w=this.Ds();return a.$process_person_profile=w,w&&!s&&this.Ls("_calculate_event_properties"),a}Os(e){var n;if(!this.persistence||!this.Ds()||this.gs)return e;var i=this.persistence.get_initial_props(),r=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),s=rt({},i,r||{},e||{}),o=this.config.sanitize_properties;return o&&(re.error("sanitize_properties is deprecated. Use before_send instead"),s=o(s,"$set_once")),this.gs=!0,Oi(s)?void 0:s}register(e,n){var i;(i=this.persistence)==null||i.register(e,n)}register_once(e,n,i){var r;(r=this.persistence)==null||r.register_once(e,n,i)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}js(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n)}getEarlyAccessFeatures(e,n,i){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,i)}on(e,n){return this._s.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,i;return(n=(i=this.sessionManager)==null?void 0:i.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,i){if(!this.__loaded||!this.persistence)return re.uninitializedWarning("posthog.identify");if(Et(e)&&(e=e.toString(),re.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))re.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Wo){if(this.Ls("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==r&&e!==this.get_property(bs)&&(this.unregister(bs),this.register({distinct_id:e}));var o=(this.persistence.get_property(qn)||"anonymous")==="anonymous";e!==r&&o?(this.persistence.set_property(qn,"identified"),this.setPersonPropertiesForFlags(Q({},i||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:n||{},$set_once:i||{}}),this.Ss=S_(e,n,i),this.featureFlags.setAnonymousDistinctId(r)):(n||i)&&this.setPersonProperties(n,i),e!==r&&(this.reloadFeatureFlags(),this.unregister(Ba))}}else re.critical('The string "'+Wo+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else re.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.Ls("posthog.setPersonProperties")){var i=S_(this.get_distinct_id(),e,n);this.Ss!==i?(this.setPersonPropertiesForFlags(Q({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.Ss=i):re.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,i){if(e&&n){if(this.Ls("posthog.group")){var r=this.getGroups();r[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Q({},r,{[e]:n})}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===n||i||this.reloadFeatureFlags()}}else re.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.Ls("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,i,r,s;if(re.info("reset"),!this.__loaded)return re.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(i=this.sessionPersistence)==null||i.clear(),this.surveys.reset(),this.featureFlags.reset(),(r=this.persistence)==null||r.set_property(qn,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Ss=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Wo,$device_id:null},"");else{var a=this.config.get_device_id(fr());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&i){var s,o=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!i)return r;r+="?t="+Math.max(Math.floor((new Date().getTime()-i)/1e3)-o,0)}return r}alias(e,n){return e===this.get_property(Mw)?(re.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ls("posthog.alias")?(Y(n)&&(n=this.get_distinct_id()),e!==n?(this.js(bs,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(re.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n=Q({},this.config);if(Qe(e)){var i,r,s,o,a;rt(this.config,j_(e));var u=this.xs();(i=this.persistence)==null||i.update_config(this.config,n,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new al(Q({},this.config,{persistence:"sessionStorage"}),u),lt.O()&&lt.D("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Zn.DEBUG=!0,re.info("set_config",{config:e,oldConfig:n,newConfig:Q({},this.config)})),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ns(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var n=e===!0,i={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,s,o,a,u;(r=this.sessionManager)==null||r.checkAndGetSessionAndWindowId(),i.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),i.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),i.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),i.event_trigger&&((u=this.sessionRecording)==null||u.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var i=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(Q({},Lj((r=>r instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:i}),n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:wi;return n!==wi&&(n=wi+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(qn))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(qn))==="identified"}Ds(){var e,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Oi(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[bs])&&((n=this.persistence)==null||(n=n.props)==null||!n[qa]))}Fs(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ds()||this.Ls("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ls(e){return this.config.person_profiles==="never"?(re.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.js(qa,!0),!0)}xs(){var e=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default;return this.config.disable_persistence||e&&!!n}Ns(){var e,n,i,r,s=this.xs();return((e=this.persistence)==null?void 0:e.Fe)!==s&&((i=this.persistence)==null||i.set_disabled(s)),((n=this.sessionPersistence)==null?void 0:n.Fe)!==s&&((r=this.sessionPersistence)==null||r.set_disabled(s)),s}opt_in_capturing(e){var n;this.consent.optInOut(!0),this.Ns(),(Y(e?.captureEventName)||e!=null&&e.captureEventName)&&this.capture((n=e?.captureEventName)!==null&&n!==void 0?n:"$opt_in",e?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Cs()}opt_out_capturing(){this.consent.optInOut(!1),this.Ns()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.Ns()}_is_bot(){return Ht?FS(Ht,this.config.custom_blocked_useragents):void 0}Cs(){te&&(te.visibilityState==="visible"?this.bs||(this.bs=!0,this.capture("$pageview",{title:te.title},{send_instantly:!0}),this.ys&&(te.removeEventListener("visibilitychange",this.ys),this.ys=null)):this.ys||(this.ys=this.Cs.bind(this),Je(te,"visibilitychange",this.ys)))}debug(e){e===!1?(z?.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(z?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var e,n,i,r,s,o,a,u=this.$s||{};return"advanced_disable_flags"in u?!!u.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(re.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(i="advanced_disable_decide",r=!1,s=re,o=(n="advanced_disable_flags")in(e=u)&&!Y(e[n]),a=i in e&&!Y(e[i]),o?e[n]:a?(s&&s.warn("Config field '"+i+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),e[i]):r)}As(e){if(Pe(this.config.before_send))return e;var n=Ze(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of n){if(i=r(i),Pe(i)){var s="Event '"+e.event+"' was rejected in beforeSend function";return KN(e.event)?re.warn(s+". This can cause unexpected behavior."):re.info(s),null}i.properties&&!Oi(i.properties)||re.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return i}getPageViewId(){var e;return(e=this.pageViewManager.ce)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,i){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(i)})}};(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=XN(t.prototype[e[n]])})(VS,["identify"]);var U_,Si=(U_=Ms[wi]=new VS,function(){function t(){t.done||(t.done=!0,BS=!1,je(Ms,function(e){e._dom_loaded()}))}te!=null&&te.addEventListener?te.readyState==="complete"?t():Je(te,"DOMContentLoaded",t,{capture:!1}):z&&re.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),U_),df=j.createContext({client:Si});function GS(t,e,n){if(n===void 0&&(n=new WeakMap),t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(n.has(t)&&n.get(t)===e)return!0;n.set(t,e);var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var s=0,o=i;s<o.length;s++){var a=o[s];if(!r.includes(a)||!GS(t[a],e[a],n))return!1}return!0}function E3(t){var e=t.children,n=t.client,i=t.apiKey,r=t.options,s=j.useRef(null),o=j.useMemo(function(){return n?(i&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),r&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),n):(i||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Si)},[n,i,JSON.stringify(r)]);return j.useEffect(function(){if(!n){var a=s.current;a?(i!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),r&&!GS(r,a.options)&&Si.set_config(r),s.current={apiKey:i,options:r??{}}):(Si.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Si.init(i,r),s.current={apiKey:i,options:r??{}})}},[n,i,JSON.stringify(r)]),at.createElement(df.Provider,{value:{client:o}},e)}var Vu=function(){var t=j.useContext(df).client;return t};function eu(t){var e=Vu(),n=j.useState(function(){return e.isFeatureEnabled(t)}),i=n[0],r=n[1];return j.useEffect(function(){return e.onFeatureFlags(function(){r(e.isFeatureEnabled(t))})},[e,t]),i}function A3(t){var e=Vu(),n=j.useState(function(){return e.getFeatureFlagPayload(t)}),i=n[0],r=n[1];return j.useEffect(function(){return e.onFeatureFlags(function(){r(e.getFeatureFlagPayload(t))})},[e,t]),i}function T3(t){var e=Vu(),n=j.useState(function(){return e.getFeatureFlag(t)}),i=n[0],r=n[1];return j.useEffect(function(){return e.onFeatureFlags(function(){r(e.getFeatureFlag(t))})},[e,t]),i}var Pd=function(t,e){return Pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Pd(t,e)};function hL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cl=function(t){return typeof t=="function"},fL={componentStack:null,error:null},pL={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(t){hL(e,t);function e(n){var i=t.call(this,n)||this;return i.state=fL,i}return e.prototype.componentDidCatch=function(n,i){var r=i.componentStack,s=this.props.additionalProperties;this.setState({error:n,componentStack:r});var o;cl(s)?o=s(n):typeof s=="object"&&(o=s);var a=this.context.client;a.captureException(n,o)},e.prototype.render=function(){var n=this.props,i=n.children,r=n.fallback,s=this.state;if(s.componentStack==null)return cl(i)?i():i;var o=cl(r)?at.createElement(r,{error:s.error,componentStack:s.componentStack}):r;return at.isValidElement(o)?o:(console.warn(pL.INVALID_FALLBACK),at.createElement(at.Fragment,null))},e.contextType=df,e})(at.Component);var ZS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},L_=at.createContext&&at.createContext(ZS),mL=["attr","size","title"];function gL(t,e){if(t==null)return{};var n=vL(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function vL(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tu.apply(this,arguments)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(i){_L(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _L(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=bL(t,"string");return typeof e=="symbol"?e:e+""}function bL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HS(t){return t&&t.map((e,n)=>at.createElement(e.tag,nu({key:n},e.attr),HS(e.child)))}function St(t){return e=>at.createElement(wL,tu({attr:nu({},t.attr)},e),HS(t.child))}function wL(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=gL(t,mL),a=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),at.createElement("svg",tu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:u,style:nu(nu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&at.createElement("title",null,s),t.children)};return L_!==void 0?at.createElement(L_.Consumer,null,n=>e(n)):e(ZS)}function $3(t){return St({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function SL(t){return St({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function xL(t){return St({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}function kL(t){return St({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},child:[]}]})(t)}function IL(t){return St({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},child:[]}]})(t)}function O3(t){return St({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"},child:[]}]})(t)}function C3(t){return St({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"},child:[]}]})(t)}function P3(t){return St({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z"},child:[]}]})(t)}function R3(t){return St({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"},child:[]}]})(t)}function D3(t){return St({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l176 0-10.7 32L160 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l256 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-69.3 0L336 416l176 0c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0zM512 64l0 224L64 288 64 64l448 0z"},child:[]}]})(t)}function N3(t){return St({attr:{viewBox:"0 0 128 512"},child:[{tag:"path",attr:{d:"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"},child:[]}]})(t)}function j3(t){return St({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9l0 28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5l0-24.6c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"},child:[]}]})(t)}function U3(t){return St({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M429.6 92.1c4.9-11.9 2.1-25.6-7-34.7s-22.8-11.9-34.7-7l-352 144c-14.2 5.8-22.2 20.8-19.3 35.8s16.1 25.8 31.4 25.8l176 0 0 176c0 15.3 10.8 28.4 25.8 31.4s30-5.1 35.8-19.3l144-352z"},child:[]}]})(t)}function L3(t){return St({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 21.2-5.1 41.1-14.2 58.7L416 300.8 416 96c0-53-43-96-96-96s-96 43-96 96l0 54.3L38.8 5.1zM344 430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128l0-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6z"},child:[]}]})(t)}function M3(t){return St({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"},child:[]}]})(t)}function z3(t){return St({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"},child:[]}]})(t)}function F3(t){return St({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"},child:[]}]})(t)}const WS=rr(0),B3=rr(t=>t(WS)>0);function EL(t){const e=Io(WS);j.useEffect(()=>{if(t)return e(n=>n+1),()=>e(n=>n-1)},[t,e])}const di=j.createContext(null);function V3({children:t}){const[e,n]=j.useState(null),[i,r]=j.useState(null),[s,o]=j.useState(null),[a,u]=j.useState(null),[l,c]=j.useState(null),[d,f]=j.useState(null),p=j.useMemo(()=>({commandBar:e,island:i,movableWindows:s,notifications:a,aggroNotifications:l,fullscreen:d}),[e,i,s,a,l,d]),g={commandBar:n,island:r,movableWindows:o,notifications:u,aggroNotifications:c,fullscreen:f};return ne.jsx(di.Provider,{value:p,children:t(g)})}function q3({children:t}){const e=j.useContext(di)?.commandBar;return e&&kr.createPortal(t,e)}function G3({children:t}){const e=j.useContext(di)?.island;return e&&kr.createPortal(t,e)}function AL({children:t}){const e=j.useContext(di)?.movableWindows;return e&&kr.createPortal(t,e)}function TL({children:t}){const e=j.useContext(di)?.notifications;return e&&kr.createPortal(t,e)}function $L({children:t}){const e=j.useContext(di)?.aggroNotifications;return e&&kr.createPortal(t,e)}function Z3({children:t}){const e=j.useContext(di)?.fullscreen;return e&&kr.createPortal(t,e)}var ll,z_;function OL(){if(z_)return ll;z_=1;var t="Expected a function",e=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u=typeof dr=="object"&&dr&&dr.Object===Object&&dr,l=typeof self=="object"&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype,f=d.toString,p=Math.max,g=Math.min,b=function(){return c.Date.now()};function w(k,P,C){var R,D,N,F,V,oe,he=0,U=!1,q=!1,Z=!0;if(typeof k!="function")throw new TypeError(t);P=T(P)||0,S(C)&&(U=!!C.leading,q="maxWait"in C,N=q?p(T(C.maxWait)||0,P):N,Z="trailing"in C?!!C.trailing:Z);function ee(Re){var Ke=R,ze=D;return R=D=void 0,he=Re,F=k.apply(ze,Ke),F}function ae(Re){return he=Re,V=setTimeout(ue,P),U?ee(Re):F}function se(Re){var Ke=Re-oe,ze=Re-he,xt=P-Ke;return q?g(xt,N-ze):xt}function ke(Re){var Ke=Re-oe,ze=Re-he;return oe===void 0||Ke>=P||Ke<0||q&&ze>=N}function ue(){var Re=b();if(ke(Re))return Ue(Re);V=setTimeout(ue,se(Re))}function Ue(Re){return V=void 0,Z&&R?ee(Re):(R=D=void 0,F)}function ye(){V!==void 0&&clearTimeout(V),he=0,R=oe=D=V=void 0}function ve(){return V===void 0?F:Ue(b())}function Ae(){var Re=b(),Ke=ke(Re);if(R=arguments,D=this,oe=Re,Ke){if(V===void 0)return ae(oe);if(q)return V=setTimeout(ue,P),ee(oe)}return V===void 0&&(V=setTimeout(ue,P)),F}return Ae.cancel=ye,Ae.flush=ve,Ae}function S(k){var P=typeof k;return!!k&&(P=="object"||P=="function")}function x(k){return!!k&&typeof k=="object"}function E(k){return typeof k=="symbol"||x(k)&&f.call(k)==n}function T(k){if(typeof k=="number")return k;if(E(k))return e;if(S(k)){var P=typeof k.valueOf=="function"?k.valueOf():k;k=S(P)?P+"":P}if(typeof k!="string")return k===0?k:+k;k=k.replace(i,"");var C=s.test(k);return C||o.test(k)?a(k.slice(2),C?2:8):r.test(k)?e:+k}return ll=w,ll}OL();var CL=typeof window<"u"?j.useLayoutEffect:j.useEffect;function hf(t){const e=j.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return CL(()=>{e.current=t},[t]),j.useCallback((...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[e])}var Kt=(t=>(t.VIM_MODE_KEY_BINDINGS="vim_mode_key_bindings",t.DEV_INSPECT_APP="dev_inspect_app",t.USAGE_LIMIT_PAYLOAD="usage_limit_payload",t.USE_ASSEMBLY_AI_LANGUAGE_DETECTION="use_assembly_ai_language_detection",t.SESSION_RECORDING="session_recording",t.ECHO_CANCELLATION_ENABLED="echo_cancellation_enabled",t.VOICE_ACTIVITY_BASED_ECHO_CANCELLATION="voice_activity_based_echo_cancellation",t.USE_WEB_AUDIO_API_ONLY="use_web_audio_api_only",t.GLADIA_TRANSCRIPTION="gladia_transcription",t.MIC_MONITOR_RECALL_AI="mic_monitor_recall_ai",t.LIVE_INSIGHTS_ACTIONS_V3="live_insights_actions_v3",t.LIVE_INSIGHTS_ACTIONS_V1B="live_insights_actions_v1b",t.LIVE_INSIGHTS_ACTIONS_MODEL="live_insights_actions_model",t.LIVE_INSIGHTS_ACTIONS_RESPECT_SPECIAL_MEDIA_OPTION="live_insights_actions_respect_special_media_option",t.LIVE_INSIGHTS_NERDY_WHAT_SHOULD_I_SAY_NEXT="live_insights_nerdy_what_should_i_say_next",t.LIVE_INSIGHTS_ACTIONS_DEFINE_FIXER="live_insights_actions_define_fixer",t.LIVE_SUGGESTIONS="live_suggestions",t.INSIGHTS_V3="insights_v3",t.LEGACY_COMMAND_BAR="legacy_command_bar",t.CUSTOM_KEYBINDINGS="custom_keybindings",t.MULTILINGUAL_TRANSCRIPTION_USE_OPENAI="multilingual_transcription_use_openai",t.USE_SUPERMEMORY="use_supermemory",t.TRAY_ENABLED="tray_enabled",t))(Kt||{});function PL(){const t=eu(Kt.LEGACY_COMMAND_BAR)===!0,e=eu(Kt.INSIGHTS_V3)===!0;return{insightsV3:!t&&e,legacyCommandBar:t}}var dl=class extends Error{constructor(t,e){super(e+""),this.status=t,this.value=e}},RL=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,DL=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,NL=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,jL=t=>t.trim().length!==0&&!Number.isNaN(Number(t)),KS=t=>{if(typeof t!="string")return null;let e=t.replace(/"/g,"");if(RL.test(e)||DL.test(e)||NL.test(e)){let n=new Date(e);if(!Number.isNaN(n.getTime()))return n}return null},UL=t=>{let e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===123&&n===125||e===91&&n===93},LL=t=>JSON.parse(t,(e,n)=>KS(n)||n),JS=t=>{if(!t)return t;if(jL(t))return+t;if(t==="true")return!0;if(t==="false")return!1;let e=KS(t);if(e)return e;if(UL(t))try{return LL(t)}catch{}return t},ML=t=>{let e=t.data.toString();return e==="null"?null:JS(e)},zL=class{constructor(t){this.url=t,this.ws=new WebSocket(t)}ws;send(t){return Array.isArray(t)?(t.forEach(e=>this.send(e)),this):(this.ws.send(typeof t=="object"?JSON.stringify(t):t.toString()),this)}on(t,e,n){return this.addEventListener(t,e,n)}off(t,e,n){return this.ws.removeEventListener(t,e,n),this}subscribe(t,e){return this.addEventListener("message",t,e)}addEventListener(t,e,n){return this.ws.addEventListener(t,i=>{if(t==="message"){let r=ML(i);e({...i,data:r})}else e(i)},n),this}removeEventListener(t,e,n){return this.off(t,e,n),this}close(){return this.ws.close(),this}},FL=["get","post","put","delete","patch","options","head","connect","subscribe"],XS=["localhost","127.0.0.1","0.0.0.0"],ff=typeof FileList>"u",F_=t=>ff?t instanceof Blob:t instanceof FileList||t instanceof File,BL=t=>{if(!t)return!1;for(let e in t)if(F_(t[e])||Array.isArray(t[e])&&t[e].find(F_))return!0;return!1},hl=t=>ff?t:new Promise(e=>{let n=new FileReader;n.onload=()=>{let i=new File([n.result],t.name,{lastModified:t.lastModified,type:t.type});e(i)},n.readAsArrayBuffer(t)}),Vr=(t,e,n={},i={})=>{if(Array.isArray(t)){for(let r of t)if(!Array.isArray(r))i=Vr(r,e,n,i);else{let s=r[0];if(typeof s=="string")i[s.toLowerCase()]=r[1];else for(let[o,a]of s)i[o.toLowerCase()]=a}return i}if(!t)return i;switch(typeof t){case"function":if(t instanceof Headers)return Vr(t,e,n,i);let r=t(e,n);return r?Vr(r,e,n,i):i;case"object":if(t instanceof Headers)return t.forEach((s,o)=>{i[o.toLowerCase()]=s}),i;for(let[s,o]of Object.entries(t))i[s.toLowerCase()]=o;return i;default:return i}};async function*VL(t){let e=t.body;if(!e)return;let n=e.getReader(),i=new TextDecoder;try{for(;;){let{done:r,value:s}=await n.read();if(r)break;yield i.decode(s)}}finally{n.releaseLock()}}var zs=(t,e,n=[],i)=>new Proxy(()=>{},{get(r,s){return zs(t,e,s==="index"?n:[...n,s],i)},apply(r,s,[o,a]){if(!o||a||typeof o=="object"&&Object.keys(o).length!==1||FL.includes(n.at(-1))){let u=[...n],l=u.pop(),c="/"+u.join("/"),{fetcher:d=fetch,headers:f,onRequest:p,onResponse:g,fetch:b}=e,w=l==="get"||l==="head"||l==="subscribe";f=Vr(f,c,a);let S=w?o?.query:a?.query,x="";if(S){let E=(T,k)=>{x+=(x?"&":"?")+`${encodeURIComponent(T)}=${encodeURIComponent(k)}`};for(let[T,k]of Object.entries(S)){if(Array.isArray(k)){for(let P of k)E(T,P);continue}if(k!=null){if(typeof k=="object"){E(T,JSON.stringify(k));continue}E(T,`${k}`)}}}if(l==="subscribe"){let E=t.replace(/^([^]+):\/\//,t.startsWith("https://")?"wss://":t.startsWith("http://")||XS.find(T=>t.includes(T))?"ws://":"wss://")+c+x;return new zL(E)}return(async()=>{let E={method:l?.toUpperCase(),body:o,...b,headers:f};E.headers={...f,...Vr(w?o?.headers:a?.headers,c,E)};let T=w&&typeof o=="object"?o.fetch:a?.fetch;if(E={...E,...T},w&&delete E.body,p){Array.isArray(p)||(p=[p]);for(let D of p){let N=await D(c,E);typeof N=="object"&&(E={...E,...N,headers:{...E.headers,...Vr(N.headers,c,E)}})}}if(w&&delete E.body,BL(o)){let D=new FormData;for(let[N,F]of Object.entries(E.body)){if(Array.isArray(F)){for(let V=0;V<F.length;V++){let oe=F[V];D.append(N,oe instanceof File?await hl(oe):oe)}continue}if(ff){D.append(N,F);continue}if(F instanceof File){D.append(N,await hl(F));continue}if(F instanceof FileList){for(let V=0;V<F.length;V++)D.append(N,await hl(F[V]));continue}D.append(N,F)}E.body=D}else typeof o=="object"?(E.headers["content-type"]="application/json",E.body=JSON.stringify(o)):o!=null&&(E.headers["content-type"]="text/plain");if(w&&delete E.body,p){Array.isArray(p)||(p=[p]);for(let D of p){let N=await D(c,E);typeof N=="object"&&(E={...E,...N,headers:{...E.headers,...Vr(N.headers,c,E)}})}}let k=t+c+x,P=await(i?.handle(new Request(k,E))??d(k,E)),C=null,R=null;if(g){Array.isArray(g)||(g=[g]);for(let D of g)try{let N=await D(P.clone());if(N!=null){C=N;break}}catch(N){N instanceof dl?R=N:R=new dl(422,N);break}}if(C!==null)return{data:C,error:R,response:P,status:P.status,headers:P.headers};switch(P.headers.get("Content-Type")?.split(";")[0]){case"text/event-stream":C=VL(P);break;case"application/json":C=await P.json();break;case"application/octet-stream":C=await P.arrayBuffer();break;case"multipart/form-data":let D=await P.formData();C={},D.forEach((N,F)=>{C[F]=N});break;default:C=await P.text().then(JS)}return(P.status>=300||P.status<200)&&(R=new dl(P.status,C),C=null),{data:C,error:R,response:P,status:P.status,headers:P.headers}})()}return typeof o=="object"?zs(t,e,[...n,Object.values(o)[0]],i):zs(t,e,n)}}),qL=(t,e={})=>typeof t=="string"?(e.keepDomain||(t.includes("://")||(t=(XS.find(n=>t.includes(n))?"http://":"https://")+t),t.endsWith("/")&&(t=t.slice(0,-1))),zs(t,e)):(typeof window<"u"&&console.warn("Elysia instance server found on client side, this is not recommended for security reason. Use generic type instead."),zs("http://e.ly",e,[],t));async function bt(t){const{data:e,error:n}=await t;if(n)throw n;return e}function ss(t){const e=t?.accessToken;return qL(Hy,{headers:e?{Authorization:`Bearer ${e}`}:{}})}const so=window.electron.process.platform==="darwin",GL=window.electron.process.platform==="win32";window.electron.process.platform;const ZL=window.electron.process.env.NODE_ENV==="development";window.electron.process.env.NODE_ENV;var fl={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var B_;function HL(){return B_||(B_=1,function(t,e){(function(i,r){t.exports=r()})(window,function(){return function(n){var i={};function r(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=i,r.d=function(s,o,a){r.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,o){if(o&1&&(s=r(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var u in s)r.d(a,u,function(l){return s[l]}.bind(null,u));return a},r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,"a",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p="",r(r.s=2)}([function(n,i,r){var s=this&&this.__extends||function(){var b=function(w,S){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,E){x.__proto__=E}||function(x,E){for(var T in E)E.hasOwnProperty(T)&&(x[T]=E[T])},b(w,S)};return function(w,S){b(w,S);function x(){this.constructor=w}w.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=256,a=function(){function b(w){w===void 0&&(w="="),this._paddingCharacter=w}return b.prototype.encodedLength=function(w){return this._paddingCharacter?(w+2)/3*4|0:(w*8+5)/6|0},b.prototype.encode=function(w){for(var S="",x=0;x<w.length-2;x+=3){var E=w[x]<<16|w[x+1]<<8|w[x+2];S+=this._encodeByte(E>>>18&63),S+=this._encodeByte(E>>>12&63),S+=this._encodeByte(E>>>6&63),S+=this._encodeByte(E>>>0&63)}var T=w.length-x;if(T>0){var E=w[x]<<16|(T===2?w[x+1]<<8:0);S+=this._encodeByte(E>>>18&63),S+=this._encodeByte(E>>>12&63),T===2?S+=this._encodeByte(E>>>6&63):S+=this._paddingCharacter||"",S+=this._paddingCharacter||""}return S},b.prototype.maxDecodedLength=function(w){return this._paddingCharacter?w/4*3|0:(w*6+7)/8|0},b.prototype.decodedLength=function(w){return this.maxDecodedLength(w.length-this._getPaddingLength(w))},b.prototype.decode=function(w){if(w.length===0)return new Uint8Array(0);for(var S=this._getPaddingLength(w),x=w.length-S,E=new Uint8Array(this.maxDecodedLength(x)),T=0,k=0,P=0,C=0,R=0,D=0,N=0;k<x-4;k+=4)C=this._decodeChar(w.charCodeAt(k+0)),R=this._decodeChar(w.charCodeAt(k+1)),D=this._decodeChar(w.charCodeAt(k+2)),N=this._decodeChar(w.charCodeAt(k+3)),E[T++]=C<<2|R>>>4,E[T++]=R<<4|D>>>2,E[T++]=D<<6|N,P|=C&o,P|=R&o,P|=D&o,P|=N&o;if(k<x-1&&(C=this._decodeChar(w.charCodeAt(k)),R=this._decodeChar(w.charCodeAt(k+1)),E[T++]=C<<2|R>>>4,P|=C&o,P|=R&o),k<x-2&&(D=this._decodeChar(w.charCodeAt(k+2)),E[T++]=R<<4|D>>>2,P|=D&o),k<x-3&&(N=this._decodeChar(w.charCodeAt(k+3)),E[T++]=D<<6|N,P|=N&o),P!==0)throw new Error("Base64Coder: incorrect characters for decoding");return E},b.prototype._encodeByte=function(w){var S=w;return S+=65,S+=25-w>>>8&6,S+=51-w>>>8&-75,S+=61-w>>>8&-15,S+=62-w>>>8&3,String.fromCharCode(S)},b.prototype._decodeChar=function(w){var S=o;return S+=(42-w&w-44)>>>8&-o+w-43+62,S+=(46-w&w-48)>>>8&-o+w-47+63,S+=(47-w&w-58)>>>8&-o+w-48+52,S+=(64-w&w-91)>>>8&-o+w-65+0,S+=(96-w&w-123)>>>8&-o+w-97+26,S},b.prototype._getPaddingLength=function(w){var S=0;if(this._paddingCharacter){for(var x=w.length-1;x>=0&&w[x]===this._paddingCharacter;x--)S++;if(w.length<4||S>2)throw new Error("Base64Coder: incorrect padding")}return S},b}();i.Coder=a;var u=new a;function l(b){return u.encode(b)}i.encode=l;function c(b){return u.decode(b)}i.decode=c;var d=function(b){s(w,b);function w(){return b!==null&&b.apply(this,arguments)||this}return w.prototype._encodeByte=function(S){var x=S;return x+=65,x+=25-S>>>8&6,x+=51-S>>>8&-75,x+=61-S>>>8&-13,x+=62-S>>>8&49,String.fromCharCode(x)},w.prototype._decodeChar=function(S){var x=o;return x+=(44-S&S-46)>>>8&-o+S-45+62,x+=(94-S&S-96)>>>8&-o+S-95+63,x+=(47-S&S-58)>>>8&-o+S-48+52,x+=(64-S&S-91)>>>8&-o+S-65+0,x+=(96-S&S-123)>>>8&-o+S-97+26,x},w}(a);i.URLSafeCoder=d;var f=new d;function p(b){return f.encode(b)}i.encodeURLSafe=p;function g(b){return f.decode(b)}i.decodeURLSafe=g,i.encodedLength=function(b){return u.encodedLength(b)},i.maxDecodedLength=function(b){return u.maxDecodedLength(b)},i.decodedLength=function(b){return u.decodedLength(b)}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s="utf8: invalid string",o="utf8: invalid source encoding";function a(c){for(var d=new Uint8Array(u(c)),f=0,p=0;p<c.length;p++){var g=c.charCodeAt(p);g<128?d[f++]=g:g<2048?(d[f++]=192|g>>6,d[f++]=128|g&63):g<55296?(d[f++]=224|g>>12,d[f++]=128|g>>6&63,d[f++]=128|g&63):(p++,g=(g&1023)<<10,g|=c.charCodeAt(p)&1023,g+=65536,d[f++]=240|g>>18,d[f++]=128|g>>12&63,d[f++]=128|g>>6&63,d[f++]=128|g&63)}return d}i.encode=a;function u(c){for(var d=0,f=0;f<c.length;f++){var p=c.charCodeAt(f);if(p<128)d+=1;else if(p<2048)d+=2;else if(p<55296)d+=3;else if(p<=57343){if(f>=c.length-1)throw new Error(s);f++,d+=4}else throw new Error(s)}return d}i.encodedLength=u;function l(c){for(var d=[],f=0;f<c.length;f++){var p=c[f];if(p&128){var g=void 0;if(p<224){if(f>=c.length)throw new Error(o);var b=c[++f];if((b&192)!==128)throw new Error(o);p=(p&31)<<6|b&63,g=128}else if(p<240){if(f>=c.length-1)throw new Error(o);var b=c[++f],w=c[++f];if((b&192)!==128||(w&192)!==128)throw new Error(o);p=(p&15)<<12|(b&63)<<6|w&63,g=2048}else if(p<248){if(f>=c.length-2)throw new Error(o);var b=c[++f],w=c[++f],S=c[++f];if((b&192)!==128||(w&192)!==128||(S&192)!==128)throw new Error(o);p=(p&15)<<18|(b&63)<<12|(w&63)<<6|S&63,g=65536}else throw new Error(o);if(p<g||p>=55296&&p<=57343)throw new Error(o);if(p>=65536){if(p>1114111)throw new Error(o);p-=65536,d.push(String.fromCharCode(55296|p>>10)),p=56320|p&1023}}d.push(String.fromCharCode(p))}return d.join("")}i.decode=l},function(n,i,r){n.exports=r(3).default},function(n,i,r){r.r(i);class s{constructor(h,m){this.lastId=0,this.prefix=h,this.name=m}create(h){this.lastId++;var m=this.lastId,I=this.prefix+m,O=this.name+"["+m+"]",B=!1,J=function(){B||(h.apply(null,arguments),B=!0)};return this[m]=J,{number:m,id:I,name:O,callback:J}}remove(h){delete this[h.number]}}var o=new s("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=a;class l{constructor(h){this.options=h,this.receivers=h.receivers||o,this.loading={}}load(h,m,I){var O=this;if(O.loading[h]&&O.loading[h].length>0)O.loading[h].push(I);else{O.loading[h]=[I];var B=_e.createScriptRequest(O.getPath(h,m)),J=O.receivers.create(function(ie){if(O.receivers.remove(J),O.loading[h]){var ge=O.loading[h];delete O.loading[h];for(var Oe=function(st){st||B.cleanup()},Ne=0;Ne<ge.length;Ne++)ge[Ne](ie,Oe)}});B.send(J)}}getRoot(h){var m,I=_e.getDocument().location.protocol;return h&&h.useTLS||I==="https:"?m=this.options.cdn_https:m=this.options.cdn_http,m.replace(/\/*$/,"")+"/"+this.options.version}getPath(h,m){return this.getRoot(m)+"/"+h+this.options.suffix+".js"}}var c=new s("_pusher_dependencies","Pusher.DependenciesReceivers"),d=new l({cdn_http:u.cdn_http,cdn_https:u.cdn_https,version:u.VERSION,suffix:u.dependency_suffix,receivers:c});const f={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var g={buildLogSuffix:function(_){const h="See:",m=f.urls[_];if(!m)return"";let I;return m.fullUrl?I=m.fullUrl:m.path&&(I=f.baseUrl+m.path),I?`${h} ${I}`:""}},b;(function(_){_.UserAuthentication="user-authentication",_.ChannelAuthorization="channel-authorization"})(b||(b={}));class w extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class P extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(h,m){super(m),this.status=h,Object.setPrototypeOf(this,new.target.prototype)}}var N=function(_,h,m,I,O){const B=_e.createXHR();B.open("POST",m.endpoint,!0),B.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var J in m.headers)B.setRequestHeader(J,m.headers[J]);if(m.headersProvider!=null){let ie=m.headersProvider();for(var J in ie)B.setRequestHeader(J,ie[J])}return B.onreadystatechange=function(){if(B.readyState===4)if(B.status===200){let ie,ge=!1;try{ie=JSON.parse(B.responseText),ge=!0}catch{O(new R(200,`JSON returned from ${I.toString()} endpoint was invalid, yet status code was 200. Data was: ${B.responseText}`),null)}ge&&O(null,ie)}else{let ie="";switch(I){case b.UserAuthentication:ie=g.buildLogSuffix("authenticationEndpoint");break;case b.ChannelAuthorization:ie=`Clients must be authorized to join private or presence channels. ${g.buildLogSuffix("authorizationEndpoint")}`;break}O(new R(B.status,`Unable to retrieve auth string from ${I.toString()} endpoint - received status: ${B.status} from ${m.endpoint}. ${ie}`),null)}},B.send(h),B};function F(_){return Z(U(_))}var V=String.fromCharCode,oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",he=function(_){var h=_.charCodeAt(0);return h<128?_:h<2048?V(192|h>>>6)+V(128|h&63):V(224|h>>>12&15)+V(128|h>>>6&63)+V(128|h&63)},U=function(_){return _.replace(/[^\x00-\x7F]/g,he)},q=function(_){var h=[0,2,1][_.length%3],m=_.charCodeAt(0)<<16|(_.length>1?_.charCodeAt(1):0)<<8|(_.length>2?_.charCodeAt(2):0),I=[oe.charAt(m>>>18),oe.charAt(m>>>12&63),h>=2?"=":oe.charAt(m>>>6&63),h>=1?"=":oe.charAt(m&63)];return I.join("")},Z=window.btoa||function(_){return _.replace(/[\s\S]{1,3}/g,q)};class ee{constructor(h,m,I,O){this.clear=m,this.timer=h(()=>{this.timer&&(this.timer=O(this.timer))},I)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var ae=ee;function se(_){window.clearTimeout(_)}function ke(_){window.clearInterval(_)}class ue extends ae{constructor(h,m){super(setTimeout,se,h,function(I){return m(),null})}}class Ue extends ae{constructor(h,m){super(setInterval,ke,h,function(I){return m(),I})}}var ye={now(){return Date.now?Date.now():new Date().valueOf()},defer(_){return new ue(0,_)},method(_,...h){var m=Array.prototype.slice.call(arguments,1);return function(I){return I[_].apply(I,m.concat(arguments))}}},ve=ye;function Ae(_,...h){for(var m=0;m<h.length;m++){var I=h[m];for(var O in I)I[O]&&I[O].constructor&&I[O].constructor===Object?_[O]=Ae(_[O]||{},I[O]):_[O]=I[O]}return _}function Re(){for(var _=["Pusher"],h=0;h<arguments.length;h++)typeof arguments[h]=="string"?_.push(arguments[h]):_.push(Ie(arguments[h]));return _.join(" : ")}function Ke(_,h){var m=Array.prototype.indexOf;if(_===null)return-1;if(m&&_.indexOf===m)return _.indexOf(h);for(var I=0,O=_.length;I<O;I++)if(_[I]===h)return I;return-1}function ze(_,h){for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&h(_[m],m,_)}function xt(_){var h=[];return ze(_,function(m,I){h.push(I)}),h}function mi(_){var h=[];return ze(_,function(m){h.push(m)}),h}function Bt(_,h,m){for(var I=0;I<_.length;I++)h.call(m||window,_[I],I,_)}function gt(_,h){for(var m=[],I=0;I<_.length;I++)m.push(h(_[I],I,_,m));return m}function sr(_,h){var m={};return ze(_,function(I,O){m[O]=h(I)}),m}function Ar(_,h){h=h||function(O){return!!O};for(var m=[],I=0;I<_.length;I++)h(_[I],I,_,m)&&m.push(_[I]);return m}function A(_,h){var m={};return ze(_,function(I,O){(h&&h(I,O,_,m)||I)&&(m[O]=I)}),m}function v(_){var h=[];return ze(_,function(m,I){h.push([I,m])}),h}function y(_,h){for(var m=0;m<_.length;m++)if(h(_[m],m,_))return!0;return!1}function $(_,h){for(var m=0;m<_.length;m++)if(!h(_[m],m,_))return!1;return!0}function L(_){return sr(_,function(h){return typeof h=="object"&&(h=Ie(h)),encodeURIComponent(F(h.toString()))})}function H(_){var h=A(_,function(I){return I!==void 0}),m=gt(v(L(h)),ve.method("join","=")).join("&");return m}function W(_){var h=[],m=[];return function I(O,B){var J,ie,ge;switch(typeof O){case"object":if(!O)return null;for(J=0;J<h.length;J+=1)if(h[J]===O)return{$ref:m[J]};if(h.push(O),m.push(B),Object.prototype.toString.apply(O)==="[object Array]")for(ge=[],J=0;J<O.length;J+=1)ge[J]=I(O[J],B+"["+J+"]");else{ge={};for(ie in O)Object.prototype.hasOwnProperty.call(O,ie)&&(ge[ie]=I(O[ie],B+"["+JSON.stringify(ie)+"]"))}return ge;case"number":case"string":case"boolean":return O}}(_,"$")}function Ie(_){try{return JSON.stringify(_)}catch{return JSON.stringify(W(_))}}class De{constructor(){this.globalLog=h=>{window.console&&window.console.log&&window.console.log(h)}}debug(...h){this.log(this.globalLog,h)}warn(...h){this.log(this.globalLogWarn,h)}error(...h){this.log(this.globalLogError,h)}globalLogWarn(h){window.console&&window.console.warn?window.console.warn(h):this.globalLog(h)}globalLogError(h){window.console&&window.console.error?window.console.error(h):this.globalLogWarn(h)}log(h,...m){var I=Re.apply(this,arguments);yc.log?yc.log(I):yc.logToConsole&&h.bind(this)(I)}}var ce=new De,ht=function(_,h,m,I,O){(m.headers!==void 0||m.headersProvider!=null)&&ce.warn(`To send headers with the ${I.toString()} request, you must use AJAX, rather than JSONP.`);var B=_.nextAuthCallbackID.toString();_.nextAuthCallbackID++;var J=_.getDocument(),ie=J.createElement("script");_.auth_callbacks[B]=function(Ne){O(null,Ne)};var ge="Pusher.auth_callbacks['"+B+"']";ie.src=m.endpoint+"?callback="+encodeURIComponent(ge)+"&"+h;var Oe=J.getElementsByTagName("head")[0]||J.documentElement;Oe.insertBefore(ie,Oe.firstChild)},Ge=ht;class gi{constructor(h){this.src=h}send(h){var m=this,I="Error loading "+m.src;m.script=document.createElement("script"),m.script.id=h.id,m.script.src=m.src,m.script.type="text/javascript",m.script.charset="UTF-8",m.script.addEventListener?(m.script.onerror=function(){h.callback(I)},m.script.onload=function(){h.callback(null)}):m.script.onreadystatechange=function(){(m.script.readyState==="loaded"||m.script.readyState==="complete")&&h.callback(null)},m.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(m.errorScript=document.createElement("script"),m.errorScript.id=h.id+"_error",m.errorScript.text=h.name+"('"+I+"');",m.script.async=m.errorScript.async=!1):m.script.async=!0;var O=document.getElementsByTagName("head")[0];O.insertBefore(m.script,O.firstChild),m.errorScript&&O.insertBefore(m.errorScript,m.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ro{constructor(h,m){this.url=h,this.data=m}send(h){if(!this.request){var m=H(this.data),I=this.url+"/"+h.number+"?"+m;this.request=_e.createScriptRequest(I),this.request.send(h)}}cleanup(){this.request&&this.request.cleanup()}}var Do=function(_,h){return function(m,I){var O="http"+(h?"s":"")+"://",B=O+(_.host||_.options.host)+_.options.path,J=_e.createJSONPRequest(B,m),ie=_e.ScriptReceivers.create(function(ge,Oe){o.remove(ie),J.cleanup(),Oe&&Oe.host&&(_.host=Oe.host),I&&I(ge,Oe)});J.send(ie)}},BA={name:"jsonp",getAgent:Do},VA=BA;function cc(_,h,m){var I=_+(h.useTLS?"s":""),O=h.useTLS?h.hostTLS:h.hostNonTLS;return I+"://"+O+m}function lc(_,h){var m="/app/"+_,I="?protocol="+u.PROTOCOL+"&client=js&version="+u.VERSION+(h?"&"+h:"");return m+I}var qA={getInitial:function(_,h){var m=(h.httpPath||"")+lc(_,"flash=false");return cc("ws",h,m)}},GA={getInitial:function(_,h){var m=(h.httpPath||"/pusher")+lc(_);return cc("http",h,m)}},ZA={getInitial:function(_,h){return cc("http",h,h.httpPath||"/pusher")},getPath:function(_,h){return lc(_)}};class HA{constructor(){this._callbacks={}}get(h){return this._callbacks[dc(h)]}add(h,m,I){var O=dc(h);this._callbacks[O]=this._callbacks[O]||[],this._callbacks[O].push({fn:m,context:I})}remove(h,m,I){if(!h&&!m&&!I){this._callbacks={};return}var O=h?[dc(h)]:xt(this._callbacks);m||I?this.removeCallback(O,m,I):this.removeAllCallbacks(O)}removeCallback(h,m,I){Bt(h,function(O){this._callbacks[O]=Ar(this._callbacks[O]||[],function(B){return m&&m!==B.fn||I&&I!==B.context}),this._callbacks[O].length===0&&delete this._callbacks[O]},this)}removeAllCallbacks(h){Bt(h,function(m){delete this._callbacks[m]},this)}}function dc(_){return"_"+_}class zn{constructor(h){this.callbacks=new HA,this.global_callbacks=[],this.failThrough=h}bind(h,m,I){return this.callbacks.add(h,m,I),this}bind_global(h){return this.global_callbacks.push(h),this}unbind(h,m,I){return this.callbacks.remove(h,m,I),this}unbind_global(h){return h?(this.global_callbacks=Ar(this.global_callbacks||[],m=>m!==h),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(h,m,I){for(var O=0;O<this.global_callbacks.length;O++)this.global_callbacks[O](h,m);var B=this.callbacks.get(h),J=[];if(I?J.push(m,I):m&&J.push(m),B&&B.length>0)for(var O=0;O<B.length;O++)B[O].fn.apply(B[O].context||window,J);else this.failThrough&&this.failThrough(h,m);return this}}class WA extends zn{constructor(h,m,I,O,B){super(),this.initialize=_e.transportConnectionInitializer,this.hooks=h,this.name=m,this.priority=I,this.key=O,this.options=B,this.state="new",this.timeline=B.timeline,this.activityTimeout=B.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var h=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(h,this.options)}catch(m){return ve.defer(()=>{this.onError(m),this.changeState("closed")}),!1}return this.bindListeners(),ce.debug("Connecting",{transport:this.name,url:h}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(h){return this.state==="open"?(ve.defer(()=>{this.socket&&this.socket.send(h)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(h){this.emit("error",{type:"WebSocketError",error:h}),this.timeline.error(this.buildTimelineMessage({error:h.toString()}))}onClose(h){h?this.changeState("closed",{code:h.code,reason:h.reason,wasClean:h.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(h){this.emit("message",h)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=h=>{this.onError(h)},this.socket.onclose=h=>{this.onClose(h)},this.socket.onmessage=h=>{this.onMessage(h)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(h,m){this.state=h,this.timeline.info(this.buildTimelineMessage({state:h,params:m})),this.emit(h,m)}buildTimelineMessage(h){return Ae({cid:this.id},h)}}class vi{constructor(h){this.hooks=h}isSupported(h){return this.hooks.isSupported(h)}createConnection(h,m,I,O){return new WA(this.hooks,h,m,I,O)}}var KA=new vi({urls:qA,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!_e.getWebSocketAPI()},isSupported:function(){return!!_e.getWebSocketAPI()},getSocket:function(_){return _e.createWebSocket(_)}}),Im={urls:GA,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Em=Ae({getSocket:function(_){return _e.HTTPFactory.createStreamingSocket(_)}},Im),Am=Ae({getSocket:function(_){return _e.HTTPFactory.createPollingSocket(_)}},Im),Tm={isSupported:function(){return _e.isXHRSupported()}},JA=new vi(Ae({},Em,Tm)),XA=new vi(Ae({},Am,Tm)),YA={ws:KA,xhr_streaming:JA,xhr_polling:XA},No=YA,QA=new vi({file:"sockjs",urls:ZA,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(_,h){return new window.SockJS(_,null,{js_path:d.getPath("sockjs",{useTLS:h.useTLS}),ignore_null_origin:h.ignoreNullOrigin})},beforeOpen:function(_,h){_.send(JSON.stringify({path:h}))}}),$m={isSupported:function(_){var h=_e.isXDRSupported(_.useTLS);return h}},eT=new vi(Ae({},Em,$m)),tT=new vi(Ae({},Am,$m));No.xdr_streaming=eT,No.xdr_polling=tT,No.sockjs=QA;var nT=No;class rT extends zn{constructor(){super();var h=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){h.emit("online")},!1),window.addEventListener("offline",function(){h.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var iT=new rT;class sT{constructor(h,m,I){this.manager=h,this.transport=m,this.minPingDelay=I.minPingDelay,this.maxPingDelay=I.maxPingDelay,this.pingDelay=void 0}createConnection(h,m,I,O){O=Ae({},O,{activityTimeout:this.pingDelay});var B=this.transport.createConnection(h,m,I,O),J=null,ie=function(){B.unbind("open",ie),B.bind("closed",ge),J=ve.now()},ge=Oe=>{if(B.unbind("closed",ge),Oe.code===1002||Oe.code===1003)this.manager.reportDeath();else if(!Oe.wasClean&&J){var Ne=ve.now()-J;Ne<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Ne/2,this.minPingDelay))}};return B.bind("open",ie),B}isSupported(h){return this.manager.isAlive()&&this.transport.isSupported(h)}}const Om={decodeMessage:function(_){try{var h=JSON.parse(_.data),m=h.data;if(typeof m=="string")try{m=JSON.parse(h.data)}catch{}var I={event:h.event,channel:h.channel,data:m};return h.user_id&&(I.user_id=h.user_id),I}catch(O){throw{type:"MessageParseError",error:O,data:_.data}}},encodeMessage:function(_){return JSON.stringify(_)},processHandshake:function(_){var h=Om.decodeMessage(_);if(h.event==="pusher:connection_established"){if(!h.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:h.data.socket_id,activityTimeout:h.data.activity_timeout*1e3}}else{if(h.event==="pusher:error")return{action:this.getCloseAction(h.data),error:this.getCloseError(h.data)};throw"Invalid handshake"}},getCloseAction:function(_){return _.code<4e3?_.code>=1002&&_.code<=1004?"backoff":null:_.code===4e3?"tls_only":_.code<4100?"refused":_.code<4200?"backoff":_.code<4300?"retry":"refused"},getCloseError:function(_){return _.code!==1e3&&_.code!==1001?{type:"PusherError",data:{code:_.code,message:_.reason||_.message}}:null}};var Tr=Om;class oT extends zn{constructor(h,m){super(),this.id=h,this.transport=m,this.activityTimeout=m.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(h){return this.transport.send(h)}send_event(h,m,I){var O={event:h,data:m};return I&&(O.channel=I),ce.debug("Event sent",O),this.send(Tr.encodeMessage(O))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var h={message:I=>{var O;try{O=Tr.decodeMessage(I)}catch(B){this.emit("error",{type:"MessageParseError",error:B,data:I.data})}if(O!==void 0){switch(ce.debug("Event recd",O),O.event){case"pusher:error":this.emit("error",{type:"PusherError",data:O.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",O)}},activity:()=>{this.emit("activity")},error:I=>{this.emit("error",I)},closed:I=>{m(),I&&I.code&&this.handleCloseEvent(I),this.transport=null,this.emit("closed")}},m=()=>{ze(h,(I,O)=>{this.transport.unbind(O,I)})};ze(h,(I,O)=>{this.transport.bind(O,I)})}handleCloseEvent(h){var m=Tr.getCloseAction(h),I=Tr.getCloseError(h);I&&this.emit("error",I),m&&this.emit(m,{action:m,error:I})}}class aT{constructor(h,m){this.transport=h,this.callback=m,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=h=>{this.unbindListeners();var m;try{m=Tr.processHandshake(h)}catch(I){this.finish("error",{error:I}),this.transport.close();return}m.action==="connected"?this.finish("connected",{connection:new oT(m.id,this.transport),activityTimeout:m.activityTimeout}):(this.finish(m.action,{error:m.error}),this.transport.close())},this.onClosed=h=>{this.unbindListeners();var m=Tr.getCloseAction(h)||"backoff",I=Tr.getCloseError(h);this.finish(m,{error:I})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(h,m){this.callback(Ae({transport:this.transport,action:h},m))}}class uT{constructor(h,m){this.timeline=h,this.options=m||{}}send(h,m){this.timeline.isEmpty()||this.timeline.send(_e.TimelineTransport.getAgent(this,h),m)}}class hc extends zn{constructor(h,m){super(function(I,O){ce.debug("No callbacks on "+h+" for "+I)}),this.name=h,this.pusher=m,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(h,m){return m(null,{auth:""})}trigger(h,m){if(h.indexOf("client-")!==0)throw new w("Event '"+h+"' does not start with 'client-'");if(!this.subscribed){var I=g.buildLogSuffix("triggeringClientEvents");ce.warn(`Client event triggered before channel 'subscription_succeeded' event . ${I}`)}return this.pusher.send_event(h,m,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(h){var m=h.event,I=h.data;if(m==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(h);else if(m==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(h);else if(m.indexOf("pusher_internal:")!==0){var O={};this.emit(m,I,O)}}handleSubscriptionSucceededEvent(h){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",h.data)}handleSubscriptionCountEvent(h){h.data.subscription_count&&(this.subscriptionCount=h.data.subscription_count),this.emit("pusher:subscription_count",h.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(h,m)=>{h?(this.subscriptionPending=!1,ce.error(h.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:h.message},h instanceof R?{status:h.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:m.auth,channel_data:m.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class fc extends hc{authorize(h,m){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:h},m)}}class cT{constructor(){this.reset()}get(h){return Object.prototype.hasOwnProperty.call(this.members,h)?{id:h,info:this.members[h]}:null}each(h){ze(this.members,(m,I)=>{h(this.get(I))})}setMyID(h){this.myID=h}onSubscription(h){this.members=h.presence.hash,this.count=h.presence.count,this.me=this.get(this.myID)}addMember(h){return this.get(h.user_id)===null&&this.count++,this.members[h.user_id]=h.user_info,this.get(h.user_id)}removeMember(h){var m=this.get(h.user_id);return m&&(delete this.members[h.user_id],this.count--),m}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var lT=function(_,h,m,I){function O(B){return B instanceof m?B:new m(function(J){J(B)})}return new(m||(m=Promise))(function(B,J){function ie(Ne){try{Oe(I.next(Ne))}catch(st){J(st)}}function ge(Ne){try{Oe(I.throw(Ne))}catch(st){J(st)}}function Oe(Ne){Ne.done?B(Ne.value):O(Ne.value).then(ie,ge)}Oe((I=I.apply(_,h||[])).next())})};class dT extends fc{constructor(h,m){super(h,m),this.members=new cT}authorize(h,m){super.authorize(h,(I,O)=>lT(this,void 0,void 0,function*(){if(!I)if(O=O,O.channel_data!=null){var B=JSON.parse(O.channel_data);this.members.setMyID(B.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let J=g.buildLogSuffix("authorizationEndpoint");ce.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${J}, or the user should be signed in.`),m("Invalid auth response");return}m(I,O)}))}handleEvent(h){var m=h.event;if(m.indexOf("pusher_internal:")===0)this.handleInternalEvent(h);else{var I=h.data,O={};h.user_id&&(O.user_id=h.user_id),this.emit(m,I,O)}}handleInternalEvent(h){var m=h.event,I=h.data;switch(m){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(h);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(h);break;case"pusher_internal:member_added":var O=this.members.addMember(I);this.emit("pusher:member_added",O);break;case"pusher_internal:member_removed":var B=this.members.removeMember(I);B&&this.emit("pusher:member_removed",B);break}}handleSubscriptionSucceededEvent(h){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(h.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var hT=r(1),pc=r(0);class fT extends fc{constructor(h,m,I){super(h,m),this.key=null,this.nacl=I}authorize(h,m){super.authorize(h,(I,O)=>{if(I){m(I,O);return}let B=O.shared_secret;if(!B){m(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(pc.decode)(B),delete O.shared_secret,m(null,O)})}trigger(h,m){throw new k("Client events are not currently supported for encrypted channels")}handleEvent(h){var m=h.event,I=h.data;if(m.indexOf("pusher_internal:")===0||m.indexOf("pusher:")===0){super.handleEvent(h);return}this.handleEncryptedEvent(m,I)}handleEncryptedEvent(h,m){if(!this.key){ce.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!m.ciphertext||!m.nonce){ce.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+m);return}let I=Object(pc.decode)(m.ciphertext);if(I.length<this.nacl.secretbox.overheadLength){ce.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${I.length}`);return}let O=Object(pc.decode)(m.nonce);if(O.length<this.nacl.secretbox.nonceLength){ce.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${O.length}`);return}let B=this.nacl.secretbox.open(I,O,this.key);if(B===null){ce.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(J,ie)=>{if(J){ce.error(`Failed to make a request to the authEndpoint: ${ie}. Unable to fetch new key, so dropping encrypted event`);return}if(B=this.nacl.secretbox.open(I,O,this.key),B===null){ce.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(h,this.getDataToEmit(B))});return}this.emit(h,this.getDataToEmit(B))}getDataToEmit(h){let m=Object(hT.decode)(h);try{return JSON.parse(m)}catch{return m}}}class pT extends zn{constructor(h,m){super(),this.state="initialized",this.connection=null,this.key=h,this.options=m,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var I=_e.getNetwork();I.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),I.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(h){return this.connection?this.connection.send(h):!1}send_event(h,m,I){return this.connection?this.connection.send_event(h,m,I):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var h=(m,I)=>{m?this.runner=this.strategy.connect(0,h):I.action==="error"?(this.emit("error",{type:"HandshakeError",error:I.error}),this.timeline.error({handshakeError:I.error})):(this.abortConnecting(),this.handshakeCallbacks[I.action](I))};this.runner=this.strategy.connect(0,h)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var h=this.abandonConnection();h.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(h){this.timeline.info({action:"retry",delay:h}),h>0&&this.emit("connecting_in",Math.round(h/1e3)),this.retryTimer=new ue(h||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ue(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ue(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ue(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(h){return Ae({},h,{message:m=>{this.resetActivityCheck(),this.emit("message",m)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:m=>{this.emit("error",m)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(h){return Ae({},h,{connected:m=>{this.activityTimeout=Math.min(this.options.activityTimeout,m.activityTimeout,m.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(m.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let h=m=>I=>{I.error&&this.emit("error",{type:"WebSocketError",error:I.error}),m(I)};return{tls_only:h(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:h(()=>{this.disconnect()}),backoff:h(()=>{this.retryIn(1e3)}),retry:h(()=>{this.retryIn(0)})}}setConnection(h){this.connection=h;for(var m in this.connectionCallbacks)this.connection.bind(m,this.connectionCallbacks[m]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var h in this.connectionCallbacks)this.connection.unbind(h,this.connectionCallbacks[h]);var m=this.connection;return this.connection=null,m}}updateState(h,m){var I=this.state;if(this.state=h,I!==h){var O=h;O==="connected"&&(O+=" with new socket ID "+m.socket_id),ce.debug("State changed",I+" -> "+O),this.timeline.info({state:h,params:m}),this.emit("state_change",{previous:I,current:h}),this.emit(h,m)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class mT{constructor(){this.channels={}}add(h,m){return this.channels[h]||(this.channels[h]=gT(h,m)),this.channels[h]}all(){return mi(this.channels)}find(h){return this.channels[h]}remove(h){var m=this.channels[h];return delete this.channels[h],m}disconnect(){ze(this.channels,function(h){h.disconnect()})}}function gT(_,h){if(_.indexOf("private-encrypted-")===0){if(h.config.nacl)return Fn.createEncryptedChannel(_,h,h.config.nacl);let m="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",I=g.buildLogSuffix("encryptedChannelSupport");throw new k(`${m}. ${I}`)}else{if(_.indexOf("private-")===0)return Fn.createPrivateChannel(_,h);if(_.indexOf("presence-")===0)return Fn.createPresenceChannel(_,h);if(_.indexOf("#")===0)throw new S('Cannot create a channel with name "'+_+'".');return Fn.createChannel(_,h)}}var vT={createChannels(){return new mT},createConnectionManager(_,h){return new pT(_,h)},createChannel(_,h){return new hc(_,h)},createPrivateChannel(_,h){return new fc(_,h)},createPresenceChannel(_,h){return new dT(_,h)},createEncryptedChannel(_,h,m){return new fT(_,h,m)},createTimelineSender(_,h){return new uT(_,h)},createHandshake(_,h){return new aT(_,h)},createAssistantToTheTransportManager(_,h,m){return new sT(_,h,m)}},Fn=vT;class Cm{constructor(h){this.options=h||{},this.livesLeft=this.options.lives||1/0}getAssistant(h){return Fn.createAssistantToTheTransportManager(this,h,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class $r{constructor(h,m){this.strategies=h,this.loop=!!m.loop,this.failFast=!!m.failFast,this.timeout=m.timeout,this.timeoutLimit=m.timeoutLimit}isSupported(){return y(this.strategies,ve.method("isSupported"))}connect(h,m){var I=this.strategies,O=0,B=this.timeout,J=null,ie=(ge,Oe)=>{Oe?m(null,Oe):(O=O+1,this.loop&&(O=O%I.length),O<I.length?(B&&(B=B*2,this.timeoutLimit&&(B=Math.min(B,this.timeoutLimit))),J=this.tryStrategy(I[O],h,{timeout:B,failFast:this.failFast},ie)):m(!0))};return J=this.tryStrategy(I[O],h,{timeout:B,failFast:this.failFast},ie),{abort:function(){J.abort()},forceMinPriority:function(ge){h=ge,J&&J.forceMinPriority(ge)}}}tryStrategy(h,m,I,O){var B=null,J=null;return I.timeout>0&&(B=new ue(I.timeout,function(){J.abort(),O(!0)})),J=h.connect(m,function(ie,ge){ie&&B&&B.isRunning()&&!I.failFast||(B&&B.ensureAborted(),O(ie,ge))}),{abort:function(){B&&B.ensureAborted(),J.abort()},forceMinPriority:function(ie){J.forceMinPriority(ie)}}}}class mc{constructor(h){this.strategies=h}isSupported(){return y(this.strategies,ve.method("isSupported"))}connect(h,m){return _T(this.strategies,h,function(I,O){return function(B,J){if(O[I].error=B,B){yT(O)&&m(!0);return}Bt(O,function(ie){ie.forceMinPriority(J.transport.priority)}),m(null,J)}})}}function _T(_,h,m){var I=gt(_,function(O,B,J,ie){return O.connect(h,m(B,ie))});return{abort:function(){Bt(I,bT)},forceMinPriority:function(O){Bt(I,function(B){B.forceMinPriority(O)})}}}function yT(_){return $(_,function(h){return!!h.error})}function bT(_){!_.error&&!_.aborted&&(_.abort(),_.aborted=!0)}class wT{constructor(h,m,I){this.strategy=h,this.transports=m,this.ttl=I.ttl||1800*1e3,this.usingTLS=I.useTLS,this.timeline=I.timeline}isSupported(){return this.strategy.isSupported()}connect(h,m){var I=this.usingTLS,O=ST(I),B=O&&O.cacheSkipCount?O.cacheSkipCount:0,J=[this.strategy];if(O&&O.timestamp+this.ttl>=ve.now()){var ie=this.transports[O.transport];ie&&(["ws","wss"].includes(O.transport)||B>3?(this.timeline.info({cached:!0,transport:O.transport,latency:O.latency}),J.push(new $r([ie],{timeout:O.latency*2+1e3,failFast:!0}))):B++)}var ge=ve.now(),Oe=J.pop().connect(h,function Ne(st,Lo){st?(Pm(I),J.length>0?(ge=ve.now(),Oe=J.pop().connect(h,Ne)):m(st)):(xT(I,Lo.transport.name,ve.now()-ge,B),m(null,Lo))});return{abort:function(){Oe.abort()},forceMinPriority:function(Ne){h=Ne,Oe&&Oe.forceMinPriority(Ne)}}}}function gc(_){return"pusherTransport"+(_?"TLS":"NonTLS")}function ST(_){var h=_e.getLocalStorage();if(h)try{var m=h[gc(_)];if(m)return JSON.parse(m)}catch{Pm(_)}return null}function xT(_,h,m,I){var O=_e.getLocalStorage();if(O)try{O[gc(_)]=Ie({timestamp:ve.now(),transport:h,latency:m,cacheSkipCount:I})}catch{}}function Pm(_){var h=_e.getLocalStorage();if(h)try{delete h[gc(_)]}catch{}}class jo{constructor(h,{delay:m}){this.strategy=h,this.options={delay:m}}isSupported(){return this.strategy.isSupported()}connect(h,m){var I=this.strategy,O,B=new ue(this.options.delay,function(){O=I.connect(h,m)});return{abort:function(){B.ensureAborted(),O&&O.abort()},forceMinPriority:function(J){h=J,O&&O.forceMinPriority(J)}}}}class us{constructor(h,m,I){this.test=h,this.trueBranch=m,this.falseBranch=I}isSupported(){var h=this.test()?this.trueBranch:this.falseBranch;return h.isSupported()}connect(h,m){var I=this.test()?this.trueBranch:this.falseBranch;return I.connect(h,m)}}class kT{constructor(h){this.strategy=h}isSupported(){return this.strategy.isSupported()}connect(h,m){var I=this.strategy.connect(h,function(O,B){B&&I.abort(),m(O,B)});return I}}function cs(_){return function(){return _.isSupported()}}var IT=function(_,h,m){var I={};function O(Vm,k$,I$,E$,A$){var qm=m(_,Vm,k$,I$,E$,A$);return I[Vm]=qm,qm}var B=Object.assign({},h,{hostNonTLS:_.wsHost+":"+_.wsPort,hostTLS:_.wsHost+":"+_.wssPort,httpPath:_.wsPath}),J=Object.assign({},B,{useTLS:!0}),ie=Object.assign({},h,{hostNonTLS:_.httpHost+":"+_.httpPort,hostTLS:_.httpHost+":"+_.httpsPort,httpPath:_.httpPath}),ge={loop:!0,timeout:15e3,timeoutLimit:6e4},Oe=new Cm({minPingDelay:1e4,maxPingDelay:_.activityTimeout}),Ne=new Cm({lives:2,minPingDelay:1e4,maxPingDelay:_.activityTimeout}),st=O("ws","ws",3,B,Oe),Lo=O("wss","ws",3,J,Oe),y$=O("sockjs","sockjs",1,ie),Um=O("xhr_streaming","xhr_streaming",1,ie,Ne),b$=O("xdr_streaming","xdr_streaming",1,ie,Ne),Lm=O("xhr_polling","xhr_polling",1,ie),w$=O("xdr_polling","xdr_polling",1,ie),Mm=new $r([st],ge),S$=new $r([Lo],ge),x$=new $r([y$],ge),zm=new $r([new us(cs(Um),Um,b$)],ge),Fm=new $r([new us(cs(Lm),Lm,w$)],ge),Bm=new $r([new us(cs(zm),new mc([zm,new jo(Fm,{delay:4e3})]),Fm)],ge),bc=new us(cs(Bm),Bm,x$),wc;return h.useTLS?wc=new mc([Mm,new jo(bc,{delay:2e3})]):wc=new mc([Mm,new jo(S$,{delay:2e3}),new jo(bc,{delay:5e3})]),new wT(new kT(new us(cs(st),wc,bc)),I,{ttl:18e5,timeline:h.timeline,useTLS:h.useTLS})},ET=IT,AT=function(){var _=this;_.timeline.info(_.buildTimelineMessage({transport:_.name+(_.options.useTLS?"s":"")})),_.hooks.isInitialized()?_.changeState("initialized"):_.hooks.file?(_.changeState("initializing"),d.load(_.hooks.file,{useTLS:_.options.useTLS},function(h,m){_.hooks.isInitialized()?(_.changeState("initialized"),m(!0)):(h&&_.onError(h),_.onClose(),m(!1))})):_.onClose()},TT={getRequest:function(_){var h=new window.XDomainRequest;return h.ontimeout=function(){_.emit("error",new x),_.close()},h.onerror=function(m){_.emit("error",m),_.close()},h.onprogress=function(){h.responseText&&h.responseText.length>0&&_.onChunk(200,h.responseText)},h.onload=function(){h.responseText&&h.responseText.length>0&&_.onChunk(200,h.responseText),_.emit("finished",200),_.close()},h},abortRequest:function(_){_.ontimeout=_.onerror=_.onprogress=_.onload=null,_.abort()}},$T=TT;const OT=256*1024;class CT extends zn{constructor(h,m,I){super(),this.hooks=h,this.method=m,this.url=I}start(h){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},_e.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(h)}close(){this.unloader&&(_e.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(h,m){for(;;){var I=this.advanceBuffer(m);if(I)this.emit("chunk",{status:h,data:I});else break}this.isBufferTooLong(m)&&this.emit("buffer_too_long")}advanceBuffer(h){var m=h.slice(this.position),I=m.indexOf(`
`);return I!==-1?(this.position+=I+1,m.slice(0,I)):null}isBufferTooLong(h){return this.position===h.length&&h.length>OT}}var vc;(function(_){_[_.CONNECTING=0]="CONNECTING",_[_.OPEN=1]="OPEN",_[_.CLOSED=3]="CLOSED"})(vc||(vc={}));var Or=vc,PT=1;class RT{constructor(h,m){this.hooks=h,this.session=Dm(1e3)+"/"+UT(8),this.location=DT(m),this.readyState=Or.CONNECTING,this.openStream()}send(h){return this.sendRaw(JSON.stringify([h]))}ping(){this.hooks.sendHeartbeat(this)}close(h,m){this.onClose(h,m,!0)}sendRaw(h){if(this.readyState===Or.OPEN)try{return _e.createSocketRequest("POST",Rm(NT(this.location,this.session))).start(h),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(h,m,I){this.closeStream(),this.readyState=Or.CLOSED,this.onclose&&this.onclose({code:h,reason:m,wasClean:I})}onChunk(h){if(h.status===200){this.readyState===Or.OPEN&&this.onActivity();var m,I=h.data.slice(0,1);switch(I){case"o":m=JSON.parse(h.data.slice(1)||"{}"),this.onOpen(m);break;case"a":m=JSON.parse(h.data.slice(1)||"[]");for(var O=0;O<m.length;O++)this.onEvent(m[O]);break;case"m":m=JSON.parse(h.data.slice(1)||"null"),this.onEvent(m);break;case"h":this.hooks.onHeartbeat(this);break;case"c":m=JSON.parse(h.data.slice(1)||"[]"),this.onClose(m[0],m[1],!0);break}}}onOpen(h){this.readyState===Or.CONNECTING?(h&&h.hostname&&(this.location.base=jT(this.location.base,h.hostname)),this.readyState=Or.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(h){this.readyState===Or.OPEN&&this.onmessage&&this.onmessage({data:h})}onActivity(){this.onactivity&&this.onactivity()}onError(h){this.onerror&&this.onerror(h)}openStream(){this.stream=_e.createSocketRequest("POST",Rm(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",h=>{this.onChunk(h)}),this.stream.bind("finished",h=>{this.hooks.onFinished(this,h)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(h){ve.defer(()=>{this.onError(h),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function DT(_){var h=/([^\?]*)\/*(\??.*)/.exec(_);return{base:h[1],queryString:h[2]}}function NT(_,h){return _.base+"/"+h+"/xhr_send"}function Rm(_){var h=_.indexOf("?")===-1?"?":"&";return _+h+"t="+ +new Date+"&n="+PT++}function jT(_,h){var m=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(_);return m[1]+h+m[3]}function Dm(_){return _e.randomInt(_)}function UT(_){for(var h=[],m=0;m<_;m++)h.push(Dm(32).toString(32));return h.join("")}var LT=RT,MT={getReceiveURL:function(_,h){return _.base+"/"+h+"/xhr_streaming"+_.queryString},onHeartbeat:function(_){_.sendRaw("[]")},sendHeartbeat:function(_){_.sendRaw("[]")},onFinished:function(_,h){_.onClose(1006,"Connection interrupted ("+h+")",!1)}},zT=MT,FT={getReceiveURL:function(_,h){return _.base+"/"+h+"/xhr"+_.queryString},onHeartbeat:function(){},sendHeartbeat:function(_){_.sendRaw("[]")},onFinished:function(_,h){h===200?_.reconnect():_.onClose(1006,"Connection interrupted ("+h+")",!1)}},BT=FT,VT={getRequest:function(_){var h=_e.getXHRAPI(),m=new h;return m.onreadystatechange=m.onprogress=function(){switch(m.readyState){case 3:m.responseText&&m.responseText.length>0&&_.onChunk(m.status,m.responseText);break;case 4:m.responseText&&m.responseText.length>0&&_.onChunk(m.status,m.responseText),_.emit("finished",m.status),_.close();break}},m},abortRequest:function(_){_.onreadystatechange=null,_.abort()}},qT=VT,GT={createStreamingSocket(_){return this.createSocket(zT,_)},createPollingSocket(_){return this.createSocket(BT,_)},createSocket(_,h){return new LT(_,h)},createXHR(_,h){return this.createRequest(qT,_,h)},createRequest(_,h,m){return new CT(_,h,m)}},Nm=GT;Nm.createXDR=function(_,h){return this.createRequest($T,_,h)};var ZT=Nm,HT={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:c,getDefaultStrategy:ET,Transports:nT,transportConnectionInitializer:AT,HTTPFactory:ZT,TimelineTransport:VA,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(_){window.Pusher=_;var h=()=>{this.onDocumentBody(_.ready)};window.JSON?h():d.load("json2",{},h)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:N,jsonp:Ge}},onDocumentBody(_){document.body?_():setTimeout(()=>{this.onDocumentBody(_)},0)},createJSONPRequest(_,h){return new Ro(_,h)},createScriptRequest(_){return new gi(_)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var _=this.getXHRAPI();return new _},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return iT},createWebSocket(_){var h=this.getWebSocketAPI();return new h(_)},createSocketRequest(_,h){if(this.isXHRSupported())return this.HTTPFactory.createXHR(_,h);if(this.isXDRSupported(h.indexOf("https:")===0))return this.HTTPFactory.createXDR(_,h);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var _=this.getXHRAPI();return!!_&&new _().withCredentials!==void 0},isXDRSupported(_){var h=_?"https:":"http:",m=this.getProtocol();return!!window.XDomainRequest&&m===h},addUnloadListener(_){window.addEventListener!==void 0?window.addEventListener("unload",_,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",_)},removeUnloadListener(_){window.addEventListener!==void 0?window.removeEventListener("unload",_,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",_)},randomInt(_){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*_)}},_e=HT,_c;(function(_){_[_.ERROR=3]="ERROR",_[_.INFO=6]="INFO",_[_.DEBUG=7]="DEBUG"})(_c||(_c={}));var Uo=_c;class WT{constructor(h,m,I){this.key=h,this.session=m,this.events=[],this.options=I||{},this.sent=0,this.uniqueID=0}log(h,m){h<=this.options.level&&(this.events.push(Ae({},m,{timestamp:ve.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(h){this.log(Uo.ERROR,h)}info(h){this.log(Uo.INFO,h)}debug(h){this.log(Uo.DEBUG,h)}isEmpty(){return this.events.length===0}send(h,m){var I=Ae({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],h(I,(O,B)=>{O||this.sent++,m&&m(O,B)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class KT{constructor(h,m,I,O){this.name=h,this.priority=m,this.transport=I,this.options=O||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(h,m){if(this.isSupported()){if(this.priority<h)return jm(new E,m)}else return jm(new C,m);var I=!1,O=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),B=null,J=function(){O.unbind("initialized",J),O.connect()},ie=function(){B=Fn.createHandshake(O,function(st){I=!0,Ne(),m(null,st)})},ge=function(st){Ne(),m(st)},Oe=function(){Ne();var st;st=Ie(O),m(new T(st))},Ne=function(){O.unbind("initialized",J),O.unbind("open",ie),O.unbind("error",ge),O.unbind("closed",Oe)};return O.bind("initialized",J),O.bind("open",ie),O.bind("error",ge),O.bind("closed",Oe),O.initialize(),{abort:()=>{I||(Ne(),B?B.close():O.close())},forceMinPriority:st=>{I||this.priority<st&&(B?B.close():O.close())}}}}function jm(_,h){return ve.defer(function(){h(_)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:JT}=_e;var XT=function(_,h,m,I,O,B){var J=JT[m];if(!J)throw new P(m);var ie=(!_.enabledTransports||Ke(_.enabledTransports,h)!==-1)&&(!_.disabledTransports||Ke(_.disabledTransports,h)===-1),ge;return ie?(O=Object.assign({ignoreNullOrigin:_.ignoreNullOrigin},O),ge=new KT(h,I,B?B.getAssistant(J):J,O)):ge=YT,ge},YT={isSupported:function(){return!1},connect:function(_,h){var m=ve.defer(function(){h(new C)});return{abort:function(){m.ensureAborted()},forceMinPriority:function(){}}}};function QT(_){if(_==null)throw"You must pass an options object";if(_.cluster==null)throw"Options object must provide a cluster";"disableStats"in _&&ce.warn("The disableStats option is deprecated in favor of enableStats")}const e$=(_,h)=>{var m="socket_id="+encodeURIComponent(_.socketId);for(var I in h.params)m+="&"+encodeURIComponent(I)+"="+encodeURIComponent(h.params[I]);if(h.paramsProvider!=null){let O=h.paramsProvider();for(var I in O)m+="&"+encodeURIComponent(I)+"="+encodeURIComponent(O[I])}return m};var t$=_=>{if(typeof _e.getAuthorizers()[_.transport]>"u")throw`'${_.transport}' is not a recognized auth transport`;return(h,m)=>{const I=e$(h,_);_e.getAuthorizers()[_.transport](_e,I,_,b.UserAuthentication,m)}};const n$=(_,h)=>{var m="socket_id="+encodeURIComponent(_.socketId);m+="&channel_name="+encodeURIComponent(_.channelName);for(var I in h.params)m+="&"+encodeURIComponent(I)+"="+encodeURIComponent(h.params[I]);if(h.paramsProvider!=null){let O=h.paramsProvider();for(var I in O)m+="&"+encodeURIComponent(I)+"="+encodeURIComponent(O[I])}return m};var r$=_=>{if(typeof _e.getAuthorizers()[_.transport]>"u")throw`'${_.transport}' is not a recognized auth transport`;return(h,m)=>{const I=n$(h,_);_e.getAuthorizers()[_.transport](_e,I,_,b.ChannelAuthorization,m)}};const i$=(_,h,m)=>{const I={authTransport:h.transport,authEndpoint:h.endpoint,auth:{params:h.params,headers:h.headers}};return(O,B)=>{const J=_.channel(O.channelName);m(J,I).authorize(O.socketId,B)}};function s$(_,h){let m={activityTimeout:_.activityTimeout||u.activityTimeout,cluster:_.cluster,httpPath:_.httpPath||u.httpPath,httpPort:_.httpPort||u.httpPort,httpsPort:_.httpsPort||u.httpsPort,pongTimeout:_.pongTimeout||u.pongTimeout,statsHost:_.statsHost||u.stats_host,unavailableTimeout:_.unavailableTimeout||u.unavailableTimeout,wsPath:_.wsPath||u.wsPath,wsPort:_.wsPort||u.wsPort,wssPort:_.wssPort||u.wssPort,enableStats:l$(_),httpHost:o$(_),useTLS:c$(_),wsHost:a$(_),userAuthenticator:d$(_),channelAuthorizer:f$(_,h)};return"disabledTransports"in _&&(m.disabledTransports=_.disabledTransports),"enabledTransports"in _&&(m.enabledTransports=_.enabledTransports),"ignoreNullOrigin"in _&&(m.ignoreNullOrigin=_.ignoreNullOrigin),"timelineParams"in _&&(m.timelineParams=_.timelineParams),"nacl"in _&&(m.nacl=_.nacl),m}function o$(_){return _.httpHost?_.httpHost:_.cluster?`sockjs-${_.cluster}.pusher.com`:u.httpHost}function a$(_){return _.wsHost?_.wsHost:u$(_.cluster)}function u$(_){return`ws-${_}.pusher.com`}function c$(_){return _e.getProtocol()==="https:"?!0:_.forceTLS!==!1}function l$(_){return"enableStats"in _?_.enableStats:"disableStats"in _?!_.disableStats:!1}function d$(_){const h=Object.assign(Object.assign({},u.userAuthentication),_.userAuthentication);return"customHandler"in h&&h.customHandler!=null?h.customHandler:t$(h)}function h$(_,h){let m;return"channelAuthorization"in _?m=Object.assign(Object.assign({},u.channelAuthorization),_.channelAuthorization):(m={transport:_.authTransport||u.authTransport,endpoint:_.authEndpoint||u.authEndpoint},"auth"in _&&("params"in _.auth&&(m.params=_.auth.params),"headers"in _.auth&&(m.headers=_.auth.headers)),"authorizer"in _&&(m.customHandler=i$(h,m,_.authorizer))),m}function f$(_,h){const m=h$(_,h);return"customHandler"in m&&m.customHandler!=null?m.customHandler:r$(m)}class p$ extends zn{constructor(h){super(function(m,I){ce.debug(`No callbacks on watchlist events for ${m}`)}),this.pusher=h,this.bindWatchlistInternalEvent()}handleEvent(h){h.data.events.forEach(m=>{this.emit(m.name,m)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",h=>{var m=h.event;m==="pusher_internal:watchlist_events"&&this.handleEvent(h)})}}function m$(){let _,h;return{promise:new Promise((I,O)=>{_=I,h=O}),resolve:_,reject:h}}var g$=m$;class v$ extends zn{constructor(h){super(function(m,I){ce.debug("No callbacks on user for "+m)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(m,I)=>{if(m){ce.warn(`Error during signin: ${m}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:I.auth,user_data:I.user_data})},this.pusher=h,this.pusher.connection.bind("state_change",({previous:m,current:I})=>{m!=="connected"&&I==="connected"&&this._signin(),m==="connected"&&I!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new p$(h),this.pusher.connection.bind("message",m=>{var I=m.event;I==="pusher:signin_success"&&this._onSigninSuccess(m.data),this.serverToUserChannel&&this.serverToUserChannel.name===m.channel&&this.serverToUserChannel.handleEvent(m)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(h){try{this.user_data=JSON.parse(h.user_data)}catch{ce.error(`Failed parsing user data after signin: ${h.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ce.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const h=m=>{m.subscriptionPending&&m.subscriptionCancelled?m.reinstateSubscription():!m.subscriptionPending&&this.pusher.connection.state==="connected"&&m.subscribe()};this.serverToUserChannel=new hc(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((m,I)=>{m.indexOf("pusher_internal:")===0||m.indexOf("pusher:")===0||this.emit(m,I)}),h(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:h,resolve:m}=g$();h.done=!1;const I=()=>{h.done=!0};h.then(I).catch(I),this.signinDonePromise=h,this._signinDoneResolve=m}}class vt{static ready(){vt.isReady=!0;for(var h=0,m=vt.instances.length;h<m;h++)vt.instances[h].connect()}static getClientFeatures(){return xt(A({ws:_e.Transports.ws},function(h){return h.isSupported({})}))}constructor(h,m){_$(h),QT(m),this.key=h,this.config=s$(m,this),this.channels=Fn.createChannels(),this.global_emitter=new zn,this.sessionID=_e.randomInt(1e9),this.timeline=new WT(this.key,this.sessionID,{cluster:this.config.cluster,features:vt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Uo.INFO,version:u.VERSION}),this.config.enableStats&&(this.timelineSender=Fn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+_e.TimelineTransport.name}));var I=O=>_e.getDefaultStrategy(this.config,O,XT);this.connection=Fn.createConnectionManager(this.key,{getStrategy:I,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",O=>{var B=O.event,J=B.indexOf("pusher_internal:")===0;if(O.channel){var ie=this.channel(O.channel);ie&&ie.handleEvent(O)}J||this.global_emitter.emit(O.event,O.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",O=>{ce.warn(O)}),vt.instances.push(this),this.timeline.info({instances:vt.instances.length}),this.user=new v$(this),vt.isReady&&this.connect()}channel(h){return this.channels.find(h)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var h=this.connection.isUsingTLS(),m=this.timelineSender;this.timelineSenderTimer=new Ue(6e4,function(){m.send(h)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(h,m,I){return this.global_emitter.bind(h,m,I),this}unbind(h,m,I){return this.global_emitter.unbind(h,m,I),this}bind_global(h){return this.global_emitter.bind_global(h),this}unbind_global(h){return this.global_emitter.unbind_global(h),this}unbind_all(h){return this.global_emitter.unbind_all(),this}subscribeAll(){var h;for(h in this.channels.channels)this.channels.channels.hasOwnProperty(h)&&this.subscribe(h)}subscribe(h){var m=this.channels.add(h,this);return m.subscriptionPending&&m.subscriptionCancelled?m.reinstateSubscription():!m.subscriptionPending&&this.connection.state==="connected"&&m.subscribe(),m}unsubscribe(h){var m=this.channels.find(h);m&&m.subscriptionPending?m.cancelSubscription():(m=this.channels.remove(h),m&&m.subscribed&&m.unsubscribe())}send_event(h,m,I){return this.connection.send_event(h,m,I)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}vt.instances=[],vt.isReady=!1,vt.logToConsole=!1,vt.Runtime=_e,vt.ScriptReceivers=_e.ScriptReceivers,vt.DependenciesReceivers=_e.DependenciesReceivers,vt.auth_callbacks=_e.auth_callbacks;var yc=i.default=vt;function _$(_){if(_==null)throw"You must pass your app key when you instantiate Pusher."}_e.setup(vt)}])})}(fl)),fl.exports}var WL=HL();const KL=Su(WL),pf={},JL=Symbol((pf?"production":void 0)!=="production"?"RESET":""),YS=t=>typeof t?.then=="function";function XL(t=()=>{try{return window.localStorage}catch(n){(pf?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let i,r;const s={getItem:(u,l)=>{var c,d;const f=g=>{if(g=g||"",i!==g){try{r=JSON.parse(g,e?.reviver)}catch{return l}i=g}return r},p=(d=(c=t())==null?void 0:c.getItem(u))!=null?d:null;return YS(p)?p.then(f):f(p)},setItem:(u,l)=>{var c;return(c=t())==null?void 0:c.setItem(u,JSON.stringify(l,void 0))},removeItem:u=>{var l;return(l=t())==null?void 0:l.removeItem(u)}},o=u=>(l,c,d)=>u(l,f=>{let p;try{p=JSON.parse(f||"")}catch{p=d}c(p)});let a;try{a=(n=t())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(u,l)=>{if(!(t()instanceof window.Storage))return()=>{};const c=d=>{d.storageArea===t()&&d.key===u&&l(d.newValue)};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),a&&(s.subscribe=o(a)),s}const YL=XL();function mf(t,e,n=YL,i){const r=i?.getOnInit,s=rr(r?n.getItem(t,e):e);return(pf?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=a=>{a(n.getItem(t,e));let u;return n.subscribe&&(u=n.subscribe(t,a,e)),u},rr(a=>a(s),(a,u,l)=>{const c=typeof l=="function"?l(a(s)):l;return c===JL?(u(s,e),n.removeItem(t)):YS(c)?c.then(d=>(u(s,d),n.setItem(t,d))):(u(s,c),n.setItem(t,c))})}const QS=Object.freeze({status:"aborted"});function M(t,e,n){function i(a,u){var l;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(l=a._zod).traits??(l.traits=new Set),a._zod.traits.add(t),e(a,u);for(const c in o.prototype)c in a||Object.defineProperty(a,c,{value:o.prototype[c].bind(a)});a._zod.constr=o,a._zod.def=u}const r=n?.Parent??Object;class s extends r{}Object.defineProperty(s,"name",{value:t});function o(a){var u;const l=n?.Parent?new s:this;i(l,a),(u=l._zod).deferred??(u.deferred=[]);for(const c of l._zod.deferred)c();return l}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}const ex=Symbol("zod_brand");class Wi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const ru={};function Dt(t){return t&&Object.assign(ru,t),ru}function QL(t){return t}function e4(t){return t}function t4(t){}function n4(t){throw new Error}function r4(t){}function gf(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,r])=>e.indexOf(+i)===-1).map(([i,r])=>r)}function K(t,e="|"){return t.map(n=>me(n)).join(e)}function iu(t,e){return typeof e=="bigint"?e.toString():e}function qu(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function hi(t){return t==null}function Gu(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function tx(t,e){const n=(t.toString().split(".")[1]||"").length,i=e.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u?.[1]&&(r=Number.parseInt(u[1]))}const s=n>r?n:r,o=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const V_=Symbol("evaluating");function $e(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==V_)return i===void 0&&(i=V_,i=n()),i},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Zu(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Mn(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Er(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function i4(t){return Er(t._zod.def)}function s4(t,e){return e?e.reduce((n,i)=>n?.[i],t):t}function o4(t){const e=Object.keys(t),n=e.map(i=>t[i]);return Promise.all(n).then(i=>{const r={};for(let s=0;s<e.length;s++)r[e[s]]=i[s];return r})}function a4(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let i=0;i<t;i++)n+=e[Math.floor(Math.random()*e.length)];return n}function Rd(t){return JSON.stringify(t)}const vf="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function oo(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const nx=qu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ki(t){if(oo(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(oo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Hu(t){return Ki(t)?{...t}:t}function u4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}const c4=t=>{const e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},su=new Set(["string","number","symbol"]),rx=new Set(["string","number","bigint","boolean","symbol","undefined"]);function br(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wn(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function G(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function l4(t){let e;return new Proxy({},{get(n,i,r){return e??(e=t()),Reflect.get(e,i,r)},set(n,i,r,s){return e??(e=t()),Reflect.set(e,i,r,s)},has(n,i){return e??(e=t()),Reflect.has(e,i)},deleteProperty(n,i){return e??(e=t()),Reflect.deleteProperty(e,i)},ownKeys(n){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(n,i){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(n,i,r){return e??(e=t()),Reflect.defineProperty(e,i,r)}})}function me(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function ix(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const sx={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ox={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ax(t,e){const n=t._zod.def,i=Er(t._zod.def,{get shape(){const r={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(r[s]=n.shape[s])}return Mn(this,"shape",r),r},checks:[]});return wn(t,i)}function ux(t,e){const n=t._zod.def,i=Er(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete r[s]}return Mn(this,"shape",r),r},checks:[]});return wn(t,i)}function cx(t,e){if(!Ki(e))throw new Error("Invalid input to extend: expected a plain object");const n=Er(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Mn(this,"shape",i),i},checks:[]});return wn(t,n)}function lx(t,e){const n=Er(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return Mn(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return wn(t,n)}function dx(t,e,n){const i=Er(e._zod.def,{get shape(){const r=e._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=t?new t({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)s[o]=t?new t({type:"optional",innerType:r[o]}):r[o];return Mn(this,"shape",s),s},checks:[]});return wn(e,i)}function hx(t,e,n){const i=Er(e._zod.def,{get shape(){const r=e._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:r[o]}))}else for(const o in r)s[o]=new t({type:"nonoptional",innerType:r[o]});return Mn(this,"shape",s),s},checks:[]});return wn(e,i)}function ji(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function dn(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function Ts(t){return typeof t=="string"?t:t?.message}function yn(t,e,n){const i={...t,path:t.path??[]};if(!t.message){const r=Ts(t.inst?._zod.def?.error?.(t))??Ts(e?.error?.(t))??Ts(n.customError?.(t))??Ts(n.localeError?.(t))??"Invalid input";i.message=r}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function Wu(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function Ku(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ji(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}function d4(t){return Object.entries(t).filter(([e,n])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}class h4{constructor(...e){}}const f4=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:ox,Class:h4,NUMBER_FORMAT_RANGES:sx,aborted:ji,allowsEval:nx,assert:r4,assertEqual:QL,assertIs:t4,assertNever:n4,assertNotEqual:e4,assignProp:Mn,cached:qu,captureStackTrace:vf,cleanEnum:d4,cleanRegex:Gu,clone:wn,cloneDef:i4,createTransparentProxy:l4,defineLazy:$e,esc:Rd,escapeRegex:br,extend:cx,finalizeIssue:yn,floatSafeRemainder:tx,getElementAtPath:s4,getEnumValues:gf,getLengthableOrigin:Ku,getParsedType:c4,getSizableOrigin:Wu,isObject:oo,isPlainObject:Ki,issue:Ji,joinValues:K,jsonStringifyReplacer:iu,merge:lx,mergeDefs:Er,normalizeParams:G,nullish:hi,numKeys:u4,objectClone:Zu,omit:ux,optionalKeys:ix,partial:dx,pick:ax,prefixIssues:dn,primitiveTypes:rx,promiseAllObject:o4,propertyKeyTypes:su,randomString:a4,required:hx,shallowClone:Hu,stringifyPrimitive:me,unwrapMessage:Ts},Symbol.toStringTag,{value:"Module"})),fx=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,iu,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},_f=M("$ZodError",fx),Eo=M("$ZodError",fx,{Parent:Error});function yf(t,e=n=>n.message){const n={},i=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}function bf(t,e){const n=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>r({issues:a}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)i._errors.push(n(o));else{let a=i,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return r(t),i}function px(t,e){const n=e||function(s){return s.message},i={errors:[]},r=(s,o=[])=>{var a,u;for(const l of s.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c},l.path));else if(l.code==="invalid_key")r({issues:l.issues},l.path);else if(l.code==="invalid_element")r({issues:l.issues},l.path);else{const c=[...o,...l.path];if(c.length===0){i.errors.push(n(l));continue}let d=i,f=0;for(;f<c.length;){const p=c[f],g=f===c.length-1;typeof p=="string"?(d.properties??(d.properties={}),(a=d.properties)[p]??(a[p]={errors:[]}),d=d.properties[p]):(d.items??(d.items=[]),(u=d.items)[p]??(u[p]={errors:[]}),d=d.items[p]),g&&d.errors.push(n(l)),f++}}};return r(t),i}function mx(t){const e=[],n=t.map(i=>typeof i=="object"?i.key:i);for(const i of n)typeof i=="number"?e.push(`[${i}]`):typeof i=="symbol"?e.push(`[${JSON.stringify(String(i))}]`):/[^\w$]/.test(i)?e.push(`[${JSON.stringify(i)}]`):(e.length&&e.push("."),e.push(i));return e.join("")}function gx(t){const e=[],n=[...t.issues].sort((i,r)=>(i.path??[]).length-(r.path??[]).length);for(const i of n)e.push(`✖ ${i.message}`),i.path?.length&&e.push(`  → at ${mx(i.path)}`);return e.join(`
`)}const wf=t=>(e,n,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Wi;if(o.issues.length){const a=new(r?.Err??t)(o.issues.map(u=>yn(u,s,Dt())));throw vf(a,r?.callee),a}return o.value},Dd=wf(Eo),Sf=t=>async(e,n,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(r?.Err??t)(o.issues.map(u=>yn(u,s,Dt())));throw vf(a,r?.callee),a}return o.value},Nd=Sf(Eo),xf=t=>(e,n,i)=>{const r=i?{...i,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new Wi;return s.issues.length?{success:!1,error:new(t??_f)(s.issues.map(o=>yn(o,r,Dt())))}:{success:!0,data:s.value}},vx=xf(Eo),kf=t=>async(e,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>yn(o,r,Dt())))}:{success:!0,data:s.value}},_x=kf(Eo),yx=/^[cC][^\s-]{8,}$/,bx=/^[0-9a-z]+$/,wx=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Sx=/^[0-9a-vA-V]{20}$/,xx=/^[A-Za-z0-9]{27}$/,kx=/^[a-zA-Z0-9_-]{21}$/,Ix=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,p4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ex=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xi=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,m4=Xi(4),g4=Xi(6),v4=Xi(7),Ax=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_4=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,y4=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,b4=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,w4=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,S4=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,x4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Tx(){return new RegExp(x4,"u")}const $x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ox=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Cx=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Px=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Rx=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,If=/^[A-Za-z0-9_-]*$/,Ef=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,k4=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Dx=/^\+(?:[0-9]){6,14}[0-9]$/,Nx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jx=new RegExp(`^${Nx}$`);function Ux(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Lx(t){return new RegExp(`^${Ux(t)}$`)}function Mx(t){const e=Ux({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${Nx}T(?:${i})$`)}const zx=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Fx=/^\d+n?$/,Bx=/^\d+$/,Vx=/^-?\d+(?:\.\d+)?/i,qx=/true|false/i,Gx=/null/i,Zx=/undefined/i,Hx=/^[^A-Z]*$/,Wx=/^[^a-z]*$/,Kx=Object.freeze(Object.defineProperty({__proto__:null,base64:Rx,base64url:If,bigint:Fx,boolean:qx,browserEmail:S4,cidrv4:Cx,cidrv6:Px,cuid:yx,cuid2:bx,date:jx,datetime:Mx,domain:k4,duration:Ix,e164:Dx,email:Ax,emoji:Tx,extendedDuration:p4,guid:Ex,hostname:Ef,html5Email:_4,idnEmail:w4,integer:Bx,ipv4:$x,ipv6:Ox,ksuid:xx,lowercase:Hx,nanoid:kx,null:Gx,number:Vx,rfc5322Email:y4,string:zx,time:Lx,ulid:wx,undefined:Zx,unicodeEmail:b4,uppercase:Wx,uuid:Xi,uuid4:m4,uuid6:g4,uuid7:v4,xid:Sx},Symbol.toStringTag,{value:"Module"})),tt=M("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Jx={number:"number",bigint:"bigint",object:"date"},Af=M("$ZodCheckLessThan",(t,e)=>{tt.init(t,e);const n=Jx[typeof e.value];t._zod.onattach.push(i=>{const r=i._zod.bag,s=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Tf=M("$ZodCheckGreaterThan",(t,e)=>{tt.init(t,e);const n=Jx[typeof e.value];t._zod.onattach.push(i=>{const r=i._zod.bag,s=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Xx=M("$ZodCheckMultipleOf",(t,e)=>{tt.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):tx(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Yx=M("$ZodCheckNumberFormat",(t,e)=>{tt.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),i=n?"int":"number",[r,s]=sx[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=r,a.maximum=s,n&&(a.pattern=Bx)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}a<r&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:t})}}),Qx=M("$ZodCheckBigIntFormat",(t,e)=>{tt.init(t,e);const[n,i]=ox[e.format];t._zod.onattach.push(r=>{const s=r._zod.bag;s.format=e.format,s.minimum=n,s.maximum=i}),t._zod.check=r=>{const s=r.value;s<n&&r.issues.push({origin:"bigint",input:s,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),s>i&&r.issues.push({origin:"bigint",input:s,code:"too_big",maximum:i,inst:t})}}),ek=M("$ZodCheckMaxSize",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const r=i.value;r.size<=e.maximum||i.issues.push({origin:Wu(r),code:"too_big",maximum:e.maximum,input:r,inst:t,continue:!e.abort})}}),tk=M("$ZodCheckMinSize",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const r=i.value;r.size>=e.minimum||i.issues.push({origin:Wu(r),code:"too_small",minimum:e.minimum,input:r,inst:t,continue:!e.abort})}}),nk=M("$ZodCheckSizeEquals",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=e.size,r.maximum=e.size,r.size=e.size}),t._zod.check=i=>{const r=i.value,s=r.size;if(s===e.size)return;const o=s>e.size;i.issues.push({origin:Wu(r),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),rk=M("$ZodCheckMaxLength",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const r=i.value;if(r.length<=e.maximum)return;const o=Ku(r);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),ik=M("$ZodCheckMinLength",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const r=i.value;if(r.length>=e.minimum)return;const o=Ku(r);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),sk=M("$ZodCheckLengthEquals",(t,e)=>{var n;tt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const r=i.value;return!hi(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=i=>{const r=i.value,s=r.length;if(s===e.length)return;const o=Ku(r),a=s>e.length;i.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Ao=M("$ZodCheckStringFormat",(t,e)=>{var n,i;tt.init(t,e),t._zod.onattach.push(r=>{const s=r._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),ok=M("$ZodCheckRegex",(t,e)=>{Ao.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),ak=M("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Hx),Ao.init(t,e)}),uk=M("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Wx),Ao.init(t,e)}),ck=M("$ZodCheckIncludes",(t,e)=>{tt.init(t,e);const n=br(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),lk=M("$ZodCheckStartsWith",(t,e)=>{tt.init(t,e);const n=new RegExp(`^${br(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),dk=M("$ZodCheckEndsWith",(t,e)=>{tt.init(t,e);const n=new RegExp(`.*${br(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}});function q_(t,e,n){t.issues.length&&e.issues.push(...dn(n,t.issues))}const hk=M("$ZodCheckProperty",(t,e)=>{tt.init(t,e),t._zod.check=n=>{const i=e.schema._zod.run({value:n.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(r=>q_(r,n,e.property));q_(i,n,e.property)}}),fk=M("$ZodCheckMimeType",(t,e)=>{tt.init(t,e);const n=new Set(e.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=e.mime}),t._zod.check=i=>{n.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:t,continue:!e.abort})}}),pk=M("$ZodCheckOverwrite",(t,e)=>{tt.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class mk{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(o=>o),r=Math.min(...i.map(o=>o.length-o.trimStart().length)),s=i.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,r.join(`
`))}}const gk={major:4,minor:0,patch:16},pe=M("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=gk;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const r of i)for(const s of r._zod.onattach)s(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(s,o,a)=>{let u=ji(s),l;for(const c of o){if(c._zod.def.when){if(!c._zod.def.when(s))continue}else if(u)continue;const d=s.issues.length,f=c._zod.check(s);if(f instanceof Promise&&a?.async===!1)throw new Wi;if(l||f instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await f,s.issues.length!==d&&(u||(u=ji(s,d)))});else{if(s.issues.length===d)continue;u||(u=ji(s,d))}}return l?l.then(()=>s):s};t._zod.run=(s,o)=>{const a=t._zod.parse(s,o);if(a instanceof Promise){if(o.async===!1)throw new Wi;return a.then(u=>r(u,i,o))}return r(a,i,o)}}t["~standard"]={validate:r=>{try{const s=vx(t,r);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return _x(t,r).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),To=M("$ZodString",(t,e)=>{pe.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??zx(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Me=M("$ZodStringFormat",(t,e)=>{Ao.init(t,e),To.init(t,e)}),vk=M("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Ex),Me.init(t,e)}),_k=M("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Xi(i))}else e.pattern??(e.pattern=Xi());Me.init(t,e)}),yk=M("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Ax),Me.init(t,e)}),bk=M("$ZodURL",(t,e)=>{Me.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Ef.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),wk=M("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Tx()),Me.init(t,e)}),Sk=M("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=kx),Me.init(t,e)}),xk=M("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=yx),Me.init(t,e)}),kk=M("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=bx),Me.init(t,e)}),Ik=M("$ZodULID",(t,e)=>{e.pattern??(e.pattern=wx),Me.init(t,e)}),Ek=M("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Sx),Me.init(t,e)}),Ak=M("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=xx),Me.init(t,e)}),Tk=M("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Mx(e)),Me.init(t,e)}),$k=M("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=jx),Me.init(t,e)}),Ok=M("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Lx(e)),Me.init(t,e)}),Ck=M("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Ix),Me.init(t,e)}),Pk=M("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=$x),Me.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv4"})}),Rk=M("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Ox),Me.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Dk=M("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Cx),Me.init(t,e)}),Nk=M("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Px),Me.init(t,e),t._zod.check=n=>{const[i,r]=n.value.split("/");try{if(!r)throw new Error;const s=Number(r);if(`${s}`!==r)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function $f(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const jk=M("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Rx),Me.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{$f(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Uk(t){if(!If.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return $f(n)}const Lk=M("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=If),Me.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{Uk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Mk=M("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Dx),Me.init(t,e)});function zk(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const Fk=M("$ZodJWT",(t,e)=>{Me.init(t,e),t._zod.check=n=>{zk(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Bk=M("$ZodCustomStringFormat",(t,e)=>{Me.init(t,e),t._zod.check=n=>{e.fn(n.value)||n.issues.push({code:"invalid_format",format:e.format,input:n.value,inst:t,continue:!e.abort})}}),Of=M("$ZodNumber",(t,e)=>{pe.init(t,e),t._zod.pattern=t._zod.bag.pattern??Vx,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...s?{received:s}:{}}),n}}),Vk=M("$ZodNumber",(t,e)=>{Yx.init(t,e),Of.init(t,e)}),Cf=M("$ZodBoolean",(t,e)=>{pe.init(t,e),t._zod.pattern=qx,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),Pf=M("$ZodBigInt",(t,e)=>{pe.init(t,e),t._zod.pattern=Fx,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:t}),n}}),qk=M("$ZodBigInt",(t,e)=>{Qx.init(t,e),Pf.init(t,e)}),Gk=M("$ZodSymbol",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;return typeof r=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:t}),n}}),Zk=M("$ZodUndefined",(t,e)=>{pe.init(t,e),t._zod.pattern=Zx,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,i)=>{const r=n.value;return typeof r>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:t}),n}}),Hk=M("$ZodNull",(t,e)=>{pe.init(t,e),t._zod.pattern=Gx,t._zod.values=new Set([null]),t._zod.parse=(n,i)=>{const r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:t}),n}}),Wk=M("$ZodAny",(t,e)=>{pe.init(t,e),t._zod.parse=n=>n}),ou=M("$ZodUnknown",(t,e)=>{pe.init(t,e),t._zod.parse=n=>n}),Kk=M("$ZodNever",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),Jk=M("$ZodVoid",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;return typeof r>"u"||n.issues.push({expected:"void",code:"invalid_type",input:r,inst:t}),n}}),Xk=M("$ZodDate",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const r=n.value,s=r instanceof Date;return s&&!Number.isNaN(r.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:r,...s?{received:"Invalid Date"}:{},inst:t}),n}});function G_(t,e,n){t.issues.length&&e.issues.push(...dn(n,t.issues)),e.value[n]=t.value}const Rf=M("$ZodArray",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const s=[];for(let o=0;o<r.length;o++){const a=r[o],u=e.element._zod.run({value:a,issues:[]},i);u instanceof Promise?s.push(u.then(l=>G_(l,n,o))):G_(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function ia(t,e,n,i){t.issues.length&&e.issues.push(...dn(n,t.issues)),t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}const Yk=M("$ZodObject",(t,e)=>{pe.init(t,e);const n=qu(()=>{const d=Object.keys(e.shape);for(const p of d)if(!(e.shape[p]instanceof pe))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const f=ix(e.shape);return{shape:e.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(f)}});$e(t._zod,"propValues",()=>{const d=e.shape,f={};for(const p in d){const g=d[p]._zod;if(g.values){f[p]??(f[p]=new Set);for(const b of g.values)f[p].add(b)}}return f});const i=d=>{const f=new mk(["shape","payload","ctx"]),p=n.value,g=x=>{const E=Rd(x);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};f.write("const input = payload.value;");const b=Object.create(null);let w=0;for(const x of p.keys)b[x]=`key_${w++}`;f.write("const newResult = {}");for(const x of p.keys){const E=b[x],T=Rd(x);f.write(`const ${E} = ${g(x)};`),f.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${E}.value;
        }
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const S=f.compile();return(x,E)=>S(d,x,E)};let r;const s=oo,o=!ru.jitless,u=o&&nx.value,l=e.catchall;let c;t._zod.parse=(d,f)=>{c??(c=n.value);const p=d.value;if(!s(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),d;const g=[];if(o&&u&&f?.async===!1&&f.jitless!==!0)r||(r=i(e.shape)),d=r(d,f);else{d.value={};const E=c.shape;for(const T of c.keys){const P=E[T]._zod.run({value:p[T],issues:[]},f);P instanceof Promise?g.push(P.then(C=>ia(C,d,T,p))):ia(P,d,T,p)}}if(!l)return g.length?Promise.all(g).then(()=>d):d;const b=[],w=c.keySet,S=l._zod,x=S.def.type;for(const E of Object.keys(p)){if(w.has(E))continue;if(x==="never"){b.push(E);continue}const T=S.run({value:p[E],issues:[]},f);T instanceof Promise?g.push(T.then(k=>ia(k,d,E,p))):ia(T,d,E,p)}return b.length&&d.issues.push({code:"unrecognized_keys",keys:b,input:p,inst:t}),g.length?Promise.all(g).then(()=>d):d}});function Z_(t,e,n,i){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const r=t.filter(s=>!ji(s));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>yn(o,i,Dt())))}),e)}const Df=M("$ZodUnion",(t,e)=>{pe.init(t,e),$e(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),$e(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),$e(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),$e(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>Gu(s.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(r,s)=>{if(n)return i(r,s);let o=!1;const a=[];for(const u of e.options){const l=u._zod.run({value:r.value,issues:[]},s);if(l instanceof Promise)a.push(l),o=!0;else{if(l.issues.length===0)return l;a.push(l)}}return o?Promise.all(a).then(u=>Z_(u,r,t,s)):Z_(a,r,t,s)}}),Qk=M("$ZodDiscriminatedUnion",(t,e)=>{Df.init(t,e);const n=t._zod.parse;$e(t._zod,"propValues",()=>{const r={};for(const s of e.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const[a,u]of Object.entries(o)){r[a]||(r[a]=new Set);for(const l of u)r[a].add(l)}}return r});const i=qu(()=>{const r=e.options,s=new Map;for(const o of r){const a=o._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(const u of a){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});t._zod.parse=(r,s)=>{const o=r.value;if(!oo(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),r;const a=i.value.get(o?.[e.discriminator]);return a?a._zod.run(r,s):e.unionFallback?n(r,s):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),r)}}),eI=M("$ZodIntersection",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value,s=e.left._zod.run({value:r,issues:[]},i),o=e.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,l])=>H_(n,u,l)):H_(n,s,o)}});function jd(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ki(t)&&Ki(e)){const n=Object.keys(e),i=Object.keys(t).filter(s=>n.indexOf(s)!==-1),r={...t,...e};for(const s of i){const o=jd(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r[s]=o.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const r=t[i],s=e[i],o=jd(r,s);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function H_(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),ji(t))return t;const i=jd(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const Ju=M("$ZodTuple",(t,e)=>{pe.init(t,e);const n=e.items,i=n.length-[...n].reverse().findIndex(r=>r._zod.optin!=="optional");t._zod.parse=(r,s)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[];if(!e.rest){const l=o.length>n.length,c=o.length<i-1;if(l||c)return r.issues.push({...l?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:o,inst:t,origin:"array"}),r}let u=-1;for(const l of n){if(u++,u>=o.length&&u>=i)continue;const c=l._zod.run({value:o[u],issues:[]},s);c instanceof Promise?a.push(c.then(d=>sa(d,r,u))):sa(c,r,u)}if(e.rest){const l=o.slice(n.length);for(const c of l){u++;const d=e.rest._zod.run({value:c,issues:[]},s);d instanceof Promise?a.push(d.then(f=>sa(f,r,u))):sa(d,r,u)}}return a.length?Promise.all(a).then(()=>r):r}});function sa(t,e,n){t.issues.length&&e.issues.push(...dn(n,t.issues)),e.value[n]=t.value}const tI=M("$ZodRecord",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;if(!Ki(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const s=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const l=e.valueType._zod.run({value:r[u],issues:[]},i);l instanceof Promise?s.push(l.then(c=>{c.issues.length&&n.issues.push(...dn(u,c.issues)),n.value[u]=c.value})):(l.issues.length&&n.issues.push(...dn(u,l.issues)),n.value[u]=l.value)}let a;for(const u in r)o.has(u)||(a=a??[],a.push(u));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(r)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},i);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(l=>yn(l,i,Dt())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const u=e.valueType._zod.run({value:r[o],issues:[]},i);u instanceof Promise?s.push(u.then(l=>{l.issues.length&&n.issues.push(...dn(o,l.issues)),n.value[a.value]=l.value})):(u.issues.length&&n.issues.push(...dn(o,u.issues)),n.value[a.value]=u.value)}}return s.length?Promise.all(s).then(()=>n):n}}),nI=M("$ZodMap",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;if(!(r instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:r,inst:t}),n;const s=[];n.value=new Map;for(const[o,a]of r){const u=e.keyType._zod.run({value:o,issues:[]},i),l=e.valueType._zod.run({value:a,issues:[]},i);u instanceof Promise||l instanceof Promise?s.push(Promise.all([u,l]).then(([c,d])=>{W_(c,d,n,o,r,t,i)})):W_(u,l,n,o,r,t,i)}return s.length?Promise.all(s).then(()=>n):n}});function W_(t,e,n,i,r,s,o){t.issues.length&&(su.has(typeof i)?n.issues.push(...dn(i,t.issues)):n.issues.push({code:"invalid_key",origin:"map",input:r,inst:s,issues:t.issues.map(a=>yn(a,o,Dt()))})),e.issues.length&&(su.has(typeof i)?n.issues.push(...dn(i,e.issues)):n.issues.push({origin:"map",code:"invalid_element",input:r,inst:s,key:i,issues:e.issues.map(a=>yn(a,o,Dt()))})),n.value.set(t.value,e.value)}const rI=M("$ZodSet",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;if(!(r instanceof Set))return n.issues.push({input:r,inst:t,expected:"set",code:"invalid_type"}),n;const s=[];n.value=new Set;for(const o of r){const a=e.valueType._zod.run({value:o,issues:[]},i);a instanceof Promise?s.push(a.then(u=>K_(u,n))):K_(a,n)}return s.length?Promise.all(s).then(()=>n):n}});function K_(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}const iI=M("$ZodEnum",(t,e)=>{pe.init(t,e);const n=gf(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(r=>su.has(typeof r)).map(r=>typeof r=="string"?br(r):r.toString()).join("|")})$`),t._zod.parse=(r,s)=>{const o=r.value;return i.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:t}),r}}),sI=M("$ZodLiteral",(t,e)=>{if(pe.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?br(n):n?br(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,i)=>{const r=n.value;return t._zod.values.has(r)||n.issues.push({code:"invalid_value",values:e.values,input:r,inst:t}),n}}),oI=M("$ZodFile",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=n.value;return r instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:r,inst:t}),n}}),Nf=M("$ZodTransform",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=e.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new Wi;return n.value=r,n}});function J_(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const aI=M("$ZodOptional",(t,e)=>{pe.init(t,e),t._zod.optin="optional",t._zod.optout="optional",$e(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),$e(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Gu(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>J_(s,n.value)):J_(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),uI=M("$ZodNullable",(t,e)=>{pe.init(t,e),$e(t._zod,"optin",()=>e.innerType._zod.optin),$e(t._zod,"optout",()=>e.innerType._zod.optout),$e(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Gu(n.source)}|null)$`):void 0}),$e(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),cI=M("$ZodDefault",(t,e)=>{pe.init(t,e),t._zod.optin="optional",$e(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>X_(s,e)):X_(r,e)}});function X_(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const lI=M("$ZodPrefault",(t,e)=>{pe.init(t,e),t._zod.optin="optional",$e(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),dI=M("$ZodNonOptional",(t,e)=>{pe.init(t,e),$e(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>Y_(s,t)):Y_(r,t)}});function Y_(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const hI=M("$ZodSuccess",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>{const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.issues.length===0,n)):(n.value=r.issues.length===0,n)}}),fI=M("$ZodCatch",(t,e)=>{pe.init(t,e),$e(t._zod,"optin",()=>e.innerType._zod.optin),$e(t._zod,"optout",()=>e.innerType._zod.optout),$e(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>yn(o,i,Dt()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(s=>yn(s,i,Dt()))},input:n.value}),n.issues=[]),n)}}),pI=M("$ZodNaN",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:t,expected:"nan",code:"invalid_type"}),n)}),jf=M("$ZodPipe",(t,e)=>{pe.init(t,e),$e(t._zod,"values",()=>e.in._zod.values),$e(t._zod,"optin",()=>e.in._zod.optin),$e(t._zod,"optout",()=>e.out._zod.optout),$e(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{const r=e.in._zod.run(n,i);return r instanceof Promise?r.then(s=>Q_(s,e,i)):Q_(r,e,i)}});function Q_(t,e,n){return t.issues.length?t:e.out._zod.run({value:t.value,issues:t.issues},n)}const mI=M("$ZodReadonly",(t,e)=>{pe.init(t,e),$e(t._zod,"propValues",()=>e.innerType._zod.propValues),$e(t._zod,"values",()=>e.innerType._zod.values),$e(t._zod,"optin",()=>e.innerType._zod.optin),$e(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,i)=>{const r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(ey):ey(r)}});function ey(t){return t.value=Object.freeze(t.value),t}const gI=M("$ZodTemplateLiteral",(t,e)=>{pe.init(t,e);const n=[];for(const i of e.parts)if(i instanceof pe){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);const r=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!r)throw new Error(`Invalid template literal part: ${i._zod.traits}`);const s=r.startsWith("^")?1:0,o=r.endsWith("$")?r.length-1:r.length;n.push(r.slice(s,o))}else if(i===null||rx.has(typeof i))n.push(br(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);t._zod.pattern=new RegExp(`^${n.join("")}$`),t._zod.parse=(i,r)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:t,expected:"template_literal",code:"invalid_type"}),i):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),i)}),vI=M("$ZodPromise",(t,e)=>{pe.init(t,e),t._zod.parse=(n,i)=>Promise.resolve(n.value).then(r=>e.innerType._zod.run({value:r,issues:[]},i))}),_I=M("$ZodLazy",(t,e)=>{pe.init(t,e),$e(t._zod,"innerType",()=>e.getter()),$e(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),$e(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),$e(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),$e(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,i)=>t._zod.innerType._zod.run(n,i)}),yI=M("$ZodCustom",(t,e)=>{tt.init(t,e),pe.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,r=e.fn(i);if(r instanceof Promise)return r.then(s=>ty(s,n,i,t));ty(r,n,i,t)}});function ty(t,e,n,i){if(!t){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),e.issues.push(Ji(r))}}const I4=()=>{const t={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return r=>{switch(r.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${r.expected}، ولكن تم إدخال ${n(r.input)}`;case"invalid_value":return r.values.length===1?`مدخلات غير مقبولة: يفترض إدخال ${me(r.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` أكبر من اللازم: يفترض أن تكون ${r.origin??"القيمة"} ${s} ${r.maximum.toString()} ${o.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${r.origin??"القيمة"} ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`أصغر من اللازم: يفترض لـ ${r.origin} أن يكون ${s} ${r.minimum.toString()} ${o.unit}`:`أصغر من اللازم: يفترض لـ ${r.origin} أن يكون ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`نَص غير مقبول: يجب أن يبدأ بـ "${r.prefix}"`:s.format==="ends_with"?`نَص غير مقبول: يجب أن ينتهي بـ "${s.suffix}"`:s.format==="includes"?`نَص غير مقبول: يجب أن يتضمَّن "${s.includes}"`:s.format==="regex"?`نَص غير مقبول: يجب أن يطابق النمط ${s.pattern}`:`${i[s.format]??r.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${r.divisor}`;case"unrecognized_keys":return`معرف${r.keys.length>1?"ات":""} غريب${r.keys.length>1?"ة":""}: ${K(r.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${r.origin}`;case"invalid_union":return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${r.origin}`;default:return"مدخل غير مقبول"}}};function E4(){return{localeError:I4()}}const A4=()=>{const t={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanlış dəyər: gözlənilən ${r.expected}, daxil olan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Yanlış dəyər: gözlənilən ${me(r.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Çox böyük: gözlənilən ${r.origin??"dəyər"} ${s}${r.maximum.toString()} ${o.unit??"element"}`:`Çox böyük: gözlənilən ${r.origin??"dəyər"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Çox kiçik: gözlənilən ${r.origin} ${s}${r.minimum.toString()} ${o.unit}`:`Çox kiçik: gözlənilən ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Yanlış mətn: "${s.prefix}" ilə başlamalıdır`:s.format==="ends_with"?`Yanlış mətn: "${s.suffix}" ilə bitməlidir`:s.format==="includes"?`Yanlış mətn: "${s.includes}" daxil olmalıdır`:s.format==="regex"?`Yanlış mətn: ${s.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${i[s.format]??r.format}`}case"not_multiple_of":return`Yanlış ədəd: ${r.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${r.keys.length>1?"lar":""}: ${K(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilində yanlış açar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${r.origin} daxilində yanlış dəyər`;default:return"Yanlış dəyər"}}};function T4(){return{localeError:A4()}}function ny(t,e,n,i){const r=Math.abs(t),s=r%10,o=r%100;return o>=11&&o<=19?i:s===1?e:s>=2&&s<=4?n:i}const $4=()=>{const t={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"лік";case"object":{if(Array.isArray(r))return"масіў";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return r=>{switch(r.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${r.expected}, атрымана ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Няправільны ўвод: чакалася ${me(r.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);if(o){const a=Number(r.maximum),u=ny(a,o.unit.one,o.unit.few,o.unit.many);return`Занадта вялікі: чакалася, што ${r.origin??"значэнне"} павінна ${o.verb} ${s}${r.maximum.toString()} ${u}`}return`Занадта вялікі: чакалася, што ${r.origin??"значэнне"} павінна быць ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);if(o){const a=Number(r.minimum),u=ny(a,o.unit.one,o.unit.few,o.unit.many);return`Занадта малы: чакалася, што ${r.origin} павінна ${o.verb} ${s}${r.minimum.toString()} ${u}`}return`Занадта малы: чакалася, што ${r.origin} павінна быць ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Няправільны радок: павінен пачынацца з "${s.prefix}"`:s.format==="ends_with"?`Няправільны радок: павінен заканчвацца на "${s.suffix}"`:s.format==="includes"?`Няправільны радок: павінен змяшчаць "${s.includes}"`:s.format==="regex"?`Няправільны радок: павінен адпавядаць шаблону ${s.pattern}`:`Няправільны ${i[s.format]??r.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${r.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${r.keys.length>1?"ключы":"ключ"}: ${K(r.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${r.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${r.origin}`;default:return"Няправільны ўвод"}}};function O4(){return{localeError:$4()}}const C4=()=>{const t={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus invàlid: s'esperava ${r.expected}, s'ha rebut ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Valor invàlid: s'esperava ${me(r.values[0])}`:`Opció invàlida: s'esperava una de ${K(r.values," o ")}`;case"too_big":{const s=r.inclusive?"com a màxim":"menys de",o=e(r.origin);return o?`Massa gran: s'esperava que ${r.origin??"el valor"} contingués ${s} ${r.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"com a mínim":"més de",o=e(r.origin);return o?`Massa petit: s'esperava que ${r.origin} contingués ${s} ${r.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${r.origin} fos ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Format invàlid: ha de començar amb "${s.prefix}"`:s.format==="ends_with"?`Format invàlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invàlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invàlid: ha de coincidir amb el patró ${s.pattern}`:`Format invàlid per a ${i[s.format]??r.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${r.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${r.origin}`;default:return"Entrada invàlida"}}};function P4(){return{localeError:C4()}}const R4=()=>{const t={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(r))return"pole";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatný vstup: očekáváno ${r.expected}, obdrženo ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neplatný vstup: očekáváno ${me(r.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Hodnota je příliš velká: ${r.origin??"hodnota"} musí mít ${s}${r.maximum.toString()} ${o.unit??"prvků"}`:`Hodnota je příliš velká: ${r.origin??"hodnota"} musí být ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Hodnota je příliš malá: ${r.origin??"hodnota"} musí mít ${s}${r.minimum.toString()} ${o.unit??"prvků"}`:`Hodnota je příliš malá: ${r.origin??"hodnota"} musí být ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Neplatný řetězec: musí začínat na "${s.prefix}"`:s.format==="ends_with"?`Neplatný řetězec: musí končit na "${s.suffix}"`:s.format==="includes"?`Neplatný řetězec: musí obsahovat "${s.includes}"`:s.format==="regex"?`Neplatný řetězec: musí odpovídat vzoru ${s.pattern}`:`Neplatný formát ${i[s.format]??r.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${r.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${K(r.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${r.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${r.origin}`;default:return"Neplatný vstup"}}};function D4(){return{localeError:R4()}}const N4=()=>{const t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},e={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};function n(o){return t[o]??null}function i(o){return e[o]??o}const r=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return a},s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${i(o.expected)}, fik ${i(r(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig værdi: forventede ${me(o.values[0])}`:`Ugyldigt valg: forventede en af følgende ${K(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",u=n(o.origin),l=i(o.origin);return u?`For stor: forventede ${l??"value"} ${u.verb} ${a} ${o.maximum.toString()} ${u.unit??"elementer"}`:`For stor: forventede ${l??"value"} havde ${a} ${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",u=n(o.origin),l=i(o.origin);return u?`For lille: forventede ${l} ${u.verb} ${a} ${o.minimum.toString()} ${u.unit}`:`For lille: forventede ${l} havde ${a} ${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche mønsteret ${a.pattern}`:`Ugyldig ${s[a.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${K(o.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${o.origin}`;default:return"Ugyldigt input"}}};function j4(){return{localeError:N4()}}const U4=()=>{const t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"Zahl";case"object":{if(Array.isArray(r))return"Array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ungültige Eingabe: erwartet ${r.expected}, erhalten ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ungültige Eingabe: erwartet ${me(r.values[0])}`:`Ungültige Option: erwartet eine von ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Zu groß: erwartet, dass ${r.origin??"Wert"} ${s}${r.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${r.origin??"Wert"} ${s}${r.maximum.toString()} ist`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Zu klein: erwartet, dass ${r.origin} ${s}${r.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${r.origin} ${s}${r.minimum.toString()} ist`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ungültiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungültiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungültiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungültiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungültig: ${i[s.format]??r.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${K(r.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${r.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${r.origin}`;default:return"Ungültige Eingabe"}}};function L4(){return{localeError:U4()}}const M4=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},z4=()=>{const t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(i){return t[i]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Invalid input: expected ${i.expected}, received ${M4(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${me(i.values[0])}`:`Invalid option: expected one of ${K(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Too big: expected ${i.origin??"value"} to have ${r}${i.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Too small: expected ${i.origin} to have ${r}${i.minimum.toString()} ${s.unit}`:`Too small: expected ${i.origin} to be ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Invalid string: must start with "${r.prefix}"`:r.format==="ends_with"?`Invalid string: must end with "${r.suffix}"`:r.format==="includes"?`Invalid string: must include "${r.includes}"`:r.format==="regex"?`Invalid string: must match pattern ${r.pattern}`:`Invalid ${n[r.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${K(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function bI(){return{localeError:z4()}}const F4=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},B4=()=>{const t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return i=>{switch(i.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${i.expected}, riceviĝis ${F4(i.input)}`;case"invalid_value":return i.values.length===1?`Nevalida enigo: atendiĝis ${me(i.values[0])}`:`Nevalida opcio: atendiĝis unu el ${K(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Tro granda: atendiĝis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Tro malgranda: atendiĝis ke ${i.origin} havu ${r}${i.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiĝis ke ${i.origin} estu ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Nevalida karaktraro: devas komenciĝi per "${r.prefix}"`:r.format==="ends_with"?`Nevalida karaktraro: devas finiĝi per "${r.suffix}"`:r.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${r.includes}"`:r.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`:`Nevalida ${n[r.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} ŝlosilo${i.keys.length>1?"j":""}: ${K(i.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function V4(){return{localeError:B4()}}const q4=()=>{const t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"número";case"object":{if(Array.isArray(r))return"arreglo";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype)return r.constructor.name}}return s},i={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Entrada inválida: se esperaba ${r.expected}, recibido ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada inválida: se esperaba ${me(r.values[0])}`:`Opción inválida: se esperaba una de ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Demasiado grande: se esperaba que ${r.origin??"valor"} tuviera ${s}${r.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${r.origin??"valor"} fuera ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Demasiado pequeño: se esperaba que ${r.origin} tuviera ${s}${r.minimum.toString()} ${o.unit}`:`Demasiado pequeño: se esperaba que ${r.origin} fuera ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Cadena inválida: debe comenzar con "${s.prefix}"`:s.format==="ends_with"?`Cadena inválida: debe terminar en "${s.suffix}"`:s.format==="includes"?`Cadena inválida: debe incluir "${s.includes}"`:s.format==="regex"?`Cadena inválida: debe coincidir con el patrón ${s.pattern}`:`Inválido ${i[s.format]??r.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${r.divisor}`;case"unrecognized_keys":return`Llave${r.keys.length>1?"s":""} desconocida${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Llave inválida en ${r.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido en ${r.origin}`;default:return"Entrada inválida"}}};function G4(){return{localeError:q4()}}const Z4=()=>{const t={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"عدد";case"object":{if(Array.isArray(r))return"آرایه";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return r=>{switch(r.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${r.expected} می‌بود، ${n(r.input)} دریافت شد`;case"invalid_value":return r.values.length===1?`ورودی نامعتبر: می‌بایست ${me(r.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${K(r.values,"|")} می‌بود`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`خیلی بزرگ: ${r.origin??"مقدار"} باید ${s}${r.maximum.toString()} ${o.unit??"عنصر"} باشد`:`خیلی بزرگ: ${r.origin??"مقدار"} باید ${s}${r.maximum.toString()} باشد`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`خیلی کوچک: ${r.origin} باید ${s}${r.minimum.toString()} ${o.unit} باشد`:`خیلی کوچک: ${r.origin} باید ${s}${r.minimum.toString()} باشد`}case"invalid_format":{const s=r;return s.format==="starts_with"?`رشته نامعتبر: باید با "${s.prefix}" شروع شود`:s.format==="ends_with"?`رشته نامعتبر: باید با "${s.suffix}" تمام شود`:s.format==="includes"?`رشته نامعتبر: باید شامل "${s.includes}" باشد`:s.format==="regex"?`رشته نامعتبر: باید با الگوی ${s.pattern} مطابقت داشته باشد`:`${i[s.format]??r.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${r.divisor} باشد`;case"unrecognized_keys":return`کلید${r.keys.length>1?"های":""} ناشناس: ${K(r.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${r.origin}`;case"invalid_union":return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${r.origin}`;default:return"ورودی نامعتبر"}}};function H4(){return{localeError:Z4()}}const W4=()=>{const t={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Virheellinen syöte: täytyy olla ${me(r.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Liian suuri: ${o.subject} täytyy olla ${s}${r.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon täytyy olla ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Liian pieni: ${o.subject} täytyy olla ${s}${r.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon täytyy olla ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Virheellinen syöte: täytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syöte: täytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syöte: täytyy sisältää "${s.includes}"`:s.format==="regex"?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${s.pattern}`:`Virheellinen ${i[s.format]??r.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${K(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function K4(){return{localeError:W4()}}const J4=()=>{const t={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nombre";case"object":{if(Array.isArray(r))return"tableau";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return r=>{switch(r.code){case"invalid_type":return`Entrée invalide : ${r.expected} attendu, ${n(r.input)} reçu`;case"invalid_value":return r.values.length===1?`Entrée invalide : ${me(r.values[0])} attendu`:`Option invalide : une valeur parmi ${K(r.values,"|")} attendue`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Trop grand : ${r.origin??"valeur"} doit ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"élément(s)"}`:`Trop grand : ${r.origin??"valeur"} doit être ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Trop petit : ${r.origin} doit ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Trop petit : ${r.origin} doit être ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chaîne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chaîne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chaîne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chaîne invalide : doit correspondre au modèle ${s.pattern}`:`${i[s.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${r.divisor}`;case"unrecognized_keys":return`Clé${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${K(r.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${r.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entrée invalide"}}};function X4(){return{localeError:J4()}}const Y4=()=>{const t={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return r=>{switch(r.code){case"invalid_type":return`Entrée invalide : attendu ${r.expected}, reçu ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrée invalide : attendu ${me(r.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"≤":"<",o=e(r.origin);return o?`Trop grand : attendu que ${r.origin??"la valeur"} ait ${s}${r.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${r.origin??"la valeur"} soit ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"≥":">",o=e(r.origin);return o?`Trop petit : attendu que ${r.origin} ait ${s}${r.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${r.origin} soit ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chaîne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chaîne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chaîne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chaîne invalide : doit correspondre au motif ${s.pattern}`:`${i[s.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${r.divisor}`;case"unrecognized_keys":return`Clé${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${K(r.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${r.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entrée invalide"}}};function Q4(){return{localeError:Y4()}}const e2=()=>{const t={string:{unit:"אותיות",verb:"לכלול"},file:{unit:"בייטים",verb:"לכלול"},array:{unit:"פריטים",verb:"לכלול"},set:{unit:"פריטים",verb:"לכלול"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"קלט",email:"כתובת אימייל",url:"כתובת רשת",emoji:"אימוג'י",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"תאריך וזמן ISO",date:"תאריך ISO",time:"זמן ISO",duration:"משך זמן ISO",ipv4:"כתובת IPv4",ipv6:"כתובת IPv6",cidrv4:"טווח IPv4",cidrv6:"טווח IPv6",base64:"מחרוזת בבסיס 64",base64url:"מחרוזת בבסיס 64 לכתובות רשת",json_string:"מחרוזת JSON",e164:"מספר E.164",jwt:"JWT",template_literal:"קלט"};return r=>{switch(r.code){case"invalid_type":return`קלט לא תקין: צריך ${r.expected}, התקבל ${n(r.input)}`;case"invalid_value":return r.values.length===1?`קלט לא תקין: צריך ${me(r.values[0])}`:`קלט לא תקין: צריך אחת מהאפשרויות  ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`גדול מדי: ${r.origin??"value"} צריך להיות ${s}${r.maximum.toString()} ${o.unit??"elements"}`:`גדול מדי: ${r.origin??"value"} צריך להיות ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`קטן מדי: ${r.origin} צריך להיות ${s}${r.minimum.toString()} ${o.unit}`:`קטן מדי: ${r.origin} צריך להיות ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`מחרוזת לא תקינה: חייבת להתחיל ב"${s.prefix}"`:s.format==="ends_with"?`מחרוזת לא תקינה: חייבת להסתיים ב "${s.suffix}"`:s.format==="includes"?`מחרוזת לא תקינה: חייבת לכלול "${s.includes}"`:s.format==="regex"?`מחרוזת לא תקינה: חייבת להתאים לתבנית ${s.pattern}`:`${i[s.format]??r.format} לא תקין`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${r.divisor}`;case"unrecognized_keys":return`מפתח${r.keys.length>1?"ות":""} לא מזוה${r.keys.length>1?"ים":"ה"}: ${K(r.keys,", ")}`;case"invalid_key":return`מפתח לא תקין ב${r.origin}`;case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${r.origin}`;default:return"קלט לא תקין"}}};function t2(){return{localeError:e2()}}const n2=()=>{const t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"szám";case"object":{if(Array.isArray(r))return"tömb";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`Érvénytelen bemenet: a várt érték ${r.expected}, a kapott érték ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Érvénytelen bemenet: a várt érték ${me(r.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Túl nagy: ${r.origin??"érték"} mérete túl nagy ${s}${r.maximum.toString()} ${o.unit??"elem"}`:`Túl nagy: a bemeneti érték ${r.origin??"érték"} túl nagy: ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Túl kicsi: a bemeneti érték ${r.origin} mérete túl kicsi ${s}${r.minimum.toString()} ${o.unit}`:`Túl kicsi: a bemeneti érték ${r.origin} túl kicsi ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Érvénytelen string: "${s.prefix}" értékkel kell kezdődnie`:s.format==="ends_with"?`Érvénytelen string: "${s.suffix}" értékkel kell végződnie`:s.format==="includes"?`Érvénytelen string: "${s.includes}" értéket kell tartalmaznia`:s.format==="regex"?`Érvénytelen string: ${s.pattern} mintának kell megfelelnie`:`Érvénytelen ${i[s.format]??r.format}`}case"not_multiple_of":return`Érvénytelen szám: ${r.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${r.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${r.origin}`;default:return"Érvénytelen bemenet"}}};function r2(){return{localeError:n2()}}const i2=()=>{const t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak valid: diharapkan ${me(r.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${s}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: diharapkan ${r.origin} memiliki ${s}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${r.origin} menjadi ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${i[s.format]??r.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`;default:return"Input tidak valid"}}};function s2(){return{localeError:i2()}}const o2=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"númer";case"object":{if(Array.isArray(t))return"fylki";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},a2=()=>{const t={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function e(i){return t[i]??null}const n={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"};return i=>{switch(i.code){case"invalid_type":return`Rangt gildi: Þú slóst inn ${o2(i.input)} þar sem á að vera ${i.expected}`;case"invalid_value":return i.values.length===1?`Rangt gildi: gert ráð fyrir ${me(i.values[0])}`:`Ógilt val: má vera eitt af eftirfarandi ${K(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Of stórt: gert er ráð fyrir að ${i.origin??"gildi"} hafi ${r}${i.maximum.toString()} ${s.unit??"hluti"}`:`Of stórt: gert er ráð fyrir að ${i.origin??"gildi"} sé ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Of lítið: gert er ráð fyrir að ${i.origin} hafi ${r}${i.minimum.toString()} ${s.unit}`:`Of lítið: gert er ráð fyrir að ${i.origin} sé ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Ógildur strengur: verður að byrja á "${r.prefix}"`:r.format==="ends_with"?`Ógildur strengur: verður að enda á "${r.suffix}"`:r.format==="includes"?`Ógildur strengur: verður að innihalda "${r.includes}"`:r.format==="regex"?`Ógildur strengur: verður að fylgja mynstri ${r.pattern}`:`Rangt ${n[r.format]??i.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${i.divisor}`;case"unrecognized_keys":return`Óþekkt ${i.keys.length>1?"ir lyklar":"ur lykill"}: ${K(i.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${i.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${i.origin}`;default:return"Rangt gildi"}}};function u2(){return{localeError:a2()}}const c2=()=>{const t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"numero";case"object":{if(Array.isArray(r))return"vettore";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input non valido: atteso ${me(r.values[0])}`:`Opzione non valida: atteso uno tra ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Troppo grande: ${r.origin??"valore"} deve avere ${s}${r.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${r.origin??"valore"} deve essere ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Troppo piccolo: ${r.origin} deve avere ${s}${r.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${r.origin} deve essere ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${i[s.format]??r.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${K(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`;default:return"Input non valido"}}};function l2(){return{localeError:c2()}}const d2=()=>{const t={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"数値";case"object":{if(Array.isArray(r))return"配列";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return r=>{switch(r.code){case"invalid_type":return`無効な入力: ${r.expected}が期待されましたが、${n(r.input)}が入力されました`;case"invalid_value":return r.values.length===1?`無効な入力: ${me(r.values[0])}が期待されました`:`無効な選択: ${K(r.values,"、")}のいずれかである必要があります`;case"too_big":{const s=r.inclusive?"以下である":"より小さい",o=e(r.origin);return o?`大きすぎる値: ${r.origin??"値"}は${r.maximum.toString()}${o.unit??"要素"}${s}必要があります`:`大きすぎる値: ${r.origin??"値"}は${r.maximum.toString()}${s}必要があります`}case"too_small":{const s=r.inclusive?"以上である":"より大きい",o=e(r.origin);return o?`小さすぎる値: ${r.origin}は${r.minimum.toString()}${o.unit}${s}必要があります`:`小さすぎる値: ${r.origin}は${r.minimum.toString()}${s}必要があります`}case"invalid_format":{const s=r;return s.format==="starts_with"?`無効な文字列: "${s.prefix}"で始まる必要があります`:s.format==="ends_with"?`無効な文字列: "${s.suffix}"で終わる必要があります`:s.format==="includes"?`無効な文字列: "${s.includes}"を含む必要があります`:s.format==="regex"?`無効な文字列: パターン${s.pattern}に一致する必要があります`:`無効な${i[s.format]??r.format}`}case"not_multiple_of":return`無効な数値: ${r.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${r.keys.length>1?"群":""}: ${K(r.keys,"、")}`;case"invalid_key":return`${r.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${r.origin}内の無効な値`;default:return"無効な入力"}}};function h2(){return{localeError:d2()}}const f2=()=>{const t={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":{if(Array.isArray(r))return"អារេ (Array)";if(r===null)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return r=>{switch(r.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${r.expected} ប៉ុន្តែទទួលបាន ${n(r.input)}`;case"invalid_value":return r.values.length===1?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${me(r.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`ធំពេក៖ ត្រូវការ ${r.origin??"តម្លៃ"} ${s} ${r.maximum.toString()} ${o.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${r.origin??"តម្លៃ"} ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`តូចពេក៖ ត្រូវការ ${r.origin} ${s} ${r.minimum.toString()} ${o.unit}`:`តូចពេក៖ ត្រូវការ ${r.origin} ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${s.prefix}"`:s.format==="ends_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${s.suffix}"`:s.format==="includes"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${s.includes}"`:s.format==="regex"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${s.pattern}`:`មិនត្រឹមត្រូវ៖ ${i[s.format]??r.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${r.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${K(r.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${r.origin}`;case"invalid_union":return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${r.origin}`;default:return"ទិន្នន័យមិនត្រឹមត្រូវ"}}};function p2(){return{localeError:f2()}}const m2=()=>{const t={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return r=>{switch(r.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${r.expected}, 받은 타입은 ${n(r.input)}입니다`;case"invalid_value":return r.values.length===1?`잘못된 입력: 값은 ${me(r.values[0])} 이어야 합니다`:`잘못된 옵션: ${K(r.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const s=r.inclusive?"이하":"미만",o=s==="미만"?"이어야 합니다":"여야 합니다",a=e(r.origin),u=a?.unit??"요소";return a?`${r.origin??"값"}이 너무 큽니다: ${r.maximum.toString()}${u} ${s}${o}`:`${r.origin??"값"}이 너무 큽니다: ${r.maximum.toString()} ${s}${o}`}case"too_small":{const s=r.inclusive?"이상":"초과",o=s==="이상"?"이어야 합니다":"여야 합니다",a=e(r.origin),u=a?.unit??"요소";return a?`${r.origin??"값"}이 너무 작습니다: ${r.minimum.toString()}${u} ${s}${o}`:`${r.origin??"값"}이 너무 작습니다: ${r.minimum.toString()} ${s}${o}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`잘못된 문자열: "${s.prefix}"(으)로 시작해야 합니다`:s.format==="ends_with"?`잘못된 문자열: "${s.suffix}"(으)로 끝나야 합니다`:s.format==="includes"?`잘못된 문자열: "${s.includes}"을(를) 포함해야 합니다`:s.format==="regex"?`잘못된 문자열: 정규식 ${s.pattern} 패턴과 일치해야 합니다`:`잘못된 ${i[s.format]??r.format}`}case"not_multiple_of":return`잘못된 숫자: ${r.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${K(r.keys,", ")}`;case"invalid_key":return`잘못된 키: ${r.origin}`;case"invalid_union":return"잘못된 입력";case"invalid_element":return`잘못된 값: ${r.origin}`;default:return"잘못된 입력"}}};function g2(){return{localeError:m2()}}const v2=()=>{const t={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"број";case"object":{if(Array.isArray(r))return"низа";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return r=>{switch(r.code){case"invalid_type":return`Грешен внес: се очекува ${r.expected}, примено ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${me(r.values[0])}`:`Грешана опција: се очекува една ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Премногу голем: се очекува ${r.origin??"вредноста"} да има ${s}${r.maximum.toString()} ${o.unit??"елементи"}`:`Премногу голем: се очекува ${r.origin??"вредноста"} да биде ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Премногу мал: се очекува ${r.origin} да има ${s}${r.minimum.toString()} ${o.unit}`:`Премногу мал: се очекува ${r.origin} да биде ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Неважечка низа: мора да започнува со "${s.prefix}"`:s.format==="ends_with"?`Неважечка низа: мора да завршува со "${s.suffix}"`:s.format==="includes"?`Неважечка низа: мора да вклучува "${s.includes}"`:s.format==="regex"?`Неважечка низа: мора да одгоара на патернот ${s.pattern}`:`Invalid ${i[s.format]??r.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${K(r.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${r.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${r.origin}`;default:return"Грешен внес"}}};function _2(){return{localeError:v2()}}const y2=()=>{const t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nombor";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak sah: dijangka ${me(r.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: dijangka ${r.origin??"nilai"} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: dijangka ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${r.origin} adalah ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${i[s.format]??r.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${K(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`;default:return"Input tidak sah"}}};function b2(){return{localeError:y2()}}const w2=()=>{const t={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"getal";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ongeldige invoer: verwacht ${me(r.values[0])}`:`Ongeldige optie: verwacht één van ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Te lang: verwacht dat ${r.origin??"waarde"} ${s}${r.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${r.origin??"waarde"} ${s}${r.maximum.toString()} is`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Te kort: verwacht dat ${r.origin} ${s}${r.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${r.origin} ${s}${r.minimum.toString()} is`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${i[s.format]??r.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`;default:return"Ongeldige invoer"}}};function S2(){return{localeError:w2()}}const x2=()=>{const t={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"tall";case"object":{if(Array.isArray(r))return"liste";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ugyldig verdi: forventet ${me(r.values[0])}`:`Ugyldig valg: forventet en av ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`For stor(t): forventet ${r.origin??"value"} til å ha ${s}${r.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${r.origin??"value"} til å ha ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`For lite(n): forventet ${r.origin} til å ha ${s}${r.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${r.origin} til å ha ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ugyldig streng: må starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: må ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: må inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: må matche mønsteret ${s.pattern}`:`Ugyldig ${i[s.format]??r.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${K(r.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${r.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`;default:return"Ugyldig input"}}};function k2(){return{localeError:x2()}}const I2=()=>{const t={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"numara";case"object":{if(Array.isArray(r))return"saf";if(r===null)return"gayb";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`Fâsit giren: umulan ${r.expected}, alınan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Fâsit giren: umulan ${me(r.values[0])}`:`Fâsit tercih: mûteberler ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Fazla büyük: ${r.origin??"value"}, ${s}${r.maximum.toString()} ${o.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${r.origin??"value"}, ${s}${r.maximum.toString()} olmalıydı.`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Fazla küçük: ${r.origin}, ${s}${r.minimum.toString()} ${o.unit} sahip olmalıydı.`:`Fazla küçük: ${r.origin}, ${s}${r.minimum.toString()} olmalıydı.`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Fâsit metin: "${s.prefix}" ile başlamalı.`:s.format==="ends_with"?`Fâsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fâsit metin: "${s.includes}" ihtivâ etmeli.`:s.format==="regex"?`Fâsit metin: ${s.pattern} nakşına uymalı.`:`Fâsit ${i[s.format]??r.format}`}case"not_multiple_of":return`Fâsit sayı: ${r.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`${r.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${r.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function E2(){return{localeError:I2()}}const A2=()=>{const t={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"عدد";case"object":{if(Array.isArray(r))return"ارې";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return r=>{switch(r.code){case"invalid_type":return`ناسم ورودي: باید ${r.expected} وای, مګر ${n(r.input)} ترلاسه شو`;case"invalid_value":return r.values.length===1?`ناسم ورودي: باید ${me(r.values[0])} وای`:`ناسم انتخاب: باید یو له ${K(r.values,"|")} څخه وای`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`ډیر لوی: ${r.origin??"ارزښت"} باید ${s}${r.maximum.toString()} ${o.unit??"عنصرونه"} ولري`:`ډیر لوی: ${r.origin??"ارزښت"} باید ${s}${r.maximum.toString()} وي`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`ډیر کوچنی: ${r.origin} باید ${s}${r.minimum.toString()} ${o.unit} ولري`:`ډیر کوچنی: ${r.origin} باید ${s}${r.minimum.toString()} وي`}case"invalid_format":{const s=r;return s.format==="starts_with"?`ناسم متن: باید د "${s.prefix}" سره پیل شي`:s.format==="ends_with"?`ناسم متن: باید د "${s.suffix}" سره پای ته ورسيږي`:s.format==="includes"?`ناسم متن: باید "${s.includes}" ولري`:s.format==="regex"?`ناسم متن: باید د ${s.pattern} سره مطابقت ولري`:`${i[s.format]??r.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${r.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${r.keys.length>1?"کلیډونه":"کلیډ"}: ${K(r.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${r.origin} کې`;case"invalid_union":return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${r.origin} کې`;default:return"ناسمه ورودي"}}};function T2(){return{localeError:A2()}}const $2=()=>{const t={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"liczba";case"object":{if(Array.isArray(r))return"tablica";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return r=>{switch(r.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${r.expected}, otrzymano ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Nieprawidłowe dane wejściowe: oczekiwano ${me(r.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Za duża wartość: oczekiwano, że ${r.origin??"wartość"} będzie mieć ${s}${r.maximum.toString()} ${o.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${r.origin??"wartość"} będzie wynosić ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Za mała wartość: oczekiwano, że ${r.origin??"wartość"} będzie mieć ${s}${r.minimum.toString()} ${o.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${r.origin??"wartość"} będzie wynosić ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidłowy ciąg znaków: musi kończyć się na "${s.suffix}"`:s.format==="includes"?`Nieprawidłowy ciąg znaków: musi zawierać "${s.includes}"`:s.format==="regex"?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${s.pattern}`:`Nieprawidłow(y/a/e) ${i[s.format]??r.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${r.origin}`;default:return"Nieprawidłowe dane wejściowe"}}};function O2(){return{localeError:$2()}}const C2=()=>{const t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"número";case"object":{if(Array.isArray(r))return"array";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo inválido: esperado ${r.expected}, recebido ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada inválida: esperado ${me(r.values[0])}`:`Opção inválida: esperada uma das ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Muito grande: esperado que ${r.origin??"valor"} tivesse ${s}${r.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${r.origin??"valor"} fosse ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Muito pequeno: esperado que ${r.origin} tivesse ${s}${r.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${r.origin} fosse ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Texto inválido: deve começar com "${s.prefix}"`:s.format==="ends_with"?`Texto inválido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto inválido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto inválido: deve corresponder ao padrão ${s.pattern}`:`${i[s.format]??r.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Chave inválida em ${r.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${r.origin}`;default:return"Campo inválido"}}};function P2(){return{localeError:C2()}}function ry(t,e,n,i){const r=Math.abs(t),s=r%10,o=r%100;return o>=11&&o<=19?i:s===1?e:s>=2&&s<=4?n:i}const R2=()=>{const t={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"число";case"object":{if(Array.isArray(r))return"массив";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return r=>{switch(r.code){case"invalid_type":return`Неверный ввод: ожидалось ${r.expected}, получено ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Неверный ввод: ожидалось ${me(r.values[0])}`:`Неверный вариант: ожидалось одно из ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);if(o){const a=Number(r.maximum),u=ry(a,o.unit.one,o.unit.few,o.unit.many);return`Слишком большое значение: ожидалось, что ${r.origin??"значение"} будет иметь ${s}${r.maximum.toString()} ${u}`}return`Слишком большое значение: ожидалось, что ${r.origin??"значение"} будет ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);if(o){const a=Number(r.minimum),u=ry(a,o.unit.one,o.unit.few,o.unit.many);return`Слишком маленькое значение: ожидалось, что ${r.origin} будет иметь ${s}${r.minimum.toString()} ${u}`}return`Слишком маленькое значение: ожидалось, что ${r.origin} будет ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Неверная строка: должна начинаться с "${s.prefix}"`:s.format==="ends_with"?`Неверная строка: должна заканчиваться на "${s.suffix}"`:s.format==="includes"?`Неверная строка: должна содержать "${s.includes}"`:s.format==="regex"?`Неверная строка: должна соответствовать шаблону ${s.pattern}`:`Неверный ${i[s.format]??r.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${r.divisor}`;case"unrecognized_keys":return`Нераспознанн${r.keys.length>1?"ые":"ый"} ключ${r.keys.length>1?"и":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${r.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${r.origin}`;default:return"Неверные входные данные"}}};function D2(){return{localeError:R2()}}const N2=()=>{const t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"število";case"object":{if(Array.isArray(r))return"tabela";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${r.expected}, prejeto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neveljaven vnos: pričakovano ${me(r.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Preveliko: pričakovano, da bo ${r.origin??"vrednost"} imelo ${s}${r.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${r.origin??"vrednost"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Premajhno: pričakovano, da bo ${r.origin} imelo ${s}${r.minimum.toString()} ${o.unit}`:`Premajhno: pričakovano, da bo ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Neveljaven niz: mora se začeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se končati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${i[s.format]??r.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i ključi":" ključ"}: ${K(r.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${r.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`;default:return"Neveljaven vnos"}}};function j2(){return{localeError:N2()}}const U2=()=>{const t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"antal";case"object":{if(Array.isArray(r))return"lista";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: förväntat ${r.expected}, fick ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ogiltig inmatning: förväntat ${me(r.values[0])}`:`Ogiltigt val: förväntade en av ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`För stor(t): förväntade ${r.origin??"värdet"} att ha ${s}${r.maximum.toString()} ${o.unit??"element"}`:`För stor(t): förväntat ${r.origin??"värdet"} att ha ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`För lite(t): förväntade ${r.origin??"värdet"} att ha ${s}${r.minimum.toString()} ${o.unit}`:`För lite(t): förväntade ${r.origin??"värdet"} att ha ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ogiltig sträng: måste börja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig sträng: måste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig sträng: måste innehålla "${s.includes}"`:s.format==="regex"?`Ogiltig sträng: måste matcha mönstret "${s.pattern}"`:`Ogiltig(t) ${i[s.format]??r.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${K(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"värdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${r.origin??"värdet"}`;default:return"Ogiltig input"}}};function L2(){return{localeError:U2()}}const M2=()=>{const t={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"எண் அல்லாதது":"எண்";case"object":{if(Array.isArray(r))return"அணி";if(r===null)return"வெறுமை";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${r.expected}, பெறப்பட்டது ${n(r.input)}`;case"invalid_value":return r.values.length===1?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${me(r.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${K(r.values,"|")} இல் ஒன்று`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${r.origin??"மதிப்பு"} ${s}${r.maximum.toString()} ${o.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${r.origin??"மதிப்பு"} ${s}${r.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${r.origin} ${s}${r.minimum.toString()} ${o.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${r.origin} ${s}${r.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const s=r;return s.format==="starts_with"?`தவறான சரம்: "${s.prefix}" இல் தொடங்க வேண்டும்`:s.format==="ends_with"?`தவறான சரம்: "${s.suffix}" இல் முடிவடைய வேண்டும்`:s.format==="includes"?`தவறான சரம்: "${s.includes}" ஐ உள்ளடக்க வேண்டும்`:s.format==="regex"?`தவறான சரம்: ${s.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${i[s.format]??r.format}`}case"not_multiple_of":return`தவறான எண்: ${r.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${r.keys.length>1?"கள்":""}: ${K(r.keys,", ")}`;case"invalid_key":return`${r.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${r.origin} இல் தவறான மதிப்பு`;default:return"தவறான உள்ளீடு"}}};function z2(){return{localeError:M2()}}const F2=()=>{const t={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":{if(Array.isArray(r))return"อาร์เรย์ (Array)";if(r===null)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return r=>{switch(r.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${r.expected} แต่ได้รับ ${n(r.input)}`;case"invalid_value":return r.values.length===1?`ค่าไม่ถูกต้อง: ควรเป็น ${me(r.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"ไม่เกิน":"น้อยกว่า",o=e(r.origin);return o?`เกินกำหนด: ${r.origin??"ค่า"} ควรมี${s} ${r.maximum.toString()} ${o.unit??"รายการ"}`:`เกินกำหนด: ${r.origin??"ค่า"} ควรมี${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"อย่างน้อย":"มากกว่า",o=e(r.origin);return o?`น้อยกว่ากำหนด: ${r.origin} ควรมี${s} ${r.minimum.toString()} ${o.unit}`:`น้อยกว่ากำหนด: ${r.origin} ควรมี${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${s.prefix}"`:s.format==="ends_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${s.suffix}"`:s.format==="includes"?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${s.includes}" อยู่ในข้อความ`:s.format==="regex"?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${s.pattern}`:`รูปแบบไม่ถูกต้อง: ${i[s.format]??r.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${r.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${K(r.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${r.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${r.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function B2(){return{localeError:F2()}}const V2=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},q2=()=>{const t={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function e(i){return t[i]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return i=>{switch(i.code){case"invalid_type":return`Geçersiz değer: beklenen ${i.expected}, alınan ${V2(i.input)}`;case"invalid_value":return i.values.length===1?`Geçersiz değer: beklenen ${me(i.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${K(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Çok büyük: beklenen ${i.origin??"değer"} ${r}${i.maximum.toString()} ${s.unit??"öğe"}`:`Çok büyük: beklenen ${i.origin??"değer"} ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Çok küçük: beklenen ${i.origin} ${r}${i.minimum.toString()} ${s.unit}`:`Çok küçük: beklenen ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Geçersiz metin: "${r.prefix}" ile başlamalı`:r.format==="ends_with"?`Geçersiz metin: "${r.suffix}" ile bitmeli`:r.format==="includes"?`Geçersiz metin: "${r.includes}" içermeli`:r.format==="regex"?`Geçersiz metin: ${r.pattern} desenine uymalı`:`Geçersiz ${n[r.format]??i.format}`}case"not_multiple_of":return`Geçersiz sayı: ${i.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${i.keys.length>1?"lar":""}: ${K(i.keys,", ")}`;case"invalid_key":return`${i.origin} içinde geçersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${i.origin} içinde geçersiz değer`;default:return"Geçersiz değer"}}};function G2(){return{localeError:q2()}}const Z2=()=>{const t={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"число";case"object":{if(Array.isArray(r))return"масив";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return r=>{switch(r.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${r.expected}, отримано ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Неправильні вхідні дані: очікується ${me(r.values[0])}`:`Неправильна опція: очікується одне з ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Занадто велике: очікується, що ${r.origin??"значення"} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"елементів"}`:`Занадто велике: очікується, що ${r.origin??"значення"} буде ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Занадто мале: очікується, що ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Занадто мале: очікується, що ${r.origin} буде ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Неправильний рядок: повинен починатися з "${s.prefix}"`:s.format==="ends_with"?`Неправильний рядок: повинен закінчуватися на "${s.suffix}"`:s.format==="includes"?`Неправильний рядок: повинен містити "${s.includes}"`:s.format==="regex"?`Неправильний рядок: повинен відповідати шаблону ${s.pattern}`:`Неправильний ${i[s.format]??r.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${r.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${r.keys.length>1?"і":""}: ${K(r.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${r.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${r.origin}`;default:return"Неправильні вхідні дані"}}};function H2(){return{localeError:Z2()}}const W2=()=>{const t={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"نمبر";case"object":{if(Array.isArray(r))return"آرے";if(r===null)return"نل";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return r=>{switch(r.code){case"invalid_type":return`غلط ان پٹ: ${r.expected} متوقع تھا، ${n(r.input)} موصول ہوا`;case"invalid_value":return r.values.length===1?`غلط ان پٹ: ${me(r.values[0])} متوقع تھا`:`غلط آپشن: ${K(r.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`بہت بڑا: ${r.origin??"ویلیو"} کے ${s}${r.maximum.toString()} ${o.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${r.origin??"ویلیو"} کا ${s}${r.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`بہت چھوٹا: ${r.origin} کے ${s}${r.minimum.toString()} ${o.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${r.origin} کا ${s}${r.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const s=r;return s.format==="starts_with"?`غلط سٹرنگ: "${s.prefix}" سے شروع ہونا چاہیے`:s.format==="ends_with"?`غلط سٹرنگ: "${s.suffix}" پر ختم ہونا چاہیے`:s.format==="includes"?`غلط سٹرنگ: "${s.includes}" شامل ہونا چاہیے`:s.format==="regex"?`غلط سٹرنگ: پیٹرن ${s.pattern} سے میچ ہونا چاہیے`:`غلط ${i[s.format]??r.format}`}case"not_multiple_of":return`غلط نمبر: ${r.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${r.keys.length>1?"ز":""}: ${K(r.keys,"، ")}`;case"invalid_key":return`${r.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${r.origin} میں غلط ویلیو`;default:return"غلط ان پٹ"}}};function K2(){return{localeError:W2()}}const J2=()=>{const t={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"số";case"object":{if(Array.isArray(r))return"mảng";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return r=>{switch(r.code){case"invalid_type":return`Đầu vào không hợp lệ: mong đợi ${r.expected}, nhận được ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Đầu vào không hợp lệ: mong đợi ${me(r.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Quá lớn: mong đợi ${r.origin??"giá trị"} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"phần tử"}`:`Quá lớn: mong đợi ${r.origin??"giá trị"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Quá nhỏ: mong đợi ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Quá nhỏ: mong đợi ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chuỗi không hợp lệ: phải bắt đầu bằng "${s.prefix}"`:s.format==="ends_with"?`Chuỗi không hợp lệ: phải kết thúc bằng "${s.suffix}"`:s.format==="includes"?`Chuỗi không hợp lệ: phải bao gồm "${s.includes}"`:s.format==="regex"?`Chuỗi không hợp lệ: phải khớp với mẫu ${s.pattern}`:`${i[s.format]??r.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${r.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${K(r.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${r.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${r.origin}`;default:return"Đầu vào không hợp lệ"}}};function X2(){return{localeError:J2()}}const Y2=()=>{const t={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"非数字(NaN)":"数字";case"object":{if(Array.isArray(r))return"数组";if(r===null)return"空值(null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return r=>{switch(r.code){case"invalid_type":return`无效输入：期望 ${r.expected}，实际接收 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`无效输入：期望 ${me(r.values[0])}`:`无效选项：期望以下之一 ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`数值过大：期望 ${r.origin??"值"} ${s}${r.maximum.toString()} ${o.unit??"个元素"}`:`数值过大：期望 ${r.origin??"值"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`数值过小：期望 ${r.origin} ${s}${r.minimum.toString()} ${o.unit}`:`数值过小：期望 ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`无效字符串：必须以 "${s.prefix}" 开头`:s.format==="ends_with"?`无效字符串：必须以 "${s.suffix}" 结尾`:s.format==="includes"?`无效字符串：必须包含 "${s.includes}"`:s.format==="regex"?`无效字符串：必须满足正则表达式 ${s.pattern}`:`无效${i[s.format]??r.format}`}case"not_multiple_of":return`无效数字：必须是 ${r.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${K(r.keys,", ")}`;case"invalid_key":return`${r.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${r.origin} 中包含无效值(value)`;default:return"无效输入"}}};function Q2(){return{localeError:Y2()}}const eM=()=>{const t={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return r=>{switch(r.code){case"invalid_type":return`無效的輸入值：預期為 ${r.expected}，但收到 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`無效的輸入值：預期為 ${me(r.values[0])}`:`無效的選項：預期為以下其中之一 ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`數值過大：預期 ${r.origin??"值"} 應為 ${s}${r.maximum.toString()} ${o.unit??"個元素"}`:`數值過大：預期 ${r.origin??"值"} 應為 ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`數值過小：預期 ${r.origin} 應為 ${s}${r.minimum.toString()} ${o.unit}`:`數值過小：預期 ${r.origin} 應為 ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`無效的字串：必須以 "${s.prefix}" 開頭`:s.format==="ends_with"?`無效的字串：必須以 "${s.suffix}" 結尾`:s.format==="includes"?`無效的字串：必須包含 "${s.includes}"`:s.format==="regex"?`無效的字串：必須符合格式 ${s.pattern}`:`無效的 ${i[s.format]??r.format}`}case"not_multiple_of":return`無效的數字：必須為 ${r.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${r.keys.length>1?"們":""}：${K(r.keys,"、")}`;case"invalid_key":return`${r.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${r.origin} 中有無效的值`;default:return"無效的輸入值"}}};function tM(){return{localeError:eM()}}const nM=()=>{const t={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function e(r){return t[r]??null}const n=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nọ́mbà";case"object":{if(Array.isArray(r))return"akopọ";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"};return r=>{switch(r.code){case"invalid_type":return`Ìbáwọlé aṣìṣe: a ní láti fi ${r.expected}, àmọ̀ a rí ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ìbáwọlé aṣìṣe: a ní láti fi ${me(r.values[0])}`:`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${K(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Tó pọ̀ jù: a ní láti jẹ́ pé ${r.origin??"iye"} ${o.verb} ${s}${r.maximum} ${o.unit}`:`Tó pọ̀ jù: a ní láti jẹ́ ${s}${r.maximum}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Kéré ju: a ní láti jẹ́ pé ${r.origin} ${o.verb} ${s}${r.minimum} ${o.unit}`:`Kéré ju: a ní láti jẹ́ ${s}${r.minimum}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${s.prefix}"`:s.format==="ends_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${s.suffix}"`:s.format==="includes"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${s.includes}"`:s.format==="regex"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${s.pattern}`:`Aṣìṣe: ${i[s.format]??r.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${r.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${K(r.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${r.origin}`;case"invalid_union":return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${r.origin}`;default:return"Ìbáwọlé aṣìṣe"}}};function rM(){return{localeError:nM()}}const wI=Object.freeze(Object.defineProperty({__proto__:null,ar:E4,az:T4,be:O4,ca:P4,cs:D4,da:j4,de:L4,en:bI,eo:V4,es:G4,fa:H4,fi:K4,fr:X4,frCA:Q4,he:t2,hu:r2,id:s2,is:u2,it:l2,ja:h2,kh:p2,ko:g2,mk:_2,ms:b2,nl:S2,no:k2,ota:E2,pl:O2,ps:T2,pt:P2,ru:D2,sl:j2,sv:L2,ta:z2,th:B2,tr:G2,ua:H2,ur:K2,vi:X2,yo:rM,zhCN:Q2,zhTW:tM},Symbol.toStringTag,{value:"Module"})),SI=Symbol("ZodOutput"),xI=Symbol("ZodInput");class Uf{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Lf(){return new Uf}const qr=Lf();function kI(t,e){return new t({type:"string",...G(e)})}function II(t,e){return new t({type:"string",coerce:!0,...G(e)})}function Mf(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...G(e)})}function au(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...G(e)})}function zf(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...G(e)})}function Ff(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...G(e)})}function Bf(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...G(e)})}function Vf(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...G(e)})}function qf(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...G(e)})}function Gf(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...G(e)})}function Zf(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...G(e)})}function Hf(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...G(e)})}function Wf(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...G(e)})}function Kf(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...G(e)})}function Jf(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...G(e)})}function Xf(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...G(e)})}function Yf(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...G(e)})}function Qf(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...G(e)})}function ep(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...G(e)})}function tp(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...G(e)})}function np(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...G(e)})}function rp(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...G(e)})}function ip(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...G(e)})}function sp(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...G(e)})}const EI={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function AI(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...G(e)})}function TI(t,e){return new t({type:"string",format:"date",check:"string_format",...G(e)})}function $I(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...G(e)})}function OI(t,e){return new t({type:"string",format:"duration",check:"string_format",...G(e)})}function CI(t,e){return new t({type:"number",checks:[],...G(e)})}function PI(t,e){return new t({type:"number",coerce:!0,checks:[],...G(e)})}function RI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...G(e)})}function DI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...G(e)})}function NI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...G(e)})}function jI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...G(e)})}function UI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...G(e)})}function LI(t,e){return new t({type:"boolean",...G(e)})}function MI(t,e){return new t({type:"boolean",coerce:!0,...G(e)})}function zI(t,e){return new t({type:"bigint",...G(e)})}function FI(t,e){return new t({type:"bigint",coerce:!0,...G(e)})}function BI(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...G(e)})}function VI(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...G(e)})}function qI(t,e){return new t({type:"symbol",...G(e)})}function GI(t,e){return new t({type:"undefined",...G(e)})}function ZI(t,e){return new t({type:"null",...G(e)})}function HI(t){return new t({type:"any"})}function uu(t){return new t({type:"unknown"})}function WI(t,e){return new t({type:"never",...G(e)})}function KI(t,e){return new t({type:"void",...G(e)})}function JI(t,e){return new t({type:"date",...G(e)})}function XI(t,e){return new t({type:"date",coerce:!0,...G(e)})}function YI(t,e){return new t({type:"nan",...G(e)})}function ni(t,e){return new Af({check:"less_than",...G(e),value:t,inclusive:!1})}function mn(t,e){return new Af({check:"less_than",...G(e),value:t,inclusive:!0})}function ri(t,e){return new Tf({check:"greater_than",...G(e),value:t,inclusive:!1})}function Gt(t,e){return new Tf({check:"greater_than",...G(e),value:t,inclusive:!0})}function QI(t){return ri(0,t)}function eE(t){return ni(0,t)}function tE(t){return mn(0,t)}function nE(t){return Gt(0,t)}function ao(t,e){return new Xx({check:"multiple_of",...G(e),value:t})}function Xu(t,e){return new ek({check:"max_size",...G(e),maximum:t})}function uo(t,e){return new tk({check:"min_size",...G(e),minimum:t})}function op(t,e){return new nk({check:"size_equals",...G(e),size:t})}function Yu(t,e){return new rk({check:"max_length",...G(e),maximum:t})}function Yi(t,e){return new ik({check:"min_length",...G(e),minimum:t})}function Qu(t,e){return new sk({check:"length_equals",...G(e),length:t})}function ap(t,e){return new ok({check:"string_format",format:"regex",...G(e),pattern:t})}function up(t){return new ak({check:"string_format",format:"lowercase",...G(t)})}function cp(t){return new uk({check:"string_format",format:"uppercase",...G(t)})}function lp(t,e){return new ck({check:"string_format",format:"includes",...G(e),includes:t})}function dp(t,e){return new lk({check:"string_format",format:"starts_with",...G(e),prefix:t})}function hp(t,e){return new dk({check:"string_format",format:"ends_with",...G(e),suffix:t})}function rE(t,e,n){return new hk({check:"property",property:t,schema:e,...G(n)})}function fp(t,e){return new fk({check:"mime_type",mime:t,...G(e)})}function fi(t){return new pk({check:"overwrite",tx:t})}function pp(t){return fi(e=>e.normalize(t))}function mp(){return fi(t=>t.trim())}function gp(){return fi(t=>t.toLowerCase())}function vp(){return fi(t=>t.toUpperCase())}function _p(t,e,n){return new t({type:"array",element:e,...G(n)})}function iM(t,e,n){return new t({type:"union",options:e,...G(n)})}function sM(t,e,n,i){return new t({type:"union",options:n,discriminator:e,...G(i)})}function oM(t,e,n){return new t({type:"intersection",left:e,right:n})}function iE(t,e,n,i){const r=n instanceof pe,s=r?i:n,o=r?n:null;return new t({type:"tuple",items:e,rest:o,...G(s)})}function aM(t,e,n,i){return new t({type:"record",keyType:e,valueType:n,...G(i)})}function uM(t,e,n,i){return new t({type:"map",keyType:e,valueType:n,...G(i)})}function cM(t,e,n){return new t({type:"set",valueType:e,...G(n)})}function lM(t,e,n){const i=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new t({type:"enum",entries:i,...G(n)})}function dM(t,e,n){return new t({type:"enum",entries:e,...G(n)})}function hM(t,e,n){return new t({type:"literal",values:Array.isArray(e)?e:[e],...G(n)})}function sE(t,e){return new t({type:"file",...G(e)})}function fM(t,e){return new t({type:"transform",transform:e})}function pM(t,e){return new t({type:"optional",innerType:e})}function mM(t,e){return new t({type:"nullable",innerType:e})}function gM(t,e,n){return new t({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Hu(n)}})}function vM(t,e,n){return new t({type:"nonoptional",innerType:e,...G(n)})}function _M(t,e){return new t({type:"success",innerType:e})}function yM(t,e,n){return new t({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}function bM(t,e,n){return new t({type:"pipe",in:e,out:n})}function wM(t,e){return new t({type:"readonly",innerType:e})}function SM(t,e,n){return new t({type:"template_literal",parts:e,...G(n)})}function xM(t,e){return new t({type:"lazy",getter:e})}function kM(t,e){return new t({type:"promise",innerType:e})}function oE(t,e,n){const i=G(n);return i.abort??(i.abort=!0),new t({type:"custom",check:"custom",fn:e,...i})}function aE(t,e,n){return new t({type:"custom",check:"custom",fn:e,...G(n)})}function uE(t){const e=cE(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ji(i,n.value,e._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(Ji(r))}},t(n.value,n)));return e}function cE(t,e){const n=new tt({check:"custom",...G(e)});return n._zod.check=t,n}function lE(t,e){const n=G(e);let i=n.truthy??["true","1","yes","on","y","enabled"],r=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(i=i.map(g=>typeof g=="string"?g.toLowerCase():g),r=r.map(g=>typeof g=="string"?g.toLowerCase():g));const s=new Set(i),o=new Set(r),a=t.Pipe??jf,u=t.Boolean??Cf,l=t.String??To,c=t.Transform??Nf,d=new c({type:"transform",transform:(g,b)=>{let w=g;return n.case!=="sensitive"&&(w=w.toLowerCase()),s.has(w)?!0:o.has(w)?!1:(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:b.value,inst:d,continue:!1}),{})},error:n.error}),f=new a({type:"pipe",in:new l({type:"string",error:n.error}),out:d,error:n.error});return new a({type:"pipe",in:f,out:new u({type:"boolean",error:n.error}),error:n.error})}function yp(t,e,n,i={}){const r=G(i),s={...G(i),check:"string_format",type:"string",format:e,fn:typeof n=="function"?n:a=>n.test(a),...r};return n instanceof RegExp&&(s.pattern=n),new t(s)}class dE{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");const n=(...i)=>{const r=this._def.input?Dd(this._def.input,i,void 0,{callee:n}):i;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");const s=e(...r);return this._def.output?Dd(this._def.output,s,void 0,{callee:n}):s};return n}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");const n=async(...i)=>{const r=this._def.input?await Nd(this._def.input,i,void 0,{callee:n}):i;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");const s=await e(...r);return this._def.output?Nd(this._def.output,s,void 0,{callee:n}):s};return n}input(...e){const n=this.constructor;return Array.isArray(e[0])?new n({type:"function",input:new Ju({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new n({type:"function",input:e[0],output:this._def.output})}output(e){const n=this.constructor;return new n({type:"function",input:this._def.input,output:e})}}function hE(t){return new dE({type:"function",input:Array.isArray(t?.input)?iE(Ju,t?.input):t?.input??_p(Rf,uu(ou)),output:t?.output??uu(ou)})}class Ud{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??qr,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var i;const r=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,a);const u=e._zod.toJSONSchema?.();if(u)a.schema=u;else{const d={...n,schemaPath:[...n.schemaPath,e],path:n.path},f=e._zod.parent;if(f)a.ref=f,this.process(f,d),this.seen.get(f).isParent=!0;else{const p=a.schema;switch(r.type){case"string":{const g=p;g.type="string";const{minimum:b,maximum:w,format:S,patterns:x,contentEncoding:E}=e._zod.bag;if(typeof b=="number"&&(g.minLength=b),typeof w=="number"&&(g.maxLength=w),S&&(g.format=s[S]??S,g.format===""&&delete g.format),E&&(g.contentEncoding=E),x&&x.size>0){const T=[...x];T.length===1?g.pattern=T[0].source:T.length>1&&(a.schema.allOf=[...T.map(k=>({...this.target==="draft-7"||this.target==="draft-4"?{type:"string"}:{},pattern:k.source}))])}break}case"number":{const g=p,{minimum:b,maximum:w,format:S,multipleOf:x,exclusiveMaximum:E,exclusiveMinimum:T}=e._zod.bag;typeof S=="string"&&S.includes("int")?g.type="integer":g.type="number",typeof T=="number"&&(this.target==="draft-4"?(g.minimum=T,g.exclusiveMinimum=!0):g.exclusiveMinimum=T),typeof b=="number"&&(g.minimum=b,typeof T=="number"&&this.target!=="draft-4"&&(T>=b?delete g.minimum:delete g.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"?(g.maximum=E,g.exclusiveMaximum=!0):g.exclusiveMaximum=E),typeof w=="number"&&(g.maximum=w,typeof E=="number"&&this.target!=="draft-4"&&(E<=w?delete g.maximum:delete g.exclusiveMaximum)),typeof x=="number"&&(g.multipleOf=x);break}case"boolean":{const g=p;g.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{p.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{p.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const g=p,{minimum:b,maximum:w}=e._zod.bag;typeof b=="number"&&(g.minItems=b),typeof w=="number"&&(g.maxItems=w),g.type="array",g.items=this.process(r.element,{...d,path:[...d.path,"items"]});break}case"object":{const g=p;g.type="object",g.properties={};const b=r.shape;for(const x in b)g.properties[x]=this.process(b[x],{...d,path:[...d.path,"properties",x]});const w=new Set(Object.keys(b)),S=new Set([...w].filter(x=>{const E=r.shape[x]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));S.size>0&&(g.required=Array.from(S)),r.catchall?._zod.def.type==="never"?g.additionalProperties=!1:r.catchall?r.catchall&&(g.additionalProperties=this.process(r.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(g.additionalProperties=!1);break}case"union":{const g=p;g.anyOf=r.options.map((b,w)=>this.process(b,{...d,path:[...d.path,"anyOf",w]}));break}case"intersection":{const g=p,b=this.process(r.left,{...d,path:[...d.path,"allOf",0]}),w=this.process(r.right,{...d,path:[...d.path,"allOf",1]}),S=E=>"allOf"in E&&Object.keys(E).length===1,x=[...S(b)?b.allOf:[b],...S(w)?w.allOf:[w]];g.allOf=x;break}case"tuple":{const g=p;g.type="array";const b=r.items.map((x,E)=>this.process(x,{...d,path:[...d.path,"prefixItems",E]}));if(this.target==="draft-2020-12"?g.prefixItems=b:g.items=b,r.rest){const x=this.process(r.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?g.items=x:g.additionalItems=x}r.rest&&(g.items=this.process(r.rest,{...d,path:[...d.path,"items"]}));const{minimum:w,maximum:S}=e._zod.bag;typeof w=="number"&&(g.minItems=w),typeof S=="number"&&(g.maxItems=S);break}case"record":{const g=p;g.type="object",this.target!=="draft-4"&&(g.propertyNames=this.process(r.keyType,{...d,path:[...d.path,"propertyNames"]})),g.additionalProperties=this.process(r.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const g=p,b=gf(r.entries);b.every(w=>typeof w=="number")&&(g.type="number"),b.every(w=>typeof w=="string")&&(g.type="string"),g.enum=b;break}case"literal":{const g=p,b=[];for(const w of r.values)if(w===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof w=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(w))}else b.push(w);if(b.length!==0)if(b.length===1){const w=b[0];g.type=w===null?"null":typeof w,this.target==="draft-4"?g.enum=[w]:g.const=w}else b.every(w=>typeof w=="number")&&(g.type="number"),b.every(w=>typeof w=="string")&&(g.type="string"),b.every(w=>typeof w=="boolean")&&(g.type="string"),b.every(w=>w===null)&&(g.type="null"),g.enum=b;break}case"file":{const g=p,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:w,maximum:S,mime:x}=e._zod.bag;w!==void 0&&(b.minLength=w),S!==void 0&&(b.maxLength=S),x?x.length===1?(b.contentMediaType=x[0],Object.assign(g,b)):g.anyOf=x.map(E=>({...b,contentMediaType:E})):Object.assign(g,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const g=this.process(r.innerType,d);p.anyOf=[g,{type:"null"}];break}case"nonoptional":{this.process(r.innerType,d),a.ref=r.innerType;break}case"success":{const g=p;g.type="boolean";break}case"default":{this.process(r.innerType,d),a.ref=r.innerType,p.default=JSON.parse(JSON.stringify(r.defaultValue));break}case"prefault":{this.process(r.innerType,d),a.ref=r.innerType,this.io==="input"&&(p._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break}case"catch":{this.process(r.innerType,d),a.ref=r.innerType;let g;try{g=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}p.default=g;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const g=p,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");g.type="string",g.pattern=b.source;break}case"pipe":{const g=this.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;this.process(g,d),a.ref=g;break}case"readonly":{this.process(r.innerType,d),a.ref=r.innerType,p.readOnly=!0;break}case"promise":{this.process(r.innerType,d),a.ref=r.innerType;break}case"optional":{this.process(r.innerType,d),a.ref=r.innerType;break}case"lazy":{const g=e._zod.innerType;this.process(g,d),a.ref=g;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),this.io==="input"&&ct(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,n){const i={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=c=>{const d=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const b=i.external.registry.get(c[0])?.id,w=i.external.uri??(x=>x);if(b)return{ref:w(b)};const S=c[1].defId??c[1].schema.id??`schema${this.counter++}`;return c[1].defId=S,{defId:S,ref:`${w("__shared")}#/${d}/${S}`}}if(c[1]===r)return{ref:"#"};const p=`#/${d}/`,g=c[1].schema.id??`__schema${this.counter++}`;return{defId:g,ref:p+g}},o=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:f,defId:p}=s(c);d.def={...d.schema},p&&(d.defId=p);const g=d.schema;for(const b in g)delete g[b];g.$ref=f};if(i.cycles==="throw")for(const c of this.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of this.seen.entries()){const d=c[1];if(e===c[0]){o(c);continue}if(i.external){const p=i.external.registry.get(c[0])?.id;if(e!==c[0]&&p){o(c);continue}}if(this.metadataRegistry.get(c[0])?.id){o(c);continue}if(d.cycle){o(c);continue}if(d.count>1&&i.reused==="ref"){o(c);continue}}const a=(c,d)=>{const f=this.seen.get(c),p=f.def??f.schema,g={...p};if(f.ref===null)return;const b=f.ref;if(f.ref=null,b){a(b,d);const w=this.seen.get(b).schema;w.$ref&&(d.target==="draft-7"||d.target==="draft-4")?(p.allOf=p.allOf??[],p.allOf.push(w)):(Object.assign(p,w),Object.assign(p,g))}f.isParent||this.override({zodSchema:c,jsonSchema:p,path:f.path??[]})};for(const c of[...this.seen.entries()].reverse())a(c[0],{target:this.target});const u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?u.$schema="http://json-schema.org/draft-04/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){const c=i.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");u.$id=i.external.uri(c)}Object.assign(u,r.def);const l=i.external?.defs??{};for(const c of this.seen.entries()){const d=c[1];d.def&&d.defId&&(l[d.defId]=d.def)}i.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?u.$defs=l:u.definitions=l);try{return JSON.parse(JSON.stringify(u))}catch{throw new Error("Error converting schema to JSON.")}}}function fE(t,e){if(t instanceof Uf){const i=new Ud(e),r={};for(const a of t._idmap.entries()){const[u,l]=a;i.process(l)}const s={},o={registry:t,uri:e?.uri,defs:r};for(const a of t._idmap.entries()){const[u,l]=a;s[u]=i.emit(l,{...e,external:o})}if(Object.keys(r).length>0){const a=i.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[a]:r}}return{schemas:s}}const n=new Ud(e);return n.process(t),n.emit(t,e)}function ct(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return ct(r.element,n);case"object":{for(const s in r.shape)if(ct(r.shape[s],n))return!0;return!1}case"union":{for(const s of r.options)if(ct(s,n))return!0;return!1}case"intersection":return ct(r.left,n)||ct(r.right,n);case"tuple":{for(const s of r.items)if(ct(s,n))return!0;return!!(r.rest&&ct(r.rest,n))}case"record":return ct(r.keyType,n)||ct(r.valueType,n);case"map":return ct(r.keyType,n)||ct(r.valueType,n);case"set":return ct(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return ct(r.innerType,n);case"lazy":return ct(r.getter(),n);case"default":return ct(r.innerType,n);case"prefault":return ct(r.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return ct(r.in,n)||ct(r.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${r.type}`)}const IM=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),EM=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:Wk,$ZodArray:Rf,$ZodAsyncError:Wi,$ZodBase64:jk,$ZodBase64URL:Lk,$ZodBigInt:Pf,$ZodBigIntFormat:qk,$ZodBoolean:Cf,$ZodCIDRv4:Dk,$ZodCIDRv6:Nk,$ZodCUID:xk,$ZodCUID2:kk,$ZodCatch:fI,$ZodCheck:tt,$ZodCheckBigIntFormat:Qx,$ZodCheckEndsWith:dk,$ZodCheckGreaterThan:Tf,$ZodCheckIncludes:ck,$ZodCheckLengthEquals:sk,$ZodCheckLessThan:Af,$ZodCheckLowerCase:ak,$ZodCheckMaxLength:rk,$ZodCheckMaxSize:ek,$ZodCheckMimeType:fk,$ZodCheckMinLength:ik,$ZodCheckMinSize:tk,$ZodCheckMultipleOf:Xx,$ZodCheckNumberFormat:Yx,$ZodCheckOverwrite:pk,$ZodCheckProperty:hk,$ZodCheckRegex:ok,$ZodCheckSizeEquals:nk,$ZodCheckStartsWith:lk,$ZodCheckStringFormat:Ao,$ZodCheckUpperCase:uk,$ZodCustom:yI,$ZodCustomStringFormat:Bk,$ZodDate:Xk,$ZodDefault:cI,$ZodDiscriminatedUnion:Qk,$ZodE164:Mk,$ZodEmail:yk,$ZodEmoji:wk,$ZodEnum:iI,$ZodError:_f,$ZodFile:oI,$ZodFunction:dE,$ZodGUID:vk,$ZodIPv4:Pk,$ZodIPv6:Rk,$ZodISODate:$k,$ZodISODateTime:Tk,$ZodISODuration:Ck,$ZodISOTime:Ok,$ZodIntersection:eI,$ZodJWT:Fk,$ZodKSUID:Ak,$ZodLazy:_I,$ZodLiteral:sI,$ZodMap:nI,$ZodNaN:pI,$ZodNanoID:Sk,$ZodNever:Kk,$ZodNonOptional:dI,$ZodNull:Hk,$ZodNullable:uI,$ZodNumber:Of,$ZodNumberFormat:Vk,$ZodObject:Yk,$ZodOptional:aI,$ZodPipe:jf,$ZodPrefault:lI,$ZodPromise:vI,$ZodReadonly:mI,$ZodRealError:Eo,$ZodRecord:tI,$ZodRegistry:Uf,$ZodSet:rI,$ZodString:To,$ZodStringFormat:Me,$ZodSuccess:hI,$ZodSymbol:Gk,$ZodTemplateLiteral:gI,$ZodTransform:Nf,$ZodTuple:Ju,$ZodType:pe,$ZodULID:Ik,$ZodURL:bk,$ZodUUID:_k,$ZodUndefined:Zk,$ZodUnion:Df,$ZodUnknown:ou,$ZodVoid:Jk,$ZodXID:Ek,$brand:ex,$constructor:M,$input:xI,$output:SI,Doc:mk,JSONSchema:IM,JSONSchemaGenerator:Ud,NEVER:QS,TimePrecision:EI,_any:HI,_array:_p,_base64:np,_base64url:rp,_bigint:zI,_boolean:LI,_catch:yM,_check:cE,_cidrv4:ep,_cidrv6:tp,_coercedBigint:FI,_coercedBoolean:MI,_coercedDate:XI,_coercedNumber:PI,_coercedString:II,_cuid:Hf,_cuid2:Wf,_custom:oE,_date:JI,_default:gM,_discriminatedUnion:sM,_e164:ip,_email:Mf,_emoji:Gf,_endsWith:hp,_enum:lM,_file:sE,_float32:DI,_float64:NI,_gt:ri,_gte:Gt,_guid:au,_includes:lp,_int:RI,_int32:jI,_int64:BI,_intersection:oM,_ipv4:Yf,_ipv6:Qf,_isoDate:TI,_isoDateTime:AI,_isoDuration:OI,_isoTime:$I,_jwt:sp,_ksuid:Xf,_lazy:xM,_length:Qu,_literal:hM,_lowercase:up,_lt:ni,_lte:mn,_map:uM,_max:mn,_maxLength:Yu,_maxSize:Xu,_mime:fp,_min:Gt,_minLength:Yi,_minSize:uo,_multipleOf:ao,_nan:YI,_nanoid:Zf,_nativeEnum:dM,_negative:eE,_never:WI,_nonnegative:nE,_nonoptional:vM,_nonpositive:tE,_normalize:pp,_null:ZI,_nullable:mM,_number:CI,_optional:pM,_overwrite:fi,_parse:wf,_parseAsync:Sf,_pipe:bM,_positive:QI,_promise:kM,_property:rE,_readonly:wM,_record:aM,_refine:aE,_regex:ap,_safeParse:xf,_safeParseAsync:kf,_set:cM,_size:op,_startsWith:dp,_string:kI,_stringFormat:yp,_stringbool:lE,_success:_M,_superRefine:uE,_symbol:qI,_templateLiteral:SM,_toLowerCase:gp,_toUpperCase:vp,_transform:fM,_trim:mp,_tuple:iE,_uint32:UI,_uint64:VI,_ulid:Kf,_undefined:GI,_union:iM,_unknown:uu,_uppercase:cp,_url:qf,_uuid:zf,_uuidv4:Ff,_uuidv6:Bf,_uuidv7:Vf,_void:KI,_xid:Jf,clone:wn,config:Dt,flattenError:yf,formatError:bf,function:hE,globalConfig:ru,globalRegistry:qr,isValidBase64:$f,isValidBase64URL:Uk,isValidJWT:zk,locales:wI,parse:Dd,parseAsync:Nd,prettifyError:gx,regexes:Kx,registry:Lf,safeParse:vx,safeParseAsync:_x,toDotPath:mx,toJSONSchema:fE,treeifyError:px,util:f4,version:gk},Symbol.toStringTag,{value:"Module"})),bp=M("ZodISODateTime",(t,e)=>{Tk.init(t,e),qe.init(t,e)});function pE(t){return AI(bp,t)}const wp=M("ZodISODate",(t,e)=>{$k.init(t,e),qe.init(t,e)});function mE(t){return TI(wp,t)}const Sp=M("ZodISOTime",(t,e)=>{Ok.init(t,e),qe.init(t,e)});function gE(t){return $I(Sp,t)}const xp=M("ZodISODuration",(t,e)=>{Ck.init(t,e),qe.init(t,e)});function vE(t){return OI(xp,t)}const AM=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:wp,ZodISODateTime:bp,ZodISODuration:xp,ZodISOTime:Sp,date:mE,datetime:pE,duration:vE,time:gE},Symbol.toStringTag,{value:"Module"})),_E=(t,e)=>{_f.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>bf(t,n)},flatten:{value:n=>yf(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,iu,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,iu,2)}},isEmpty:{get(){return t.issues.length===0}}})},TM=M("ZodError",_E),$o=M("ZodError",_E,{Parent:Error}),yE=wf($o),bE=Sf($o),wE=xf($o),SE=kf($o),xe=M("ZodType",(t,e)=>(pe.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(n,i)=>wn(t,n,i),t.brand=()=>t,t.register=(n,i)=>(n.add(t,i),t),t.parse=(n,i)=>yE(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>wE(t,n,i),t.parseAsync=async(n,i)=>bE(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>SE(t,n,i),t.spa=t.safeParseAsync,t.refine=(n,i)=>t.check(sA(n,i)),t.superRefine=n=>t.check(oA(n)),t.overwrite=n=>t.check(fi(n)),t.optional=()=>du(t),t.nullable=()=>hu(t),t.nullish=()=>du(hu(t)),t.nonoptional=n=>WE(t,n),t.array=()=>Zp(t),t.or=n=>Wp([t,n]),t.and=n=>jE(t,n),t.transform=n=>fu(t,Yp(n)),t.default=n=>GE(t,n),t.prefault=n=>HE(t,n),t.catch=n=>XE(t,n),t.pipe=n=>fu(t,n),t.readonly=()=>eA(t),t.describe=n=>{const i=t.clone();return qr.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return qr.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return qr.get(t);const i=t.clone();return qr.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),kp=M("_ZodString",(t,e)=>{To.init(t,e),xe.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(ap(...i)),t.includes=(...i)=>t.check(lp(...i)),t.startsWith=(...i)=>t.check(dp(...i)),t.endsWith=(...i)=>t.check(hp(...i)),t.min=(...i)=>t.check(Yi(...i)),t.max=(...i)=>t.check(Yu(...i)),t.length=(...i)=>t.check(Qu(...i)),t.nonempty=(...i)=>t.check(Yi(1,...i)),t.lowercase=i=>t.check(up(i)),t.uppercase=i=>t.check(cp(i)),t.trim=()=>t.check(mp()),t.normalize=(...i)=>t.check(pp(...i)),t.toLowerCase=()=>t.check(gp()),t.toUpperCase=()=>t.check(vp())}),ec=M("ZodString",(t,e)=>{To.init(t,e),kp.init(t,e),t.email=n=>t.check(Mf(Ip,n)),t.url=n=>t.check(qf(Ep,n)),t.jwt=n=>t.check(sp(Fp,n)),t.emoji=n=>t.check(Gf(Ap,n)),t.guid=n=>t.check(au(cu,n)),t.uuid=n=>t.check(zf(Jn,n)),t.uuidv4=n=>t.check(Ff(Jn,n)),t.uuidv6=n=>t.check(Bf(Jn,n)),t.uuidv7=n=>t.check(Vf(Jn,n)),t.nanoid=n=>t.check(Zf(Tp,n)),t.guid=n=>t.check(au(cu,n)),t.cuid=n=>t.check(Hf($p,n)),t.cuid2=n=>t.check(Wf(Op,n)),t.ulid=n=>t.check(Kf(Cp,n)),t.base64=n=>t.check(np(Lp,n)),t.base64url=n=>t.check(rp(Mp,n)),t.xid=n=>t.check(Jf(Pp,n)),t.ksuid=n=>t.check(Xf(Rp,n)),t.ipv4=n=>t.check(Yf(Dp,n)),t.ipv6=n=>t.check(Qf(Np,n)),t.cidrv4=n=>t.check(ep(jp,n)),t.cidrv6=n=>t.check(tp(Up,n)),t.e164=n=>t.check(ip(zp,n)),t.datetime=n=>t.check(pE(n)),t.date=n=>t.check(mE(n)),t.time=n=>t.check(gE(n)),t.duration=n=>t.check(vE(n))});function Ld(t){return kI(ec,t)}const qe=M("ZodStringFormat",(t,e)=>{Me.init(t,e),kp.init(t,e)}),Ip=M("ZodEmail",(t,e)=>{yk.init(t,e),qe.init(t,e)});function $M(t){return Mf(Ip,t)}const cu=M("ZodGUID",(t,e)=>{vk.init(t,e),qe.init(t,e)});function OM(t){return au(cu,t)}const Jn=M("ZodUUID",(t,e)=>{_k.init(t,e),qe.init(t,e)});function CM(t){return zf(Jn,t)}function PM(t){return Ff(Jn,t)}function RM(t){return Bf(Jn,t)}function DM(t){return Vf(Jn,t)}const Ep=M("ZodURL",(t,e)=>{bk.init(t,e),qe.init(t,e)});function NM(t){return qf(Ep,t)}const Ap=M("ZodEmoji",(t,e)=>{wk.init(t,e),qe.init(t,e)});function jM(t){return Gf(Ap,t)}const Tp=M("ZodNanoID",(t,e)=>{Sk.init(t,e),qe.init(t,e)});function UM(t){return Zf(Tp,t)}const $p=M("ZodCUID",(t,e)=>{xk.init(t,e),qe.init(t,e)});function LM(t){return Hf($p,t)}const Op=M("ZodCUID2",(t,e)=>{kk.init(t,e),qe.init(t,e)});function MM(t){return Wf(Op,t)}const Cp=M("ZodULID",(t,e)=>{Ik.init(t,e),qe.init(t,e)});function zM(t){return Kf(Cp,t)}const Pp=M("ZodXID",(t,e)=>{Ek.init(t,e),qe.init(t,e)});function FM(t){return Jf(Pp,t)}const Rp=M("ZodKSUID",(t,e)=>{Ak.init(t,e),qe.init(t,e)});function BM(t){return Xf(Rp,t)}const Dp=M("ZodIPv4",(t,e)=>{Pk.init(t,e),qe.init(t,e)});function VM(t){return Yf(Dp,t)}const Np=M("ZodIPv6",(t,e)=>{Rk.init(t,e),qe.init(t,e)});function qM(t){return Qf(Np,t)}const jp=M("ZodCIDRv4",(t,e)=>{Dk.init(t,e),qe.init(t,e)});function GM(t){return ep(jp,t)}const Up=M("ZodCIDRv6",(t,e)=>{Nk.init(t,e),qe.init(t,e)});function ZM(t){return tp(Up,t)}const Lp=M("ZodBase64",(t,e)=>{jk.init(t,e),qe.init(t,e)});function HM(t){return np(Lp,t)}const Mp=M("ZodBase64URL",(t,e)=>{Lk.init(t,e),qe.init(t,e)});function WM(t){return rp(Mp,t)}const zp=M("ZodE164",(t,e)=>{Mk.init(t,e),qe.init(t,e)});function KM(t){return ip(zp,t)}const Fp=M("ZodJWT",(t,e)=>{Fk.init(t,e),qe.init(t,e)});function JM(t){return sp(Fp,t)}const Bp=M("ZodCustomStringFormat",(t,e)=>{Bk.init(t,e),qe.init(t,e)});function XM(t,e,n={}){return yp(Bp,t,e,n)}function YM(t){return yp(Bp,"hostname",Ef,t)}const tc=M("ZodNumber",(t,e)=>{Of.init(t,e),xe.init(t,e),t.gt=(i,r)=>t.check(ri(i,r)),t.gte=(i,r)=>t.check(Gt(i,r)),t.min=(i,r)=>t.check(Gt(i,r)),t.lt=(i,r)=>t.check(ni(i,r)),t.lte=(i,r)=>t.check(mn(i,r)),t.max=(i,r)=>t.check(mn(i,r)),t.int=i=>t.check(Md(i)),t.safe=i=>t.check(Md(i)),t.positive=i=>t.check(ri(0,i)),t.nonnegative=i=>t.check(Gt(0,i)),t.negative=i=>t.check(ni(0,i)),t.nonpositive=i=>t.check(mn(0,i)),t.multipleOf=(i,r)=>t.check(ao(i,r)),t.step=(i,r)=>t.check(ao(i,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function xE(t){return CI(tc,t)}const os=M("ZodNumberFormat",(t,e)=>{Vk.init(t,e),tc.init(t,e)});function Md(t){return RI(os,t)}function QM(t){return DI(os,t)}function ez(t){return NI(os,t)}function tz(t){return jI(os,t)}function nz(t){return UI(os,t)}const nc=M("ZodBoolean",(t,e)=>{Cf.init(t,e),xe.init(t,e)});function kE(t){return LI(nc,t)}const rc=M("ZodBigInt",(t,e)=>{Pf.init(t,e),xe.init(t,e),t.gte=(i,r)=>t.check(Gt(i,r)),t.min=(i,r)=>t.check(Gt(i,r)),t.gt=(i,r)=>t.check(ri(i,r)),t.gte=(i,r)=>t.check(Gt(i,r)),t.min=(i,r)=>t.check(Gt(i,r)),t.lt=(i,r)=>t.check(ni(i,r)),t.lte=(i,r)=>t.check(mn(i,r)),t.max=(i,r)=>t.check(mn(i,r)),t.positive=i=>t.check(ri(BigInt(0),i)),t.negative=i=>t.check(ni(BigInt(0),i)),t.nonpositive=i=>t.check(mn(BigInt(0),i)),t.nonnegative=i=>t.check(Gt(BigInt(0),i)),t.multipleOf=(i,r)=>t.check(ao(i,r));const n=t._zod.bag;t.minValue=n.minimum??null,t.maxValue=n.maximum??null,t.format=n.format??null});function rz(t){return zI(rc,t)}const Vp=M("ZodBigIntFormat",(t,e)=>{qk.init(t,e),rc.init(t,e)});function iz(t){return BI(Vp,t)}function sz(t){return VI(Vp,t)}const IE=M("ZodSymbol",(t,e)=>{Gk.init(t,e),xe.init(t,e)});function oz(t){return qI(IE,t)}const EE=M("ZodUndefined",(t,e)=>{Zk.init(t,e),xe.init(t,e)});function az(t){return GI(EE,t)}const AE=M("ZodNull",(t,e)=>{Hk.init(t,e),xe.init(t,e)});function TE(t){return ZI(AE,t)}const $E=M("ZodAny",(t,e)=>{Wk.init(t,e),xe.init(t,e)});function uz(){return HI($E)}const OE=M("ZodUnknown",(t,e)=>{ou.init(t,e),xe.init(t,e)});function lu(){return uu(OE)}const CE=M("ZodNever",(t,e)=>{Kk.init(t,e),xe.init(t,e)});function qp(t){return WI(CE,t)}const PE=M("ZodVoid",(t,e)=>{Jk.init(t,e),xe.init(t,e)});function cz(t){return KI(PE,t)}const Gp=M("ZodDate",(t,e)=>{Xk.init(t,e),xe.init(t,e),t.min=(i,r)=>t.check(Gt(i,r)),t.max=(i,r)=>t.check(mn(i,r));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function lz(t){return JI(Gp,t)}const RE=M("ZodArray",(t,e)=>{Rf.init(t,e),xe.init(t,e),t.element=e.element,t.min=(n,i)=>t.check(Yi(n,i)),t.nonempty=n=>t.check(Yi(1,n)),t.max=(n,i)=>t.check(Yu(n,i)),t.length=(n,i)=>t.check(Qu(n,i)),t.unwrap=()=>t.element});function Zp(t,e){return _p(RE,t,e)}function dz(t){const e=t._zod.def.shape;return Jp(Object.keys(e))}const ic=M("ZodObject",(t,e)=>{Yk.init(t,e),xe.init(t,e),$e(t,"shape",()=>e.shape),t.keyof=()=>Jp(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lu()}),t.loose=()=>t.clone({...t._zod.def,catchall:lu()}),t.strict=()=>t.clone({...t._zod.def,catchall:qp()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>cx(t,n),t.merge=n=>lx(t,n),t.pick=n=>ax(t,n),t.omit=n=>ux(t,n),t.partial=(...n)=>dx(Qp,t,n[0]),t.required=(...n)=>hx(em,t,n[0])});function hz(t,e){const n={type:"object",get shape(){return Mn(this,"shape",t?Zu(t):{}),this.shape},...G(e)};return new ic(n)}function fz(t,e){return new ic({type:"object",get shape(){return Mn(this,"shape",Zu(t)),this.shape},catchall:qp(),...G(e)})}function pz(t,e){return new ic({type:"object",get shape(){return Mn(this,"shape",Zu(t)),this.shape},catchall:lu(),...G(e)})}const Hp=M("ZodUnion",(t,e)=>{Df.init(t,e),xe.init(t,e),t.options=e.options});function Wp(t,e){return new Hp({type:"union",options:t,...G(e)})}const DE=M("ZodDiscriminatedUnion",(t,e)=>{Hp.init(t,e),Qk.init(t,e)});function mz(t,e,n){return new DE({type:"union",options:e,discriminator:t,...G(n)})}const NE=M("ZodIntersection",(t,e)=>{eI.init(t,e),xe.init(t,e)});function jE(t,e){return new NE({type:"intersection",left:t,right:e})}const UE=M("ZodTuple",(t,e)=>{Ju.init(t,e),xe.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function gz(t,e,n){const i=e instanceof pe,r=i?n:e,s=i?e:null;return new UE({type:"tuple",items:t,rest:s,...G(r)})}const Kp=M("ZodRecord",(t,e)=>{tI.init(t,e),xe.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function LE(t,e,n){return new Kp({type:"record",keyType:t,valueType:e,...G(n)})}function vz(t,e,n){const i=wn(t);return i._zod.values=void 0,new Kp({type:"record",keyType:i,valueType:e,...G(n)})}const ME=M("ZodMap",(t,e)=>{nI.init(t,e),xe.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function _z(t,e,n){return new ME({type:"map",keyType:t,valueType:e,...G(n)})}const zE=M("ZodSet",(t,e)=>{rI.init(t,e),xe.init(t,e),t.min=(...n)=>t.check(uo(...n)),t.nonempty=n=>t.check(uo(1,n)),t.max=(...n)=>t.check(Xu(...n)),t.size=(...n)=>t.check(op(...n))});function yz(t,e){return new zE({type:"set",valueType:t,...G(e)})}const co=M("ZodEnum",(t,e)=>{iI.init(t,e),xe.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,r)=>{const s={};for(const o of i)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new co({...e,checks:[],...G(r),entries:s})},t.exclude=(i,r)=>{const s={...e.entries};for(const o of i)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new co({...e,checks:[],...G(r),entries:s})}});function Jp(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new co({type:"enum",entries:n,...G(e)})}function bz(t,e){return new co({type:"enum",entries:t,...G(e)})}const FE=M("ZodLiteral",(t,e)=>{sI.init(t,e),xe.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function wz(t,e){return new FE({type:"literal",values:Array.isArray(t)?t:[t],...G(e)})}const BE=M("ZodFile",(t,e)=>{oI.init(t,e),xe.init(t,e),t.min=(n,i)=>t.check(uo(n,i)),t.max=(n,i)=>t.check(Xu(n,i)),t.mime=(n,i)=>t.check(fp(Array.isArray(n)?n:[n],i))});function Sz(t){return sE(BE,t)}const Xp=M("ZodTransform",(t,e)=>{Nf.init(t,e),xe.init(t,e),t._zod.parse=(n,i)=>{n.addIssue=s=>{if(typeof s=="string")n.issues.push(Ji(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Ji(o))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function Yp(t){return new Xp({type:"transform",transform:t})}const Qp=M("ZodOptional",(t,e)=>{aI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function du(t){return new Qp({type:"optional",innerType:t})}const VE=M("ZodNullable",(t,e)=>{uI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function hu(t){return new VE({type:"nullable",innerType:t})}function xz(t){return du(hu(t))}const qE=M("ZodDefault",(t,e)=>{cI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function GE(t,e){return new qE({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Hu(e)}})}const ZE=M("ZodPrefault",(t,e)=>{lI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function HE(t,e){return new ZE({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Hu(e)}})}const em=M("ZodNonOptional",(t,e)=>{dI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function WE(t,e){return new em({type:"nonoptional",innerType:t,...G(e)})}const KE=M("ZodSuccess",(t,e)=>{hI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function kz(t){return new KE({type:"success",innerType:t})}const JE=M("ZodCatch",(t,e)=>{fI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function XE(t,e){return new JE({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const YE=M("ZodNaN",(t,e)=>{pI.init(t,e),xe.init(t,e)});function Iz(t){return YI(YE,t)}const tm=M("ZodPipe",(t,e)=>{jf.init(t,e),xe.init(t,e),t.in=e.in,t.out=e.out});function fu(t,e){return new tm({type:"pipe",in:t,out:e})}const QE=M("ZodReadonly",(t,e)=>{mI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function eA(t){return new QE({type:"readonly",innerType:t})}const tA=M("ZodTemplateLiteral",(t,e)=>{gI.init(t,e),xe.init(t,e)});function Ez(t,e){return new tA({type:"template_literal",parts:t,...G(e)})}const nA=M("ZodLazy",(t,e)=>{_I.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.getter()});function rA(t){return new nA({type:"lazy",getter:t})}const iA=M("ZodPromise",(t,e)=>{vI.init(t,e),xe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Az(t){return new iA({type:"promise",innerType:t})}const sc=M("ZodCustom",(t,e)=>{yI.init(t,e),xe.init(t,e)});function Tz(t){const e=new tt({check:"custom"});return e._zod.check=t,e}function $z(t,e){return oE(sc,t??(()=>!0),e)}function sA(t,e={}){return aE(sc,t,e)}function oA(t){return uE(t)}function Oz(t,e={error:`Input not instance of ${t.name}`}){const n=new sc({type:"custom",check:"custom",fn:i=>i instanceof t,abort:!0,...G(e)});return n._zod.bag.Class=t,n}const Cz=(...t)=>lE({Pipe:tm,Boolean:nc,String:ec,Transform:Xp},...t);function Pz(t){const e=rA(()=>Wp([Ld(t),xE(),kE(),TE(),Zp(e),LE(Ld(),e)]));return e}function Rz(t,e){return fu(Yp(t),e)}const Dz={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Nz(t){Dt({customError:t})}function jz(){return Dt().customError}var zd;zd||(zd={});function Uz(t){return II(ec,t)}function Lz(t){return PI(tc,t)}function Mz(t){return MI(nc,t)}function zz(t){return FI(rc,t)}function Fz(t){return XI(Gp,t)}const Bz=Object.freeze(Object.defineProperty({__proto__:null,bigint:zz,boolean:Mz,date:Fz,number:Lz,string:Uz},Symbol.toStringTag,{value:"Module"}));Dt(bI());const Qn=Object.freeze(Object.defineProperty({__proto__:null,$brand:ex,$input:xI,$output:SI,NEVER:QS,TimePrecision:EI,ZodAny:$E,ZodArray:RE,ZodBase64:Lp,ZodBase64URL:Mp,ZodBigInt:rc,ZodBigIntFormat:Vp,ZodBoolean:nc,ZodCIDRv4:jp,ZodCIDRv6:Up,ZodCUID:$p,ZodCUID2:Op,ZodCatch:JE,ZodCustom:sc,ZodCustomStringFormat:Bp,ZodDate:Gp,ZodDefault:qE,ZodDiscriminatedUnion:DE,ZodE164:zp,ZodEmail:Ip,ZodEmoji:Ap,ZodEnum:co,ZodError:TM,ZodFile:BE,get ZodFirstPartyTypeKind(){return zd},ZodGUID:cu,ZodIPv4:Dp,ZodIPv6:Np,ZodISODate:wp,ZodISODateTime:bp,ZodISODuration:xp,ZodISOTime:Sp,ZodIntersection:NE,ZodIssueCode:Dz,ZodJWT:Fp,ZodKSUID:Rp,ZodLazy:nA,ZodLiteral:FE,ZodMap:ME,ZodNaN:YE,ZodNanoID:Tp,ZodNever:CE,ZodNonOptional:em,ZodNull:AE,ZodNullable:VE,ZodNumber:tc,ZodNumberFormat:os,ZodObject:ic,ZodOptional:Qp,ZodPipe:tm,ZodPrefault:ZE,ZodPromise:iA,ZodReadonly:QE,ZodRealError:$o,ZodRecord:Kp,ZodSet:zE,ZodString:ec,ZodStringFormat:qe,ZodSuccess:KE,ZodSymbol:IE,ZodTemplateLiteral:tA,ZodTransform:Xp,ZodTuple:UE,ZodType:xe,ZodULID:Cp,ZodURL:Ep,ZodUUID:Jn,ZodUndefined:EE,ZodUnion:Hp,ZodUnknown:OE,ZodVoid:PE,ZodXID:Pp,_ZodString:kp,_default:GE,any:uz,array:Zp,base64:HM,base64url:WM,bigint:rz,boolean:kE,catch:XE,check:Tz,cidrv4:GM,cidrv6:ZM,clone:wn,coerce:Bz,config:Dt,core:EM,cuid:LM,cuid2:MM,custom:$z,date:lz,discriminatedUnion:mz,e164:KM,email:$M,emoji:jM,endsWith:hp,enum:Jp,file:Sz,flattenError:yf,float32:QM,float64:ez,formatError:bf,function:hE,getErrorMap:jz,globalRegistry:qr,gt:ri,gte:Gt,guid:OM,hostname:YM,includes:lp,instanceof:Oz,int:Md,int32:tz,int64:iz,intersection:jE,ipv4:VM,ipv6:qM,iso:AM,json:Pz,jwt:JM,keyof:dz,ksuid:BM,lazy:rA,length:Qu,literal:wz,locales:wI,looseObject:pz,lowercase:up,lt:ni,lte:mn,map:_z,maxLength:Yu,maxSize:Xu,mime:fp,minLength:Yi,minSize:uo,multipleOf:ao,nan:Iz,nanoid:UM,nativeEnum:bz,negative:eE,never:qp,nonnegative:nE,nonoptional:WE,nonpositive:tE,normalize:pp,null:TE,nullable:hu,nullish:xz,number:xE,object:hz,optional:du,overwrite:fi,parse:yE,parseAsync:bE,partialRecord:vz,pipe:fu,positive:QI,prefault:HE,preprocess:Rz,prettifyError:gx,promise:Az,property:rE,readonly:eA,record:LE,refine:sA,regex:ap,regexes:Kx,registry:Lf,safeParse:wE,safeParseAsync:SE,set:yz,setErrorMap:Nz,size:op,startsWith:dp,strictObject:fz,string:Ld,stringFormat:XM,stringbool:Cz,success:kz,superRefine:oA,symbol:oz,templateLiteral:Ez,toJSONSchema:fE,toLowerCase:gp,toUpperCase:vp,transform:Yp,treeifyError:px,trim:mp,tuple:gz,uint32:nz,uint64:sz,ulid:zM,undefined:az,union:Wp,unknown:lu,uppercase:cp,url:NM,uuid:CM,uuidv4:PM,uuidv6:RM,uuidv7:DM,void:cz,xid:FM},Symbol.toStringTag,{value:"Module"}));function Vz(t,e){const[n,i]=j.useState(!1);return!t&&n&&i(!1),j.useEffect(()=>{if(t){const r=setTimeout(()=>{i(!0)},e);return()=>clearTimeout(r)}},[t,e]),n}var Oo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ii=typeof window>"u"||"Deno"in globalThis;function jt(){}function qz(t,e){return typeof t=="function"?t(e):t}function Fd(t){return typeof t=="number"&&t>=0&&t!==1/0}function aA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gr(t,e){return typeof t=="function"?t(e):t}function Qt(t,e){return typeof t=="function"?t(e):t}function iy(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==nm(o,e.options))return!1}else if(!ho(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function sy(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(lo(e.options.mutationKey)!==lo(s))return!1}else if(!ho(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function nm(t,e){return(e?.queryKeyHashFn||lo)(t)}function lo(t){return JSON.stringify(t,(e,n)=>Vd(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function ho(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ho(t[n],e[n])):!1}function uA(t,e){if(t===e)return t;const n=oy(t)&&oy(e);if(n||Vd(t)&&Vd(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},u=new Set(i);let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&u.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=uA(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return r===o&&l===r?t:a}return e}function Bd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vd(t){if(!ay(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ay(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ay(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gz(t){return new Promise(e=>{setTimeout(e,t)})}function qd(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uA(t,e):e}function Zz(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function Hz(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var rm=Symbol();function cA(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===rm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Wz(t,e){return typeof t=="function"?t(...e):!!t}var Kz=class extends Oo{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!ii&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},im=new Kz,Jz=class extends Oo{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!ii&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},pu=new Jz;function Gd(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function Xz(t){return Math.min(1e3*2**t,3e4)}function lA(t){return(t??"online")==="online"?pu.isOnline():!0}var dA=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pl(t){return t instanceof dA}function hA(t){let e=!1,n=0,i=!1,r;const s=Gd(),o=b=>{i||(f(new dA(b)),t.abort?.())},a=()=>{e=!0},u=()=>{e=!1},l=()=>im.isFocused()&&(t.networkMode==="always"||pu.isOnline())&&t.canRun(),c=()=>lA(t.networkMode)&&t.canRun(),d=b=>{i||(i=!0,t.onSuccess?.(b),r?.(),s.resolve(b))},f=b=>{i||(i=!0,t.onError?.(b),r?.(),s.reject(b))},p=()=>new Promise(b=>{r=w=>{(i||l())&&b(w)},t.onPause?.()}).then(()=>{r=void 0,i||t.onContinue?.()}),g=()=>{if(i)return;let b;const w=n===0?t.initialPromise:void 0;try{b=w??t.fn()}catch(S){b=Promise.reject(S)}Promise.resolve(b).then(d).catch(S=>{if(i)return;const x=t.retry??(ii?0:3),E=t.retryDelay??Xz,T=typeof E=="function"?E(n,S):E,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,S);if(e||!k){f(S);return}n++,t.onFail?.(n,S),Gz(T).then(()=>l()?void 0:p()).then(()=>{e?f(S):g()})})};return{promise:s,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:u,canStart:c,start:()=>(c()?g():p().then(g),s)}}var Yz=t=>setTimeout(t,0);function Qz(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=Yz;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var wt=Qz(),fA=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fd(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ii?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},e6=class extends fA{#t;#e;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=t6(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=qd(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(jt).catch(jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Qt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const u=cA(this.options,e),c=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(d),d})();return this.#o=!1,this.options.persister?this.options.persister(u,c,this):u(c)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{pl(u)&&u.silent||this.#s({type:"error",error:u}),pl(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=hA({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(l){a(l);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,l)=>{this.#s({type:"failed",failureCount:u,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pA(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return pl(i)&&i.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function pA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function t6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var n6=class extends Oo{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const i=e.queryKey,r=e.queryHash??nm(i,e);let s=this.get(r);return s||(s=new e6({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>iy(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>iy(t,n)):e}notify(t){wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},r6=class extends fA{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||i6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=hA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",i=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#e.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:i})}const r=await this.#n.start();return await this.#e.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),wt.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function i6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var s6=class extends Oo{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const i=new r6({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#t.add(t);const e=oa(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=oa(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=oa(t);if(typeof e=="string"){const i=this.#e.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=oa(t);return typeof e=="string"?this.#e.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){wt.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>sy(e,n))}findAll(t={}){return this.getAll().filter(e=>sy(t,e))}notify(t){wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(jt))))}};function oa(t){return t.options.scope?.id}function uy(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const l=async()=>{let c=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=cA(e.options,e.fetchOptions),p=async(g,b,w)=>{if(c)return Promise.reject();if(b==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:b,direction:w?"backward":"forward",meta:e.options.meta};return d(P),P})(),E=await f(x),{maxPages:T}=e.options,k=w?Hz:Zz;return{pages:k(g.pages,E,T),pageParams:k(g.pageParams,b,T)}};if(r&&s.length){const g=r==="backward",b=g?o6:cy,w={pages:s,pageParams:o},S=b(i,w);a=await p(w,S,g)}else{const g=t??s.length;do{const b=u===0?o[0]??i.initialPageParam:cy(i,a);if(u>0&&b==null)break;a=await p(a,b),u++}while(u<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=l}}}function cy(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function o6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var a6=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new n6,this.#e=t.mutationCache||new s6,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=im.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=pu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gr(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(i.queryHash)?.state.data,o=qz(e,s);if(o!==void 0)return this.#t.build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wt.batch(()=>this.#t.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return wt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=wt.batch(()=>this.#t.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(jt).catch(jt)}invalidateQueries(t,e={}){return wt.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=wt.batch(()=>this.#t.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(jt)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(jt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(gr(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jt).catch(jt)}fetchInfiniteQuery(t){return t.behavior=uy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jt).catch(jt)}ensureInfiniteQueryData(t){return t.behavior=uy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pu.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(lo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{ho(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(lo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{ho(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},u6=class extends Oo{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=Gd(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#h;#f;#c;#l;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ly(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zd(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zd(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qt(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!Bd(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&dy(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#e!==n||Qt(this.options.enabled,this.#e)!==Qt(e.enabled,this.#e)||gr(this.options.staleTime,this.#e)!==gr(e.staleTime,this.#e))&&this.#g();const r=this.#v();i&&(this.#e!==n||Qt(this.options.enabled,this.#e)!==Qt(e.enabled,this.#e)||r!==this.#u)&&this.#_(r)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return l6(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(jt)),e}#g(){this.#b();const t=gr(this.options.staleTime,this.#e);if(ii||this.#r.isStale||!Fd(t))return;const n=aA(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#_(t){this.#w(),this.#u=t,!(ii||Qt(this.options.enabled,this.#e)===!1||!Fd(this.#u)||this.#u===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||im.isFocused())&&this.#d()},this.#u))}#y(){this.#g(),this.#_(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#e,i=this.options,r=this.#r,s=this.#i,o=this.#a,u=t!==n?t.state:this.#n,{state:l}=t;let c={...l},d=!1,f;if(e._optimisticResults){const R=this.hasListeners(),D=!R&&ly(t,e),N=R&&dy(t,n,e,i);(D||N)&&(c={...c,...pA(l.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:b}=c;f=c.data;let w=!1;if(e.placeholderData!==void 0&&f===void 0&&b==="pending"){let R;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(R=r.data,w=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,R!==void 0&&(b="success",f=qd(r?.data,R,e),d=!0)}if(e.select&&f!==void 0&&!w)if(r&&f===s?.data&&e.select===this.#m)f=this.#h;else try{this.#m=e.select,f=e.select(f),f=qd(r?.data,f,e),this.#h=f,this.#s=null}catch(R){this.#s=R}this.#s&&(p=this.#s,f=this.#h,g=Date.now(),b="error");const S=c.fetchStatus==="fetching",x=b==="pending",E=b==="error",T=x&&S,k=f!==void 0,C={status:b,fetchStatus:c.fetchStatus,isPending:x,isSuccess:b==="success",isError:E,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!x,isLoadingError:E&&!k,isPaused:c.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:E&&k,isStale:sm(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Qt(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=F=>{C.status==="error"?F.reject(C.error):C.data!==void 0&&F.resolve(C.data)},D=()=>{const F=this.#o=C.promise=Gd();R(F)},N=this.#o;switch(N.status){case"pending":t.queryHash===n.queryHash&&R(N);break;case"fulfilled":(C.status==="error"||C.data!==N.value)&&D();break;case"rejected":(C.status!=="error"||C.error!==N.reason)&&D();break}}return C}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Bd(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==t[a]&&s.has(a)})};this.#x({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#x(t){wt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function c6(t,e){return Qt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ly(t,e){return c6(t,e)||t.state.data!==void 0&&Zd(t,e,e.refetchOnMount)}function Zd(t,e,n){if(Qt(e.enabled,t)!==!1&&gr(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&sm(t,e)}return!1}function dy(t,e,n,i){return(t!==e||Qt(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&sm(t,n)}function sm(t,e){return Qt(e.enabled,t)!==!1&&t.isStaleByTime(gr(e.staleTime,t))}function l6(t,e){return!Bd(t.getCurrentResult(),e)}var mA=j.createContext(void 0),d6=t=>{const e=j.useContext(mA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},H3=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),ne.jsx(mA.Provider,{value:t,children:e})),gA=j.createContext(!1),h6=()=>j.useContext(gA);gA.Provider;function f6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var p6=j.createContext(f6()),m6=()=>j.useContext(p6),g6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},v6=t=>{j.useEffect(()=>{t.clearReset()},[t])},_6=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Wz(n,[t.error,i])),y6=t=>{if(t.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>e(n(...i)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},b6=(t,e)=>t.isLoading&&t.isFetching&&!e,w6=(t,e)=>t?.suspense&&e.isPending,hy=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function S6(t,e,n){const i=h6(),r=m6(),s=d6(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",y6(o),g6(o,r),v6(r);const a=!s.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new e(s,o)),l=u.getOptimisticResult(o),c=!i&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(d=>{const f=c?u.subscribe(wt.batchCalls(d)):jt;return u.updateResult(),f},[u,c]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),w6(o,l))throw hy(o,u,r);if(_6({result:l,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,l),o.experimental_prefetchInRender&&!ii&&b6(l,i)&&(a?hy(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(jt).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?l:u.trackResult(l)}function x6(t,e){return S6(t,u6)}const vA=new a6({defaultOptions:{queries:{retry:!0,retryDelay:t=>Math.min(1e3*2**t,3e4),refetchOnWindowFocus:!1}}}),k6=300,I6=Qn.object({}).passthrough().transform(t=>t),E6=Qn.object({user:I6.nullable(),accessToken:Qn.string(),refreshToken:Qn.string()}),fy=Qn.object({session:E6.nullable()}),aa={session:null},ir=mf("auth-storage",aa,{getItem:t=>{const e=localStorage.getItem(t);if(!e)return aa;let n;try{n=JSON.parse(e)}catch{return console.error("User state in localStorage is not valid JSON"),aa}const i=fy.safeParse(n);if(i.success)return i.data;const s=Qn.object({state:fy}).safeParse(n);return s.success?s.data.state:(console.error("Invalid user state in localStorage"),aa)},setItem:(t,e)=>{const n={session:e.session?{...e.session,user:null}:null};localStorage.setItem(t,JSON.stringify(n))},removeItem:t=>{localStorage.removeItem(t)}});function W3(){li().set(ir,{session:null}),vA.clear()}function A6(){return!!_n(ir).session?.user}function K3(){return!!_n(ir).session}function J3(){const t=_n(ir).session?.user?.role;return t==="admin"||t==="owner"}function X3(){return _n(ir).session?.user?.organization.enterpriseSeatCount!=null}function Y3(){const t=A6();return Vz(t,k6)}const T6=15,$6="0779085f1b19d07c959f";function O6(t){return t.type==="AuthError"}function C6({organizationId:t,userId:e}){return`private-desktop-${t}-${e}`}class P6{isDisposed=!1;scheduleRefreshAccessTimeout;channel;constructor(){this.channel=this.createChannel(),Ft(this,{channel:we,refreshAccess:be})}dispose(){this.isDisposed=!0,clearTimeout(this.scheduleRefreshAccessTimeout),this.channel.pusher.disconnect()}refreshAccess(){this.channel.pusher.disconnect(),this.channel=this.createChannel()}scheduleRefreshAccess(){clearTimeout(this.scheduleRefreshAccessTimeout),this.scheduleRefreshAccessTimeout=setTimeout(()=>{this.refreshAccess()},T6*1e3)}createChannel(){const n=li().get(ir).session,i=C6({organizationId:n?.user?.organization.id??"",userId:n?.user?.id??""}),r=n?.accessToken??"",o=new KL($6,{cluster:"us3",forceTLS:!0,channelAuthorization:{endpoint:`${Hy}/pusher/auth`,headers:{Authorization:`Bearer ${r}`},transport:"ajax"}}).subscribe(i);return o.bind("pusher:subscription_error",a=>{this.isDisposed||(console.warn(`Pusher subscription error on channel ${i}:`,JSON.stringify(a)),O6(a)&&(console.log("Refreshing Pusher auth..."),this.scheduleRefreshAccess()))}),o}}function Ln(t,e){window.electron.ipcRenderer.send(t,e)}function Co(t,e){window.electron.ipcRenderer.on(t,(n,i)=>e(i))}async function R6(t,e){return window.electron.ipcRenderer.invoke(t,e)}const Hd=1080,Wd="image/webp",_A=.7;async function yA(){const t=await ml();if(t.screenshot)return t.screenshot;console.warn("First screenshot attempt failed, retrying..."),await new Promise(i=>setTimeout(i,500));const e=await ml();if(e.screenshot)return e.screenshot;console.warn("Second screenshot attempt failed, retrying..."),await new Promise(i=>setTimeout(i,500));const n=await ml();if(n.screenshot)return n.screenshot;throw console.warn("Third screenshot attempt failed."),n.error}async function ml(){try{return{screenshot:await D6(),error:null}}catch(t){return{screenshot:null,error:t}}}async function D6(){const{contentType:t,data:e}=await R6("capture-screenshot",null);return await N6(t,e)}function N6(t,e){return new Promise((n,i)=>{const r=new Blob([e],{type:t}),s=URL.createObjectURL(r),o=new Image;o.src=s,o.onload=()=>{const a=document.createElement("canvas"),u=a.getContext("2d");if(!u){URL.revokeObjectURL(s),i(new Error("Failed to get canvas context"));return}const l=o.height>Hd?Hd/o.height:1;a.width=o.width*l,a.height=o.height*l,u.drawImage(o,0,0,a.width,a.height),URL.revokeObjectURL(s),n({contentType:Wd,url:a.toDataURL(Wd,_A)})},o.onerror=a=>{URL.revokeObjectURL(s),i(a)}})}function j6(t,e){const{desktopChannelService:n}=DA(),i=n?.channel,r=hf(e);j.useEffect(()=>{if(i)return i.bind(t,r),()=>{i.unbind(t,r)}},[t,r,i])}const Kd=new Map;function bA(t){let e=Kd.get(t);return e||(e={actions:[],suggestions:[]},Kd.set(t,e)),e}function U6(t,e,n){const i=bA(t);if(i.suggestions.some(o=>o.title===e.title))return;const r=o=>new Date(o.inputTimestamp).getTime(),s=[...i.suggestions,e].toSorted((o,a)=>r(o)-r(a));i.suggestions=s.slice(-4)}function L6(t,e){const i=bA(t).suggestions.find(r=>r.id===e.id);i&&(i.title=e.title,i.body=e.body)}function wA(t){return Kd.get(t)}const Jd=4,M6=5e3;function Q3(){const t=eu(Kt.LIVE_SUGGESTIONS),{contextService:e}=IB(),{audioSession:n,liveInsights:i}=e,r=n?.state.state==="created"?n.state.sessionId:null;j6("live-suggestions-update",s=>{if(s.sessionId===r){if(i.suggestions.some(o=>o.title===s.suggestion.title)){i.updateSuggestion(s.suggestion),r&&L6(r,s.suggestion);return}s.type==="new-suggestion"&&(i.addSuggestion(s.suggestion,Jd),r&&U6(r,s.suggestion))}}),j.useEffect(()=>{if(!t||!r)return;const s=wA(r);s&&(s.actions.forEach(()=>{}),s.suggestions.map(l=>i.addSuggestion(l,Jd)));let o=0,a=!1;const u=setInterval(async()=>{if(a){console.log("Skipping live suggestions update, already in flight");return}a=!0;const l=await yA();bt(ss().desktop.sessions.emit_live_suggestions.post({sessionId:r,timestamp:new Date,transcript:e.fullContext.audioTranscriptions.map(c=>c.serialized),currentSuggestions:{processedTranscriptEntryCount:o,previousSuggestions:i.suggestions},screenshot:{contentType:l.contentType,dataUrl:l.url}})).catch(c=>{console.error("Error emitting live suggestions",c)}).finally(()=>{a=!1}),o+=e.fullContext.audioTranscriptions.length},M6);return()=>clearInterval(u)},[t,r,e.fullContext.audioTranscriptions,i.suggestions,i.addSuggestion])}class mu extends Error{constructor(e,n){super(e,{cause:n}),this.name="NoMicDeviceError"}}class om extends Error{constructor(e,n){super(e,{cause:n}),this.name="MicAudioCapturePermissionError"}}class am extends Error{constructor(e,n){super(e,{cause:n}),this.name="NoMicAudioError"}}class z6 extends Error{constructor(e,n){super(e,{cause:n}),this.name="UnableToEnumerateDevicesError"}}class py extends Error{constructor(e,n){super(e,{cause:n}),this.name="UnsupportedPlatformError"}}class um extends Error{constructor(e,n){super(e,{cause:n}),this.name="NoSystemAudioDeviceError"}}class cm extends Error{constructor(e,n){super(e,{cause:n}),this.name="MediaCapturePermissionError"}}class lm extends Error{constructor(e,n){super(e,{cause:n}),this.name="NoSystemAudioTracksError"}}class F6 extends Error{constructor(e,n){super(e,{cause:n}),this.name="NoWindowsVirtualAudioDeviceError"}}class as extends Error{constructor(e,n){super(e,{cause:n}),this.name="NetworkError"}}class dt extends Error{constructor(e,n){super(e,{cause:n}),this.name="UnknownError"}}function eV(t){switch(!0){case t instanceof cm:return{title:"Missing System Audio Permission",message:`${Vn} needs permission to capture your system audio`,actions:["close",so?"macSettings":"retry"]};case t instanceof om:return{title:"Missing Microphone Permission",message:`${Vn} needs permission to capture your microphone audio`,actions:["close",so?"macSettings":"retry"]};case t instanceof mu:return{title:"No Microphone Found",message:`${Vn} couldn't find your microphone, please try again`,actions:["close","retry"]};case t instanceof am:return{title:"No Microphone Audio",message:`${Vn} couldn't capture audio from your microphone, please try again`,actions:["close","retry"]};case t instanceof um:return{title:"No System Audio",message:`${Vn} couldn't find your system audio device, please try again`,actions:["close","retry"]};case t instanceof lm:return{title:"No System Audio",message:`${Vn} couldn't find any system audio tracks, please try again`,actions:["close","retry"]};case t instanceof as:return{title:"Network Error",message:`${Vn}'s having trouble connecting, please try again later`,actions:["close","retry"]};default:return{title:"Unknown Error",message:`${Vn} couldn't capture audio, please try again`,actions:["close","retry"]}}}function B6(t){return t=V6(t),t}function V6(t){for(const e of q6)t=t.replace(new RegExp(`\\b${e}\\b`,"gi"),"Cluely");for(const e of G6)t=t.replace(new RegExp(`\\b${e}\\b`,"g"),"Cluely");return t}const q6=["clue","cluly","clulu","cluli","chloely","cluuly","cooly","chloe","khloe","cluelely","cooley","clueely","cluelly","cleuely","clueley","cluelie","cleuly","cluelye","cluelyy","cluey","cooley","kloe","kuli","kluuly","klule","kluely"],G6=["Clearly"],my=2500;class gl{constructor(e,n){this.role=e,this.createdAt=n}}class Zt{constructor(e,n,i){this.text=e,this.role=n,this.createdAt=i,qh(this)}get roledTranscript(){return`[${this.role==="mic"?"Me":"Them"}]
Transcription: ${this.text}`}get serialized(){return{createdAt:this.createdAt,role:this.role,text:this.text}}get withFixedSpelling(){return new Zt(B6(this.text),this.role,this.createdAt)}}class dm{constructor(e=[]){this.audioTranscriptionsWithParagraphBreaks=e,qh(this,{audioTranscriptions:ut.struct})}addAudioTranscription(e){this.audioTranscriptionsWithParagraphBreaks.push(e)}markEndOfParagraph(e){this.audioTranscriptionsWithParagraphBreaks.push(new gl(e,new Date))}bulkAddAudioTranscriptions(e){this.audioTranscriptionsWithParagraphBreaks.push(...e)}clear(){this.audioTranscriptionsWithParagraphBreaks.length=0}get audioTranscriptions(){return this.audioTranscriptionsWithParagraphBreaks.filter(e=>e instanceof Zt)}get paragraphTranscripts(){const e=[];let n="",i="";for(const r of this.audioTranscriptionsWithParagraphBreaks)switch(r.role){case"mic":r instanceof Zt&&(n=`${n} ${r.text}`.trim()),(n.length>100||r instanceof gl&&n.length>0)&&(e.push(new Zt(n,"mic",r.createdAt)),n="");break;case"system":r instanceof Zt&&(i=`${i} ${r.text}`.trim()),(i.length>100||r instanceof gl&&i.length>0)&&(e.push(new Zt(i,"system",r.createdAt)),i="");break}return{transcripts:e,remainingMicText:n,remainingSystemText:i}}get audioContextAsText(){return this.audioTranscriptions.length?`Audio:

${this.audioTranscriptions.map(e=>e.roledTranscript).join(`
`)}`:""}getNewAudioContextAsText(e){const n=e?this.audioTranscriptions.filter(i=>i.createdAt>e):this.audioTranscriptions;return{newAudioContextAsText:new dm(n).audioContextAsText,includesAudioContextBefore:new Date}}}class gu{actions=[];summary=gu.createInitialSummary();sessionInstructionActionables=[];suggestions=[];nerdyAutoSuggestions=[];nerdyAutoSuggestionsIteration=0;nerdyAutoSuggestionId=0;connected=!1;constructor(){qh(this)}setConnected(e){this.connected=e}setSessionInstructionActionables(e){this.sessionInstructionActionables=e}addAction(e){if(this.actions.some(i=>i.text===e.text))return;const n=i=>new Date(i.inputTimestamp).getTime();this.actions=[...this.actions,e].toSorted((i,r)=>n(i)-n(r))}getNerdyAutoSuggestionId(){return(this.nerdyAutoSuggestionId++).toString()}updateSummary(e){new Date(e.inputTimestamp)>new Date(this.summary.inputTimestamp)&&(this.summary=e)}addSuggestion(e,n){if(this.suggestions.some(s=>s.title===e.title))return;const i=s=>new Date(s.inputTimestamp).getTime(),r=[...this.suggestions,e].toSorted((s,o)=>i(s)-i(o));this.suggestions=r.slice(-n)}async clearNerdyAutoSuggestions(){this.nerdyAutoSuggestions.length=0,this.nerdyAutoSuggestionsIteration++}async addNerdyAutoSuggestion(e,n){const i=this.getNerdyAutoSuggestionId();At(()=>{this.nerdyAutoSuggestions=[...this.nerdyAutoSuggestions,{id:this.getNerdyAutoSuggestionId(),type:"suggestion",suggestion:n},{id:i,type:"response",state:{state:"pending"}}],this.nerdyAutoSuggestionsIteration++});const r=await bt(ss().desktop.ai.trigger.v2.post({sessionId:e,messages:[{role:"user",content:`Generate a BRIEF word track for the following suggestion, 2-3 sentences max. This should be something a sales rep can read off of.
                
Surround the word track in quotes. Do not bold or italicize. Do not add anything before or after the word track.
            
Sound professional but NATURAL.

The suggestion:
${n.text}`}],systemPromptVariant:"audio",explicitUserContent:"",toolUsage:{toolChoice:"auto",tools:[]},isIncognito:!0,usageLimitVariant:"A"}));if(!r)throw new Error("No response received from API");let s="";for await(const o of r){const u=(s+o).split(`
`);s=u.pop()??"";for(const l of u){const c=JSON.parse(l),d=f=>{At(()=>{const p=this.nerdyAutoSuggestions.find(g=>g.id===i);p?.type==="response"&&f(p),this.nerdyAutoSuggestionsIteration++})};if(c.event==="text-delta")d(f=>{f.state.state!=="streaming"&&(f.state={state:"streaming",text:""}),f.state.text+=c.delta});else if(c.event==="response-finished"){d(f=>{f.state={state:"done",text:f.state.state==="streaming"?f.state.text:""}});break}else if(c.event==="response-error"){d(f=>{f.state={state:"error",message:c.userFacingMessage}});break}}}}updateSuggestion(e){const n=this.suggestions.find(i=>i.id===e.id);n&&(n.title=e.title,n.body=e.body)}clear(){this.actions=[],this.suggestions=[],this.summary=gu.createInitialSummary()}static createInitialSummary(){return{inputTimestamp:new Date().toISOString(),numTranscriptsCount:0,lines:[{type:"heading",text:"Start of Summary"},{type:"bullet",indent:0,text:"Started recording…"}]}}}const gy=30,Z6=360*60;class SA{constructor(e,n,i,r){if(this.contextService=e,this.hasAudio=n,this.platformClient=i,this.newSessionOptions=r,Ft(this,{state:we,setState:be}),this.createSession(r),n){const s=En(()=>this.contextService.isInAudioSessionAndAudioIsPaused,o=>{this.keepalive({paused:o})},{fireImmediately:!1});this.cleanup=()=>{s()}}}resolveCreationPromise;cleanup;state={state:"creating",abortController:new AbortController,creationPromise:new Promise(e=>{this.resolveCreationPromise=e})};dispose(){if(this.cleanup?.(),this.resolveCreationPromise?.(),this.state.state==="creating"&&this.state.abortController.abort(),this.state.state==="created"){const{sessionId:e}=this.state;clearInterval(this.state.keepaliveInterval);const n=this.contextService.isIncognito?void 0:this.contextService.fullContext.audioTranscriptions.map(r=>r.serialized),i=this.hasAudio?{transcript:n}:void 0;this.endSession(e,i).finally(()=>{this.hasAudio&&Ln("broadcast-to-all-windows",{command:"audio-session-stopped",sessionId:e})})}}setState(e){this.state=e}isCallingKeepalive=!1;didSessionExceedMaxDuration(){if(this.state.state==="created"){const e=Z6*1e3;if(Date.now()-this.state.createdAt.getTime()>e)return!0}return!1}async refreshInstructionActionables(){if(this.state.state!=="created")return;this.setState({...this.state,instructionActionables:[]});const e=await bt(this.platformClient.desktop.sessions.custom_actions.get());this.state.state==="created"&&this.setState({...this.state,instructionActionables:e})}keepalive(e){if(this.didSessionExceedMaxDuration()){this.contextService.stopAudio();return}if(this.state.state==="created"){if(this.isCallingKeepalive){console.log("Still calling keepalive, skipping...");return}this.hasAudio||(e=void 0),this.isCallingKeepalive=!0,bt(this.platformClient.desktop.sessions.keepalive.put({sessionId:this.state.sessionId,paused:e?.paused,transcript:this.contextService.isIncognito?void 0:e?.transcript,appVersion:O$})).catch(n=>{console.error("Error sending keepalive, ignoring...",n)}).finally(()=>{this.isCallingKeepalive=!1})}}async createSession(e){if(this.state.state!=="creating")return;const{abortController:n}=this.state;try{if(e?.resumeSessionId){const s=await this.loadExistingSessionData(e.resumeSessionId,n);if(n.signal.aborted)return;const o=setInterval(()=>{this.keepalive({transcript:this.contextService.fullContext.audioTranscriptions.map(a=>a.serialized),paused:this.contextService.isInAudioSessionAndAudioIsPaused})},gy*1e3);this.setState({state:"created",sessionId:e.resumeSessionId,instructionActionables:s?.instructionActionables??[],createdAt:new Date,keepaliveInterval:o}),this.keepalive(),this.resolveCreationPromise?.();return}const i=await bt(this.platformClient.desktop.sessions.post({hasAudio:this.hasAudio,additionalContext:e?.additionalContext,eventsCallbackUrl:e?.eventsCallbackUrl,passthroughProperties:e?.passthroughProperties,meetingId:e?.meetingId}));if(n.signal.aborted){await this.endSession(i.sessionId);return}const r=setInterval(()=>{this.keepalive({transcript:this.contextService.fullContext.audioTranscriptions.map(s=>s.serialized),paused:this.contextService.isInAudioSessionAndAudioIsPaused})},gy*1e3);this.setState({state:"created",sessionId:i.sessionId,instructionActionables:i.instructionActionables,createdAt:new Date,keepaliveInterval:r})}catch(i){if(n.signal.aborted)return;console.error("Error creating session",i),i instanceof Error&&i.message.includes("Failed to fetch")?this.setState({state:"error",error:new as("Failed to connect to the network.")}):this.setState({state:"error",error:new dt("An unknown error occurred while creating the session.")})}this.resolveCreationPromise?.()}async loadExistingSessionData(e,n){try{const i=await bt(this.platformClient.desktop.sessions({id:e}).get());if(n.signal.aborted)return;const r=i.transcript??[];for(const o of r){const a=new Date(o.createdAt),u=o.role==="mic"?"mic":"system";this.contextService.fullContext.addAudioTranscription(new Zt(o.text,u,a))}const s=wA(e);if(s){for(const o of s.actions)this.contextService.liveInsights.addAction(o);for(const o of s.suggestions)this.contextService.liveInsights.addSuggestion(o,Jd)}return i}catch(i){console.warn("Failed to load existing session data",i)}}async endSession(e,n){if(this.didSessionExceedMaxDuration())return;const i=30*1e3,r=5*1e3,s=()=>new Promise(a=>setTimeout(a,r)),o=Date.now();for(;Date.now()-o<i;){if(this.isCallingKeepalive){console.log("Waiting for keepalive to finish before ending session..."),await s();continue}try{await this.endSessionWithRetry(e,n);return}catch(a){console.error("Error ending session, retrying...",a),await s()}}}async endSessionWithRetry(e,n){this.hasAudio?await bt(this.platformClient.desktop.sessions.end_audio_session.put({sessionId:e,transcript:n?.transcript})):await bt(this.platformClient.desktop.sessions.end_non_audio_session.put({sessionId:e}))}}function Xd(t){return t.map(e=>e.role!=="user"||!Array.isArray(e.content)?e:{...e,content:e.content.filter(n=>n.type!=="file"&&n.type!=="image")})}function vy(t){let e=0;return t.forEach(n=>{n.role!=="user"||!Array.isArray(n.content)||n.content.forEach(i=>{(i.type==="file"||i.type==="image")&&e++})}),e}function tV(t){if(t.role!=="user"||!Array.isArray(t.content))return null;for(const e of t.content){if(e.type==="file"&&typeof e.data=="string")return e.data;if(e.type==="image"&&typeof e.image=="string")return e.image}return null}function H6(t,e){const n=t.toReversed(),i=[];let r=0;for(const s of n)if(i.unshift(s),s.role==="user"&&(r++,r>=e))break;return i}const xA=["desktop.ai.usage_limit.get"];function nV(){return x6({queryKey:xA,queryFn:()=>bt(ss().desktop.ai.usage_limit.get({query:{usageLimitVariant:"A"}}))})}function W6(){vA.invalidateQueries({queryKey:xA})}const _y=new Map;function K6(t){const e=_y.get(t);if(e)return e;const n=new Set;return _y.set(t,n),Co(t,i=>{for(const r of n)r(i)}),n}function J6(t,e){const n=hf(e);j.useEffect(()=>{const i=K6(t);return i.add(n),()=>{i.delete(n)}},[t,n])}const kA=rr(!0);function X6(){const[t,e]=Kh(kA);return j.useEffect(()=>{Ln("get-invisible",null)},[]),J6("invisible-changed",n=>{e(n.invisible)}),t}function Y6(){return li().get(kA)}var Fs=(t=>(t.ONBOARDING_STARTED="onboarding_started",t.ONBOARDING_FINISHED="onboarding_finished",t.ONBOARDING_V2_STARTED="onboarding_v2_started",t.ONBOARDING_V2_SIGN_IN_CLICKED="onboarding_v2_sign_in_clicked",t.ONBOARDING_V2_MIC_PERMISSION_GRANTED="onboarding_v2_mic_permission_granted",t.ONBOARDING_V2_SCREEN_PERMISSION_GRANTED="onboarding_v2_screen_permission_granted",t.ONBOARDING_V2_MODE_SELECTED="onboarding_v2_mode_selected",t.ONBOARDING_V2_SURVEY_OPTION_SELECTED="onboarding_v2_survey_option_selected",t.ONBOARDING_V2_SURVEY_SOURCE_SELECTED="onboarding_v2_survey_source_selected",t.ONBOARDING_V2_FINISHED="onboarding_v2_finished",t.ONBOARDING_V2_SKIPPED="onboarding_v2_skipped",t.AI_RESPONSE_CREATED="ai_response_created",t.AI_RESPONSE_FINISHED="ai_response_finished",t.AI_RESPONSE_ERRORED="ai_response_errored",t.CHAT_PRESSED="chat_pressed",t.START_OVER_PRESSED="start_over_pressed",t.SCROLL_PRESSED="scroll_pressed",t.MORE_HOVERED="more_hovered",t.LOG_IN_CLICKED="log_in_clicked",t.LOG_OUT_CLICKED="log_out_clicked",t.QUIT_CLICKED="quit_clicked",t.UPDATE_CLICKED="update_clicked",t.UPDATE_AUTO_INSTALLING="update_auto_installing",t.UPGRADE_TO_PRO_CLICKED="upgrade_to_pro_clicked",t.RESPONSE_UPGRADE_TO_PRO_SHOWN="response_upgrade_to_pro_shown",t.RESPONSE_UPGRADE_TO_PRO_CLICKED="response_upgrade_to_pro_clicked",t.START_RECORDING_CLICKED="start_recording_clicked",t.PAUSE_RECORDING_CLICKED="pause_recording_clicked",t.RESUME_RECORDING_CLICKED="resume_recording_clicked",t.STOP_RECORDING_CLICKED="stop_recording_clicked",t.NOTIFICATIONS_JOIN_SCHEDULED_CLICKED="notifications_join_scheduled_clicked",t.NOTIFICATIONS_JOIN_DETECTED_CLICKED="notifications_join_detected_clicked",t.NOTIFICATIONS_JOIN_SCHEDULED_DISMISSED="notifications_join_scheduled_dismissed",t.NOTIFICATIONS_JOIN_DETECTED_DISMISSED="notifications_join_detected_dismissed",t.LIVE_INSIGHTS_CLICKED="live_insights_clicked",t.LIVE_SUGGESTION_CLICKED="live_suggestion_clicked",t.WINDOW_HIDDEN="window_hidden",t.WINDOW_SHOWN="window_shown",t.TELL_ME_MORE_CLICKED="tell_me_more_clicked",t.CUSTOMIZE_PAGE_VIEWED="customize_page_viewed",t.CUSTOMIZE_SAVED="customize_saved",t.CUSTOMIZE_CLICKED="customize_clicked",t.INTEGRATIONS_CLICKED="integrations_clicked",t.BILLING_CLICKED="billing_clicked",t.HELP_CENTER_CLICKED="help_center_clicked",t.SETTINGS_CLICKED="settings_clicked",t.SIGN_OUT_CLICKED="sign_out_clicked",t.SETTINGS_LANGUAGE_CHANGED="settings_language_changed",t.DASHBOARD_CLICKED_START="dashboard_clicked_start",t.DASHBOARD_CLICKED_STOP="dashboard_clicked_stop",t.WINDOWS_VIRTUAL_AUDIO_DEVICE_FOUND="windows_virtual_audio_device_found",t.LIVEINSIGHTS_CLICKED_WHAT_SHOULD_I_SAY="liveinsights_clicked_what_should_i_say",t.LIVEINSIGHTS_CLICKED_FOLLOW_UP_QUESTIONS="liveinsights_clicked_follow_up_questions",t.LIVEINSIGHTS_CLICKED_FACT_CHECK="liveinsights_clicked_fact_check",t.LIVEINSIGHTS_CLICKED_RECAP="liveinsights_clicked_recap",t.LIVEINSIGHTS_CLICKED_CUSTOM_ACTION="liveinsights_clicked_custom_action",t.LIVEINSIGHTS_COPIED_CHAT_MESSAGE="liveinsights_copied_chat_message",t.LIVEINSIGHTS_COPIED_CHAT_RESPONSE="liveinsights_copied_chat_response",t.LIVEINSIGHTS_COPIED_TRANSCRIPT_ALL="liveinsights_copied_transcript_all",t.LIVEINSIGHTS_COPIED_TRANSCRIPT_SYSTEM="liveinsights_copied_transcript_system",t.LIVEINSIGHTS_COPIED_TRANSCRIPT_MIC="liveinsights_copied_transcript_mic",t.LIVEINSIGHTS_CLICKED_SHOW_TRANSCRIPT="liveinsights_clicked_show_transcript",t.LIVEINSIGHTS_CLICKED_TELL_ME_MORE="liveinsights_clicked_tell_me_more",t.DEBUG_ONBOARDING_V2_MODE_CLICKED="debug_onboarding_v2_mode_clicked",t.DEBUG_ONBOARDING_V2_MODE_SET_PROCESSING="debug_onboarding_v2_mode_set_processing",t.DEBUG_ONBOARDING_V2_MODE_SET_INVISIBILITY="debug_onboarding_v2_mode_set_invisibility",t.DEBUG_ONBOARDING_V2_MODE_USED_CACHED_INSTRUCTION="debug_onboarding_v2_mode_used_cached_instruction",t.DEBUG_ONBOARDING_V2_MODE_CREATED_INSTRUCTION="debug_onboarding_v2_mode_created_instruction",t.DEBUG_ONBOARDING_V2_MODE_SET_DEFAULT_INSTRUCTION="debug_onboarding_v2_mode_set_default_instruction",t.DEBUG_ONBOARDING_V2_MODE_SUBMITTED="debug_onboarding_v2_mode_submitted",t))(Fs||{});class yy{constructor(e,n,i,r){this.input=e,this.session=n,this.posthog=i,this.platformClient=r,Ft(this,{state:we,events:we,setState:be,handleTextDelta:be,handleReasoningDelta:be,handleReasoningStepStart:be,addEvent:be}),this.streamResponseAndHandleError(),this.posthog.capture(Fs.AI_RESPONSE_CREATED,{visibilityMode:Y6()?"invisible":"visible"})}createdAtMs=Date.now();id=crypto.randomUUID();state={state:"streaming",text:"",reasoningSteps:[],abortController:new AbortController};events=[];dispose(){this.state.state==="streaming"&&this.state.abortController.abort("Dispose")}setState(e){this.state.state==="streaming"&&this.state.abortController.abort("State change"),this.state=e,e.state==="finished"&&this.posthog.capture(Fs.AI_RESPONSE_FINISHED,{messages:Xd(this.input.messages),attachmentCount:vy(this.input.messages),manualInput:this.input.manualInput,systemPromptVariant:this.input.systemPromptVariant,output:e.text,timeToFirstTokenMs:e.timeToFirstTokenMs,timeToFinishMs:e.timeToFinishMs,screenCapture:{maxHeight:Hd,contentType:Wd,quality:_A}}),e.state==="error"&&this.posthog.capture(Fs.AI_RESPONSE_ERRORED,{messages:Xd(this.input.messages),attachmentCount:vy(this.input.messages),manualInput:this.input.manualInput,systemPromptVariant:this.input.systemPromptVariant,reason:e.reason,userFacingMessage:e.userFacingMessage})}handleTextDelta(e){this.state.state==="streaming"&&(this.state.text+=e)}handleReasoningDelta(e){if(this.state.state!=="streaming")return;const n=this.state.reasoningSteps.at(-1);n&&(n.text+=e)}handleReasoningStepStart(){this.state.state==="streaming"&&this.state.reasoningSteps.push({text:""})}addEvent(e){this.events.push({id:crypto.randomUUID(),...e})}async streamResponseAndHandleError(){if(this.state.state!=="streaming")return;const{abortController:e}=this.state;try{await this.streamResponse()}catch(n){if(e.signal.aborted)return;console.error("Error while streaming response:",n),n instanceof Error&&n.message.includes("Failed to fetch")?this.setState({state:"error",reason:"network"}):this.setState({state:"error",reason:"unknown"})}W6()}async streamResponse(){if(this.state.state!=="streaming")return;const{abortController:e}=this.state;if(this.session.state.state==="creating"&&await this.session.state.creationPromise,this.session.state.state!=="created")throw new Error("Session not created");const n=Qn.object({maxMessagesPerDay:Qn.number().optional(),maxMessagesPerWeek:Qn.number().optional()}),i=this.posthog.isFeatureEnabled(Kt.USAGE_LIMIT_PAYLOAD)&&n.safeParse(this.posthog.getFeatureFlagPayload(Kt.USAGE_LIMIT_PAYLOAD)).data,r=this.input.metadata?.doSmartMode?this.platformClient.desktop.ai.trigger.v3.smart:this.platformClient.desktop.ai.trigger.v3.vanilla,s=await bt(r.post({sessionId:this.session.state.sessionId,messages:this.input.messages,systemPromptVariant:this.input.systemPromptVariant,explicitUserContent:this.input.manualInput??"",isIncognito:this.input.isIncognito,usageLimitPayload:i||{}},{fetch:{signal:e.signal}}));if(e.signal.aborted)return;if(!s)throw new Error("No response received from API");let o,a="";for await(const u of s){if(e.signal.aborted)return;o==null&&(o=Date.now()-this.createdAtMs);const c=(a+u).split(`
`);a=c.pop()??"";for(const d of c){const f=JSON.parse(d);switch(f.event){case"text-delta":this.handleTextDelta(f.delta);break;case"reasoning-delta":this.handleReasoningDelta(f.delta);break;case"reasoning-step-start":this.handleReasoningStepStart();break;case"response-finished":this.setState({state:"finished",text:this.state.text,responseMessages:f.responseMessages,timeToFirstTokenMs:o,timeToFinishMs:Date.now()-this.createdAtMs});return;case"response-error":this.setState({state:"error",reason:"unknown",userFacingMessage:f.userFacingMessage});return;default:this.addEvent(f);break}}}throw new Error("No finished or error event received")}}const Q6=10;class eF{constructor(e,n,i,{action:r,screenshot:s,manualInput:o,displayInput:a,metadata:u}){this.posthog=e,this.contextService=n,this.platformClient=i,n.audioSession?(this.nonAudioSession=null,this.session=n.audioSession):(this.nonAudioSession=new SA(n,!1,i,null),this.session=this.nonAudioSession),this.latestResponse=this.createResponseFromContext({action:r,latestFinishedResponse:null,skipAudioContextBefore:null,screenshot:s,manualInput:o,displayInput:a,metadata:u}),Ft(this,{prevResponses:we,latestResponse:we,createNewResponse:be,retryLatestResponse:be,pushNewLatestResponse:be,state:ut,responses:ut})}prevResponses=[];latestResponse;id=crypto.randomUUID();nonAudioSession;session;dispose(){for(const e of this.prevResponses)e.dispose();this.latestResponse.dispose(),this.nonAudioSession?.dispose()}createNewResponse({action:e,screenshot:n,manualInput:i,displayInput:r,metadata:s}){this.pushNewLatestResponse((o,a)=>this.createResponseFromContext({action:e,latestFinishedResponse:o,skipAudioContextBefore:a,screenshot:n,manualInput:i,displayInput:r,metadata:s}))}retryLatestResponse(){const{input:e}=this.latestResponse;this.latestResponse.dispose(),this.latestResponse=new yy(e,this.session,this.posthog,this.platformClient)}pushNewLatestResponse(e){this.latestResponse.state.state==="finished"?this.prevResponses.push(this.latestResponse):this.latestResponse.dispose();const n=this.prevResponses.at(-1)??null,i=this.prevResponses.map(s=>s.input.includesAudioContextBefore.getTime()),r=i.length?new Date(Math.max(...i)):null;this.latestResponse=e(n,r)}get state(){return this.latestResponse.state}get responses(){return[...this.prevResponses,this.latestResponse]}createResponseFromContext({action:e,latestFinishedResponse:n,skipAudioContextBefore:i,screenshot:r,manualInput:s,displayInput:o,metadata:a}){let u=n?.state.state==="finished"?[...n.input.messages,...n.state.responseMessages]:[];const l=[],{newAudioContextAsText:c,includesAudioContextBefore:d}=this.contextService.fullContext.getNewAudioContextAsText(i);c&&l.push(c),s&&l.push(s);const f=[{type:"text",text:l.join(`

`)}];r&&f.push({type:"image",mediaType:r.contentType,image:r.url}),u=Xd(u),u.push({role:"user",content:f}),this.posthog.isFeatureEnabled(Kt.INSIGHTS_V3)&&!this.session.hasAudio&&(u=H6(u,Q6));const p=this.session.hasAudio?"audio":"screen",g=this.contextService.isIncognito;return new yy({transcript:this.contextService.fullContext.audioContextAsText,action:e,messages:u,includesAudioContextBefore:d,manualInput:s,displayInput:o,systemPromptVariant:p,isIncognito:g,metadata:a},this.session,this.posthog,this.platformClient)}}class tF{constructor(e,n,i){this.contextService=e,this.posthog=n,this.platformClient=i,Ft(this,{triggerAiState:we,currentConversation:we,isManualInputActive:we,ignoreCurrentConversation:we,isAudioSessionWindowOpen:we,useSmartMode:we,isCapturingScreenshot:ut,isCommittingTranscriptions:ut,showMainAppAiContent:ut,clearCurrentConversation:be,revealCurrentConversation:be,setIsManualInputActive:be,setIsAudioSessionWindowOpen:be,setUseSmartMode:be,setTriggerAiState:be,createNewResponse:be})}triggerAiState=null;currentConversation=null;isManualInputActive=!1;ignoreCurrentConversation=!1;isAudioSessionWindowOpen=!1;useSmartMode=!1;dispose(){this.triggerAiState?.abortController.abort(),this.currentConversation?.dispose()}get isCapturingScreenshot(){return this.triggerAiState?.step==="capturing-screenshot"}get isCommittingTranscriptions(){return this.triggerAiState?.step==="committing-transcriptions"}get showMainAppAiContent(){return this.isCapturingScreenshot||this.isCommittingTranscriptions||this.isManualInputActive||!!this.currentConversation&&!this.ignoreCurrentConversation}clearCurrentConversation(e){this.setTriggerAiState(null),e?.onlyClearVisually?this.ignoreCurrentConversation=!0:(this.currentConversation?.dispose(),this.currentConversation=null)}revealCurrentConversation(){this.ignoreCurrentConversation=!1}setIsManualInputActive(e){this.isManualInputActive=e,e&&(this.ignoreCurrentConversation=!1)}setIsAudioSessionWindowOpen(e){this.isAudioSessionWindowOpen=e}setUseSmartMode(e){this.useSmartMode=e}async triggerAi({action:e,shouldCaptureScreenshot:n,manualInput:i,displayInput:r,metadata:s}){At(()=>{this.ignoreCurrentConversation=!1,this.isManualInputActive=!1});const o=new AbortController;try{this.setTriggerAiState({abortController:o,step:"capturing-screenshot",displayInput:r??null,hasScreenshot:n,screenshot:null});const a=n?yA:async()=>null,[u]=await Promise.all([a().then(l=>(o.signal.aborted||this.setTriggerAiState({abortController:o,step:"committing-transcriptions",displayInput:r??null,hasScreenshot:n,screenshot:l?.url??null}),l)),this.contextService.commitTranscriptions()]);if(o.signal.aborted)return;this.createNewResponse({action:e,screenshot:u,manualInput:i??null,displayInput:r??null,metadata:s})}catch(a){const u={};a instanceof Error?u.message=a.message:a instanceof Event?(u.type=a.type,u.target=a.target,u.currentTarget=a.currentTarget):u.error=a,console.error("Error triggering AI response:",JSON.stringify(u))}finally{o.signal.aborted||this.setTriggerAiState(null)}}setTriggerAiState(e){this.triggerAiState&&this.triggerAiState.abortController!==e?.abortController&&this.triggerAiState.abortController.abort(),this.triggerAiState=e}createNewResponse({action:e,screenshot:n,manualInput:i,displayInput:r,metadata:s}){this.currentConversation?this.currentConversation.createNewResponse({action:e,screenshot:n,manualInput:i,displayInput:r,metadata:s}):this.currentConversation=new eF(this.posthog,this.contextService,this.platformClient,{action:e,screenshot:n,manualInput:i,displayInput:r,metadata:s})}}var vl={},gs={},by;function nF(){if(by)return gs;by=1,gs.byteLength=a,gs.toByteArray=l,gs.fromByteArray=f;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=i.length;r<s;++r)t[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function o(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");b===-1&&(b=g);var w=b===g?0:4-b%4;return[b,w]}function a(p){var g=o(p),b=g[0],w=g[1];return(b+w)*3/4-w}function u(p,g,b){return(g+b)*3/4-b}function l(p){var g,b=o(p),w=b[0],S=b[1],x=new n(u(p,w,S)),E=0,T=S>0?w-4:w,k;for(k=0;k<T;k+=4)g=e[p.charCodeAt(k)]<<18|e[p.charCodeAt(k+1)]<<12|e[p.charCodeAt(k+2)]<<6|e[p.charCodeAt(k+3)],x[E++]=g>>16&255,x[E++]=g>>8&255,x[E++]=g&255;return S===2&&(g=e[p.charCodeAt(k)]<<2|e[p.charCodeAt(k+1)]>>4,x[E++]=g&255),S===1&&(g=e[p.charCodeAt(k)]<<10|e[p.charCodeAt(k+1)]<<4|e[p.charCodeAt(k+2)]>>2,x[E++]=g>>8&255,x[E++]=g&255),x}function c(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function d(p,g,b){for(var w,S=[],x=g;x<b;x+=3)w=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),S.push(c(w));return S.join("")}function f(p){for(var g,b=p.length,w=b%3,S=[],x=16383,E=0,T=b-w;E<T;E+=x)S.push(d(p,E,E+x>T?T:E+x));return w===1?(g=p[b-1],S.push(t[g>>2]+t[g<<4&63]+"==")):w===2&&(g=(p[b-2]<<8)+p[b-1],S.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),S.join("")}return gs}var ua={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wy;function rF(){return wy||(wy=1,ua.read=function(t,e,n,i,r){var s,o,a=r*8-i-1,u=(1<<a)-1,l=u>>1,c=-7,d=n?r-1:0,f=n?-1:1,p=t[e+d];for(d+=f,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=s*256+t[e+d],d+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=o*256+t[e+d],d+=f,c-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-l}return(p?-1:1)*o*Math.pow(2,s-i)},ua.write=function(t,e,n,i,r,s){var o,a,u,l=s*8-r-1,c=(1<<l)-1,d=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,g=i?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?e+=f/u:e+=f*Math.pow(2,1-d),e*u>=2&&(o++,u/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*u-1)*Math.pow(2,r),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[n+p]=a&255,p+=g,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[n+p]=o&255,p+=g,o/=256,l-=8);t[n+p-g]|=b*128}),ua}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Sy;function iF(){return Sy||(Sy=1,function(t){var e=nF(),n=rF(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var A=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(A,v),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>r)throw new RangeError('The value "'+A+'" is invalid for option "size"');var v=new Uint8Array(A);return Object.setPrototypeOf(v,a.prototype),v}function a(A,v,y){if(typeof A=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return u(A,v,y)}a.poolSize=8192;function u(A,v,y){if(typeof A=="string")return f(A,v);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(gt(A,ArrayBuffer)||A&&gt(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gt(A,SharedArrayBuffer)||A&&gt(A.buffer,SharedArrayBuffer)))return b(A,v,y);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=A.valueOf&&A.valueOf();if($!=null&&$!==A)return a.from($,v,y);var L=w(A);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),v,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,v,y){return u(A,v,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function c(A,v,y){return l(A),A<=0?o(A):v!==void 0?typeof y=="string"?o(A).fill(v,y):o(A).fill(v):o(A)}a.alloc=function(A,v,y){return c(A,v,y)};function d(A){return l(A),o(A<0?0:S(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function f(A,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var y=E(A,v)|0,$=o(y),L=$.write(A,v);return L!==y&&($=$.slice(0,L)),$}function p(A){for(var v=A.length<0?0:S(A.length)|0,y=o(v),$=0;$<v;$+=1)y[$]=A[$]&255;return y}function g(A){if(gt(A,Uint8Array)){var v=new Uint8Array(A);return b(v.buffer,v.byteOffset,v.byteLength)}return p(A)}function b(A,v,y){if(v<0||A.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<v+(y||0))throw new RangeError('"length" is outside of buffer bounds');var $;return v===void 0&&y===void 0?$=new Uint8Array(A):y===void 0?$=new Uint8Array(A,v):$=new Uint8Array(A,v,y),Object.setPrototypeOf($,a.prototype),$}function w(A){if(a.isBuffer(A)){var v=S(A.length)|0,y=o(v);return y.length===0||A.copy(y,0,0,v),y}if(A.length!==void 0)return typeof A.length!="number"||sr(A.length)?o(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function S(A){if(A>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return A|0}function x(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,y){if(gt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),gt(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(v)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===y)return 0;for(var $=v.length,L=y.length,H=0,W=Math.min($,L);H<W;++H)if(v[H]!==y[H]){$=v[H],L=y[H];break}return $<L?-1:L<$?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,y){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);var $;if(y===void 0)for(y=0,$=0;$<v.length;++$)y+=v[$].length;var L=a.allocUnsafe(y),H=0;for($=0;$<v.length;++$){var W=v[$];if(gt(W,Uint8Array))H+W.length>L.length?a.from(W).copy(L,H):Uint8Array.prototype.set.call(L,W,H);else if(a.isBuffer(W))W.copy(L,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=W.length}return L};function E(A,v){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||gt(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var y=A.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&y===0)return 0;for(var L=!1;;)switch(v){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Ke(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return mi(A).length;default:if(L)return $?-1:Ke(A).length;v=(""+v).toLowerCase(),L=!0}}a.byteLength=E;function T(A,v,y){var $=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,v>>>=0,y<=v))return"";for(A||(A="utf8");;)switch(A){case"hex":return ae(this,v,y);case"utf8":case"utf-8":return he(this,v,y);case"ascii":return Z(this,v,y);case"latin1":case"binary":return ee(this,v,y);case"base64":return oe(this,v,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,v,y);default:if($)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),$=!0}}a.prototype._isBuffer=!0;function k(A,v,y){var $=A[v];A[v]=A[y],A[y]=$}a.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<v;y+=2)k(this,y,y+1);return this},a.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<v;y+=4)k(this,y,y+3),k(this,y+1,y+2);return this},a.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<v;y+=8)k(this,y,y+7),k(this,y+1,y+6),k(this,y+2,y+5),k(this,y+3,y+4);return this},a.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?he(this,0,v):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){var v="",y=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(v+=" ... "),"<Buffer "+v+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(v,y,$,L,H){if(gt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(y===void 0&&(y=0),$===void 0&&($=v?v.length:0),L===void 0&&(L=0),H===void 0&&(H=this.length),y<0||$>v.length||L<0||H>this.length)throw new RangeError("out of range index");if(L>=H&&y>=$)return 0;if(L>=H)return-1;if(y>=$)return 1;if(y>>>=0,$>>>=0,L>>>=0,H>>>=0,this===v)return 0;for(var W=H-L,Ie=$-y,De=Math.min(W,Ie),ce=this.slice(L,H),ht=v.slice(y,$),Ge=0;Ge<De;++Ge)if(ce[Ge]!==ht[Ge]){W=ce[Ge],Ie=ht[Ge];break}return W<Ie?-1:Ie<W?1:0};function P(A,v,y,$,L){if(A.length===0)return-1;if(typeof y=="string"?($=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,sr(y)&&(y=L?0:A.length-1),y<0&&(y=A.length+y),y>=A.length){if(L)return-1;y=A.length-1}else if(y<0)if(L)y=0;else return-1;if(typeof v=="string"&&(v=a.from(v,$)),a.isBuffer(v))return v.length===0?-1:C(A,v,y,$,L);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(A,v,y):Uint8Array.prototype.lastIndexOf.call(A,v,y):C(A,[v],y,$,L);throw new TypeError("val must be string, number or Buffer")}function C(A,v,y,$,L){var H=1,W=A.length,Ie=v.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(A.length<2||v.length<2)return-1;H=2,W/=2,Ie/=2,y/=2}function De(Ro,Do){return H===1?Ro[Do]:Ro.readUInt16BE(Do*H)}var ce;if(L){var ht=-1;for(ce=y;ce<W;ce++)if(De(A,ce)===De(v,ht===-1?0:ce-ht)){if(ht===-1&&(ht=ce),ce-ht+1===Ie)return ht*H}else ht!==-1&&(ce-=ce-ht),ht=-1}else for(y+Ie>W&&(y=W-Ie),ce=y;ce>=0;ce--){for(var Ge=!0,gi=0;gi<Ie;gi++)if(De(A,ce+gi)!==De(v,gi)){Ge=!1;break}if(Ge)return ce}return-1}a.prototype.includes=function(v,y,$){return this.indexOf(v,y,$)!==-1},a.prototype.indexOf=function(v,y,$){return P(this,v,y,$,!0)},a.prototype.lastIndexOf=function(v,y,$){return P(this,v,y,$,!1)};function R(A,v,y,$){y=Number(y)||0;var L=A.length-y;$?($=Number($),$>L&&($=L)):$=L;var H=v.length;$>H/2&&($=H/2);for(var W=0;W<$;++W){var Ie=parseInt(v.substr(W*2,2),16);if(sr(Ie))return W;A[y+W]=Ie}return W}function D(A,v,y,$){return Bt(Ke(v,A.length-y),A,y,$)}function N(A,v,y,$){return Bt(ze(v),A,y,$)}function F(A,v,y,$){return Bt(mi(v),A,y,$)}function V(A,v,y,$){return Bt(xt(v,A.length-y),A,y,$)}a.prototype.write=function(v,y,$,L){if(y===void 0)L="utf8",$=this.length,y=0;else if($===void 0&&typeof y=="string")L=y,$=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite($)?($=$>>>0,L===void 0&&(L="utf8")):(L=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-y;if(($===void 0||$>H)&&($=H),v.length>0&&($<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var W=!1;;)switch(L){case"hex":return R(this,v,y,$);case"utf8":case"utf-8":return D(this,v,y,$);case"ascii":case"latin1":case"binary":return N(this,v,y,$);case"base64":return F(this,v,y,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,v,y,$);default:if(W)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(A,v,y){return v===0&&y===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(v,y))}function he(A,v,y){y=Math.min(A.length,y);for(var $=[],L=v;L<y;){var H=A[L],W=null,Ie=H>239?4:H>223?3:H>191?2:1;if(L+Ie<=y){var De,ce,ht,Ge;switch(Ie){case 1:H<128&&(W=H);break;case 2:De=A[L+1],(De&192)===128&&(Ge=(H&31)<<6|De&63,Ge>127&&(W=Ge));break;case 3:De=A[L+1],ce=A[L+2],(De&192)===128&&(ce&192)===128&&(Ge=(H&15)<<12|(De&63)<<6|ce&63,Ge>2047&&(Ge<55296||Ge>57343)&&(W=Ge));break;case 4:De=A[L+1],ce=A[L+2],ht=A[L+3],(De&192)===128&&(ce&192)===128&&(ht&192)===128&&(Ge=(H&15)<<18|(De&63)<<12|(ce&63)<<6|ht&63,Ge>65535&&Ge<1114112&&(W=Ge))}}W===null?(W=65533,Ie=1):W>65535&&(W-=65536,$.push(W>>>10&1023|55296),W=56320|W&1023),$.push(W),L+=Ie}return q($)}var U=4096;function q(A){var v=A.length;if(v<=U)return String.fromCharCode.apply(String,A);for(var y="",$=0;$<v;)y+=String.fromCharCode.apply(String,A.slice($,$+=U));return y}function Z(A,v,y){var $="";y=Math.min(A.length,y);for(var L=v;L<y;++L)$+=String.fromCharCode(A[L]&127);return $}function ee(A,v,y){var $="";y=Math.min(A.length,y);for(var L=v;L<y;++L)$+=String.fromCharCode(A[L]);return $}function ae(A,v,y){var $=A.length;(!v||v<0)&&(v=0),(!y||y<0||y>$)&&(y=$);for(var L="",H=v;H<y;++H)L+=Ar[A[H]];return L}function se(A,v,y){for(var $=A.slice(v,y),L="",H=0;H<$.length-1;H+=2)L+=String.fromCharCode($[H]+$[H+1]*256);return L}a.prototype.slice=function(v,y){var $=this.length;v=~~v,y=y===void 0?$:~~y,v<0?(v+=$,v<0&&(v=0)):v>$&&(v=$),y<0?(y+=$,y<0&&(y=0)):y>$&&(y=$),y<v&&(y=v);var L=this.subarray(v,y);return Object.setPrototypeOf(L,a.prototype),L};function ke(A,v,y){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+v>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,y,$){v=v>>>0,y=y>>>0,$||ke(v,y,this.length);for(var L=this[v],H=1,W=0;++W<y&&(H*=256);)L+=this[v+W]*H;return L},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,y,$){v=v>>>0,y=y>>>0,$||ke(v,y,this.length);for(var L=this[v+--y],H=1;y>0&&(H*=256);)L+=this[v+--y]*H;return L},a.prototype.readUint8=a.prototype.readUInt8=function(v,y){return v=v>>>0,y||ke(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,y){return v=v>>>0,y||ke(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,y){return v=v>>>0,y||ke(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readIntLE=function(v,y,$){v=v>>>0,y=y>>>0,$||ke(v,y,this.length);for(var L=this[v],H=1,W=0;++W<y&&(H*=256);)L+=this[v+W]*H;return H*=128,L>=H&&(L-=Math.pow(2,8*y)),L},a.prototype.readIntBE=function(v,y,$){v=v>>>0,y=y>>>0,$||ke(v,y,this.length);for(var L=y,H=1,W=this[v+--L];L>0&&(H*=256);)W+=this[v+--L]*H;return H*=128,W>=H&&(W-=Math.pow(2,8*y)),W},a.prototype.readInt8=function(v,y){return v=v>>>0,y||ke(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,y){v=v>>>0,y||ke(v,2,this.length);var $=this[v]|this[v+1]<<8;return $&32768?$|4294901760:$},a.prototype.readInt16BE=function(v,y){v=v>>>0,y||ke(v,2,this.length);var $=this[v+1]|this[v]<<8;return $&32768?$|4294901760:$},a.prototype.readInt32LE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readFloatLE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,y){return v=v>>>0,y||ke(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,y){return v=v>>>0,y||ke(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,y){return v=v>>>0,y||ke(v,8,this.length),n.read(this,v,!1,52,8)};function ue(A,v,y,$,L,H){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>L||v<H)throw new RangeError('"value" argument is out of bounds');if(y+$>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,y,$,L){if(v=+v,y=y>>>0,$=$>>>0,!L){var H=Math.pow(2,8*$)-1;ue(this,v,y,$,H,0)}var W=1,Ie=0;for(this[y]=v&255;++Ie<$&&(W*=256);)this[y+Ie]=v/W&255;return y+$},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,y,$,L){if(v=+v,y=y>>>0,$=$>>>0,!L){var H=Math.pow(2,8*$)-1;ue(this,v,y,$,H,0)}var W=$-1,Ie=1;for(this[y+W]=v&255;--W>=0&&(Ie*=256);)this[y+W]=v/Ie&255;return y+$},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,1,255,0),this[y]=v&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,2,65535,0),this[y]=v&255,this[y+1]=v>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,2,65535,0),this[y]=v>>>8,this[y+1]=v&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,4,4294967295,0),this[y+3]=v>>>24,this[y+2]=v>>>16,this[y+1]=v>>>8,this[y]=v&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,4,4294967295,0),this[y]=v>>>24,this[y+1]=v>>>16,this[y+2]=v>>>8,this[y+3]=v&255,y+4},a.prototype.writeIntLE=function(v,y,$,L){if(v=+v,y=y>>>0,!L){var H=Math.pow(2,8*$-1);ue(this,v,y,$,H-1,-H)}var W=0,Ie=1,De=0;for(this[y]=v&255;++W<$&&(Ie*=256);)v<0&&De===0&&this[y+W-1]!==0&&(De=1),this[y+W]=(v/Ie>>0)-De&255;return y+$},a.prototype.writeIntBE=function(v,y,$,L){if(v=+v,y=y>>>0,!L){var H=Math.pow(2,8*$-1);ue(this,v,y,$,H-1,-H)}var W=$-1,Ie=1,De=0;for(this[y+W]=v&255;--W>=0&&(Ie*=256);)v<0&&De===0&&this[y+W+1]!==0&&(De=1),this[y+W]=(v/Ie>>0)-De&255;return y+$},a.prototype.writeInt8=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,1,127,-128),v<0&&(v=255+v+1),this[y]=v&255,y+1},a.prototype.writeInt16LE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,2,32767,-32768),this[y]=v&255,this[y+1]=v>>>8,y+2},a.prototype.writeInt16BE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,2,32767,-32768),this[y]=v>>>8,this[y+1]=v&255,y+2},a.prototype.writeInt32LE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,4,2147483647,-2147483648),this[y]=v&255,this[y+1]=v>>>8,this[y+2]=v>>>16,this[y+3]=v>>>24,y+4},a.prototype.writeInt32BE=function(v,y,$){return v=+v,y=y>>>0,$||ue(this,v,y,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[y]=v>>>24,this[y+1]=v>>>16,this[y+2]=v>>>8,this[y+3]=v&255,y+4};function Ue(A,v,y,$,L,H){if(y+$>A.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function ye(A,v,y,$,L){return v=+v,y=y>>>0,L||Ue(A,v,y,4),n.write(A,v,y,$,23,4),y+4}a.prototype.writeFloatLE=function(v,y,$){return ye(this,v,y,!0,$)},a.prototype.writeFloatBE=function(v,y,$){return ye(this,v,y,!1,$)};function ve(A,v,y,$,L){return v=+v,y=y>>>0,L||Ue(A,v,y,8),n.write(A,v,y,$,52,8),y+8}a.prototype.writeDoubleLE=function(v,y,$){return ve(this,v,y,!0,$)},a.prototype.writeDoubleBE=function(v,y,$){return ve(this,v,y,!1,$)},a.prototype.copy=function(v,y,$,L){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if($||($=0),!L&&L!==0&&(L=this.length),y>=v.length&&(y=v.length),y||(y=0),L>0&&L<$&&(L=$),L===$||v.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),v.length-y<L-$&&(L=v.length-y+$);var H=L-$;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,$,L):Uint8Array.prototype.set.call(v,this.subarray($,L),y),H},a.prototype.fill=function(v,y,$,L){if(typeof v=="string"){if(typeof y=="string"?(L=y,y=0,$=this.length):typeof $=="string"&&(L=$,$=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(v.length===1){var H=v.charCodeAt(0);(L==="utf8"&&H<128||L==="latin1")&&(v=H)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(y<0||this.length<y||this.length<$)throw new RangeError("Out of range index");if($<=y)return this;y=y>>>0,$=$===void 0?this.length:$>>>0,v||(v=0);var W;if(typeof v=="number")for(W=y;W<$;++W)this[W]=v;else{var Ie=a.isBuffer(v)?v:a.from(v,L),De=Ie.length;if(De===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(W=0;W<$-y;++W)this[W+y]=Ie[W%De]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function Re(A){if(A=A.split("=")[0],A=A.trim().replace(Ae,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Ke(A,v){v=v||1/0;for(var y,$=A.length,L=null,H=[],W=0;W<$;++W){if(y=A.charCodeAt(W),y>55295&&y<57344){if(!L){if(y>56319){(v-=3)>-1&&H.push(239,191,189);continue}else if(W+1===$){(v-=3)>-1&&H.push(239,191,189);continue}L=y;continue}if(y<56320){(v-=3)>-1&&H.push(239,191,189),L=y;continue}y=(L-55296<<10|y-56320)+65536}else L&&(v-=3)>-1&&H.push(239,191,189);if(L=null,y<128){if((v-=1)<0)break;H.push(y)}else if(y<2048){if((v-=2)<0)break;H.push(y>>6|192,y&63|128)}else if(y<65536){if((v-=3)<0)break;H.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((v-=4)<0)break;H.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return H}function ze(A){for(var v=[],y=0;y<A.length;++y)v.push(A.charCodeAt(y)&255);return v}function xt(A,v){for(var y,$,L,H=[],W=0;W<A.length&&!((v-=2)<0);++W)y=A.charCodeAt(W),$=y>>8,L=y%256,H.push(L),H.push($);return H}function mi(A){return e.toByteArray(Re(A))}function Bt(A,v,y,$){for(var L=0;L<$&&!(L+y>=v.length||L>=A.length);++L)v[L+y]=A[L];return L}function gt(A,v){return A instanceof v||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===v.name}function sr(A){return A!==A}var Ar=function(){for(var A="0123456789abcdef",v=new Array(256),y=0;y<16;++y)for(var $=y*16,L=0;L<16;++L)v[$+L]=A[y]+A[L];return v}()}(vl)),vl}var hm=iF();async function sF(t){try{return(await bt(t.user.get())).defaultAudioLanguage}catch(e){console.error("Error fetching user",e)}return"en-US"}async function oF(t){const e=await navigator.mediaDevices.enumerateDevices(),n=e.find(r=>r.kind==="audioinput"&&r.deviceId==="default");if(!n){const r=new mu("No microphone found.");throw t.captureException(r,{devices:e}),r}const i=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:n.deviceId},echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}}).catch(r=>{let s;if(r instanceof DOMException)switch(r.name){case"NotAllowedError":case"NotReadableError":s=new om("Unable to capture microphone data.",r);break;case"NotFoundError":case"OverconstrainedError":s=new mu("Unable to capture microphone data.",r);break;default:s=new am("Unable to capture microphone data.",r)}else s=new dt("Unable to capture microphone data.",r);throw t.captureException(s,{devices:e,deviceId:n.deviceId}),s});return console.log("Obtained mic stream:",n.deviceId,"tracks:",i.getAudioTracks().length),i}function rV(){const[t,e]=j.useState(null);return j.useEffect(()=>{const n=async()=>{const r=(await navigator.mediaDevices.enumerateDevices()).find(s=>s.kind==="audioinput"&&s.deviceId==="default");e(r?.label??null)};return n(),navigator.mediaDevices.addEventListener("devicechange",n),()=>navigator.mediaDevices.removeEventListener("devicechange",n)},[]),t}function aF(t,e){return e.getFeatureFlag(Kt.GLADIA_TRANSCRIPTION)==="enabled"?"gladia":t==="en-US"?"assembly_ai":e.isFeatureEnabled(Kt.MULTILINGUAL_TRANSCRIPTION_USE_OPENAI)?"openai":"deepgram"}async function xy(t,e){const n=await navigator.mediaDevices.getDisplayMedia(e).catch(r=>{let s;if(r instanceof DOMException)switch(r.name){case"NotAllowedError":case"NotReadableError":s=new cm("System audio capture permission denied.",r);break;case"NotFoundError":case"OverconstrainedError":s=new um("No system audio device found.",r);break;default:s=new dt("Unknown error while capturing system audio.",r)}else s=new dt("Unknown error while capturing system audio.",r);throw t.captureException(s,{name:r.name,message:r.message,stack:r.stack}),s});if(!n.getAudioTracks().length)throw Yd(n),new lm("No system audio tracks found.");return n.getTracks().filter(r=>r.kind==="video").forEach(r=>{r.stop(),n.removeTrack(r)}),n}function Yd(t){for(const e of t.getTracks())e.stop()}async function uF(){const n=(await navigator.mediaDevices.enumerateDevices()).find(i=>i.kind==="audiooutput"&&i.deviceId==="default")?.label.toLowerCase()??"";return n.includes("built-in")||n.includes("speaker")}const cF=["System Audio","Stereo Mix","What U Hear","Wave Out","CABLE Output","VoiceMeeter","BlackHole","Soundflower","WASAPI Loopback"];async function lF(t){const e=await dF(t);return e?await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:e}}}).catch(n=>(t.captureException(new F6("Could not get user media for virtual audio device",n),{deviceId:e}),null)):null}async function dF(t){const e=await navigator.mediaDevices.enumerateDevices().catch(i=>{const r=new z6("Unable to enumerate devices",i);return t.captureException(r),null});if(!e)return null;const n=e.find(i=>i.kind==="audioinput"&&cF.some(r=>i.label.includes(r)));return n?(t.capture(Fs.WINDOWS_VIRTUAL_AUDIO_DEVICE_FOUND,{deviceId:n.deviceId,devices:e}),n.deviceId):null}const $s=new Set;Ln("mac-disable-native-recorder",null);Co("mac-native-recorder-data",({source:t,base64Data:e})=>{for(const n of $s)n({source:t,base64Data:e})});function hF(t,e){return $s.add(t),$s.size===1&&Ln("mac-enable-native-recorder",{sampleRate:e}),()=>{$s.delete(t),$s.size===0&&Ln("mac-disable-native-recorder",null)}}let vu="";typeof navigator<"u"&&navigator.userAgent&&(vu+=navigator.userAgent);typeof process<"u"&&(process.versions.node&&vu.indexOf("Node")===-1&&process.versions.node,process.versions.bun&&vu.indexOf("Bun")===-1&&process.versions.bun);typeof Deno<"u"&&process.versions.bun&&vu.indexOf("Deno")===-1&&Deno.version.deno;const{WritableStream:fF}=typeof window<"u"?window:typeof global<"u"?global:globalThis,ky=WebSocket??global?.WebSocket??window?.WebSocket??self?.WebSocket,Iy=(t,e)=>e?new ky(t,e):new ky(t),It={BadSampleRate:4e3,AuthFailed:4001,InsufficientFunds:4002,FreeTierUser:4003,NonexistentSessionId:4004,SessionExpired:4008,ClosedSession:4010,RateLimited:4029,UniqueSessionViolation:4030,SessionTimeout:4031,AudioTooShort:4032,AudioTooLong:4033,AudioTooSmallToTranscode:4034,BadSchema:4101,TooManyStreams:4102,Reconnected:4103},Ey={[It.BadSampleRate]:"Sample rate must be a positive integer",[It.AuthFailed]:"Not Authorized",[It.InsufficientFunds]:"Insufficient funds",[It.FreeTierUser]:"This feature is paid-only and requires you to add a credit card. Please visit https://app.assemblyai.com/ to add a credit card to your account.",[It.NonexistentSessionId]:"Session ID does not exist",[It.SessionExpired]:"Session has expired",[It.ClosedSession]:"Session is closed",[It.RateLimited]:"Rate limited",[It.UniqueSessionViolation]:"Unique session violation",[It.SessionTimeout]:"Session Timeout",[It.AudioTooShort]:"Audio too short",[It.AudioTooLong]:"Audio too long",[It.AudioTooSmallToTranscode]:"Audio too small to transcode",[It.BadSchema]:"Bad schema",[It.TooManyStreams]:"Too many streams",[It.Reconnected]:"This session has been reconnected. This WebSocket is no longer valid."};class pF extends Error{}const mF="wss://streaming.assemblyai.com/v3/ws",Ay='{"type":"Terminate"}';class gF{constructor(e){if(this.listeners={},this.params={...e,websocketBaseUrl:e.websocketBaseUrl||mF},"token"in e&&e.token&&(this.token=e.token),"apiKey"in e&&e.apiKey&&(this.apiKey=e.apiKey),!(this.token||this.apiKey))throw new Error("API key or temporary token is required.")}connectionUrl(){const e=new URL(this.params.websocketBaseUrl??"");if(e.protocol!=="wss:")throw new Error("Invalid protocol, must be wss");const n=new URLSearchParams;return this.token&&n.set("token",this.token),n.set("sample_rate",this.params.sampleRate.toString()),this.params.endOfTurnConfidenceThreshold&&n.set("end_of_turn_confidence_threshold",this.params.endOfTurnConfidenceThreshold.toString()),this.params.minEndOfTurnSilenceWhenConfident&&n.set("min_end_of_turn_silence_when_confident",this.params.minEndOfTurnSilenceWhenConfident.toString()),this.params.maxTurnSilence&&n.set("max_turn_silence",this.params.maxTurnSilence.toString()),this.params.formatTurns&&n.set("format_turns",this.params.formatTurns.toString()),this.params.encoding&&n.set("encoding",this.params.encoding.toString()),this.params.keytermsPrompt?n.set("keyterms_prompt",JSON.stringify(this.params.keytermsPrompt)):this.params.keyterms&&(console.warn("[Deprecation Warning] `keyterms` is deprecated and will be removed in a future release. Please use `keytermsPrompt` instead."),n.set("keyterms_prompt",JSON.stringify(this.params.keyterms))),this.params.filterProfanity&&n.set("filter_profanity",this.params.filterProfanity.toString()),e.search=n.toString(),e}on(e,n){this.listeners[e]=n}connect(){return new Promise(e=>{if(this.socket)throw new Error("Already connected");const n=this.connectionUrl();this.token?this.socket=Iy(n.toString()):(console.warn(`API key authentication is not supported for the StreamingTranscriber in browser environment. Use temporary token authentication instead.
Learn more at https://github.com/AssemblyAI/assemblyai-node-sdk/blob/main/docs/compat.md#browser-compatibility.`),this.socket=Iy(n.toString(),{headers:{Authorization:this.apiKey}})),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onclose=({code:i,reason:r})=>{r||i in Ey&&(r=Ey[i]),this.listeners.close?.(i,r)},this.socket.onerror=i=>{i.error?this.listeners.error?.(i.error):this.listeners.error?.(new Error(i.message))},this.socket.onmessage=({data:i})=>{const r=JSON.parse(i.toString());if("error"in r){this.listeners.error?.(new pF(r.error));return}switch(r.type){case"Begin":{e(r),this.listeners.open?.(r);break}case"Turn":{this.listeners.turn?.(r);break}case"Termination":{this.sessionTerminatedResolve?.();break}}}})}stream(){return new fF({write:e=>{this.sendAudio(e)}})}sendAudio(e){this.send(e)}send(e){if(!this.socket||this.socket.readyState!==this.socket.OPEN)throw new Error("Socket is not open for communication");this.socket.send(e)}async close(e=!0){if(this.socket){if(this.socket.readyState===this.socket.OPEN)if(e){const n=new Promise(i=>{this.sessionTerminatedResolve=i});this.socket.send(Ay),await n}else this.socket.send(Ay);this.socket?.removeAllListeners&&this.socket.removeAllListeners(),this.socket.close()}this.listeners={},this.socket=void 0}}function vF(t){let e="";const n=new Uint8Array(t);for(const i of n)e+=String.fromCharCode(i);return btoa(e)}function _F(t){switch(t.type){case"pcm16Base64":return t.pcm16Base64;case"pcm16Buffer":return vF(t.pcm16Buffer)}}function fm(t){switch(t.type){case"pcm16Base64":return hm.Buffer.from(t.pcm16Base64,"base64");case"pcm16Buffer":return t.pcm16Buffer}}const yF=rr(null);function IA(){let t=[Vn];const e=li(),n=e.get(ir).session?.user;n?.firstName&&t.push(n.firstName),n?.lastName&&t.push(n.lastName),n?.organization.enterpriseSeatCount!=null&&t.push(n.organization.name);const i=e.get(yF);return i&&t.push(...i),t=t.map(r=>r.trim()).filter(r=>r.length>0),t=[...new Set(t)],console.log("Key words for transcription:",t),t}function _l(t,e){let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(n)}class bF{constructor(e,n,i,r){this.source=n,this.sampleRate=i,this.platformClient=r,Ft(this,{state:we,setState:be}),this.cleanUpOnChunk=e.onData(this.handleAudioData.bind(this)),this.connect()}providerName="assembly_ai";state={state:"loading",transcriber:null,abortController:new AbortController};transcriptionListeners=new Set;cleanUpOnChunk;audioDataBuffers=[];audioDataBufferBytes=0;dispose(){this.abortLoadingOrRunning(),this.cleanUpOnChunk()}get buffer(){return this.state.state==="running"&&this.state.partialText!=null?{partialText:_l(this.state.partialText,this.state.alreadyCommittedPrefix)}:null}setState(e){this.state=e}abortLoadingOrRunning(){(this.state.state==="loading"||this.state.state==="running")&&(this.state.abortController.abort(),this.state.transcriber?.close())}handleAudioData(e){if(this.state.state!=="running")return;const n=fm(e);this.audioDataBuffers.push(n),this.audioDataBufferBytes+=n.byteLength;const i=this.audioDataBufferBytes/2/this.sampleRate*1e3;i>1e3?(this.audioDataBuffers=[],this.audioDataBufferBytes=0):i>50&&(this.state.transcriber.sendAudio(hm.Buffer.concat(this.audioDataBuffers).buffer),this.audioDataBuffers=[],this.audioDataBufferBytes=0)}async connect(){if(this.state.state!=="loading")return;const{abortController:e}=this.state;try{const{sessionToken:n}=await bt(this.platformClient.desktop.ai.transcription_sessions.assembly_ai.post());if(e.signal.aborted)return;const i=new gF({token:n,sampleRate:this.sampleRate,encoding:"pcm_s16le",formatTurns:!0,maxTurnSilence:500,minEndOfTurnSilenceWhenConfident:160,keytermsPrompt:IA().slice(0,100)});if(this.setState({state:"loading",transcriber:i,abortController:e}),i.on("turn",r=>{if(e.signal.aborted)return;const{state:s}=this;if(s.state!=="running")return;const o=!!s.alreadyCommittedPrefix,a=o&&!r.turn_is_formatted||!o&&r.turn_is_formatted;if(r.end_of_turn&&a){const u=new Zt(_l(r.transcript,s.alreadyCommittedPrefix),this.source,new Date);for(const l of this.transcriptionListeners)l(u);At(()=>{s.partialText=null})}r.turn_is_formatted&&At(()=>{s.alreadyCommittedPrefix=""}),r.end_of_turn||At(()=>{s.partialText=r.transcript})}),i.on("error",r=>{e.signal.aborted||(console.error("AssemblyAI error:",r),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to AssemblyAI.")}))}),i.on("close",()=>{e.signal.aborted||(console.error("AssemblyAI connection closed prematurely"),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to AssemblyAI.")}))}),await i.connect(),e.signal.aborted)return;this.setState({state:"running",transcriber:i,abortController:e,partialText:null,alreadyCommittedPrefix:""})}catch(n){if(e.signal.aborted)return;this.abortLoadingOrRunning(),console.error("Failed to connect to AssemblyAI:",n),n instanceof Error&&n.message.includes("Failed to fetch")?this.setState({state:"error",error:new as("Failed to connect to the network.")}):this.setState({state:"error",error:new dt("An unknown error occurred while connecting to AssemblyAI.")})}}onTranscription(e){return this.transcriptionListeners.add(e),()=>this.transcriptionListeners.delete(e)}async commitTranscription(){const{state:e}=this;if(e.state!=="running")return;const{partialText:n,alreadyCommittedPrefix:i}=e;if(!n)return;const r=_l(n,i);if(r.length>0){const s=new Zt(r,this.source,new Date);for(const o of this.transcriptionListeners)o(s);At(()=>{e.alreadyCommittedPrefix=n})}}}class it extends Error{constructor(e){super(e),this.__dgError=!0,this.name="DeepgramError"}}function Se(t){return typeof t=="object"&&t!==null&&"__dgError"in t}class wF extends it{constructor(e,n){super(e),this.name="DeepgramApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _u extends it{constructor(e,n){super(e),this.name="DeepgramUnknownError",this.originalError=n}}class ur extends it{constructor(){super("You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3"),this.name="DeepgramVersionError"}}class SF extends it{constructor(e,n={}){super(e),this.name="DeepgramWebSocketError",this.originalEvent=n.originalEvent,this.statusCode=n.statusCode,this.requestId=n.requestId,this.responseHeaders=n.responseHeaders,this.url=n.url,this.readyState=n.readyState}toJSON(){return{name:this.name,message:this.message,statusCode:this.statusCode,requestId:this.requestId,responseHeaders:this.responseHeaders,url:this.url,readyState:this.readyState,originalEvent:this.originalEvent?{type:this.originalEvent.type,timeStamp:this.originalEvent.timeStamp}:void 0}}}var ca={exports:{}},Ty;function xF(){if(Ty)return ca.exports;Ty=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(k,P,C){return Function.prototype.apply.call(k,P,C)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:n=function(k){return Object.getOwnPropertyNames(k)};function i(T){console&&console.warn&&console.warn(T)}var r=Number.isNaN||function(k){return k!==k};function s(){s.init.call(this)}ca.exports=s,ca.exports.once=S,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||r(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");o=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||r(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function u(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(k){for(var P=[],C=1;C<arguments.length;C++)P.push(arguments[C]);var R=k==="error",D=this._events;if(D!==void 0)R=R&&D.error===void 0;else if(!R)return!1;if(R){var N;if(P.length>0&&(N=P[0]),N instanceof Error)throw N;var F=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw F.context=N,F}var V=D[k];if(V===void 0)return!1;if(typeof V=="function")e(V,this,P);else for(var oe=V.length,he=g(V,oe),C=0;C<oe;++C)e(he[C],this,P);return!0};function l(T,k,P,C){var R,D,N;if(a(P),D=T._events,D===void 0?(D=T._events=Object.create(null),T._eventsCount=0):(D.newListener!==void 0&&(T.emit("newListener",k,P.listener?P.listener:P),D=T._events),N=D[k]),N===void 0)N=D[k]=P,++T._eventsCount;else if(typeof N=="function"?N=D[k]=C?[P,N]:[N,P]:C?N.unshift(P):N.push(P),R=u(T),R>0&&N.length>R&&!N.warned){N.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=T,F.type=k,F.count=N.length,i(F)}return T}s.prototype.addListener=function(k,P){return l(this,k,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,P){return l(this,k,P,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(T,k,P){var C={fired:!1,wrapFn:void 0,target:T,type:k,listener:P},R=c.bind(C);return R.listener=P,C.wrapFn=R,R}s.prototype.once=function(k,P){return a(P),this.on(k,d(this,k,P)),this},s.prototype.prependOnceListener=function(k,P){return a(P),this.prependListener(k,d(this,k,P)),this},s.prototype.removeListener=function(k,P){var C,R,D,N,F;if(a(P),R=this._events,R===void 0)return this;if(C=R[k],C===void 0)return this;if(C===P||C.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete R[k],R.removeListener&&this.emit("removeListener",k,C.listener||P));else if(typeof C!="function"){for(D=-1,N=C.length-1;N>=0;N--)if(C[N]===P||C[N].listener===P){F=C[N].listener,D=N;break}if(D<0)return this;D===0?C.shift():b(C,D),C.length===1&&(R[k]=C[0]),R.removeListener!==void 0&&this.emit("removeListener",k,F||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(k){var P,C,R;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[k]),this;if(arguments.length===0){var D=Object.keys(C),N;for(R=0;R<D.length;++R)N=D[R],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=C[k],typeof P=="function")this.removeListener(k,P);else if(P!==void 0)for(R=P.length-1;R>=0;R--)this.removeListener(k,P[R]);return this};function f(T,k,P){var C=T._events;if(C===void 0)return[];var R=C[k];return R===void 0?[]:typeof R=="function"?P?[R.listener||R]:[R]:P?w(R):g(R,R.length)}s.prototype.listeners=function(k){return f(this,k,!0)},s.prototype.rawListeners=function(k){return f(this,k,!1)},s.listenerCount=function(T,k){return typeof T.listenerCount=="function"?T.listenerCount(k):p.call(T,k)},s.prototype.listenerCount=p;function p(T){var k=this._events;if(k!==void 0){var P=k[T];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(T,k){for(var P=new Array(k),C=0;C<k;++C)P[C]=T[C];return P}function b(T,k){for(;k+1<T.length;k++)T[k]=T[k+1];T.pop()}function w(T){for(var k=new Array(T.length),P=0;P<k.length;++P)k[P]=T[P].listener||T[P];return k}function S(T,k){return new Promise(function(P,C){function R(N){T.removeListener(k,D),C(N)}function D(){typeof T.removeListener=="function"&&T.removeListener("error",R),P([].slice.call(arguments))}E(T,k,D,{once:!0}),k!=="error"&&x(T,R,{once:!0})})}function x(T,k,P){typeof T.on=="function"&&E(T,"error",k,P)}function E(T,k,P,C){if(typeof T.on=="function")C.once?T.once(k,P):T.on(k,P);else if(typeof T.addEventListener=="function")T.addEventListener(k,function R(D){C.once&&T.removeEventListener(k,R),P(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return ca.exports}var kF=xF(),la={exports:{}},$y;function IF(){return $y||($y=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof dr<"u"&&dr,i=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof dr<"u"&&dr||{},u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(U){return U&&DataView.prototype.isPrototypeOf(U)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(U){return U&&c.indexOf(Object.prototype.toString.call(U))>-1};function f(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(U)||U==="")throw new TypeError('Invalid character in header field name: "'+U+'"');return U.toLowerCase()}function p(U){return typeof U!="string"&&(U=String(U)),U}function g(U){var q={next:function(){var Z=U.shift();return{done:Z===void 0,value:Z}}};return u.iterable&&(q[Symbol.iterator]=function(){return q}),q}function b(U){this.map={},U instanceof b?U.forEach(function(q,Z){this.append(Z,q)},this):Array.isArray(U)?U.forEach(function(q){if(q.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+q.length);this.append(q[0],q[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(q){this.append(q,U[q])},this)}b.prototype.append=function(U,q){U=f(U),q=p(q);var Z=this.map[U];this.map[U]=Z?Z+", "+q:q},b.prototype.delete=function(U){delete this.map[f(U)]},b.prototype.get=function(U){return U=f(U),this.has(U)?this.map[U]:null},b.prototype.has=function(U){return this.map.hasOwnProperty(f(U))},b.prototype.set=function(U,q){this.map[f(U)]=p(q)},b.prototype.forEach=function(U,q){for(var Z in this.map)this.map.hasOwnProperty(Z)&&U.call(q,this.map[Z],Z,this)},b.prototype.keys=function(){var U=[];return this.forEach(function(q,Z){U.push(Z)}),g(U)},b.prototype.values=function(){var U=[];return this.forEach(function(q){U.push(q)}),g(U)},b.prototype.entries=function(){var U=[];return this.forEach(function(q,Z){U.push([Z,q])}),g(U)},u.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function w(U){if(!U._noBody){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}}function S(U){return new Promise(function(q,Z){U.onload=function(){q(U.result)},U.onerror=function(){Z(U.error)}})}function x(U){var q=new FileReader,Z=S(q);return q.readAsArrayBuffer(U),Z}function E(U){var q=new FileReader,Z=S(q),ee=/charset=([A-Za-z0-9_-]+)/.exec(U.type),ae=ee?ee[1]:"utf-8";return q.readAsText(U,ae),Z}function T(U){for(var q=new Uint8Array(U),Z=new Array(q.length),ee=0;ee<q.length;ee++)Z[ee]=String.fromCharCode(q[ee]);return Z.join("")}function k(U){if(U.slice)return U.slice(0);var q=new Uint8Array(U.byteLength);return q.set(new Uint8Array(U)),q.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(U){this.bodyUsed=this.bodyUsed,this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:u.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:u.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():u.arrayBuffer&&u.blob&&l(U)?(this._bodyArrayBuffer=k(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||d(U))?this._bodyArrayBuffer=k(U):this._bodyText=U=Object.prototype.toString.call(U):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var U=w(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var U=w(this);return U||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var U=w(this);if(U)return U;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(U){var q=U.toUpperCase();return C.indexOf(q)>-1?q:U}function D(U,q){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');q=q||{};var Z=q.body;if(U instanceof D){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,q.headers||(this.headers=new b(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!Z&&U._bodyInit!=null&&(Z=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=q.credentials||this.credentials||"same-origin",(q.headers||!this.headers)&&(this.headers=new b(q.headers)),this.method=R(q.method||this.method||"GET"),this.mode=q.mode||this.mode||null,this.signal=q.signal||this.signal||function(){if("AbortController"in a){var se=new AbortController;return se.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Z),(this.method==="GET"||this.method==="HEAD")&&(q.cache==="no-store"||q.cache==="no-cache")){var ee=/([?&])_=[^&]*/;if(ee.test(this.url))this.url=this.url.replace(ee,"$1_="+new Date().getTime());else{var ae=/\?/;this.url+=(ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function N(U){var q=new FormData;return U.trim().split("&").forEach(function(Z){if(Z){var ee=Z.split("="),ae=ee.shift().replace(/\+/g," "),se=ee.join("=").replace(/\+/g," ");q.append(decodeURIComponent(ae),decodeURIComponent(se))}}),q}function F(U){var q=new b,Z=U.replace(/\r?\n[\t ]+/g," ");return Z.split("\r").map(function(ee){return ee.indexOf(`
`)===0?ee.substr(1,ee.length):ee}).forEach(function(ee){var ae=ee.split(":"),se=ae.shift().trim();if(se){var ke=ae.join(":").trim();try{q.append(se,ke)}catch(ue){console.warn("Response "+ue.message)}}}),q}P.call(D.prototype);function V(U,q){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(q||(q={}),this.type="default",this.status=q.status===void 0?200:q.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=q.statusText===void 0?"":""+q.statusText,this.headers=new b(q.headers),this.url=q.url||"",this._initBody(U)}P.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},V.error=function(){var U=new V(null,{status:200,statusText:""});return U.ok=!1,U.status=0,U.type="error",U};var oe=[301,302,303,307,308];V.redirect=function(U,q){if(oe.indexOf(q)===-1)throw new RangeError("Invalid status code");return new V(null,{status:q,headers:{location:U}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(q,Z){this.message=q,this.name=Z;var ee=Error(q);this.stack=ee.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function he(U,q){return new Promise(function(Z,ee){var ae=new D(U,q);if(ae.signal&&ae.signal.aborted)return ee(new o.DOMException("Aborted","AbortError"));var se=new XMLHttpRequest;function ke(){se.abort()}se.onload=function(){var ye={statusText:se.statusText,headers:F(se.getAllResponseHeaders()||"")};ae.url.indexOf("file://")===0&&(se.status<200||se.status>599)?ye.status=200:ye.status=se.status,ye.url="responseURL"in se?se.responseURL:ye.headers.get("X-Request-URL");var ve="response"in se?se.response:se.responseText;setTimeout(function(){Z(new V(ve,ye))},0)},se.onerror=function(){setTimeout(function(){ee(new TypeError("Network request failed"))},0)},se.ontimeout=function(){setTimeout(function(){ee(new TypeError("Network request timed out"))},0)},se.onabort=function(){setTimeout(function(){ee(new o.DOMException("Aborted","AbortError"))},0)};function ue(ye){try{return ye===""&&a.location.href?a.location.href:ye}catch{return ye}}if(se.open(ae.method,ue(ae.url),!0),ae.credentials==="include"?se.withCredentials=!0:ae.credentials==="omit"&&(se.withCredentials=!1),"responseType"in se&&(u.blob?se.responseType="blob":u.arrayBuffer&&(se.responseType="arraybuffer")),q&&typeof q.headers=="object"&&!(q.headers instanceof b||a.Headers&&q.headers instanceof a.Headers)){var Ue=[];Object.getOwnPropertyNames(q.headers).forEach(function(ye){Ue.push(f(ye)),se.setRequestHeader(ye,p(q.headers[ye]))}),ae.headers.forEach(function(ye,ve){Ue.indexOf(ve)===-1&&se.setRequestHeader(ve,ye)})}else ae.headers.forEach(function(ye,ve){se.setRequestHeader(ve,ye)});ae.signal&&(ae.signal.addEventListener("abort",ke),se.onreadystatechange=function(){se.readyState===4&&ae.signal.removeEventListener("abort",ke)}),se.send(typeof ae._bodyInit>"u"?null:ae._bodyInit)})}return he.polyfill=!0,a.fetch||(a.fetch=he,a.Headers=b,a.Request=D,a.Response=V),o.Headers=b,o.Request=D,o.Response=V,o.fetch=he,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=n.fetch?n:i;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e}(la,la.exports)),la.exports}var pm=IF();const EA=Su(pm),EF=R$({__proto__:null,default:EA},[pm]);var yl,Oy;function AF(){if(Oy)return yl;Oy=1;var t=function(x){return e(x)&&!n(x)};function e(S){return!!S&&typeof S=="object"}function n(S){var x=Object.prototype.toString.call(S);return x==="[object RegExp]"||x==="[object Date]"||s(S)}var i=typeof Symbol=="function"&&Symbol.for,r=i?Symbol.for("react.element"):60103;function s(S){return S.$$typeof===r}function o(S){return Array.isArray(S)?[]:{}}function a(S,x){return x.clone!==!1&&x.isMergeableObject(S)?b(o(S),S,x):S}function u(S,x,E){return S.concat(x).map(function(T){return a(T,E)})}function l(S,x){if(!x.customMerge)return b;var E=x.customMerge(S);return typeof E=="function"?E:b}function c(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(x){return Object.propertyIsEnumerable.call(S,x)}):[]}function d(S){return Object.keys(S).concat(c(S))}function f(S,x){try{return x in S}catch{return!1}}function p(S,x){return f(S,x)&&!(Object.hasOwnProperty.call(S,x)&&Object.propertyIsEnumerable.call(S,x))}function g(S,x,E){var T={};return E.isMergeableObject(S)&&d(S).forEach(function(k){T[k]=a(S[k],E)}),d(x).forEach(function(k){p(S,k)||(f(S,k)&&E.isMergeableObject(x[k])?T[k]=l(k,E)(S[k],x[k],E):T[k]=a(x[k],E))}),T}function b(S,x,E){E=E||{},E.arrayMerge=E.arrayMerge||u,E.isMergeableObject=E.isMergeableObject||t,E.cloneUnlessOtherwiseSpecified=a;var T=Array.isArray(x),k=Array.isArray(S),P=T===k;return P?T?E.arrayMerge(S,x,E):g(S,x,E):a(x,E)}b.all=function(x,E){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(T,k){return b(T,k,E)},{})};var w=b;return yl=w,yl}var TF=AF();const Ri=Su(TF),AA=typeof process<"u"&&process.versions&&process.versions.node?process.versions.node:"unknown",TA=typeof process<"u"&&process.versions&&process.versions.bun?process.versions.bun:"unknown",$A=typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",oc=()=>$A!=="unknown",$F=()=>AA!=="unknown",OA=()=>TA!=="unknown";function Cy(t={},e={}){return Ri(e,t)}function OF(t,e){Object.keys(e).forEach(n=>{Array.isArray(e[n])?e[n].forEach(r=>{t.append(n,String(r))}):t.append(n,String(e[n]))})}const CF=()=>typeof Headers>"u"?pm.Headers:Headers,yu=t=>!!(t&&t.url),Qd=t=>!!(t&&t.text),Py=t=>!!(RF(t)||PF(t)),PF=t=>t!=null&&Buffer.isBuffer(t),RF=t=>t==null||oc()?!1:typeof t=="object"&&typeof t.pipe=="function"&&typeof t.read=="function"&&typeof t._readableState=="object",DF=t=>(n=>n.toLowerCase().replace(/^http/,"ws"))(t),NF=t=>{var e,n,i,r,s,o;const a={};return t._experimentalCustomFetch&&(a.global={fetch:{client:t._experimentalCustomFetch}}),t=Ri(t,a),!((e=t.restProxy)===null||e===void 0)&&e.url&&(a.global={fetch:{options:{proxy:{url:(n=t.restProxy)===null||n===void 0?void 0:n.url}}}}),t=Ri(t,a),!((i=t.global)===null||i===void 0)&&i.url&&(a.global={fetch:{options:{url:t.global.url}},websocket:{options:{url:t.global.url}}}),t=Ri(t,a),!((r=t.global)===null||r===void 0)&&r.headers&&(a.global={fetch:{options:{headers:(s=t.global)===null||s===void 0?void 0:s.headers}},websocket:{options:{_nodeOnlyHeaders:(o=t.global)===null||o===void 0?void 0:o.headers}}}),t=Ri(t,a),t},Ry="4.11.0",jF=()=>$F()?`node/${AA}`:OA()?`bun/${TA}`:oc()?`javascript ${$A}`:"unknown",bu={"Content-Type":"application/json","X-Client-Info":`@deepgram/sdk; ${oc()?"browser":"server"}; v${Ry}`,"User-Agent":`@deepgram/sdk/${Ry} ${jF()}`},wu="https://api.deepgram.com",CA="wss://agent.deepgram.com",UF={fetch:{options:{url:wu,headers:bu}},websocket:{options:{url:DF(wu),_nodeOnlyHeaders:bu}}},LF={fetch:{options:{url:wu,headers:bu}},websocket:{options:{url:CA,_nodeOnlyHeaders:bu}}},MF={global:UF,agent:LF};var Gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gr||(Gr={}));var zr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zr||(zr={}));var Dy={};const PA=()=>{};class Po extends kF.EventEmitter{constructor(e){if(super(),this.factory=void 0,this.key=void 0,this.accessToken=void 0,this.namespace="global",this.version="v1",this.baseUrl=wu,this.logger=PA,typeof e.accessToken=="function"?(this.factory=e.accessToken,this.accessToken=this.factory()):this.accessToken=e.accessToken,typeof e.key=="function"?(this.factory=e.key,this.key=this.factory()):this.key=e.key,!this.key&&!this.accessToken&&(this.accessToken=Dy.DEEPGRAM_ACCESS_TOKEN,this.accessToken||(this.key=Dy.DEEPGRAM_API_KEY)),!this.key&&!this.accessToken)throw new it("A deepgram API key or access token is required.");e=NF(e),this.options=Cy(e,MF)}v(e="v1"){return this.version=e,this}get namespaceOptions(){const e=Cy(this.options[this.namespace],this.options.global);return Object.assign(Object.assign({},e),{key:this.key})}getRequestUrl(e,n={version:this.version},i){n.version=this.version,e=e.replace(/:(\w+)/g,function(s,o){return n[o]});const r=new URL(e,this.baseUrl);return i&&OF(r.searchParams,i),r}log(e,n,i){this.logger(e,n,i)}}const zF=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),FF=function(t,e){return new URL(t,e).href},Ny={},eh=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),l=u?.nonce||u?.getAttribute("nonce");r=o(n.map(c=>{if(c=FF(c,i),c in Ny)return;Ny[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!i)for(let b=a.length-1;b>=0;b--){const w=a[b];if(w.href===c&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":zF,d||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((b,w)=>{g.addEventListener("load",b),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var BF=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const VF=typeof WebSocket<"u";class mm extends Po{constructor(e){super(e),this.conn=null,this.sendBuffer=[],this.reconnect=PA;const{key:n,websocket:{options:i,client:r}}=this.namespaceOptions;this.proxy?this.baseUrl=i.proxy.url:this.baseUrl=i.url,r?this.transport=r:this.transport=null,i._nodeOnlyHeaders?this.headers=i._nodeOnlyHeaders:this.headers={},"Authorization"in this.headers||(this.accessToken?this.headers.Authorization=`Bearer ${this.accessToken}`:this.headers.Authorization=`Token ${n}`)}connect(e,n){if(this.conn)return;this.reconnect=(o=e)=>{this.connect(o,n)};const i=this.getRequestUrl(n,{},e),r=this.accessToken,s=this.key;if(!r&&!s)throw new Error("No key or access token provided for WebSocket connection.");if(this.transport){this.conn=new this.transport(i,void 0,{headers:this.headers}),this.setupConnection();return}if(OA()){eh(async()=>{const{default:o}=await import("./browser-Dpr88_Po.js").then(a=>a.b);return{default:o}},__vite__mapDeps([0,1,2]),import.meta.url).then(({default:o})=>{this.conn=new o(i,{headers:this.headers}),console.log("Using WS package")}),this.setupConnection();return}if(VF){this.conn=new WebSocket(i,r?["bearer",r]:["token",s]),this.setupConnection();return}this.conn=new qF(i,void 0,{close:()=>{this.conn=null}}),eh(async()=>{const{default:o}=await import("./browser-Dpr88_Po.js").then(a=>a.b);return{default:o}},__vite__mapDeps([0,1,2]),import.meta.url).then(({default:o})=>{this.conn=new o(i,void 0,{headers:this.headers})}),this.setupConnection()}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return zr.Connecting;case Gr.open:return zr.Open;case Gr.closing:return zr.Closing;default:return zr.Closed}}getReadyState(){var e,n;return(n=(e=this.conn)===null||e===void 0?void 0:e.readyState)!==null&&n!==void 0?n:Gr.closed}isConnected(){return this.connectionState()===zr.Open}send(e){const n=()=>BF(this,void 0,void 0,function*(){var i;if(e instanceof Blob){if(e.size===0){this.log("warn","skipping `send` for zero-byte blob",e);return}e=yield e.arrayBuffer()}if(typeof e!="string"&&!e?.byteLength){this.log("warn","skipping `send` for zero-byte payload",e);return}(i=this.conn)===null||i===void 0||i.send(e)});this.isConnected()?n():this.sendBuffer.push(n)}get proxy(){var e;return this.key==="proxy"&&!!(!((e=this.namespaceOptions.websocket.options.proxy)===null||e===void 0)&&e.url)}extractErrorInformation(e,n){var i;const r={};if(n&&(r.readyState=n.readyState,r.url=typeof n.url=="string"?n.url:(i=n.url)===null||i===void 0?void 0:i.toString()),n&&typeof n=="object"){const s=n;if(s._req&&s._req.res&&(r.statusCode=s._req.res.statusCode,s._req.res.headers)){r.responseHeaders=Object.assign({},s._req.res.headers);const o=s._req.res.headers["dg-request-id"]||s._req.res.headers["x-dg-request-id"];o&&(r.requestId=o)}if(e&&"target"in e&&e.target){const o=e.target;o.url&&(r.url=o.url),o.readyState!==void 0&&(r.readyState=o.readyState)}}return r}createEnhancedError(e,n){const i=new SF(e.message||"WebSocket connection error",Object.assign({originalEvent:e},n));return Object.assign(Object.assign({},e),{error:i,statusCode:n.statusCode,requestId:n.requestId,responseHeaders:n.responseHeaders,url:n.url,readyState:n.readyState,message:this.buildEnhancedErrorMessage(e,n)})}buildEnhancedErrorMessage(e,n){let i=e.message||"WebSocket connection error";const r=[];if(n.statusCode&&r.push(`Status: ${n.statusCode}`),n.requestId&&r.push(`Request ID: ${n.requestId}`),n.readyState!==void 0){const o=["CONNECTING","OPEN","CLOSING","CLOSED"][n.readyState]||`Unknown(${n.readyState})`;r.push(`Ready State: ${o}`)}return n.url&&r.push(`URL: ${n.url}`),r.length>0&&(i+=` (${r.join(", ")})`),i}setupConnectionEvents(e){this.conn&&(this.conn.onopen=()=>{this.emit(e.Open,this)},this.conn.onclose=n=>{this.emit(e.Close,n)},this.conn.onerror=n=>{const i=this.extractErrorInformation(n,this.conn||void 0),r=this.createEnhancedError(n,i);this.emit(e.Error,r)})}}class qF{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gr.connecting,this.send=()=>{},this.url=null,this.url=e.toString(),this.close=i.close}}var RA=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const GF=t=>{let e;return t?e=t:typeof fetch>"u"?e=EA:e=fetch,(...n)=>e(...n)},ZF=({apiKey:t,customFetch:e,accessToken:n})=>{const i=GF(e),r=CF();return(s,o)=>RA(void 0,void 0,void 0,function*(){const a=new r(o?.headers);return a.has("Authorization")||a.set("Authorization",n?`Bearer ${n}`:`Token ${t}`),i(s,Object.assign(Object.assign({},o),{headers:a}))})},HF=()=>RA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield eh(()=>Promise.resolve().then(()=>EF),void 0,import.meta.url)).Response:Response});var jr=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class pi extends Po{constructor(e){if(super(e),oc()&&!this.proxy)throw new it("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy: https://dpgr.am/js-proxy for more information.");const{accessToken:n,key:i,fetch:r}=this;this.fetch=ZF({accessToken:n,apiKey:i,customFetch:r}),this.proxy?this.baseUrl=this.namespaceOptions.fetch.options.proxy.url:this.baseUrl=this.namespaceOptions.fetch.options.url}_getErrorMessage(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)}_handleError(e,n){return jr(this,void 0,void 0,function*(){const i=yield HF();e instanceof i?e.json().then(r=>{n(new wF(this._getErrorMessage(r),e.status||500))}).catch(r=>{n(new _u(this._getErrorMessage(r),r))}):n(new _u(this._getErrorMessage(e),e))})}_getRequestOptions(e,n,i){let r={method:e};return e==="GET"||e==="DELETE"?r=Object.assign(Object.assign({},r),n):r=Object.assign(Object.assign({duplex:"half",body:n},r),i),Ri(this.namespaceOptions.fetch.options,r,{clone:!1})}_handleRequest(e,n,i,r){return jr(this,void 0,void 0,function*(){return new Promise((s,o)=>{const a=this.fetch;a(n,this._getRequestOptions(e,i,r)).then(u=>{if(!u.ok)throw u;s(u)}).catch(u=>this._handleError(u,o))})})}get(e,n){return jr(this,void 0,void 0,function*(){return this._handleRequest("GET",e,n)})}post(e,n,i){return jr(this,void 0,void 0,function*(){return this._handleRequest("POST",e,n,i)})}put(e,n,i){return jr(this,void 0,void 0,function*(){return this._handleRequest("PUT",e,n,i)})}patch(e,n,i){return jr(this,void 0,void 0,function*(){return this._handleRequest("PATCH",e,n,i)})}delete(e,n){return jr(this,void 0,void 0,function*(){return this._handleRequest("DELETE",e,n)})}get proxy(){var e;return this.key==="proxy"&&!!(!((e=this.namespaceOptions.fetch.options.proxy)===null||e===void 0)&&e.url)}}var xn;(function(t){t.Open="Open",t.Close="Close",t.Error="Error",t.Audio="Audio",t.Welcome="Welcome",t.SettingsApplied="SettingsApplied",t.ConversationText="ConversationText",t.UserStartedSpeaking="UserStartedSpeaking",t.AgentThinking="AgentThinking",t.FunctionCallRequest="FunctionCallRequest",t.AgentStartedSpeaking="AgentStartedSpeaking",t.AgentAudioDone="AgentAudioDone",t.InjectionRefused="InjectionRefused",t.PromptUpdated="PromptUpdated",t.SpeakUpdated="SpeakUpdated",t.Unhandled="Unhandled"})(xn||(xn={}));class WF extends mm{constructor(e,n="/:version/agent/converse"){var i,r,s,o;super(e),this.namespace="agent",this.baseUrl=(o=(s=(r=(i=e.agent)===null||i===void 0?void 0:i.websocket)===null||r===void 0?void 0:r.options)===null||s===void 0?void 0:s.url)!==null&&o!==void 0?o:CA,this.connect({},n)}setupConnection(){this.setupConnectionEvents({Open:xn.Open,Close:xn.Close,Error:xn.Error}),this.conn&&(this.conn.onmessage=e=>{this.handleMessage(e)})}handleMessage(e){var n,i,r,s,o,a;if(typeof e.data=="string")try{const u=JSON.parse(e.data);this.handleTextMessage(u)}catch(u){this.emit(xn.Error,{event:e,data:((n=e.data)===null||n===void 0?void 0:n.toString().substring(0,200))+(((i=e.data)===null||i===void 0?void 0:i.toString().length)>200?"...":""),message:"Unable to parse `data` as JSON.",error:u,url:(r=this.conn)===null||r===void 0?void 0:r.url,readyState:(s=this.conn)===null||s===void 0?void 0:s.readyState})}else e.data instanceof Blob?e.data.arrayBuffer().then(u=>{this.handleBinaryMessage(Buffer.from(u))}):e.data instanceof ArrayBuffer?this.handleBinaryMessage(Buffer.from(e.data)):Buffer.isBuffer(e.data)?this.handleBinaryMessage(e.data):(console.log("Received unknown data type",e.data),this.emit(xn.Error,{event:e,message:"Received unknown data type.",url:(o=this.conn)===null||o===void 0?void 0:o.url,readyState:(a=this.conn)===null||a===void 0?void 0:a.readyState,dataType:typeof e.data}))}handleBinaryMessage(e){this.emit(xn.Audio,e)}handleTextMessage(e){e.type in xn?this.emit(e.type,e):this.emit(xn.Unhandled,e)}configure(e){const n=JSON.stringify(Object.assign({type:"Settings"},e));this.send(n)}updatePrompt(e){this.send(JSON.stringify({type:"UpdatePrompt",prompt:e}))}updateSpeak(e){this.send(JSON.stringify({type:"UpdateSpeak",speak:e}))}injectAgentMessage(e){this.send(JSON.stringify({type:"InjectAgentMessage",content:e}))}injectUserMessage(e){this.send(JSON.stringify({type:"InjectUserMessage",content:e}))}functionCallResponse(e){this.send(JSON.stringify(Object.assign({type:"FunctionCallResponse"},e)))}keepAlive(){this.send(JSON.stringify({type:"KeepAlive"}))}}var KF=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class JF extends pi{constructor(){super(...arguments),this.namespace="auth"}grantToken(e={},n=":version/auth/grant"){return KF(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n),r=JSON.stringify(e);return{result:yield this.post(i,r,{headers:{"Content-Type":"application/json"}}).then(o=>o.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}}var nt;(function(t){t.Open="open",t.Close="close",t.Error="error",t.Transcript="Results",t.Metadata="Metadata",t.UtteranceEnd="UtteranceEnd",t.SpeechStarted="SpeechStarted",t.Unhandled="Unhandled"})(nt||(nt={}));var Pt;(function(t){t.Open="Open",t.Close="Close",t.Error="Error",t.Metadata="Metadata",t.Flushed="Flushed",t.Warning="Warning",t.Audio="Audio",t.Unhandled="Unhandled"})(Pt||(Pt={}));class XF extends mm{constructor(e,n={},i=":version/listen"){var r,s;if(super(e),this.namespace="listen",!((r=n.keyterm)===null||r===void 0)&&r.length&&!(!((s=n.model)===null||s===void 0)&&s.startsWith("nova-3")))throw new it("Keyterms are only supported with the Nova 3 models.");this.connect(n,i)}setupConnection(){this.setupConnectionEvents({Open:nt.Open,Close:nt.Close,Error:nt.Error}),this.conn&&(this.conn.onmessage=e=>{var n,i,r,s;try{const o=JSON.parse(e.data.toString());o.type===nt.Metadata?this.emit(nt.Metadata,o):o.type===nt.Transcript?this.emit(nt.Transcript,o):o.type===nt.UtteranceEnd?this.emit(nt.UtteranceEnd,o):o.type===nt.SpeechStarted?this.emit(nt.SpeechStarted,o):this.emit(nt.Unhandled,o)}catch(o){this.emit(nt.Error,{event:e,message:"Unable to parse `data` as JSON.",error:o,url:(n=this.conn)===null||n===void 0?void 0:n.url,readyState:(i=this.conn)===null||i===void 0?void 0:i.readyState,data:((r=e.data)===null||r===void 0?void 0:r.toString().substring(0,200))+(((s=e.data)===null||s===void 0?void 0:s.toString().length)>200?"...":"")})}})}configure(e){this.send(JSON.stringify({type:"Configure",processors:e}))}keepAlive(){this.send(JSON.stringify({type:"KeepAlive"}))}finalize(){this.send(JSON.stringify({type:"Finalize"}))}finish(){this.requestClose()}requestClose(){this.send(JSON.stringify({type:"CloseStream"}))}}var da=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class YF extends pi{constructor(){super(...arguments),this.namespace="listen"}transcribeUrl(e,n,i=":version/listen"){var r,s;return da(this,void 0,void 0,function*(){try{let o;if(yu(e))o=JSON.stringify(e);else throw new it("Unknown transcription source type");if(n!==void 0&&"callback"in n)throw new it("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");if(!((r=n?.keyterm)===null||r===void 0)&&r.length&&!(!((s=n.model)===null||s===void 0)&&s.startsWith("nova-3")))throw new it("Keyterms are only supported with the Nova 3 models.");const a=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(a,o).then(l=>l.json()),error:null}}catch(o){if(Se(o))return{result:null,error:o};throw o}})}transcribeFile(e,n,i=":version/listen"){return da(this,void 0,void 0,function*(){try{let r;if(Py(e))r=e;else throw new it("Unknown transcription source type");if(n!==void 0&&"callback"in n)throw new it("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");const s=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(s,r,{headers:{"Content-Type":"deepgram/audio+video"}}).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}transcribeUrlCallback(e,n,i,r=":version/listen"){return da(this,void 0,void 0,function*(){try{let s;if(yu(e))s=JSON.stringify(e);else throw new it("Unknown transcription source type");const o=this.getRequestUrl(r,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(o,s).then(u=>u.json()),error:null}}catch(s){if(Se(s))return{result:null,error:s};throw s}})}transcribeFileCallback(e,n,i,r=":version/listen"){return da(this,void 0,void 0,function*(){try{let s;if(Py(e))s=e;else throw new it("Unknown transcription source type");const o=this.getRequestUrl(r,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(o,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(u=>u.json()),error:null}}catch(s){if(Se(s))return{result:null,error:s};throw s}})}}class QF extends Po{constructor(){super(...arguments),this.namespace="listen"}get prerecorded(){return new YF(this.options)}live(e={},n=":version/listen"){return new XF(this.options,e,n)}}var Fe=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class eB extends pi{constructor(){super(...arguments),this.namespace="manage"}getTokenDetails(e=":version/auth/token"){return Fe(this,void 0,void 0,function*(){try{const n=this.getRequestUrl(e);return{result:yield this.get(n).then(r=>r.json()),error:null}}catch(n){if(Se(n))return{result:null,error:n};throw n}})}getProjects(e=":version/projects"){return Fe(this,void 0,void 0,function*(){try{const n=this.getRequestUrl(e);return{result:yield this.get(n).then(r=>r.json()),error:null}}catch(n){if(Se(n))return{result:null,error:n};throw n}})}getProject(e,n=":version/projects/:projectId"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}updateProject(e,n,i=":version/projects/:projectId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n),s=JSON.stringify(n);return{result:yield this.patch(r,s).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}deleteProject(e,n=":version/projects/:projectId"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return yield this.delete(i),{error:null}}catch(i){if(Se(i))return{error:i};throw i}})}getProjectKeys(e,n=":version/projects/:projectId/keys"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}getProjectKey(e,n,i=":version/projects/:projectId/keys/:keyId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,keyId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}createProjectKey(e,n,i=":version/projects/:projectId/keys"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n),s=JSON.stringify(n);return{result:yield this.post(r,s).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}deleteProjectKey(e,n,i=":version/projects/:projectId/keys/:keyId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,keyId:n});return yield this.delete(r),{error:null}}catch(r){if(Se(r))return{error:r};throw r}})}getProjectMembers(e,n=":version/projects/:projectId/members"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}removeProjectMember(e,n,i=":version/projects/:projectId/members/:memberId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,memberId:n});return yield this.delete(r),{error:null}}catch(r){if(Se(r))return{error:r};throw r}})}getProjectMemberScopes(e,n,i=":version/projects/:projectId/members/:memberId/scopes"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,memberId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}updateProjectMemberScope(e,n,i,r=":version/projects/:projectId/members/:memberId/scopes"){return Fe(this,void 0,void 0,function*(){try{const s=this.getRequestUrl(r,{projectId:e,memberId:n},i),o=JSON.stringify(i);return{result:yield this.put(s,o).then(u=>u.json()),error:null}}catch(s){if(Se(s))return{result:null,error:s};throw s}})}getProjectInvites(e,n=":version/projects/:projectId/invites"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}sendProjectInvite(e,n,i=":version/projects/:projectId/invites"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n),s=JSON.stringify(n);return{result:yield this.post(r,s).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}deleteProjectInvite(e,n,i=":version/projects/:projectId/invites/:email"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,email:n});return yield this.delete(r),{error:null}}catch(r){if(Se(r))return{error:r};throw r}})}leaveProject(e,n=":version/projects/:projectId/leave"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.delete(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}getProjectUsageRequests(e,n,i=":version/projects/:projectId/requests"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n);return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getProjectUsageRequest(e,n,i=":version/projects/:projectId/requests/:requestId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,requestId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getProjectUsageSummary(e,n,i=":version/projects/:projectId/usage"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n);return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getProjectUsageFields(e,n,i=":version/projects/:projectId/usage/fields"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n);return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getProjectBalances(e,n=":version/projects/:projectId/balances"){return Fe(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}getProjectBalance(e,n,i=":version/projects/:projectId/balances/:balanceId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,balanceId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getAllModels(e,n={},i=":version/projects/:projectId/models"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e},n);return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}getModel(e,n,i=":version/projects/:projectId/models/:modelId"){return Fe(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,modelId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}}var jy=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class tB extends pi{constructor(){super(...arguments),this.namespace="models"}getAll(e=":version/models",n={}){return jy(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(e,{},n);return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}getModel(e,n=":version/models/:modelId"){return jy(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{modelId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}}var ha=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class nB extends pi{constructor(){super(...arguments),this.namespace="read"}analyzeUrl(e,n,i=":version/read"){return ha(this,void 0,void 0,function*(){try{let r;if(yu(e))r=JSON.stringify(e);else throw new it("Unknown source type");if(n!==void 0&&"callback"in n)throw new it("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");const s=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(s,r).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}analyzeText(e,n,i=":version/read"){return ha(this,void 0,void 0,function*(){try{let r;if(Qd(e))r=JSON.stringify(e);else throw new it("Unknown source type");if(n!==void 0&&"callback"in n)throw new it("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");const s=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(s,r).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}analyzeUrlCallback(e,n,i,r=":version/read"){return ha(this,void 0,void 0,function*(){try{let s;if(yu(e))s=JSON.stringify(e);else throw new it("Unknown source type");const o=this.getRequestUrl(r,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(o,s).then(u=>u.json()),error:null}}catch(s){if(Se(s))return{result:null,error:s};throw s}})}analyzeTextCallback(e,n,i,r=":version/read"){return ha(this,void 0,void 0,function*(){try{let s;if(Qd(e))s=JSON.stringify(e);else throw new it("Unknown source type");const o=this.getRequestUrl(r,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(o,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(u=>u.json()),error:null}}catch(s){if(Se(s))return{result:null,error:s};throw s}})}}var fa=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class rB extends pi{constructor(){super(...arguments),this.namespace="selfhosted"}listCredentials(e,n=":version/projects/:projectId/onprem/distribution/credentials"){return fa(this,void 0,void 0,function*(){try{const i=this.getRequestUrl(n,{projectId:e});return{result:yield this.get(i).then(s=>s.json()),error:null}}catch(i){if(Se(i))return{result:null,error:i};throw i}})}getCredentials(e,n,i=":version/projects/:projectId/onprem/distribution/credentials/:credentialsId"){return fa(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,credentialsId:n});return{result:yield this.get(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}createCredentials(e,n,i=":version/projects/:projectId/onprem/distribution/credentials"){return fa(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e}),s=JSON.stringify(n);return{result:yield this.post(r,s).then(a=>a.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}deleteCredentials(e,n,i=":version/projects/:projectId/onprem/distribution/credentials/:credentialsId"){return fa(this,void 0,void 0,function*(){try{const r=this.getRequestUrl(i,{projectId:e,credentialsId:n});return{result:yield this.delete(r).then(o=>o.json()),error:null}}catch(r){if(Se(r))return{result:null,error:r};throw r}})}}class iB extends mm{constructor(e,n={},i=":version/speak"){super(e),this.namespace="speak",this.connect(n,i)}setupConnection(){this.setupConnectionEvents({Open:Pt.Open,Close:Pt.Close,Error:Pt.Error}),this.conn&&(this.conn.onmessage=e=>{this.handleMessage(e)})}handleTextMessage(e){e.type===Pt.Metadata?this.emit(Pt.Metadata,e):e.type===Pt.Flushed?this.emit(Pt.Flushed,e):e.type===Pt.Warning?this.emit(Pt.Warning,e):this.emit(Pt.Unhandled,e)}handleBinaryMessage(e){this.emit(Pt.Audio,e)}sendText(e){this.send(JSON.stringify({type:"Speak",text:e}))}flush(){this.send(JSON.stringify({type:"Flush"}))}clear(){this.send(JSON.stringify({type:"Clear"}))}requestClose(){this.send(JSON.stringify({type:"Close"}))}handleMessage(e){var n,i,r,s,o,a;if(typeof e.data=="string")try{const u=JSON.parse(e.data);this.handleTextMessage(u)}catch(u){this.emit(Pt.Error,{event:e,message:"Unable to parse `data` as JSON.",error:u,url:(n=this.conn)===null||n===void 0?void 0:n.url,readyState:(i=this.conn)===null||i===void 0?void 0:i.readyState,data:((r=e.data)===null||r===void 0?void 0:r.toString().substring(0,200))+(((s=e.data)===null||s===void 0?void 0:s.toString().length)>200?"...":"")})}else e.data instanceof Blob?e.data.arrayBuffer().then(u=>{this.handleBinaryMessage(Buffer.from(u))}):e.data instanceof ArrayBuffer?this.handleBinaryMessage(Buffer.from(e.data)):Buffer.isBuffer(e.data)?this.handleBinaryMessage(e.data):(console.log("Received unknown data type",e.data),this.emit(Pt.Error,{event:e,message:"Received unknown data type.",url:(o=this.conn)===null||o===void 0?void 0:o.url,readyState:(a=this.conn)===null||a===void 0?void 0:a.readyState,dataType:typeof e.data}))}}var bl=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(d){o(d)}}function u(c){try{l(i.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):r(c.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class sB extends pi{constructor(){super(...arguments),this.namespace="speak"}request(e,n,i=":version/speak"){return bl(this,void 0,void 0,function*(){let r;if(Qd(e))r=JSON.stringify(e);else throw new it("Unknown transcription source type");const s=this.getRequestUrl(i,{},Object.assign({model:"aura-2-thalia-en"},n));return this.result=yield this.post(s,r,{headers:{Accept:"audio/*","Content-Type":"application/json"}}),this})}getStream(){return bl(this,void 0,void 0,function*(){if(!this.result)throw new _u("Tried to get stream before making request","");return this.result.body})}getHeaders(){return bl(this,void 0,void 0,function*(){if(!this.result)throw new _u("Tried to get headers before making request","");return this.result.headers})}}class oB extends Po{constructor(){super(...arguments),this.namespace="speak"}request(e,n,i=":version/speak"){return new sB(this.options).request(e,n,i)}live(e={},n=":version/speak"){return new iB(this.options,e,n)}}class aB extends Po{get auth(){return new JF(this.options)}get listen(){return new QF(this.options)}get manage(){return new eB(this.options)}get models(){return new tB(this.options)}get onprem(){return this.selfhosted}get selfhosted(){return new rB(this.options)}get read(){return new nB(this.options)}get speak(){return new oB(this.options)}agent(e="/:version/agent/converse"){return new WF(this.options,e)}get transcription(){throw new ur}get projects(){throw new ur}get keys(){throw new ur}get members(){throw new ur}get scopes(){throw new ur}get invitation(){throw new ur}get usage(){throw new ur}get billing(){throw new ur}}function uB(t,e){let n={};return typeof t=="string"||typeof t=="function"?(typeof e=="object"&&(n=e),n.key=t):typeof t=="object"&&(n=t),new aB(n)}const cB=15e3,lB=(t,e)=>{const n=IA();return t==="nova-3-general"&&e==="en-US"?{keyterm:n}:{}},dB=t=>t==="multi"?"multi":t.slice(0,2);class hB{constructor(e,n,i,r,s){this.source=n,this.sampleRate=i,this.audioLanguage=r,this.platformClient=s,Ft(this,{state:we,setState:be});const a=["en-US","multi"].includes(this.audioLanguage)?"nova-3-general":"nova-2-general",u=dB(this.audioLanguage);this.deepgramOptionOverrides={model:a,language:u,...lB(a,this.audioLanguage)},this.cleanUpOnChunk=e.onData(l=>{this.state.state==="running"&&this.state.connection.send(fm(l).buffer)}),this.connect()}providerName="deepgram";state={state:"loading",connection:null,abortController:new AbortController};transcriptionListeners=new Set;cleanUpOnChunk;commitPromise=null;commitPromiseResolve=null;deepgramOptionOverrides={};dispose(){this.abortLoadingOrRunning(),this.cleanUpOnChunk(),this.commitPromiseResolve&&this.commitPromiseResolve()}get buffer(){return this.state.state==="running"&&this.state.partialText!=null?{partialText:this.state.partialText}:null}setState(e){this.state=e}abortLoadingOrRunning(){(this.state.state==="loading"||this.state.state==="running")&&(this.state.abortController.abort(),this.state.connection?.disconnect())}async connect(){if(this.state.state!=="loading")return;const{abortController:e}=this.state;try{const{sessionToken:n}=await bt(this.platformClient.desktop.ai.transcription_sessions.deepgram.post());if(e.signal.aborted)return;const r=uB(n,{global:{url:`https://${C$}`}}).listen.live({smart_format:!0,vad_events:!0,interim_results:!0,punctuate:!0,encoding:"linear16",sample_rate:this.sampleRate,channels:1,...this.deepgramOptionOverrides});this.setState({state:"loading",connection:r,abortController:e});const{refreshHeartbeatTimeout:s}=this.initHeartbeatCheck(e);r.on(nt.Open,()=>{e.signal.aborted||(s(),this.setState({state:"running",connection:r,abortController:e,partialText:null}))}),r.on(nt.Transcript,o=>{if(e.signal.aborted)return;const{state:a}=this;if(a.state!=="running")return;s();const l=(()=>{if(o.channel&&Array.isArray(o.channel.alternatives)){const c=o.channel.alternatives[0];if(c&&typeof c.transcript=="string")return c.transcript.trim()}return""})();if(o.is_final){if(At(()=>{a.partialText=null}),l.length>0){const c=new Zt(l,this.source,new Date);for(const d of this.transcriptionListeners)d(c)}}else l.length>0&&At(()=>{a.partialText=l});o.from_finalize&&this.commitPromiseResolve&&this.commitPromiseResolve()}),r.on(nt.SpeechStarted,()=>{if(e.signal.aborted)return;const{state:o}=this;o.state==="running"&&(console.log("Deepgram WebSocket speech started, refreshing heartbeat"),s(),o.partialText==null&&At(()=>{o.partialText=""}))}),r.on(nt.Metadata,o=>{e.signal.aborted||(console.log("Deepgram WebSocket metadata, refreshing heartbeat",o),s())}),r.on(nt.Error,o=>{e.signal.aborted||(console.error("Deepgram error:",o),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to Deepgram.")}))}),r.on(nt.Close,()=>{e.signal.aborted||(console.error("Deepgram connection closed prematurely"),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to Deepgram.")}))})}catch(n){if(e.signal.aborted)return;this.abortLoadingOrRunning(),console.error("Failed to connect to Deepgram:",n),n instanceof Error&&n.message.includes("Failed to fetch")?this.setState({state:"error",error:new as("Failed to connect to the network.")}):this.setState({state:"error",error:new dt("An unknown error occurred while connecting to Deepgram.")})}}onTranscription(e){return this.transcriptionListeners.add(e),()=>this.transcriptionListeners.delete(e)}async commitTranscription(){if(this.state.state!=="running")return;if(this.commitPromise)return this.commitPromise;this.state.connection.send(JSON.stringify({type:"Finalize"}));const e=setTimeout(()=>{this.commitPromiseResolve&&(console.log("Timeout finalizing transcription"),this.commitPromiseResolve())},1e3);return this.commitPromise=new Promise(n=>{this.commitPromiseResolve=()=>{console.log("Finalizing transcription"),clearTimeout(e),n(),this.commitPromise=null,this.commitPromiseResolve=null}}),this.commitPromise}initHeartbeatCheck(e){let n;const i=()=>{clearTimeout(n),n=setTimeout(()=>{console.error("No heartbeat received from Deepgram within timeout"),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to Deepgram.")})},cB)};return i(),e.signal.addEventListener("abort",()=>{clearTimeout(n)}),{refreshHeartbeatTimeout:i}}}class fB{constructor(e,n,i){this.source=n,this.platformClient=i,Ft(this,{state:we,setState:be}),this.cleanUpOnChunk=e.onData(r=>{this.state.state==="running"&&this.state.websocketConnection.send(fm(r).buffer)}),this.connect()}providerName="gladia";state={state:"loading",websocketConnection:null,abortController:new AbortController};transcriptionListeners=new Set;cleanUpOnChunk;commitPromise=null;commitPromiseResolve=null;dispose(){console.log("Disposing Gladia transcription service"),this.abortLoadingOrRunning(),this.cleanUpOnChunk(),this.commitPromiseResolve&&this.commitPromiseResolve()}get buffer(){return this.state.state==="running"&&this.state.partialText!=null?{partialText:this.state.partialText}:null}setState(e){this.state=e}abortLoadingOrRunning(){(this.state.state==="loading"||this.state.state==="running")&&(this.state.abortController.abort(),this.state.websocketConnection?.close(1e3,"Aborted"))}async connect(){if(this.state.state!=="loading")return;const{abortController:e}=this.state;try{const{gladiaSessionUrl:n}=await bt(this.platformClient.desktop.ai.transcription_sessions.gladia.post({sampleRate:48e3}));if(e.signal.aborted)return;const i=new WebSocket(n);this.setState({state:"loading",websocketConnection:i,abortController:e}),i.addEventListener("open",()=>{console.log("Gladia connection opened for source",this.source),!e.signal.aborted&&this.setState({state:"running",websocketConnection:i,abortController:e,partialText:null})}),i.addEventListener("error",r=>{console.error("Gladia connection error for source",this.source,r),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")})}),i.addEventListener("close",({code:r,reason:s})=>{e.signal.aborted||(console.log("Gladia connection closed prematurely for source",this.source,r,s),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")}))}),i.addEventListener("message",r=>{if(e.signal.aborted)return;const{state:s}=this;if(s.state!=="running")return;const o=JSON.parse(r.data.toString());if(o.type!=="transcript")return;const a=o.data.utterance.text;if(o.data.is_final){if(At(()=>{s.partialText=null}),a.length>0){const u=new Zt(a,this.source,new Date);for(const l of this.transcriptionListeners)l(u)}this.commitPromiseResolve&&this.commitPromiseResolve()}else a.length>0&&At(()=>{s.partialText=a})})}catch(n){if(e.signal.aborted)return;this.abortLoadingOrRunning(),console.error("Failed to connect to Gladia for source",this.source,n),n instanceof Error&&n.message.includes("Failed to fetch")?this.setState({state:"error",error:new as("Failed to connect to the network.")}):this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")})}}onTranscription(e){return this.transcriptionListeners.add(e),()=>this.transcriptionListeners.delete(e)}async commitTranscription(){const{state:e}=this;if(e.state!=="running")return;if(this.commitPromise)return this.commitPromise;const n=setTimeout(()=>{this.commitPromiseResolve&&(console.log("Timeout finalizing transcription for source",this.source),this.commitPromiseResolve())},1e3);return this.commitPromise=new Promise(i=>{this.commitPromiseResolve=()=>{console.log("Finalizing transcription for source",this.source),clearTimeout(n),i(),this.commitPromise=null,this.commitPromiseResolve=null}}),this.commitPromise}}const wl=3;function pB(t){let e=0;return En(()=>{const{state:n}=t;return n.state==="error"||n.state==="running"&&n.metadata.transcriptionService.state.state==="error"?"error":n.state==="not-running"||n.state==="running"&&n.metadata.transcriptionService.state.state==="running"?"running-or-not-running":"loading"},n=>{n==="running-or-not-running"?e=0:n==="error"&&e<wl?(console.warn(`Audio capture failed for ${t.source}, retrying (${e+1}/${wl})...`),t.restart(t.state.state==="running"?t.state.paused:!1),e++):n==="error"&&console.error(`Audio capture failed for ${t.source} after ${wl} retries, giving up.`)})}const mB=5e3,gB=500;class Uy{constructor(e,n,i){this.source=n,this.platformClient=i,Ft(this,{committingTranscriptionCount:we,isStale:we,state:we,latestTranscription:ut,canBeSwitched:ut,handleMessage:be,setState:be}),this.cleanUpOnChunk=e.onData(r=>{this.handleAudioCaptureData(r)}),this.initializeSocket()}cleanUpOnChunk;committingTranscriptionCount=0;isStale=!1;state={state:"loading",socket:null,abortController:new AbortController};dispose(){this.abortLoadingOrRunning(),this.cleanUpOnChunk()}get buffer(){return this.state.state==="running"&&this.state.audioBuffers.size>0?{partialText:"Processing input"}:null}get latestTranscription(){return this.state.state==="running"?this.state.latestTranscription:null}get canBeSwitched(){return this.committingTranscriptionCount>0?!1:!(this.state.state==="running"&&this.state.audioBuffers.size>0)||this.isStale}async commitTranscription(){const{state:e}=this;if(e.state==="running"){At(()=>{this.committingTranscriptionCount++});try{const n=new vB(e.audioBuffers,[...e.audioBuffers.keys()]);if(n.allTranscribed)return;if(n.anyIsSpeaking){if(await new Promise(i=>setTimeout(i,gB)),e.abortController.signal.aborted)return;e.socket.send(JSON.stringify({type:"input_audio_buffer.commit"}))}await n.waitForAllTranscribed(e.abortController,mB)}finally{At(()=>{this.committingTranscriptionCount--})}}}commitTranscriptionAndMarkAsStale(){this.commitTranscription().then(()=>{At(()=>{this.isStale=!0})})}setState(e){this.state=e}abortLoadingOrRunning(){(this.state.state==="loading"||this.state.state==="running")&&(this.state.abortController.abort(),this.state.socket?.close())}async initializeSocket(){if(this.state.state!=="loading")return;const{abortController:e}=this.state;try{const{sessionToken:n}=await bt(this.platformClient.desktop.ai.transcription_sessions.openai.post());if(e.signal.aborted)return;const i=new WebSocket("wss://api.openai.com/v1/realtime?intent=transcription",["realtime",`openai-insecure-api-key.${n}`,"openai-beta.realtime-v1"]);i.onopen=()=>{e.signal.aborted||this.setState({state:"running",socket:i,abortController:e,audioBuffers:new Map,latestTranscription:null})},i.onclose=()=>{e.signal.aborted||(console.error("Transcription websocket closed prematurely"),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")}))},i.onerror=r=>{e.signal.aborted||(console.error("Transcription websocket error:",r),this.abortLoadingOrRunning(),this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")}))},i.onmessage=r=>{e.signal.aborted||this.handleMessage(JSON.parse(r.data))},this.state.socket=i}catch(n){if(e.signal.aborted)return;this.abortLoadingOrRunning(),console.error("Failed to initialize transcription socket:",n),n instanceof Error&&n.message.includes("Failed to fetch")?this.setState({state:"error",error:new as("Failed to connect to the network.")}):this.setState({state:"error",error:new dt("An unknown error occurred while connecting to the transcription service.")})}}handleMessage(e){const{state:n}=this,{type:i}=e;if(n.state==="running"&&!(i==="error"&&e.error?.code==="input_audio_buffer_commit_empty")){if(i==="error"){console.warn("Transcription error:",e.error);return}if(i==="input_audio_buffer.speech_started"&&e.item_id){n.audioBuffers.set(e.item_id,"speaking");return}if(i==="input_audio_buffer.committed"&&e.item_id){n.audioBuffers.set(e.item_id,"transcribing");return}if(i==="conversation.item.input_audio_transcription.completed"&&e.item_id){n.audioBuffers.delete(e.item_id);const r=e.transcript.trim();r.length>0&&(n.latestTranscription=new Zt(r,this.source,new Date));return}}}handleAudioCaptureData(e){this.state.state==="running"&&this.state.socket.send(JSON.stringify({type:"input_audio_buffer.append",audio:_F(e)}))}}class vB{constructor(e,n){this.audioBuffers=e,this.itemIds=n,Ft(this,{allTranscribed:ut,anyIsSpeaking:ut})}get allTranscribed(){return!this.itemIds.some(n=>this.audioBuffers.has(n))}get anyIsSpeaking(){return this.itemIds.some(e=>this.audioBuffers.get(e)==="speaking")}async waitForAllTranscribed(e,n){let i=()=>{};const r=new Promise(a=>{i=a}),s=Da(()=>{this.allTranscribed&&i()}),o=setTimeout(()=>{i()},n);e.signal.addEventListener("abort",i),await r,s?.(),clearTimeout(o),e.signal.removeEventListener("abort",i)}}const _B=10,yB=20;class bB{constructor(e,n,i){this.audioCaptureService=e,this.source=n,this.platformClient=i,this.primaryTranscriptionService=new Uy(e,n,i),this.queuedTranscriptionService=null,Ft(this,{primaryTranscriptionService:we,queuedTranscriptionService:we,state:ut,switchQueuedToPrimary:be,createQueuedTranscriptionService:be});const r=En(()=>this.primaryTranscriptionService.canBeSwitched&&this.queuedTranscriptionService?.state.state==="running",u=>{u&&this.switchQueuedToPrimary()},{fireImmediately:!0}),s=En(()=>this.primaryTranscriptionService.latestTranscription,u=>{if(u)for(const l of this.transcriptionListeners)l(u)},{fireImmediately:!0}),o=En(()=>!this.queuedTranscriptionService,u=>{clearTimeout(this.refreshTimeout),u&&(this.refreshTimeout=setTimeout(()=>{this.createQueuedTranscriptionService()},_B*1e3))},{fireImmediately:!0}),a=En(()=>this.primaryTranscriptionService,u=>{clearTimeout(this.markAsStaleTimeout),this.markAsStaleTimeout=setTimeout(()=>{console.log("Marking transcription service as stale:",this.source),u.commitTranscriptionAndMarkAsStale()},yB*1e3)},{fireImmediately:!0});this.cleanUp=()=>{r(),s(),o(),a()}}providerName="openai";transcriptionListeners=new Set;cleanUp;refreshTimeout;markAsStaleTimeout;primaryTranscriptionService;queuedTranscriptionService;dispose(){this.cleanUp(),clearTimeout(this.refreshTimeout),clearTimeout(this.markAsStaleTimeout),this.primaryTranscriptionService.dispose(),this.queuedTranscriptionService?.dispose()}get buffer(){return this.primaryTranscriptionService.buffer}onTranscription(e){return this.transcriptionListeners.add(e),()=>{this.transcriptionListeners.delete(e)}}get state(){return this.queuedTranscriptionService?.state.state==="error"?this.queuedTranscriptionService.state:this.primaryTranscriptionService.state}async commitTranscription(){await this.primaryTranscriptionService.commitTranscription()}switchQueuedToPrimary(){this.queuedTranscriptionService&&(console.log("Refreshing transcription service:",this.source),this.primaryTranscriptionService.dispose(),this.primaryTranscriptionService=this.queuedTranscriptionService,this.queuedTranscriptionService=null)}createQueuedTranscriptionService(){this.queuedTranscriptionService=new Uy(this.audioCaptureService,this.source,this.platformClient)}}const wB=100,SB="pcmProcessor";class Ly{constructor(e,n,i,r){this.source=e,this.posthog=n,this.platformClient=i,n.isFeatureEnabled(Kt.VOICE_ACTIVITY_BASED_ECHO_CANCELLATION)&&(this.echoCancellationSource=r),this.disposeAudioCaptureRetry=pB(this),Ft(this,{state:we,restart:be,setState:be,pause:be,resume:be,transcriptionService:ut})}state={state:"not-running"};echoCancellationSource;disposeAudioCaptureRetry;dataListeners=new Set;get transcriptionService(){return this.state.state==="running"?this.state.metadata.transcriptionService:null}dispose(){this.stop(),this.disposeAudioCaptureRetry()}stop(){this.setState({state:"not-running"})}restart(e){this.stop(),this.startAsync(e)}async startAsync(e){if(this.state.state==="running"||this.state.state==="loading")return;const n=new AbortController;if(this.setState({state:"loading",abortController:n}),await new Promise(s=>setTimeout(s,0)),n.signal.aborted)return;const i=new AbortController;let r;try{if(r=await this.getStream(),await new Promise(o=>setTimeout(o,wB)),n.signal.aborted)throw new Error("Aborted");const s=await this.attachStream(r,i.signal);if(n.signal.aborted)throw this.detachStream(s),new Error("Aborted");this.setState({state:"running",stream:r,metadata:s,abortController:i,paused:e})}catch(s){if(i.abort(),r&&Yd(r),n.signal.aborted)return;console.warn("Error starting media capture",s),this.posthog.captureException(s,{source:this.source}),this.setState({state:"error",error:s instanceof mu||s instanceof om||s instanceof am||s instanceof um||s instanceof cm||s instanceof lm||s instanceof py||s instanceof dt?s:new dt(`An unknown error occurred while attempting to capture ${this.source} audio.`)})}}pause(){if(this.state.state==="running"&&!this.state.paused){for(const e of this.state.stream.getTracks())e.enabled=!1;this.state.paused=!0}}resume(){if(this.state.state==="running"&&this.state.paused){console.log("Re-enabling tracks");for(const e of this.state.stream.getTracks())e.enabled=!0;this.state.paused=!1}}async getStream(){try{if(this.source==="mic")return oF(this.posthog);if(this.posthog.getFeatureFlag(Kt.USE_WEB_AUDIO_API_ONLY)==="enabled")return await xy(this.posthog,{video:!0,audio:!0});if(so)return new MediaStream;if(GL){const e=await lF(this.posthog);return e||await xy(this.posthog,{video:!1,audio:{displaySurface:"monitor",suppressLocalAudioPlayback:!0,mediaSource:"screen",echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}})}throw new py("System audio capture is only supported on macOS and Windows")}catch(e){throw console.warn(`Unable to obtain stream for ${this.source} audio: ${e}`),this.posthog.captureException(e,{source:this.source}),e}}async attachStream(e,n){let i;const r=new AudioContext({sampleRate:48e3}),s=await sF(this.platformClient),o=aF(s,this.posthog);switch(o){case"gladia":{console.log("Using Gladia for transcription"),i=new fB(this,this.source,this.platformClient);break}case"assembly_ai":{console.log("Using AssemblyAI for transcription at a sample rate of ",r.sampleRate),i=new bF(this,this.source,r.sampleRate,this.platformClient);break}case"deepgram":{console.log("Using Deepgram for transcription with language: ",s),i=new hB(this,this.source,r.sampleRate,s,this.platformClient);break}case"openai":{console.log("Using OpenAI for transcription"),i=new bB(this,this.source,this.platformClient);break}}const a=await uF();if(so&&this.source==="system"&&this.posthog.getFeatureFlag(Kt.USE_WEB_AUDIO_API_ONLY)!=="enabled"){console.log("Using audiotee with sample rate:",r.sampleRate,"and audio transcription provider:",o);const c=hF(({source:d,base64Data:f})=>{if(!n.aborted&&!(this.state.state==="running"&&this.state.paused)&&d===this.source){const p={type:"pcm16Base64",pcm16Base64:f};for(const g of this.dataListeners)g(p)}},r.sampleRate);return{transcriptionService:i,audioContext:r,outputDeviceIsSpeaker:a,cleanUpNativeMacRecorder:c}}console.log("Using web audio API for",this.source,"audio"),await r.audioWorklet.addModule(xB);const u=new AudioWorkletNode(r,SB,{processorOptions:{resampleRatio:o==="openai"?24e3/r.sampleRate:null}});u.port.onmessage=c=>{if(n.aborted)return;const d=c.data,f={type:"pcm16Buffer",pcm16Buffer:hm.Buffer.from(d.buffer)};for(const p of this.dataListeners)p(f)};const l=r.createMediaStreamSource(e);return l.connect(u),{transcriptionService:i,audioContext:r,outputDeviceIsSpeaker:a,source:l}}detachStream(e){e.transcriptionService.dispose(),e.audioContext.close(),e.source?.disconnect(),e.cleanUpNativeMacRecorder?.()}setState(e){this.state.state==="running"&&e.state!=="running"&&(this.state.abortController.abort(),this.detachStream(this.state.metadata),Yd(this.state.stream)),this.state.state==="loading"&&this.state.abortController.abort(),this.state=e}onData(e){const n=i=>{if(this.shouldMuteForEchoCancellation){this.transcriptionService?.buffer&&this.transcriptionService.commitTranscription();return}e(i)};return this.dataListeners.add(n),()=>{this.dataListeners.delete(n)}}shouldIgnoreAudioTranscription(e){if(this.shouldMuteForEchoCancellation)return!0;if(this.state.state==="running"&&this.state.metadata.outputDeviceIsSpeaker&&this.echoCancellationSource&&/^[\w\s.,!?'"-]+$/.test(e.text)){const n=e.text.split(" ").length,i=[".","?","!"];return n<3&&!i.includes(e.text.slice(-1))}return!1}get shouldMuteForEchoCancellation(){return this.state.state==="running"&&this.state.metadata.outputDeviceIsSpeaker&&!!this.echoCancellationSource?.transcriptionService?.buffer}}const xB=(()=>{try{return new URL("data:text/javascript;base64,Y2xhc3MgUENNUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5yZXNhbXBsZVJhdGlvID0gb3B0aW9ucy5wcm9jZXNzb3JPcHRpb25zPy5yZXNhbXBsZVJhdGlvOwogICAgdGhpcy5waGFzZSA9IDA7CiAgICB0aGlzLmxhc3RTYW1wbGUgPSAwOwogIH0KCiAgcmVzYW1wbGUoc2FtcGxlcykgewogICAgaWYgKHR5cGVvZiB0aGlzLnJlc2FtcGxlUmF0aW8gIT09ICJudW1iZXIiKSB7CiAgICAgIHJldHVybiBzYW1wbGVzOyAvLyBObyByZXNhbXBsaW5nIG5lZWRlZAogICAgfQoKICAgIGNvbnN0IG91dHB1dExlbmd0aCA9IE1hdGguZmxvb3Ioc2FtcGxlcy5sZW5ndGggKiB0aGlzLnJlc2FtcGxlUmF0aW8pOwogICAgY29uc3QgcmVzYW1wbGVkID0gbmV3IEZsb2F0MzJBcnJheShvdXRwdXRMZW5ndGgpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0TGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3Qgc291cmNlSW5kZXggPSBpIC8gdGhpcy5yZXNhbXBsZVJhdGlvICsgdGhpcy5waGFzZTsKICAgICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKHNvdXJjZUluZGV4KTsKICAgICAgY29uc3QgZnJhY3Rpb24gPSBzb3VyY2VJbmRleCAtIGluZGV4OwoKICAgICAgbGV0IHNhbXBsZTsKICAgICAgaWYgKGluZGV4ID49IHNhbXBsZXMubGVuZ3RoIC0gMSkgewogICAgICAgIHNhbXBsZSA9IHNhbXBsZXNbc2FtcGxlcy5sZW5ndGggLSAxXTsKICAgICAgfSBlbHNlIGlmIChpbmRleCA8IDApIHsKICAgICAgICBzYW1wbGUgPSB0aGlzLmxhc3RTYW1wbGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTGluZWFyIGludGVycG9sYXRpb24KICAgICAgICBjb25zdCBzYW1wbGUxID0gaW5kZXggPiAwID8gc2FtcGxlc1tpbmRleF0gOiB0aGlzLmxhc3RTYW1wbGU7CiAgICAgICAgY29uc3Qgc2FtcGxlMiA9IHNhbXBsZXNbaW5kZXggKyAxXTsKICAgICAgICBzYW1wbGUgPSBzYW1wbGUxICsgKHNhbXBsZTIgLSBzYW1wbGUxKSAqIGZyYWN0aW9uOwogICAgICB9CgogICAgICByZXNhbXBsZWRbaV0gPSBzYW1wbGU7CiAgICB9CgogICAgLy8gVXBkYXRlIHBoYXNlIGZvciBuZXh0IGNodW5rCiAgICB0aGlzLnBoYXNlID0gKHNhbXBsZXMubGVuZ3RoICogdGhpcy5yZXNhbXBsZVJhdGlvKSAlIDE7CiAgICB0aGlzLmxhc3RTYW1wbGUgPSBzYW1wbGVzW3NhbXBsZXMubGVuZ3RoIC0gMV07CgogICAgcmV0dXJuIHJlc2FtcGxlZDsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBfb3V0cHV0cywgX3BhcmFtZXRlcnMpIHsKICAgIC8vIGlucHV0c1swXVswXSBpcyB0aGUgRmxvYXQzMkFycmF5IG9mIGF1ZGlvIHNhbXBsZXMgY29taW5nIGZyb20gdGhlIG1pYyAobW9ubykKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgaWYgKCFpbnB1dCB8fCAhaW5wdXRbMF0pIHsKICAgICAgcmV0dXJuIHRydWU7IC8vIE5vIGlucHV0IHlldAogICAgfQoKICAgIGNvbnN0IGZsb2F0U2FtcGxlcyA9IHRoaXMucmVzYW1wbGUoaW5wdXRbMF0pOwoKICAgIC8vIENvbnZlcnQgRmxvYXQzMiB0byAxNi1iaXQKICAgIC8vIDEuMCAtPiBtYXggaW50MTYsIC0xLjAgLT4gbWluIGludDE2CiAgICBjb25zdCBwY20xNiA9IG5ldyBJbnQxNkFycmF5KGZsb2F0U2FtcGxlcy5sZW5ndGgpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG9hdFNhbXBsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcyA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBmbG9hdFNhbXBsZXNbaV0pKTsKICAgICAgcGNtMTZbaV0gPSBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3ZmZmOwogICAgfQoKICAgIC8vIFNlbmQgMTYtYml0IGJ1ZmZlciB0byBtYWluIHRocmVhZAogICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHBjbTE2KTsKICAgIHJldHVybiB0cnVlOyAvLyBLZWVwIGFsaXZlCiAgfQp9CgovLyBuYW1lIG11c3QgbWF0Y2ggYXVkaW9DYXB0dXJlU2VydmljZS50cyA+IFBDTV9QUk9DRVNTT1JfTk9ERV9OQU1FCnJlZ2lzdGVyUHJvY2Vzc29yKCJwY21Qcm9jZXNzb3IiLCBQQ01Qcm9jZXNzb3IpOwo=",import.meta.url).toString()}catch{return"/pcmWorklet.js"}})();function My(t,e){let n;return{refresh:()=>{clearTimeout(n),n=setTimeout(t,e)},dispose:()=>{clearTimeout(n)}}}class kB{micAudioCaptureService;systemAudioCaptureService;platformClient;cleanUp;newAudioSessionOptions=null;fullContext=new dm;liveInsights=new gu;audioSession=null;isIncognito=!1;constructor(e){this.micAudioCaptureService=e.micAudioCaptureService,this.systemAudioCaptureService=e.systemAudioCaptureService,this.platformClient=e.platformClient,Ft(this,{newAudioSessionOptions:we,audioSession:we,isIncognito:we,isTranscribing:ut,isInAudioSessionAndAudioIsPaused:ut,isInAudioSessionAndNotPaused:ut,isInAudioSession:ut,toggleIncognito:be,stopAudio:be,pauseAudio:be,resumeAudio:be,retryAudio:be,startNewAudioSession:be});const n=En(()=>({isInAudioSession:this.isInAudioSession,newAudioSessionOptions:this.newAudioSessionOptions}),({isInAudioSession:f,newAudioSessionOptions:p})=>{this.audioSession?.dispose(),At(()=>{f?(this.clear(),this.audioSession=new SA(this,!0,this.platformClient,p)):(this.audioSession=null,this.newAudioSessionOptions=null,this.clear())})}),{refresh:i,dispose:r}=My(()=>{this.fullContext.markEndOfParagraph("mic")},my),s=En(()=>this.micAudioCaptureService.transcriptionService?.buffer,f=>{i()}),{refresh:o,dispose:a}=My(()=>{this.fullContext.markEndOfParagraph("system")},my),u=En(()=>this.systemAudioCaptureService.transcriptionService?.buffer,f=>{o()}),l=Da(()=>{this.micAudioCaptureService.transcriptionService?.onTranscription(f=>{this.micAudioCaptureService.shouldIgnoreAudioTranscription(f)||this.fullContext.addAudioTranscription(f.withFixedSpelling)})}),c=Da(()=>{this.systemAudioCaptureService.transcriptionService?.onTranscription(f=>{this.systemAudioCaptureService.shouldIgnoreAudioTranscription(f)||this.fullContext.addAudioTranscription(f.withFixedSpelling)})}),d=En(()=>this.audioSession?.state.state==="created"?this.audioSession.state.instructionActionables:null,f=>{this.liveInsights.setSessionInstructionActionables(f??[])});this.cleanUp=()=>{n(),l(),c(),r(),s(),u(),a(),d()}}dispose(){this.cleanUp(),this.audioSession?.dispose()}toggleIncognito(){this.isIncognito=!this.isIncognito}clear(){this.fullContext.clear(),this.liveInsights.clear()}async commitTranscriptions(){await Promise.all([this.micAudioCaptureService.transcriptionService?.commitTranscription(),this.systemAudioCaptureService.transcriptionService?.commitTranscription()])}get isTranscribing(){return this.getServices().every(e=>e.transcriptionService?.state.state==="running")}stopAudio(){this.getServices().map(e=>e.stop())}pauseAudio(){this.getServices().map(e=>e.pause())}resumeAudio(){this.getServices().map(e=>e.resume())}retryAudioSession(){if(this.audioSession?.state.state==="error"){const e=this.audioSession.newSessionOptions;this.stopAudio(),this.startNewAudioSession(e)}else this.retryAudio()}startNewAudioSession(e){this.newAudioSessionOptions=e,this.getServices().map(n=>n.restart(this.isInAudioSessionAndAudioIsPaused))}retryAudio(){this.getServices().map(e=>e.restart(this.isInAudioSessionAndAudioIsPaused))}getServices(){return[this.micAudioCaptureService,this.systemAudioCaptureService]}get isInAudioSessionAndAudioIsPaused(){return this.getServices().every(e=>e.state.state==="running"&&e.state.paused)}get isInAudioSessionAndNotPaused(){return this.isInAudioSession&&!this.isInAudioSessionAndAudioIsPaused}get isInAudioSession(){return this.getServices().every(e=>e.state.state!=="not-running")}}function vs(t,e){const n=j.useRef(null),[i,r]=j.useState(0);return n.current||(n.current=t()),j.useEffect(()=>{const s=n.current??t();return s!==n.current&&(n.current=s,r(o=>o+1)),()=>{s.dispose(),n.current=null}},e),n.current}const gm=j.createContext(null);function iV({children:t}){const e=Vu(),n=j.useMemo(()=>ss(),[]),i=vs(()=>new Ly("system",e,n),[e,n]),r=vs(()=>new Ly("mic",e,n,i),[e,n,i]),s=vs(()=>new kB({micAudioCaptureService:r,systemAudioCaptureService:i,platformClient:n}),[r,i,n]),o=vs(()=>new tF(s,e,n),[s,e,n]),a=vs(()=>new P6,[]),u=j.useMemo(()=>({micAudioCaptureService:r,systemAudioCaptureService:i,contextService:s,aiResponsesService:o,desktopChannelService:a}),[r,i,s,o,a]);return ZL&&Object.assign(window,u),ne.jsx(gm,{value:u,children:t})}function IB(){const t=j.useContext(gm);if(!t)throw new Error("useGlobalServices must be used within a <GlobalServicesContextProvider>");return t}function DA(){return j.useContext(gm)??{}}const NA=rr(null),EB={};function AB(){const t=_n(ir).session?.user,[e,n]=Kh(NA),i=!!t,r=i?e??t.clientMetadata:EB;j.useEffect(()=>{i||n(null)},[i,n]);const s=j.useCallback(async o=>{if(!i)return;const a=typeof o=="function"?o(r):o;n(a),await bt(ss().user.settings.put({clientMetadata:a}))},[r,i,n]);return{metadata:r,metadataHasLoaded:i,setMetadataIfLoaded:s}}function sV(){const t=Io(NA);return j.useCallback(async()=>{const{clientMetadata:e}=await bt(ss().user.get());li().get(ir).session?.user&&t(e)},[t])}const TB=(t,e)=>t?Object.entries(t).reduce((n,[i,r])=>{const[s,o]=e(i,r);return n[s]=o,n},{}):{},jA=["start_over","trigger_ai","hide","move_window_up","move_window_down","move_window_left","move_window_right","scroll_response_up","scroll_response_down","toggle_session"];function oV(t){return jA.includes(t)}const ac={start_over:"CommandOrControl+R",trigger_ai:"CommandOrControl+Enter",hide:"CommandOrControl+\\",move_window_up:"CommandOrControl+Up",move_window_down:"CommandOrControl+Down",move_window_left:"CommandOrControl+Left",move_window_right:"CommandOrControl+Right",scroll_response_up:"CommandOrControl+Shift+Up",scroll_response_down:"CommandOrControl+Shift+Down",toggle_session:"CommandOrControl+Shift+\\"},vm=mf("customKeybindings",ac),_m=mf("customKeybindingsDisabled",{toggle_session:!0});function $B(){return eu(Kt.CUSTOM_KEYBINDINGS)&&!P$}function OB(){const t=$B(),e=_n(vm),n=_n(_m);return t?TB(e,(i,r)=>[i,n[i]?void 0:r]):ac}function aV(){const t=Io(vm);return j.useCallback((e,n)=>{t(i=>({...i,[e]:n??ac[e]}))},[t])}function uV(){const t=Io(_m);return j.useCallback((e,n)=>{t(i=>({...i,[e]:n}))},[t])}function cV(){const t=_n(vm),e=_n(_m);return jA.reduce((n,i)=>(n[i]={accelerator:t[i]??ac[i],disabled:!!e[i]},n),{})}const CB=rr(!1);let si=!1,ym=null;const Qi=new Set;Co("hide-window",({reason:t})=>UA(t));Co("unhide-window",({reason:t})=>LA(t));function bm(){const[t,e]=j.useState(si);return j.useEffect(()=>{function n(){e(si)}return Qi.add(n),()=>{Qi.delete(n)}},[]),t}function lV(){const t=bm(),e=PB(),n=OB();wm(n.hide,()=>{t?LA("shortcut"):UA("shortcut")},{enable:e})}function PB(){const{contextService:t}=DA(),{insightsV3:e}=PL(),{metadata:n}=AB();return X6()?!0:e&&n.insightsRequireAudio?!!t?.isInAudioSession:!0}function UA(t){if(!si){si=!0,ym=t;for(const e of Qi)e()}}function LA(t){if(si){si=!1,ym=t;for(const e of Qi)e()}}function dV(){return si}function hV(){return ym}function fV(t){return Qi.add(t),()=>{Qi.delete(t)}}const fo=new Map;Ln("reset-global-shortcuts",null);Co("global-shortcut-triggered",({accelerator:t})=>{const e=fo.get(t);if(e)for(const n of e)n()});function RB(t,e){let n=fo.get(t);n||(n=new Set,fo.set(t,n),Ln("register-global-shortcut",{accelerator:t})),n.add(e)}function DB(t,e){const n=fo.get(t);n&&(n.delete(e),n.size===0&&(fo.delete(t),Ln("unregister-global-shortcut",{accelerator:t})))}function wm(t,e,n){const i=n?.enable??"onlyWhenVisible",r=hf(()=>{e?.()}),s=_n(CB),o=bm(),a=s?!1:i==="onlyWhenVisible"?!o:i,u=!!e;j.useEffect(()=>{if(a&&t&&r&&u){const l=setTimeout(()=>{RB(t,r)},0);return()=>{clearTimeout(l),DB(t,r)}}},[t,r,u,a])}const NB=void 0,pV=void 0,jB=void 0,zy=void 0,UB={},mV=UB[""],gV={short:{listen:"Listen",specify:"Specify",generate:"Generate",ask:"Ask question"},long:{specify:"Specify Text",generate:"Generate Response",ask:"Ask Anything"},aiResponse:"AI Response"},vV="An invisible desktop assistant that sees your screen and hears your audio. Helpful for meetings, sales calls, and more.";function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},th.apply(null,arguments)}function LB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var MB=j.useLayoutEffect,zB=function(e){var n=at.useRef(e);return MB(function(){n.current=e}),n},Fy=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},FB=function(e,n){var i=at.useRef();return at.useCallback(function(r){e.current=r,i.current&&Fy(i.current,null),i.current=n,n&&Fy(n,r)},[n])},By={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},BB=function(e){Object.keys(By).forEach(function(n){e.style.setProperty(n,By[n],"important")})},Vy=BB,$t=null,qy=function(e,n){var i=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?i+n.borderSize:i-n.paddingSize};function VB(t,e,n,i){n===void 0&&(n=1),i===void 0&&(i=1/0),$t||($t=document.createElement("textarea"),$t.setAttribute("tabindex","-1"),$t.setAttribute("aria-hidden","true"),Vy($t)),$t.parentNode===null&&document.body.appendChild($t);var r=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var p=f;$t.style[p]=o[p]}),Vy($t),$t.value=e;var u=qy($t,t);$t.value=e,u=qy($t,t),$t.value="x";var l=$t.scrollHeight-r,c=l*n;a==="border-box"&&(c=c+r+s),u=Math.max(c,u);var d=l*i;return a==="border-box"&&(d=d+r+s),u=Math.min(d,u),[u,l]}var Gy=function(){},qB=function(e,n){return e.reduce(function(i,r){return i[r]=n[r],i},{})},GB=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ZB=!!document.documentElement.currentStyle,HB=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var i=qB(GB,n),r=i.boxSizing;if(r==="")return null;ZB&&r==="border-box"&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var s=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),o=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:s,borderSize:o}},WB=HB;function Sm(t,e,n){var i=zB(n);j.useLayoutEffect(function(){var r=function(o){return i.current(o)};if(t)return t.addEventListener(e,r),function(){return t.removeEventListener(e,r)}},[])}var KB=function(e,n){Sm(document.body,"reset",function(i){e.current.form===i.target&&n(i)})},JB=function(e){Sm(window,"resize",e)},XB=function(e){Sm(document.fonts,"loadingdone",e)},YB=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],QB=function(e,n){var i=e.cacheMeasurements,r=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?Gy:o,u=e.onHeightChange,l=u===void 0?Gy:u,c=LB(e,YB),d=c.value!==void 0,f=j.useRef(null),p=FB(f,n),g=j.useRef(0),b=j.useRef(),w=function(){var E=f.current,T=i&&b.current?b.current:WB(E);if(T){b.current=T;var k=VB(T,E.value||E.placeholder||"x",s,r),P=k[0],C=k[1];g.current!==P&&(g.current=P,E.style.setProperty("height",P+"px","important"),l(P,{rowHeight:C}))}},S=function(E){d||w(),a(E)};return j.useLayoutEffect(w),KB(f,function(){if(!d){var x=f.current.value;requestAnimationFrame(function(){var E=f.current;E&&x!==E.value&&w()})}}),JB(w),XB(w),j.createElement("textarea",th({},c,{onChange:S,ref:p}))},e3=j.forwardRef(QB);function t3({className:t,style:e,children:n,onWhiteBackground:i,...r}){return ne.jsx("kbd",{className:Be("w-fit min-w-[20px] justify-center items-center inline-flex h-[23px] px-[3px] py-px rounded-md font-sans text-xs",t),style:{background:i?"linear-gradient(180deg, #DDE2E8 0%, #D8DEE3 100%)":"linear-gradient(180deg, #30333E 0%, #272931 100%)",boxShadow:i?"0 0.5px 0 0 #FBFBFB inset, 0 -1px 0 0 #AFB4B8 inset":"0 0.5px 0 0 #5C6072 inset, 0 -1px 0 0 #0B0C10 inset",...e},...r,children:n})}function _V(t){const e=Math.floor(t/1e3),n=Math.floor(e/3600),i=Math.floor(e%3600/60),r=e%60;return[n>0&&n.toString(),i.toString().padStart(2,"0"),r.toString().padStart(2,"0")].filter(Boolean).join(":")}const n3={Command:"⌘",Control:"⌃",CommandOrControl:so?"⌘":"^",Shift:"⇧",Enter:"⏎",Left:ne.jsx(xL,{}),Right:ne.jsx(kL,{}),Down:ne.jsx(SL,{}),Up:ne.jsx(IL,{}),Capslock:"Caps Lock",Scrolllock:"Scroll Lock",Numlock:"Num Lock",Escape:"Esc",PageUp:"PgUp",PageDown:"PgDn",Insert:"Ins",Delete:"Del",num0:"Num 0",num1:"Num 1",num2:"Num 2",num3:"Num 3",num4:"Num 4",num5:"Num 5",num6:"Num 6",num7:"Num 7",num8:"Num 8",num9:"Num 9",numadd:"Num +",numsub:"Num -",nummult:"Num *",numdiv:"Num /",numdec:"Num .",VolumeUp:"Volume Up",VolumeDown:"Volume Down",VolumeMute:"Mute"};function MA(t){return t.split("+").map(n=>n3[n]??n)}function uc({className:t,onMouseUp:e,onMouseLeave:n,...i}){return ne.jsx("button",{type:"button",tabIndex:-1,className:Be("focus:outline-none",t),onMouseUp:r=>{r.currentTarget.blur(),e?.(r)},onMouseLeave:r=>{r.currentTarget.blur(),n?.(r)},...i})}function r3({label:t,accelerator:e,onTrigger:n,enable:i="onlyWhenVisible",large:r=!1,fullWidth:s=!1,shouldHover:o=!0,commandBarHideShortcut:a=!1,className:u,flushButton:l=!1,variant:c="primary",onWhiteBackground:d=!1,dataTestId:f}){wm(e,()=>n?.({fromClick:!1}),{enable:n?i:!1});const p=e?MA(e):null,g=c==="alternate";return ne.jsxs("div",{className:Be("relative",u),children:[!!n&&o&&ne.jsx(uc,{className:Be("absolute transition",g?"inset-0 rounded-lg z-10":"rounded-full",g?void 0:l?"inset-0":"-inset-x-2 -inset-y-1",i===!1&&"pointer-events-none",d?"hover:bg-black/15 active:bg-black/25":"hover:bg-white/10 active:bg-white/20"),onClick:()=>n?.({fromClick:!0}),...f&&{"data-testid":f}}),ne.jsxs("div",{className:Be("relative flex items-center gap-2 pointer-events-none",s&&"justify-between",r?"min-h-8":"min-h-5"),children:[t&&ne.jsx("div",{className:Be("text-[11px]",d?"text-black/90":"text-white/90",g&&Be("px-3 py-2 backdrop-blur-sm rounded-lg",d?"bg-black/15":"bg-white/10")),style:{color:a?zy:void 0},children:t}),p&&!a&&ne.jsx("div",{className:"flex gap-1",children:p.map((b,w)=>ne.jsxs(t3,{onWhiteBackground:d,className:Be("relative font-sans",d?"text-black":"text-white",r?"mx-0.5 px-2 min-w-8 min-h-8 rounded-lg font-bold text-[16px]":"px-1 min-w-5 h-5 rounded-md text-[11px]"),children:[zy,ne.jsx("span",{className:"relative z-10",children:b})]},w))})]})]})}function i3({accelerator:t,onTrigger:e,enable:n="onlyWhenVisible",size:i="md"}){wm(t,e,{enable:n});const r=MA(t);return ne.jsx("div",{className:"relative flex items-center pointer-events-none",children:r.map((s,o)=>ne.jsx("div",{className:Be("rounded-md text-white text-[11px] flex items-center justify-center",i==="sm"&&"px-0.5 min-w-3 h-3",i==="md"&&"px-1 min-w-5 h-5"),children:s},o))})}function s3({label:t,icon:e,level:n="transparent",fullBorderRadius:i=!1,className:r,onClick:s}){return ne.jsxs("div",{className:Be("relative",r),children:[ne.jsx(uc,{className:Be("absolute -inset-x-2.5 -inset-y-0 rounded-md transition",n==="transparent"&&"hover:cursor-pointer",n==="accent"&&"bg-sky-500/60 hover:bg-sky-600/60 active:bg-sky-700/60",i&&"rounded-full"),onClick:s}),ne.jsxs("div",{className:"relative flex items-center h-7.5 gap-2 pointer-events-none",children:[ne.jsx("p",{className:"text-white/90 text-[11px]",children:t}),e]})]})}const o3={top:"bottom-full left-1/2 -translate-x-1/2",bottom:"top-full left-1/2 -translate-x-1/2",left:"right-full top-1/2 -translate-y-1/2",right:"left-full top-1/2 -translate-y-1/2"};function a3({tooltipContent:t,children:e,position:n="bottom",show:i="hover",gap:r=8,tooltipClassName:s}){if(!t)return e;const o=n==="top"||n==="bottom";return ne.jsxs("div",{className:"relative",children:[ne.jsx("div",{className:"peer",children:e}),ne.jsx("div",{className:Be("absolute z-50 px-2.5 py-1 shadow-pane-action bg-gradient-to-b from-shade-3 to-shade-2 rounded-lg whitespace-nowrap pointer-events-none opacity-0 transition-opacity text-[11px] text-white/90 border-[0.5px] border-white/20",o3[n],i==="hover"&&"peer-hover:opacity-100",i==="always"&&"opacity-100",i==="never"&&"opacity-0",s),style:{marginTop:o?r:void 0,marginBottom:o?r:void 0,marginLeft:o?void 0:r,marginRight:o?void 0:r},children:t})]})}function u3({className:t,onChange:e,multiLine:n=!1,...i}){const r=n?e3:"input";return ne.jsx(r,{className:Be("block w-full resize-none px-4 py-2.5 focus:outline-none text-sm text-white/90 placeholder:text-white/60 disabled:text-white/60 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/50",t),onChange:s=>e?.(s.target.value),...i})}function c3({className:t,level:e="standard",size:n="sm",onClick:i,...r}){return ne.jsx(uc,{className:Be("rounded shadow border-t border-b border-t-white/10 border-b-white/5 text-xs text-white disabled:opacity-60 transition",n==="sm"&&"px-2.5 py-0.5",n==="lg"&&"px-3.5 py-1.5",e==="standard"&&"bg-white/20 active:bg-white/30",e==="accent"&&"bg-sky-600 active:bg-sky-500",t),onClick:i,...r})}function l3({shortcuts:t,className:e,children:n}){return ne.jsxs("div",{className:Be("px-4 py-2 flex items-center gap-6",e),children:[!!n&&ne.jsx("div",{className:"flex-1 text-white/90 text-xs font-semibold",children:n}),!!t&&ne.jsx("div",{className:"flex items-center gap-6",children:t})]})}function d3({shortcuts:t,className:e,children:n}){return!t&&!n?ne.jsx("div",{className:"h-3"}):ne.jsxs("div",{className:Be("px-4 py-2 flex flex-col items-center gap-2",e),children:[t,!!n&&ne.jsx("div",{className:"text-white/60 text-xs max-w-full",children:n})]})}function h3({className:t,children:e}){return ne.jsx("div",{className:Be("px-4 text-white/90 text-sm",t),children:e})}const yV={HeadlessButton:uc,Shortcut:r3,InlineShortcut:i3,CommandBarStatus:s3,Tooltip:a3,Input:u3,Button:c3,WindowTitle:l3,WindowFooter:d3,WindowMessage:h3};function zA(){return ne.jsx(Xs.div,{className:"hidden",layout:!0})}const nh=li(),xm=new Set,rh=rr(!0);nh.sub(rh,()=>{Ln("set-ignore-mouse-events",{ignore:nh.get(rh)})});Ln("set-ignore-mouse-events",{ignore:!0});function FA(){const t=xm.size===0;nh.set(rh,t)}function f3(t){xm.add(t),FA()}function Zy(t){xm.delete(t),FA()}function p3(){const{current:t}=j.useRef(Symbol());return j.useEffect(()=>()=>Zy(t),[]),j.useCallback(n=>{n?f3(t):Zy(t)},[])}function ka({enabled:t=!0,enabledEvenWhenHidden:e=!1,className:n,children:i}){const r=j.useRef(null),s=bm(),o=t&&(!s||e),a=j.useRef(null),u=p3();return j.useEffect(()=>{const l=r.current;if(!l)return;const c=()=>{const f=a.current,p=l.getBoundingClientRect();u(o&&!!f&&f.x>=p.left&&f.x<=p.right&&f.y>=p.top&&f.y<=p.bottom)},d=f=>{a.current={x:f.clientX,y:f.clientY},c()};return c(),window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[o,u]),ne.jsx("div",{ref:r,className:Be(t&&"pointer-events-auto",n),children:i})}function km({ref:t,positionClassName:e,backgroundClassname:n,backgroundStyle:i,contentClassName:r,width:s="fit-content",fullBorderRadius:o=!1,opaque:a=!1,captureMouseEvents:u=!1,captureMouseEventsEvenWhenHidden:l=!1,fastAnimations:c=!1,onMouseEnter:d,onMouseLeave:f,layoutTransition:p=!1,children:g}){const b=c?.02:.15,w=c?"linear":"easeOut",S=o?999:12;return ne.jsx("div",{className:Be("relative",e),style:{width:s,fontFamily:jB},onMouseEnter:d,onMouseLeave:f,children:ne.jsxs(ka,{enabled:u,enabledEvenWhenHidden:l,children:[ne.jsx(Xs.div,{className:Be("absolute inset-0 shadow-md inset-ring-1 inset-ring-zinc-400/33 border-[0.5px] border-black/80",a?"bg-zinc-950/95":"bg-black/60",n),style:{borderRadius:S,backgroundColor:NB,...i},transition:{duration:b,ease:w},layout:p,layoutDependency:g}),ne.jsx(Xs.div,{ref:t,className:Be("relative",r),transition:{duration:b,ease:w},layout:p?"position":!1,layoutDependency:g,style:{borderRadius:S},children:g})]})})}function m3({show:t=!0,trackMovableWindowVisible:e=!0,initialWidth:n=700,minWidth:i=400,layoutTransition:r=!1,widthAtom:s,...o}){const[a,u]=Kh(s),[l,c]=j.useState(!1),d=j.useRef(null),f=j.useRef(0),p=j.useRef(n),g=j.useRef(null),b=j.useRef(null),w=j.useRef(null),S=j.useCallback((D,N)=>{D.preventDefault(),D.stopPropagation(),c(!0),f.current=D.clientX,p.current=a,g.current=N,b.current=D.pointerId;const F=D.currentTarget;w.current=F;try{F?.setPointerCapture?.(D.pointerId)}catch{}document.body.style.cursor="ew-resize",document.body.style.userSelect="none"},[a]),x=j.useCallback(D=>{if(!l||!g.current)return;const N=D.clientX-f.current;let F=p.current;g.current==="right"?F=p.current+N*2:F=p.current-N*2,F=Math.max(i,F),u(F)},[l,i,u]),E=j.useCallback(()=>{c(!1),g.current=null;const D=b.current,N=w.current;if(D!=null)try{N?.releasePointerCapture?.(D)}catch{}b.current=null,w.current=null,document.body.style.cursor="",document.body.style.userSelect=""},[]);j.useEffect(()=>{if(!l)return;const D=V=>x(V),N=()=>E(),F=()=>E();return window.addEventListener("pointermove",D),window.addEventListener("pointerup",N,{capture:!0}),window.addEventListener("pointercancel",F,{capture:!0}),()=>{window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",N,!0),window.removeEventListener("pointercancel",F,!0)}},[l,x,E]);const T=150,k=l?.02:T/1e3,P=l?"linear":"easeOut";EL(t&&e);const[C,R]=j.useState(t);return j.useEffect(()=>{t?R(!0):setTimeout(()=>R(!1),T)},[t]),ne.jsxs(AL,{children:[ne.jsx(zA,{}),ne.jsx(Xs.div,{initial:{opacity:0,y:-10},animate:{opacity:t?1:0,y:t?0:-10},transition:{duration:k,ease:P},style:{pointerEvents:t?"auto":"none",display:C?"block":"none"},children:ne.jsx(ka,{children:ne.jsxs("div",{ref:d,className:"relative rounded-lg",style:{width:a},children:[ne.jsx(ka,{children:ne.jsx("div",{className:Be("absolute left-0 top-0 bottom-0 w-1.5 cursor-ew-resize z-[9999]","hover:bg-white/20 transition-colors duration-150",l&&g.current==="left"&&"bg-white/30"),onPointerDown:D=>S(D,"left")})}),ne.jsx(ka,{children:ne.jsx("div",{className:Be("absolute right-0 top-0 bottom-0 w-1.5 cursor-ew-resize z-[9999]","hover:bg-white/20 transition-colors duration-150",l&&g.current==="right"&&"bg-white/30"),onPointerDown:D=>S(D,"right")})}),ne.jsx(km,{layoutTransition:r,width:a,captureMouseEvents:!0,fastAnimations:l,...o})]})})})]})}const g3=10;function v3({show:t=!0,aggro:e=!1,onDismiss:n,...i}){const r=e?$L:TL,[s,o]=IR(),a=j.useRef(null);return j.useEffect(()=>(t&&n&&(a.current=setTimeout(()=>{n()},g3*1e3)),()=>{a.current&&(clearTimeout(a.current),a.current=null)}),[t,n]),ne.jsx(r,{children:ne.jsx(_3,{children:t&&ne.jsx(Xs.div,{initial:{x:500},animate:{x:0},exit:{opacity:0},transition:{type:"spring",stiffness:400,damping:35},drag:n?"x":!1,dragConstraints:{left:0,right:0},dragElastic:{left:0,right:1},ref:s,onDragEnd:async(u,l)=>{n&&l.offset.x*l.velocity.x>1e3&&l.offset.x>0&&(await o(s.current,{x:500},{velocity:Math.min(Math.max(l.velocity.x,1e3),5e3),type:"inertia"}),n())},children:ne.jsx(km,{layoutTransition:!0,...i,backgroundClassname:Be("absolute inset-0 shadow-md inset-ring-0 border-0",i.backgroundClassname),backgroundStyle:{background:"radial-gradient(187.42% 161.62% at 20.13% 5.15%, rgb(16 16 18) 0%, rgb(29, 31, 35) 100%)",boxShadow:"0 0 0 1px rgba(117, 129, 148, 0.24), 0 0 8px 0 rgba(117, 142, 196, 0.2), 0 65px 18px 0 rgba(0, 0, 0, 0.00), 0 42px 17px 0 rgba(0, 0, 0, 0.03), 0 23px 14px 0 rgba(0, 0, 0, 0.11), 0 10px 10px 0 rgba(0, 0, 0, 0.19), 0 3px 6px 0 rgba(0, 0, 0, 0.22)"},contentClassName:Be("p-3.5",i.contentClassName),width:400})})})})}const bV={Inline:km,Resizable:m3,Notification:v3};function _3({children:t}){const[e,n]=j.useState(0);return ne.jsxs(ne.Fragment,{children:[ne.jsx(zA,{}),ne.jsx(CC,{onExitComplete:()=>n(i=>i+1),children:t})]})}export{ka as $,ss as A,j6 as B,A3 as C,hf as D,En as E,Kt as F,X3 as G,zy as H,yV as I,bh as J,I3 as K,ih as L,Th as M,Vu as N,zA as O,Xs as P,CC as Q,Fs as R,Oo as S,pV as T,x6 as U,A6 as V,Vz as W,PL as X,_V as Y,AL as Z,bV as _,pt as a,MA as a$,J3 as a0,Zt as a1,gV as a2,rr as a3,Co as a4,li as a5,Ln as a6,Io as a7,yF as a8,LA as a9,CB as aA,W3 as aB,aV as aC,uV as aD,oV as aE,sV as aF,ZL as aG,Uy as aH,vy as aI,R6 as aJ,hm as aK,Kh as aL,D3 as aM,xL as aN,ac as aO,kL as aP,GL as aQ,bm as aR,N3 as aS,nV as aT,mV as aU,p3 as aV,PB as aW,lV as aX,G3 as aY,rV as aZ,tV as a_,eV as aa,Q3 as ab,q3 as ac,dt as ad,z3 as ae,M3 as af,C3 as ag,F3 as ah,L3 as ai,St as aj,U3 as ak,kr as al,x3 as am,IR as an,$L as ao,R3 as ap,Si as aq,T3 as ar,so as as,vA as at,mf as au,AB as av,DA as aw,K3 as ax,UA as ay,X6 as az,Bs as b,e3 as b0,t3 as b1,k3 as b2,P3 as b3,j3 as b4,O3 as b5,Y3 as b6,iV as b7,V3 as b8,fV as b9,dV as ba,hV as bb,$B as bc,_m as bd,vV as be,$3 as bf,cV as bg,H3 as bh,E3 as bi,vr as c,ag as d,Gm as e,We as f,i6 as g,lo as h,kO as i,d6 as j,jt as k,Wz as l,Li as m,wt as n,eu as o,OB as p,wm as q,J6 as r,Bd as s,Z3 as t,Wy as u,IB as v,_n as w,B3 as x,ir as y,bt as z};
//# sourceMappingURL=window-CD2ekrnp.js.map
